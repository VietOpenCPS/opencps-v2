{"version":3,"sources":["webpack:///o/front-end-super-gate/js/1.5bc5ee75d4f0a3c5818c.js","webpack:///./src/components/form_xu_ly/PhanCongNguoiThucHien.vue?c354","webpack:///./src/components/form_xu_ly/ThongTinCoBanHoSo.vue?232e","webpack:///./src/components/form_xu_ly/TraKetQua.vue?03da","webpack:///./src/components/form_xu_ly/XacNhanThuPhi.vue?e9a7","webpack:///./src/components/form_xu_ly/YkienCanBoThucHien.vue?d9ad","webpack:///./src/components/Comment.vue?2e8a","webpack:///./src/components/XemChiTietHoSoDetailCanBo.vue?e311","webpack:///./~/core-js/library/modules/_wks-define.js?b6e0","webpack:///./~/core-js/library/modules/_wks-ext.js?6ee2","webpack:///./~/babel-runtime/core-js/object/keys.js?fe06","webpack:///./~/core-js/library/modules/_object-gopn.js?1e07","webpack:///./src/store/jquery_comment.js?b1d5","webpack:///PhanCongNguoiThucHien.vue?57fa","webpack:///ThongTinCoBanHoSo.vue?00b9","webpack:///TraKetQua.vue?be9b","webpack:///XacNhanThuPhi.vue?5821","webpack:///YkienCanBoThucHien.vue?3432","webpack:///./src/components/form_xu_ly/ThongTinCoBanHoSo.vue?946a*","webpack:///./src/components/form_xu_ly/TraKetQua.vue?cebd*","webpack:///./src/components/form_xu_ly/PhanCongNguoiThucHien.vue?d6a8*","webpack:///./src/components/form_xu_ly/YkienCanBoThucHien.vue?ddbd*","webpack:///./src/components/form_xu_ly/XacNhanThuPhi.vue?7527*","webpack:///Comment.vue?167e","webpack:///./~/babel-runtime/core-js/object/create.js?aa4b","webpack:///./~/babel-runtime/core-js/symbol.js?a70d","webpack:///./~/babel-runtime/core-js/symbol/iterator.js?d16b","webpack:///./~/babel-runtime/helpers/typeof.js?f4bd","webpack:///./~/core-js/library/fn/object/create.js?738c","webpack:///./~/core-js/library/fn/object/keys.js?cc3f","webpack:///./~/core-js/library/fn/symbol/index.js?f07a","webpack:///./~/core-js/library/fn/symbol/iterator.js?238d","webpack:///./~/core-js/library/modules/_enum-keys.js?727a","webpack:///./~/core-js/library/modules/_is-array.js?1843","webpack:///./~/core-js/library/modules/_meta.js?553d","webpack:///./~/core-js/library/modules/_object-gopd.js?d7d8","webpack:///./~/core-js/library/modules/_object-gopn-ext.js?d238","webpack:///./~/core-js/library/modules/_object-sap.js?a03e","webpack:///./~/core-js/library/modules/es6.object.create.js?9034","webpack:///./~/core-js/library/modules/es6.object.keys.js?c98f","webpack:///./~/core-js/library/modules/es6.symbol.js?670a","webpack:///./~/core-js/library/modules/es7.symbol.async-iterator.js?b8c5","webpack:///./~/core-js/library/modules/es7.symbol.observable.js?daa4","webpack:///./~/jquery-textcomplete/dist/jquery.textcomplete.js?3e1f","webpack:///./src/components/Comment.vue?0237*","webpack:///(webpack)/buildin/harmony-module.js?cc96","webpack:///XemChiTietHoSoDetailCanBo.vue?d11e","webpack:///./src/components/XemChiTietHoSoDetailCanBo.vue?0e64*"],"names":["webpackJsonp","212","module","exports","__webpack_require__","Component","213","214","215","216","220","241","507","global","core","LIBRARY","wksExt","defineProperty","f","name","$Symbol","Symbol","charAt","value","508","512","default","__esModule","513","$keys","hiddenKeys","concat","Object","getOwnPropertyNames","O","514","__webpack_exports__","jQuery","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default","factory","define","root","undefined","window","$","Comments","$el","commentsById","usersById","dataFetched","currentSortKey","options","events","click","keydown [contenteditable]","focus [contenteditable]","keyup [contenteditable]","paste [contenteditable]","input [contenteditable]","blur [contenteditable]","click .navigation li[data-sort-key]","click .navigation li.title","click .commenting-field.main .textarea","click .commenting-field.main .close","click .commenting-field .textarea","change .commenting-field .textarea","click .commenting-field:not(.main) .close","click .commenting-field .send.enabled","click .commenting-field .update.enabled","click .commenting-field .delete.enabled","change .commenting-field .upload.enabled input[type=\"file\"]","click li.comment button.upvote","click li.comment button.delete.enabled","click li.comment .hashtag","click li.comment .ping","click li.comment ul.child-comments .toggle-all","click li.comment button.reply","click li.comment button.edit","dragenter","dragenter .droppable-overlay","dragleave .droppable-overlay","dragenter .droppable-overlay .droppable","dragleave .droppable-overlay .droppable","dragover .droppable-overlay","drop .droppable-overlay","click .dropdown.autocomplete","mousedown .dropdown.autocomplete","touchstart .dropdown.autocomplete","getDefaultOptions","profilePictureURL","currentUserIsAdmin","currentUserId","spinnerIconURL","upvoteIconURL","replyIconURL","uploadIconURL","attachmentIconURL","fileIconURL","noCommentsIconURL","noCommentsImptIconURL","textareaPlaceholderText","newestText","oldestText","importantCmtText","popularText","attachmentsText","sendText","replyText","editText","editedText","youText","saveText","deleteText","newText","viewAllRepliesText","hideRepliesText","noCommentsText","noCommentsImportantText","noAttachmentsText","attachmentDropText","textFormatter","text","enableReplying","enableEditing","enableUpvoting","enableDeleting","enableAttachments","enableHashtags","enablePinging","enableDeletingCommentWithReplies","enableNavigation","postCommentOnEnter","forceResponsive","readOnly","defaultNavigationSortKey","highlightColor","deleteButtonColor","scrollContainer","this","roundProfilePictures","textareaRows","textareaRowsOnFocus","textareaMaxRows","maxRepliesVisible","fieldMappings","id","parent","created","modified","content","file","fileURL","fileMimeType","pings","creator","fullname","profileURL","isNew","createdByAdmin","createdByCurrentUser","upvoteCount","userHasUpvoted","getUsers","success","error","getComments","postComment","commentJSON","putComment","deleteComment","upvoteComment","hashtagClicked","hashtag","pingClicked","userId","uploadAttachments","commentArray","refresh","timeFormatter","time","Date","toLocaleDateString","appendNewComments","commentJSONs","init","el","addClass","undelegateEvents","delegateEvents","a","browser","mobile","test","substr","navigator","userAgent","vendor","opera","extend","createCssDeclarations","fetchDataAndRender","bindEvents","unbind","bindFunction","key","eventName","split","selector","slice","join","methodNames","index","hasOwnProperty","method","proxy","self","setTimeout","empty","createHTML","after","render","commentsFetched","commentsArray","commentModels","map","commentsJSON","createCommentModel","sortComments","each","commentModel","addCommentToDataModel","usersFetched","userArray","user","fetchNext","spinner","createSpinner","find","append","createComment","remove","applyInternalMappings","childs","getOutermostParent","push","updateCommentModel","showActiveContainer","createComments","createAttachments","createImportantComments","activeNavigationEl","containerName","data","containerEl","siblings","hide","show","commentList","class","mainLevelComments","replies","reverse","addComment","prepend","attachmentList","attachments","getAttachments","addAttachment","importantCmtList","importantCmt","getImportantCmt","addImportantCmt","commentEl","createCommentElement","directParentEl","reRenderCommentActionBar","outerMostParent","parents","last","length","childCommentsEl","commentingField","before","updateToggleAllButton","removeComment","commentId","childComments","getChildComments","childComment","outermostParent","indexToRemove","indexOf","splice","commentElements","parentEl","files","isReply","hasClass","fileCount","uploadButton","textarea","removeClass","attachmentListSpinner","commentListSpinner","getTextareaContent","trigger","createCommentJSON","type","applyExternalMappings","val","toggleAllButton","hiddenReplies","toggleAllButtonText","caret","setToggleAllButtonText","comments","sortKey","sort","commentA","commentB","pointsOfA","pointsOfB","createdA","getTime","createdB","sortUsers","users","b","nameA","toLowerCase","trim","nameB","sortAndReArrangeComments","filter","showActiveSort","activeElements","titleEl","html","first","defaultDropdownEl","children","closeDropdowns","saveOnKeydown","ev","keyCode","metaKey","ctrlKey","currentTarget","stopPropagation","preventDefault","saveEditableContent","checkEditableContentForChange","navigationElementClicked","navigationEl","toggleNavigationDropdown","toggle","showMainCommentingField","mainTextarea","focus","hideMainCommentingField","closeButton","mainControlRow","clearTextarea","adjustTextareaHeight","blur","increaseTextareaHeight","textareaContentChanged","saveButton","attr","parentComments","parentId","scrollHeight","outerHeight","contentOrParentChangedIfEditing","parentFromModel","contentChanged","toString","parentChanged","removeCommentingField","console","log","context","clearTimeout","myVar","commentsNew","commentsEdit","c","cmt","reRenderComment","sendButton","opinion","getPings","deleteButton","fileInputChanged","newUpvoteCount","model","previousUpvoteCount","reRenderUpvotes","toggleReplies","toggleClass","replyButtonClicked","replyButton","replyField","createCommentingFieldElement","moveCursorToEnd","scrollTop","endOfReply","position","top","endOfScrollable","newScrollTop","editButtonClicked","editButton","editField","getFormattedCommentContent","showDroppableOverlay","css","handleDragEnter","count","handleDragLeave","callback","handleDragLeaveForOverlay","hideDroppableOverlay","handleDragLeaveForDroppable","handleDragOverForOverlay","originalEvent","dataTransfer","dropEffect","handleDrop","target","mainCommentingField","createNavigationElement","commentsContainer","data-container","noComments","noCommentsIcon","importantCmtContainer","noCommentsImpt","noCommentsImptIcon","attachmentsContainer","noAttachments","noAttachmentsIcon","droppableOverlay","droppableContainer","droppable","uploadIcon","dropAttachmentText","createProfilePictureElement","src","profilePicture","existingCommentId","enableOpinion","textareaWrapper","controlRow","data-placeholder","contenteditable","saveButtonText","opinionCmtId","fileInput","data-role","saveButtonClass","checkOpinion","labelCheckOpinion","for","parentModel","replyToName","replyToTag","createTagElement","textcomplete","match","search","term","normalizeSpaces","isSelf","alreadyPinged","lowercaseTerm","nameMatch","emailMatch","email","template","wrapper","profilePictureEl","pictureUrl","detailsEl","nameEl","emailEl","replace","outerHTML","appendTo","dropdownClassName","maxCount","rightEdgeOffset","fn","Dropdown","prototype","zippedData","contentsHtml","_buildContents","unzippedData","d","strategy","removeAttr","_renderHeader","_renderFooter","_renderContents","_fitToBottom","_fitToRight","_activateIndexedItem","_setScroll","noResultsMessage","_renderNoResultsMessage","shown","deactivate","parseInt","originalLeft","maxLeft","width","outerWidth","left","Math","min","navigationWrapper","newest","data-sort-key","data-container-name","oldest","important","popular","attachmentsIcon","dropdownNavigationWrapper","dropdownNavigation","dropdownTitle","dropdownTitleHeader","clone","spinnerIcon","data-id","commentWrapper","createCommentWrapperElement","data-original","nameText","link","href","replyTo","replyIcon","newTag","noteOpinion","isAttachment","format","mimeTypeParts","image","video","controls","availableIcons","iconClass","fileIcon","fileName","editedTime","edited","actions","reply","upvoteIcon","upvotes","createUpvoteElement","isAllowedToDelete","extraClasses","tagEl","replaceWith","createCss","styleEl","commentArr","importantCmtArr","comment","importantCmtUser","attachCmtArr","directParentId","parentComment","toISOString","textContainer","showExpandingText","replyCount","rowCount","rows","height","isAreaScrollable","maxRowsUsed","humanReadable","textareaClone","ce","innerHTML","replaceNewLines","escape","linkify","highlightTags","getSelection","document","createRange","range","selectNodeContents","collapse","sel","removeAllRanges","addRange","body","createTextRange","textRange","moveToElementText","select","inputText","RegExp","times","func","apply","arguments","highlightHashtags","highlightPings","__createTag","tag","regex","$0","$1","$2","highlightedHtml","pingText","endIndex","current","replacedText","replacePattern1","replacePattern2","replacePattern3","splitInput","i","waitUntil","condition","invertedMappings","mappings","prop","applyMappings","result","key1","key2","call","515","props","assign_items","Array","Number","data_phancong","assignedtype_items","2","3","title_asign","1","mounted","methods","changeAssigned","event","vm","assigned","517","detailDossier","watch","thongTinChiTietHoSo","components","showContactDetail","computed","loading","$store","getters","initData","dispatch","then","resultDossier","goBack","history","back","durationText","durationUnit","durationCount","day","floor","hours","filters","dateTimeView","arg","getDate","padStart","getMonth","getFullYear","getHours","getMinutes","518","resultFiles","dossierId","loadingAction","headers","align","sortable","$nextTick","filterFileResult","dossierPartType","eForm","519","payments","payment_type","feeAmount","checkPaid","loadingTable","catch","reject","currency","toFixed","520","user_note","required","noteYkien","valid","doExport","$refs","userNoteForm","validate","521","_vm","_h","$createElement","_c","_self","staticClass","attrs","hide-actions","slot","size","color","_v","wrap","xs12","sm4","_s","applicantName","dossierIdCTN","dossierNo","dossierStatusText","submitDate","receiveDate","staticStyle","contactEmail","contactTelNo","address","staticRenderFns","522","items","_f","item-key","no-data-text","scopedSlots","_u","bottom","header","item","deliverableCode","createDate","displayName","524","background-color","_l","display","on","change","$event","$$v","$set","expression","userName","max-width","item-text","item-value","return-object","hide-selected","525","_e","ref","rules","526","label","527","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1_jquery__","__WEBPACK_IMPORTED_MODULE_1_jquery___default","__WEBPACK_IMPORTED_MODULE_2_jquery_textcomplete__","usersComment","argShowMore","loadingInitData","classPK","initComment","className","onSuccess","onError","dataGet","formatComment","getElementById","checked","responses","successfulUploads","serverResponded","formData","FormData","userEmail","ajax","url","commentApi","dataType","groupId","cache","contentType","processData","xhr","fileType","fileUrl","createdDate","modifiedDate","533","534","535","536","_interopRequireDefault","obj","_iterator","_iterator2","_symbol","_symbol2","_typeof","constructor","537","$Object","P","D","create","538","keys","539","540","541","getKeys","gOPS","pIE","it","getSymbols","symbols","isEnum","542","cof","isArray","543","META","isObject","has","setDesc","isExtensible","FREEZE","preventExtensions","setMeta","w","fastKey","getWeak","onFreeze","meta","NEED","KEY","544","createDesc","toIObject","toPrimitive","IE8_DOM_DEFINE","gOPD","getOwnPropertyDescriptor","e","545","gOPN","windowNames","getWindowNames","546","$export","fails","exec","exp","S","F","547","548","toObject","549","DESCRIPTORS","redefine","$fails","shared","setToStringTag","uid","wks","wksDefine","enumKeys","anObject","_create","gOPNExt","$GOPD","$DP","dP","$JSON","JSON","_stringify","stringify","HIDDEN","TO_PRIMITIVE","propertyIsEnumerable","SymbolRegistry","AllSymbols","OPSymbols","ObjectProto","USE_NATIVE","QObject","setter","findChild","setSymbolDesc","get","protoDesc","sym","_k","isSymbol","iterator","$defineProperty","enumerable","$defineProperties","l","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","$getOwnPropertySymbols","IS_OP","TypeError","configurable","set","G","W","es6Symbols","j","wellKnownSymbols","store","k","keyFor","useSetter","useSimple","defineProperties","getOwnPropertySymbols","replacer","$replacer","args","valueOf","550","551","552","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","Error","warn","message","strategies","option","$this","completer","_oid","Completer","shift","removeData","register","Strategy","parse","element","uniqueId","views","defaults","is","isContentEditable","contentEditable","ownerDocument","activeElement","initialize","one","adapter","CKEDITOR","inArray","editor","initializedEditors","event2","editable","ckeditor_instance","isString","zIndex","dropdown","$iframe","frames","iframeIndex","frameElement","Adapter","viewName","selectionEnd","destroy","off","skipUnchangedTerm","getTextFromHeadToCaret","searchQuery","_extractSearchQuery","_term","_search","fire","_clearAtNext","matchRegexp","isFunction","locked","queuedArgsToReplay","unshift","replayOrFree","replayArgs","free","stillSearching","activate","clear","setPosition","getCaretPosition","_zip","createElement","_data","$inputEl","listPosition","_i","_bindEvents","dropdownViews","$window","include","datum","elem","idProperty","keepTextCompleteDropdown","view","commands","SKIP_DEFAULT","KEY_UP","KEY_DOWN","KEY_ENTER","KEY_PAGEUP","KEY_PAGEDOWN","KEY_ESCAPE","$parent","footer","placement","pos","add","scrollLeft","_applyPlacement","_index","_$header","_$footer","_$noResultsMessage","isUp","isDown","isEnter","altKey","shiftKey","completeOnSpace","isPageup","isPagedown","isEscape","_onClick","_onMouseover","_onKeydown","closest","command","onKeydown","_defaultKeydown","_up","_down","_enter","_pageup","_pagedown","_getActiveElement","threshold","innerHeight","$activeEl","itemTop","itemHeight","visibleHeight","visibleTop","prependTo","windowScrollBottom","offset","tolerance","lastOffset","lineHeight","right","memoize","memo","strategiesArray","params","strategyObj","now","debounce","wait","timeout","timestamp","later","_onKeyup","_getCaretRelativePosition","parentOffset","offsetParent","_skipSearch","clickEvent","Textarea","regExp","pre","post","substring","newSubstr","selectionStart","p","getCaretCoordinates","_calculateLineHeight","isNaN","parentNode","temp","nodeName","style","setAttribute","fontFamily","fontSize","appendChild","clientHeight","removeChild","IETextarea","sentinelChar","insertBefore","moveEnd","moveStart","selection","arr","ContentEditable","getRangeAt","cloneRange","startContainer","startOffset","deleteContents","preWrapper","postWrapper","childNode","lastOfPre","fragment","createDocumentFragment","firstChild","insertNode","setStartAfter","wrapperNode","endContainer","node","normalize","$node","iframePosition","contentWindow","CKEditor","domEvent","isBrowser","debug","querySelector","div","getComputedStyle","currentStyle","whiteSpace","wordWrap","visibility","properties","forEach","isFirefox","overflowY","overflow","textContent","span","coordinates","offsetTop","offsetLeft","backgroundColor","mozInnerScreenX","557","559","originalModule","webpackPolyfill","569","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_2__router__","__WEBPACK_IMPORTED_MODULE_3_jquery__","__WEBPACK_IMPORTED_MODULE_3_jquery___default","__WEBPACK_IMPORTED_MODULE_4__store_jquery_comment__","__WEBPACK_IMPORTED_MODULE_5__Comment_vue__","__WEBPACK_IMPORTED_MODULE_5__Comment_vue___default","__WEBPACK_IMPORTED_MODULE_6__form_xu_ly_ThongTinCoBanHoSo_vue__","__WEBPACK_IMPORTED_MODULE_6__form_xu_ly_ThongTinCoBanHoSo_vue___default","__WEBPACK_IMPORTED_MODULE_7__form_xu_ly_PhanCongNguoiThucHien_vue__","__WEBPACK_IMPORTED_MODULE_7__form_xu_ly_PhanCongNguoiThucHien_vue___default","__WEBPACK_IMPORTED_MODULE_8__form_xu_ly_TraKetQua_vue__","__WEBPACK_IMPORTED_MODULE_8__form_xu_ly_TraKetQua_vue___default","__WEBPACK_IMPORTED_MODULE_9__form_xu_ly_XacNhanThuPhi_vue__","__WEBPACK_IMPORTED_MODULE_9__form_xu_ly_XacNhanThuPhi_vue___default","__WEBPACK_IMPORTED_MODULE_10__form_xu_ly_YkienCanBoThucHien_vue__","__WEBPACK_IMPORTED_MODULE_10__form_xu_ly_YkienCanBoThucHien_vue___default","thong-tin-co-ban-ho-so","phan-cong","tra-ket-qua","xac-nhan-thu-phi","y-kien-can-bo","btnDossierDynamics","btnStepsDynamics","indexAction","indexActionStep","dossierFilesItems","dossierTemplatesItems","listHistoryProcessing","dossierTemplatesTN","dossierTemplatesKQ","loadingAlpacajsForm","nextActions","processSteps","documents","dossierActions","itemselect","dossierSyncs","stepModel","actionNote","actionsSubmitLoading","showThongTinCoBanHoSo","showYkienCanBoThucHien","showFormBoSungThongTinNgan","showPhanCongNguoiThucHien","showTaoTaiLieuKetQua","showKyPheDuyetTaiLieu","showTraKetQua","showXacNhanThuPhi","showThucHienThanhToanDienTu","dossierItemDialogPick","itemDialogPick","resultDialogPick","indexDialogPick","userNote","type_assign","returnFiles","btnStateVisible","dialogActionProcess","headerSyncs","filterDossierActionItems","filterDossierAction","filterDossierSyncItems","filterDossierSync","messageChat","updated","currentParams","$router","query","isCallBack","$route","newRoute","oldRoute","arrTemp","thongTinHoSo","all","values","dossierTemplates","dossierFiles","partType","recountFileTemplates","resultDocuments","resultPayments","itemTemplate","itemFile","partNo","dossierPartNo","viewFile","_this","downloadFileLogs","dataCommit","fileAttachId","loadDossierActions","dataParams","stepType","resultActions","loadDossierSyncs","info","resultSyncs","loadDossierLogs","deleteDossierFileVersion","res","pickFile","postChat","actionCode","actionUser","getNextAction","actionId","processActionId","resultAction","_filter","resultPlugin","processPullBtnDetailRouter","dossierItem","isPopup","extraForm","allowAssignUser","toUsers","createFiles","eSignature","payment","requestPayment","loadingActionProcess","processAction","processPullBtnDetail","itemAction","btnActionEvent","isGroup","String","form","isOpenDialog","dichVuSelected","listDichVu","dialogAction","doCreateDossier","path","doCopy","doCancel","doPrint01","doPrint02","doPrint03","doGuiding","doPreview","doActions","doDeleteDossier","_result","_result2","_result3","selected","rollBack","resRollBack","getNextActions","isConfirm","currentQuery","confirm","rollbackable","recount","random","renew","q","thuTucHanhChinhSelected","alert","serviceCode","govAgencyCode","dossiers","dialogPDFLoading","dialogPDF","serviceConfigId","stepCode","resProSteps","showAlpacaJSFORM","eform","resScript","resData","formScript","eval","alpaca","onUploadSingleFile","dataItem","dossierTemplateNo","submitAlpacajsForm","getColorChat","syncType","postNextActions","resReassign","payload","security","assignUsers","createDossiers","resPostAction","getMaxDueDate","max","actionOverdue","576","lines","title","serviceName","margin-left","flat","active-class","icons-and-text","centered","reverse-transition","transition","border","expand","border-bottom","xs11","partName","xs1","fab","dark","small","documentCode","documentName","disabled","nativeOn","actionName","tiltle","sequenceRole","sequenceName","startDate","itemUser","state","dossierLogId","author","stepName","domProps","dossierFileId","row","sm3","sm6","margin-bottom","text-xs-left","text-xs-right","text-color","solo","append-icon"],"mappings":"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","file":"o/front-end-super-gate/js/1.5bc5ee75d4f0a3c5818c.js","sourcesContent":["webpackJsonp([1,2,12,13,14,15,17],{\n\n/***/ 212:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(138)(\n  /* script */\n  __webpack_require__(515),\n  /* template */\n  __webpack_require__(524),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 213:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(138)(\n  /* script */\n  __webpack_require__(517),\n  /* template */\n  __webpack_require__(521),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 214:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(138)(\n  /* script */\n  __webpack_require__(518),\n  /* template */\n  __webpack_require__(522),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 215:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(138)(\n  /* script */\n  __webpack_require__(519),\n  /* template */\n  __webpack_require__(526),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 216:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(138)(\n  /* script */\n  __webpack_require__(520),\n  /* template */\n  __webpack_require__(525),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 220:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(138)(\n  /* script */\n  __webpack_require__(527),\n  /* template */\n  __webpack_require__(557),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 241:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(138)(\n  /* script */\n  __webpack_require__(569),\n  /* template */\n  __webpack_require__(576),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 507:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar global = __webpack_require__(19);\nvar core = __webpack_require__(30);\nvar LIBRARY = __webpack_require__(141);\nvar wksExt = __webpack_require__(508);\nvar defineProperty = __webpack_require__(57).f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n/***/ }),\n\n/***/ 508:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports.f = __webpack_require__(20);\n\n\n/***/ }),\n\n/***/ 512:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(538), __esModule: true };\n\n/***/ }),\n\n/***/ 513:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = __webpack_require__(227);\nvar hiddenKeys = __webpack_require__(144).concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n/***/ }),\n\n/***/ 514:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(jQuery, module) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__ = __webpack_require__(533);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__ = __webpack_require__(512);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof__ = __webpack_require__(536);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof__);\n\n\n\n\n\n(function (factory) {\n\tif (typeof define === 'function' && __webpack_require__(243)) {\n\t\tdefine(['jquery'], factory);\n\t} else if (( false ? 'undefined' : __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default()(module)) === 'object' && module.exports) {\n\t\tmodule.exports = function (root, jQuery) {\n\t\t\tif (jQuery === undefined) {\n\t\t\t\tif (typeof window !== 'undefined') {\n\t\t\t\t\tjQuery = __webpack_require__(36);\n\t\t\t\t} else {\n\t\t\t\t\tjQuery = __webpack_require__(36)(root);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfactory(jQuery);\n\t\t\treturn jQuery;\n\t\t};\n\t} else {\n\t\tfactory(jQuery);\n\t}\n})(function ($) {\n\n\tvar Comments = {\n\t\t$el: null,\n\t\tcommentsById: {},\n\t\tusersById: {},\n\t\tdataFetched: false,\n\t\tcurrentSortKey: '',\n\t\toptions: {},\n\t\tevents: {\n\t\t\t'click': 'closeDropdowns',\n\n\t\t\t'keydown [contenteditable]': 'saveOnKeydown',\n\n\t\t\t'focus [contenteditable]': 'saveEditableContent',\n\t\t\t'keyup [contenteditable]': 'checkEditableContentForChange',\n\t\t\t'paste [contenteditable]': 'checkEditableContentForChange',\n\t\t\t'input [contenteditable]': 'checkEditableContentForChange',\n\t\t\t'blur [contenteditable]': 'checkEditableContentForChange',\n\n\t\t\t'click .navigation li[data-sort-key]': 'navigationElementClicked',\n\t\t\t'click .navigation li.title': 'toggleNavigationDropdown',\n\n\t\t\t'click .commenting-field.main .textarea': 'showMainCommentingField',\n\t\t\t'click .commenting-field.main .close': 'hideMainCommentingField',\n\n\t\t\t'click .commenting-field .textarea': 'increaseTextareaHeight',\n\t\t\t'change .commenting-field .textarea': 'increaseTextareaHeight textareaContentChanged',\n\t\t\t'click .commenting-field:not(.main) .close': 'removeCommentingField',\n\n\t\t\t'click .commenting-field .send.enabled': 'postComment',\n\t\t\t'click .commenting-field .update.enabled': 'putComment',\n\t\t\t'click .commenting-field .delete.enabled': 'deleteComment',\n\t\t\t'change .commenting-field .upload.enabled input[type=\"file\"]': 'fileInputChanged',\n\n\t\t\t'click li.comment button.upvote': 'upvoteComment',\n\t\t\t'click li.comment button.delete.enabled': 'deleteComment',\n\t\t\t'click li.comment .hashtag': 'hashtagClicked',\n\t\t\t'click li.comment .ping': 'pingClicked',\n\n\t\t\t'click li.comment ul.child-comments .toggle-all': 'toggleReplies',\n\t\t\t'click li.comment button.reply': 'replyButtonClicked',\n\t\t\t'click li.comment button.edit': 'editButtonClicked',\n\n\t\t\t'dragenter': 'showDroppableOverlay',\n\t\t\t'dragenter .droppable-overlay': 'handleDragEnter',\n\t\t\t'dragleave .droppable-overlay': 'handleDragLeaveForOverlay',\n\t\t\t'dragenter .droppable-overlay .droppable': 'handleDragEnter',\n\t\t\t'dragleave .droppable-overlay .droppable': 'handleDragLeaveForDroppable',\n\t\t\t'dragover .droppable-overlay': 'handleDragOverForOverlay',\n\t\t\t'drop .droppable-overlay': 'handleDrop',\n\n\t\t\t'click .dropdown.autocomplete': 'stopPropagation',\n\t\t\t'mousedown .dropdown.autocomplete': 'stopPropagation',\n\t\t\t'touchstart .dropdown.autocomplete': 'stopPropagation'\n\t\t},\n\n\n\t\tgetDefaultOptions: function getDefaultOptions() {\n\t\t\treturn {\n\t\t\t\tprofilePictureURL: '',\n\t\t\t\tcurrentUserIsAdmin: false,\n\t\t\t\tcurrentUserId: null,\n\n\t\t\t\tspinnerIconURL: '',\n\t\t\t\tupvoteIconURL: '',\n\t\t\t\treplyIconURL: '',\n\t\t\t\tuploadIconURL: '',\n\t\t\t\tattachmentIconURL: '',\n\t\t\t\tfileIconURL: '',\n\t\t\t\tnoCommentsIconURL: '',\n\t\t\t\tnoCommentsImptIconURL: '',\n\n\t\t\t\ttextareaPlaceholderText: 'Thm bnh lun mi',\n\t\t\t\tnewestText: 'Mi nht',\n\t\t\t\toldestText: 'C nht',\n\t\t\t\timportantCmtText: ' kin chnh thc',\n\t\t\t\tpopularText: 'Ph bin',\n\t\t\t\tattachmentsText: 'Tp nh km',\n\t\t\t\tsendText: 'Gi',\n\t\t\t\treplyText: 'Tr li',\n\t\t\t\teditText: 'Sa',\n\t\t\t\teditedText: ' sa',\n\t\t\t\tyouText: 'You',\n\t\t\t\tsaveText: 'Ghi li',\n\t\t\t\tdeleteText: 'Xo',\n\t\t\t\tnewText: 'Mi',\n\t\t\t\tviewAllRepliesText: 'Xem tt c __replyCount__ tr li',\n\t\t\t\thideRepliesText: 'Hide replies',\n\t\t\t\tnoCommentsText: 'Khng c bnh lun',\n\t\t\t\tnoCommentsImportantText: 'Khng c  kin chnh thc',\n\t\t\t\tnoAttachmentsText: 'Khng c tp nh km',\n\t\t\t\tattachmentDropText: 'Ko th tp  ti ln',\n\t\t\t\ttextFormatter: function textFormatter(text) {\n\t\t\t\t\treturn text;\n\t\t\t\t},\n\n\t\t\t\tenableReplying: true,\n\t\t\t\tenableEditing: true,\n\t\t\t\tenableUpvoting: true,\n\t\t\t\tenableDeleting: true,\n\t\t\t\tenableAttachments: false,\n\t\t\t\tenableHashtags: false,\n\t\t\t\tenablePinging: false,\n\t\t\t\tenableDeletingCommentWithReplies: false,\n\t\t\t\tenableNavigation: true,\n\t\t\t\tpostCommentOnEnter: false,\n\t\t\t\tforceResponsive: false,\n\t\t\t\treadOnly: false,\n\t\t\t\tdefaultNavigationSortKey: 'newest',\n\n\t\t\t\thighlightColor: '#2793e6',\n\t\t\t\tdeleteButtonColor: '#C9302C',\n\t\t\t\tscrollContainer: this.$el,\n\t\t\t\troundProfilePictures: false,\n\t\t\t\ttextareaRows: 2,\n\t\t\t\ttextareaRowsOnFocus: 2,\n\t\t\t\ttextareaMaxRows: 5,\n\t\t\t\tmaxRepliesVisible: 2,\n\n\t\t\t\tfieldMappings: {\n\t\t\t\t\tid: 'id',\n\t\t\t\t\tparent: 'parent',\n\t\t\t\t\tcreated: 'createdDate',\n\t\t\t\t\tmodified: 'modifiedDate',\n\t\t\t\t\tcontent: 'content',\n\t\t\t\t\tfile: 'file',\n\t\t\t\t\tfileURL: 'file_url',\n\t\t\t\t\tfileMimeType: 'file_mime_type',\n\t\t\t\t\tpings: 'pings',\n\t\t\t\t\tcreator: 'creator',\n\t\t\t\t\tfullname: 'fullname',\n\t\t\t\t\tprofileURL: 'profile_url',\n\t\t\t\t\tprofilePictureURL: 'profile_picture_url',\n\t\t\t\t\tisNew: 'is_new',\n\t\t\t\t\tcreatedByAdmin: 'created_by_admin',\n\t\t\t\t\tcreatedByCurrentUser: 'created_by_current_user',\n\t\t\t\t\tupvoteCount: 'upvote_count',\n\t\t\t\t\tuserHasUpvoted: 'user_has_upvoted'\n\t\t\t\t},\n\n\t\t\t\tgetUsers: function getUsers(success, error) {\n\t\t\t\t\tsuccess([]);\n\t\t\t\t},\n\t\t\t\tgetComments: function getComments(success, error) {\n\t\t\t\t\tsuccess([]);\n\t\t\t\t},\n\t\t\t\tpostComment: function postComment(commentJSON, success, error) {\n\t\t\t\t\tsuccess(commentJSON);\n\t\t\t\t},\n\t\t\t\tputComment: function putComment(commentJSON, success, error) {\n\t\t\t\t\tsuccess(commentJSON);\n\t\t\t\t},\n\t\t\t\tdeleteComment: function deleteComment(commentJSON, success, error) {\n\t\t\t\t\tsuccess();\n\t\t\t\t},\n\t\t\t\tupvoteComment: function upvoteComment(commentJSON, success, error) {\n\t\t\t\t\tsuccess(commentJSON);\n\t\t\t\t},\n\t\t\t\thashtagClicked: function hashtagClicked(hashtag) {},\n\t\t\t\tpingClicked: function pingClicked(userId) {},\n\t\t\t\tuploadAttachments: function uploadAttachments(commentArray, success, error) {\n\t\t\t\t\tsuccess(commentArray);\n\t\t\t\t},\n\t\t\t\trefresh: function refresh() {},\n\t\t\t\ttimeFormatter: function timeFormatter(time) {\n\t\t\t\t\treturn new Date(time).toLocaleDateString();\n\t\t\t\t},\n\t\t\t\tappendNewComments: function appendNewComments(commentJSONs, success, error) {\n\t\t\t\t\tsuccess([]);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\tinit: function init(options, el) {\n\t\t\tthis.$el = $(el);\n\t\t\tthis.$el.addClass('jquery-comments');\n\t\t\tthis.undelegateEvents();\n\t\t\tthis.delegateEvents();\n\n\t\t\t(function (a) {\n\t\t\t\t(jQuery.browser = jQuery.browser || {}).mobile = /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4));\n\t\t\t})(navigator.userAgent || navigator.vendor || window.opera);\n\t\t\tif ($.browser.mobile) this.$el.addClass('mobile');\n\n\t\t\tthis.options = $.extend(true, {}, this.getDefaultOptions(), options);;\n\n\t\t\tif (this.options.readOnly) this.$el.addClass('read-only');\n\n\t\t\tthis.currentSortKey = this.options.defaultNavigationSortKey;\n\n\t\t\tthis.createCssDeclarations();\n\n\t\t\tthis.fetchDataAndRender();\n\t\t},\n\n\t\tdelegateEvents: function delegateEvents() {\n\t\t\tthis.bindEvents(false);\n\t\t},\n\n\t\tundelegateEvents: function undelegateEvents() {\n\t\t\tthis.bindEvents(true);\n\t\t},\n\n\t\tbindEvents: function bindEvents(unbind) {\n\t\t\tvar bindFunction = unbind ? 'off' : 'on';\n\t\t\tfor (var key in this.events) {\n\t\t\t\tvar eventName = key.split(' ')[0];\n\t\t\t\tvar selector = key.split(' ').slice(1).join(' ');\n\t\t\t\tvar methodNames = this.events[key].split(' ');\n\n\t\t\t\tfor (var index in methodNames) {\n\t\t\t\t\tif (methodNames.hasOwnProperty(index)) {\n\t\t\t\t\t\tvar method = this[methodNames[index]];\n\n\t\t\t\t\t\tmethod = $.proxy(method, this);\n\n\t\t\t\t\t\tif (selector == '') {\n\t\t\t\t\t\t\tthis.$el[bindFunction](eventName, method);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$el[bindFunction](eventName, selector, method);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfetchDataAndRender: function fetchDataAndRender() {\n\t\t\tvar self = this;\n\t\t\tsetTimeout(function () {\n\t\t\t\tself.appendNewComments();\n\t\t\t}, 30000);\n\t\t\tthis.commentsById = {};\n\t\t\tthis.usersById = {};\n\t\t\tthis.$el.empty();\n\t\t\tthis.createHTML();\n\n\t\t\tvar dataFetched = this.after(this.options.enablePinging ? 2 : 1, function () {\n\t\t\t\tself.dataFetched = true;\n\t\t\t\tself.render();\n\t\t\t});\n\n\t\t\tvar commentsFetched = function commentsFetched(commentsArray) {\n\t\t\t\tvar commentModels = commentsArray.map(function (commentsJSON) {\n\t\t\t\t\treturn self.createCommentModel(commentsJSON);\n\t\t\t\t});\n\n\t\t\t\tself.sortComments(commentModels, 'oldest');\n\t\t\t\t$(commentModels).each(function (index, commentModel) {\n\t\t\t\t\tself.addCommentToDataModel(commentModel);\n\t\t\t\t});\n\t\t\t\tdataFetched();\n\t\t\t};\n\t\t\tthis.options.getComments(commentsFetched, dataFetched);\n\n\t\t\tif (this.options.enablePinging) {\n\t\t\t\tvar usersFetched = function usersFetched(userArray) {\n\t\t\t\t\t$(userArray).each(function (index, user) {\n\t\t\t\t\t\tself.usersById[user.id] = user;\n\t\t\t\t\t});\n\t\t\t\t\tdataFetched();\n\t\t\t\t};\n\t\t\t\tthis.options.getUsers(usersFetched, dataFetched);\n\t\t\t};\n\t\t},\n\n\t\tfetchNext: function fetchNext() {\n\t\t\tvar self = this;\n\n\t\t\tvar spinner = this.createSpinner();\n\t\t\tthis.$el.find('ul#comment-list').append(spinner);\n\t\t\tvar success = function success(commentModels) {\n\t\t\t\t$(commentModels).each(function (index, commentModel) {\n\t\t\t\t\tself.createComment(commentModel);\n\t\t\t\t});\n\t\t\t\tspinner.remove();\n\t\t\t};\n\n\t\t\tvar error = function error() {\n\t\t\t\tspinner.remove();\n\t\t\t};\n\t\t\tthis.options.getComments(success, error);\n\t\t},\n\n\t\tcreateCommentModel: function createCommentModel(commentJSON) {\n\t\t\tvar commentModel = this.applyInternalMappings(commentJSON);\n\t\t\tcommentModel.childs = [];\n\t\t\tthis.commentsById[commentModel.id] = commentModel;\n\t\t\treturn commentModel;\n\t\t},\n\n\t\taddCommentToDataModel: function addCommentToDataModel(commentModel) {\n\t\t\tif (!(commentModel.id in this.commentsById)) {\n\t\t\t\tthis.commentsById[commentModel.id] = commentModel;\n\n\t\t\t\tif (commentModel.parent) {\n\t\t\t\t\tvar outermostParent = this.getOutermostParent(commentModel.parent);\n\t\t\t\t\toutermostParent.childs.push(commentModel.id);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdateCommentModel: function updateCommentModel(commentModel) {\n\t\t\t$.extend(this.commentsById[commentModel.id], commentModel);\n\t\t},\n\n\t\trender: function render() {\n\t\t\tvar self = this;\n\n\t\t\tif (!this.dataFetched) return;\n\n\t\t\tthis.showActiveContainer();\n\n\t\t\tthis.createComments();\n\n\t\t\tif (this.options.enableAttachments) this.createAttachments();\n\n\t\t\tthis.createImportantComments();\n\n\t\t\tthis.$el.find('> .spinner').remove();\n\t\t\tthis.options.refresh();\n\t\t},\n\n\t\tshowActiveContainer: function showActiveContainer() {\n\t\t\tvar activeNavigationEl = this.$el.find('.navigation li[data-container-name].active');\n\t\t\tvar containerName = activeNavigationEl.data('container-name');\n\t\t\tvar containerEl = this.$el.find('[data-container=\"' + containerName + '\"]');\n\t\t\tcontainerEl.siblings('[data-container]').hide();\n\t\t\tcontainerEl.show();\n\t\t},\n\n\t\tcreateComments: function createComments() {\n\t\t\tvar self = this;\n\n\t\t\tthis.$el.find('#comment-list').remove();\n\t\t\tvar commentList = $('<ul/>', {\n\t\t\t\tid: 'comment-list',\n\t\t\t\t'class': 'main'\n\t\t\t});\n\n\t\t\tvar mainLevelComments = [];\n\t\t\tvar replies = [];\n\n\t\t\t$(this.getComments()).each(function (index, commentModel) {\n\t\t\t\tif (commentModel.parent == null) {\n\t\t\t\t\tmainLevelComments.push(commentModel);\n\t\t\t\t} else {\n\t\t\t\t\treplies.push(commentModel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.sortComments(mainLevelComments, this.currentSortKey);\n\t\t\tmainLevelComments.reverse();\n\t\t\t$(mainLevelComments).each(function (index, commentModel) {\n\t\t\t\tself.addComment(commentModel, commentList);\n\t\t\t});\n\n\t\t\tthis.sortComments(replies, 'oldest');\n\t\t\t$(replies).each(function (index, commentModel) {\n\t\t\t\tself.addComment(commentModel, commentList);\n\t\t\t});\n\n\t\t\tthis.$el.find('[data-container=\"comments\"]').prepend(commentList);\n\t\t},\n\n\t\tcreateAttachments: function createAttachments() {\n\t\t\tvar self = this;\n\n\t\t\tthis.$el.find('#attachment-list').remove();\n\t\t\tvar attachmentList = $('<ul/>', {\n\t\t\t\tid: 'attachment-list',\n\t\t\t\t'class': 'main'\n\t\t\t});\n\n\t\t\tvar attachments = this.getAttachments();\n\t\t\tthis.sortComments(attachments, 'newest');\n\t\t\tattachments.reverse();\n\t\t\t$(attachments).each(function (index, commentModel) {\n\t\t\t\tself.addAttachment(commentModel, attachmentList);\n\t\t\t});\n\n\t\t\tthis.$el.find('[data-container=\"attachments\"]').prepend(attachmentList);\n\t\t},\n\t\tcreateImportantComments: function createImportantComments() {\n\t\t\tvar self = this;\n\n\t\t\tthis.$el.find('#importantCmt-list').remove();\n\t\t\tvar importantCmtList = $('<ul/>', {\n\t\t\t\tid: 'importantCmt-list',\n\t\t\t\t'class': 'main'\n\t\t\t});\n\n\t\t\tvar importantCmt = this.getImportantCmt();\n\n\t\t\tthis.sortComments(importantCmt, 'newest');\n\t\t\timportantCmt.reverse();\n\t\t\t$(importantCmt).each(function (index, commentModel) {\n\t\t\t\tself.addImportantCmt(commentModel, importantCmtList);\n\t\t\t});\n\n\t\t\tthis.$el.find('[data-container=\"importantCmt\"]').prepend(importantCmtList);\n\t\t},\n\t\taddComment: function addComment(commentModel, commentList) {\n\t\t\tcommentList = commentList || this.$el.find('#comment-list');\n\t\t\tvar commentEl = this.createCommentElement(commentModel);\n\n\t\t\tif (commentModel.parent) {\n\t\t\t\tvar directParentEl = commentList.find('.comment[data-id=\"' + commentModel.parent + '\"]');\n\n\t\t\t\tthis.reRenderCommentActionBar(commentModel.parent);\n\n\t\t\t\tvar outerMostParent = directParentEl.parents('.comment').last();\n\t\t\t\tif (outerMostParent.length == 0) outerMostParent = directParentEl;\n\n\t\t\t\tvar childCommentsEl = outerMostParent.find('.child-comments');\n\t\t\t\tvar commentingField = childCommentsEl.find('.commenting-field');\n\t\t\t\tif (commentingField.length) {\n\t\t\t\t\tcommentingField.before(commentEl);\n\t\t\t\t} else {\n\t\t\t\t\tchildCommentsEl.append(commentEl);\n\t\t\t\t}\n\n\t\t\t\tthis.updateToggleAllButton(outerMostParent);\n\t\t\t} else {\n\t\t\t\tcommentList.prepend(commentEl);\n\t\t\t}\n\t\t},\n\t\taddAttachment: function addAttachment(commentModel, commentList) {\n\t\t\tcommentList = commentList || this.$el.find('#attachment-list');\n\t\t\tvar commentEl = this.createCommentElement(commentModel);\n\t\t\tcommentList.prepend(commentEl);\n\t\t},\n\t\taddImportantCmt: function addImportantCmt(commentModel, commentList) {\n\t\t\tcommentList = commentList || this.$el.find('#importantCmt-list');\n\t\t\tvar commentEl = this.createCommentElement(commentModel);\n\t\t\tcommentList.prepend(commentEl);\n\t\t},\n\t\tremoveComment: function removeComment(commentId) {\n\t\t\tvar self = this;\n\t\t\tvar commentModel = this.commentsById[commentId];\n\n\t\t\tvar childComments = this.getChildComments(commentModel.id);\n\t\t\t$(childComments).each(function (index, childComment) {\n\t\t\t\tself.removeComment(childComment.id);\n\t\t\t});\n\n\t\t\tif (commentModel.parent) {\n\t\t\t\tvar outermostParent = this.getOutermostParent(commentModel.parent);\n\t\t\t\tvar indexToRemove = outermostParent.childs.indexOf(commentModel.id);\n\t\t\t\toutermostParent.childs.splice(indexToRemove, 1);\n\t\t\t}\n\n\t\t\tdelete this.commentsById[commentId];\n\t\t\tvar commentElements = this.$el.find('li.comment[data-id=\"' + commentId + '\"]');\n\t\t\tvar parentEl = commentElements.parents('li.comment').last();\n\n\t\t\tcommentElements.remove();\n\n\t\t\tthis.updateToggleAllButton(parentEl);\n\t\t},\n\n\t\tuploadAttachments: function uploadAttachments(files, commentingField) {\n\t\t\tvar self = this;\n\t\t\tif (!commentingField) commentingField = this.$el.find('.commenting-field.main');\n\t\t\tvar isReply = !commentingField.hasClass('main');\n\t\t\tvar fileCount = files.length;\n\n\t\t\tif (fileCount) {\n\t\t\t\tvar uploadButton = commentingField.find('.upload');\n\t\t\t\tvar textarea = commentingField.find('.textarea');\n\n\t\t\t\tuploadButton.removeClass('enabled');\n\t\t\t\tvar attachmentListSpinner = this.createSpinner();\n\t\t\t\tvar commentListSpinner = this.createSpinner();\n\t\t\t\tthis.$el.find('ul#attachment-list').prepend(attachmentListSpinner);\n\t\t\t\tif (isReply) {\n\t\t\t\t\tcommentingField.before(commentListSpinner);\n\t\t\t\t} else {\n\t\t\t\t\tthis.$el.find('ul#comment-list').prepend(commentListSpinner);\n\t\t\t\t}\n\n\t\t\t\tvar success = function success(commentArray) {\n\t\t\t\t\t$(commentArray).each(function (index, commentJSON) {\n\t\t\t\t\t\tvar commentModel = self.createCommentModel(commentJSON);\n\t\t\t\t\t\tself.addCommentToDataModel(commentModel);\n\t\t\t\t\t\tself.addComment(commentModel);\n\t\t\t\t\t\tself.addAttachment(commentModel);\n\t\t\t\t\t});\n\n\t\t\t\t\tif (commentArray.length == fileCount && self.getTextareaContent(textarea).length == 0) {\n\t\t\t\t\t\tcommentingField.find('.close').trigger('click');\n\t\t\t\t\t}\n\n\t\t\t\t\tuploadButton.addClass('enabled');\n\t\t\t\t\tcommentListSpinner.remove();\n\t\t\t\t\tattachmentListSpinner.remove();\n\t\t\t\t};\n\n\t\t\t\tvar error = function error() {\n\t\t\t\t\tuploadButton.addClass('enabled');\n\t\t\t\t\tcommentListSpinner.remove();\n\t\t\t\t\tattachmentListSpinner.remove();\n\t\t\t\t};\n\n\t\t\t\tvar commentArray = [];\n\t\t\t\t$(files).each(function (index, file) {\n\t\t\t\t\tvar commentJSON = self.createCommentJSON(textarea);\n\t\t\t\t\tcommentJSON.id += '-' + index;\n\t\t\t\t\tcommentJSON.content = '';\n\t\t\t\t\tcommentJSON.file = file;\n\t\t\t\t\tcommentJSON.fileURL = 'C:/fakepath/' + file.name;\n\t\t\t\t\tcommentJSON.fileMimeType = file.type;\n\n\t\t\t\t\tcommentJSON = self.applyExternalMappings(commentJSON);\n\t\t\t\t\tcommentArray.push(commentJSON);\n\t\t\t\t});\n\n\t\t\t\tself.options.uploadAttachments(commentArray, success, error);\n\t\t\t}\n\n\t\t\tuploadButton.find('input').val('');\n\t\t},\n\n\t\tupdateToggleAllButton: function updateToggleAllButton(parentEl) {\n\t\t\tif (this.options.maxRepliesVisible == null) return;\n\n\t\t\tvar childCommentsEl = parentEl.find('.child-comments');\n\t\t\tvar childComments = childCommentsEl.find('.comment');\n\t\t\tvar toggleAllButton = childCommentsEl.find('li.toggle-all');\n\t\t\tchildComments.removeClass('hidden-reply');\n\n\t\t\tif (this.options.maxRepliesVisible === 0) {\n\t\t\t\tvar hiddenReplies = childComments;\n\t\t\t} else {\n\t\t\t\tvar hiddenReplies = childComments.slice(0, -this.options.maxRepliesVisible);\n\t\t\t}\n\n\t\t\thiddenReplies.addClass('hidden-reply');\n\n\t\t\tif (toggleAllButton.find('span.text').text() == this.options.textFormatter(this.options.hideRepliesText)) {\n\t\t\t\thiddenReplies.addClass('visible');\n\t\t\t}\n\n\t\t\tif (childComments.length > this.options.maxRepliesVisible) {\n\t\t\t\tif (!toggleAllButton.length) {\n\n\t\t\t\t\ttoggleAllButton = $('<li/>', {\n\t\t\t\t\t\t'class': 'toggle-all highlight-font-bold'\n\t\t\t\t\t});\n\t\t\t\t\tvar toggleAllButtonText = $('<span/>', {\n\t\t\t\t\t\t'class': 'text'\n\t\t\t\t\t});\n\t\t\t\t\tvar caret = $('<span/>', {\n\t\t\t\t\t\t'class': 'caret'\n\t\t\t\t\t});\n\n\t\t\t\t\ttoggleAllButton.append(toggleAllButtonText).append(caret);\n\t\t\t\t\tchildCommentsEl.prepend(toggleAllButton);\n\t\t\t\t}\n\n\t\t\t\tthis.setToggleAllButtonText(toggleAllButton, false);\n\t\t\t} else {\n\t\t\t\ttoggleAllButton.remove();\n\t\t\t}\n\t\t},\n\n\t\tsortComments: function sortComments(comments, sortKey) {\n\t\t\tvar self = this;\n\n\t\t\tif (sortKey == 'popularity') {\n\t\t\t\tcomments.sort(function (commentA, commentB) {\n\t\t\t\t\tvar pointsOfA = commentA.childs.length;\n\t\t\t\t\tvar pointsOfB = commentB.childs.length;\n\n\t\t\t\t\tif (self.options.enableUpvoting) {\n\t\t\t\t\t\tpointsOfA += commentA.upvoteCount;\n\t\t\t\t\t\tpointsOfB += commentB.upvoteCount;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (pointsOfB != pointsOfA) {\n\t\t\t\t\t\treturn pointsOfB - pointsOfA;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar createdA = new Date(commentA.created).getTime();\n\t\t\t\t\t\tvar createdB = new Date(commentB.created).getTime();\n\t\t\t\t\t\treturn createdB - createdA;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcomments.sort(function (commentA, commentB) {\n\t\t\t\t\tvar createdA = new Date(commentA.created).getTime();\n\t\t\t\t\tvar createdB = new Date(commentB.created).getTime();\n\t\t\t\t\tif (sortKey == 'oldest') {\n\t\t\t\t\t\treturn createdA - createdB;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn createdB - createdA;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tsortUsers: function sortUsers(users) {\n\t\t\tusers.sort(function (a, b) {\n\t\t\t\tvar nameA = a.fullname.toLowerCase().trim();\n\t\t\t\tvar nameB = b.fullname.toLowerCase().trim();\n\t\t\t\tif (nameA < nameB) return -1;\n\t\t\t\tif (nameA > nameB) return 1;\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t},\n\n\t\tsortAndReArrangeComments: function sortAndReArrangeComments(sortKey) {\n\t\t\tvar commentList = this.$el.find('#comment-list');\n\n\t\t\tvar mainLevelComments = this.getComments().filter(function (commentModel) {\n\t\t\t\treturn !commentModel.parent;\n\t\t\t});\n\t\t\tthis.sortComments(mainLevelComments, sortKey);\n\n\t\t\t$(mainLevelComments).each(function (index, commentModel) {\n\t\t\t\tvar commentEl = commentList.find('> li.comment[data-id=' + commentModel.id + ']');\n\t\t\t\tcommentList.append(commentEl);\n\t\t\t});\n\t\t},\n\n\t\tshowActiveSort: function showActiveSort() {\n\t\t\tvar activeElements = this.$el.find('.navigation li[data-sort-key=\"' + this.currentSortKey + '\"]');\n\n\t\t\tthis.$el.find('.navigation li').removeClass('active');\n\t\t\tactiveElements.addClass('active');\n\n\t\t\tvar titleEl = this.$el.find('.navigation .title');\n\t\t\tif (this.currentSortKey != 'attachments') {\n\t\t\t\ttitleEl.addClass('active');\n\t\t\t\ttitleEl.find('header').html(activeElements.first().html());\n\t\t\t} else {\n\t\t\t\tvar defaultDropdownEl = this.$el.find('.navigation ul.dropdown').children().first();\n\t\t\t\ttitleEl.find('header').html(defaultDropdownEl.html());\n\t\t\t}\n\n\t\t\tthis.showActiveContainer();\n\t\t},\n\n\t\tforceResponsive: function forceResponsive() {\n\t\t\tthis.$el.addClass('responsive');\n\t\t},\n\n\t\tcloseDropdowns: function closeDropdowns() {\n\t\t\tthis.$el.find('.dropdown').hide();\n\t\t},\n\n\t\tsaveOnKeydown: function saveOnKeydown(ev) {\n\t\t\tif (ev.keyCode == 13) {\n\t\t\t\tvar metaKey = ev.metaKey || ev.ctrlKey;\n\t\t\t\tif (this.options.postCommentOnEnter || metaKey) {\n\t\t\t\t\tvar el = $(ev.currentTarget);\n\t\t\t\t\tel.siblings('.control-row').find('.save').trigger('click');\n\t\t\t\t\tev.stopPropagation();\n\t\t\t\t\tev.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsaveEditableContent: function saveEditableContent(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tel.data('before', el.html());\n\t\t},\n\n\t\tcheckEditableContentForChange: function checkEditableContentForChange(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tif (el.data('before') != el.html()) {\n\t\t\t\tel.data('before', el.html());\n\t\t\t\tel.trigger('change');\n\t\t\t}\n\t\t},\n\n\t\tnavigationElementClicked: function navigationElementClicked(ev) {\n\t\t\tvar navigationEl = $(ev.currentTarget);\n\t\t\tvar sortKey = navigationEl.data().sortKey;\n\n\t\t\tif (sortKey != 'attachments') {\n\t\t\t\tthis.sortAndReArrangeComments(sortKey);\n\t\t\t}\n\n\t\t\tthis.currentSortKey = sortKey;\n\t\t\tthis.showActiveSort();\n\t\t},\n\n\t\ttoggleNavigationDropdown: function toggleNavigationDropdown(ev) {\n\t\t\tev.stopPropagation();\n\n\t\t\tvar dropdown = $(ev.currentTarget).find('~ .dropdown');\n\t\t\tdropdown.toggle();\n\t\t},\n\n\t\tshowMainCommentingField: function showMainCommentingField(ev) {\n\t\t\tvar mainTextarea = $(ev.currentTarget);\n\t\t\tmainTextarea.siblings('.control-row').show();\n\t\t\tmainTextarea.parent().find('.close').show();\n\t\t\tmainTextarea.focus();\n\t\t},\n\n\t\thideMainCommentingField: function hideMainCommentingField(ev) {\n\t\t\tvar closeButton = $(ev.currentTarget);\n\t\t\tvar mainTextarea = this.$el.find('.commenting-field.main .textarea');\n\t\t\tvar mainControlRow = this.$el.find('.commenting-field.main .control-row');\n\n\t\t\tthis.clearTextarea(mainTextarea);\n\t\t\tthis.adjustTextareaHeight(mainTextarea, false);\n\n\t\t\tmainControlRow.hide();\n\t\t\tcloseButton.hide();\n\t\t\tmainTextarea.blur();\n\t\t},\n\n\t\tincreaseTextareaHeight: function increaseTextareaHeight(ev) {\n\t\t\tvar textarea = $(ev.currentTarget);\n\t\t\tthis.adjustTextareaHeight(textarea, true);\n\t\t},\n\n\t\ttextareaContentChanged: function textareaContentChanged(ev) {\n\t\t\tvar textarea = $(ev.currentTarget);\n\t\t\tvar saveButton = textarea.siblings('.control-row').find('.save');\n\n\t\t\tif (!textarea.find('.reply-to.tag').length) {\n\t\t\t\tvar commentId = textarea.attr('data-comment');\n\n\t\t\t\tif (commentId) {\n\t\t\t\t\tvar parentComments = textarea.parents('li.comment');\n\t\t\t\t\tif (parentComments.length > 1) {\n\t\t\t\t\t\tvar parentId = parentComments.last().data('id');\n\t\t\t\t\t\ttextarea.attr('data-parent', parentId);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar parentId = textarea.parents('li.comment').last().data('id');\n\t\t\t\t\ttextarea.attr('data-parent', parentId);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar commentingField = textarea.parents('.commenting-field').first();\n\t\t\tif (textarea[0].scrollHeight > textarea.outerHeight()) {\n\t\t\t\tcommentingField.addClass('scrollable');\n\t\t\t} else {\n\t\t\t\tcommentingField.removeClass('scrollable');\n\t\t\t}\n\n\t\t\tvar contentOrParentChangedIfEditing = true;\n\t\t\tvar content = this.getTextareaContent(textarea, true);\n\t\t\tif (commentId = textarea.attr('data-comment')) {\n\t\t\t\tvar contentChanged = content != this.commentsById[commentId].content;\n\t\t\t\tvar parentFromModel;\n\t\t\t\tif (this.commentsById[commentId].parent) {\n\t\t\t\t\tparentFromModel = this.commentsById[commentId].parent.toString();\n\t\t\t\t}\n\t\t\t\tvar parentChanged = textarea.attr('data-parent') != parentFromModel;\n\t\t\t\tcontentOrParentChangedIfEditing = contentChanged || parentChanged;\n\t\t\t}\n\n\t\t\tif (content.length && contentOrParentChangedIfEditing) {\n\t\t\t\tsaveButton.addClass('enabled');\n\t\t\t} else {\n\t\t\t\tsaveButton.removeClass('enabled');\n\t\t\t}\n\t\t},\n\n\t\tremoveCommentingField: function removeCommentingField(ev) {\n\t\t\tvar closeButton = $(ev.currentTarget);\n\n\t\t\tvar textarea = closeButton.siblings('.textarea');\n\t\t\tif (textarea.attr('data-comment')) {\n\t\t\t\tcloseButton.parents('li.comment').first().removeClass('edit');\n\t\t\t}\n\n\t\t\tvar commentingField = closeButton.parents('.commenting-field').first();\n\t\t\tcommentingField.remove();\n\t\t},\n\n\t\tappendNewComments: function appendNewComments() {\n\t\t\tvar self = this;\n\t\t\tconsole.log($(self.$el.context), $(self.$el.context).length);\n\t\t\tif ($(self.$el.context).length == 0) {\n\t\t\t\tclearTimeout(myVar);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar commentJSONs = this.getComments();\n\n\t\t\tvar success = function success(commentsNew, commentsEdit) {\n\t\t\t\tfor (var c in commentsNew) {\n\t\t\t\t\tself.createComment(commentsNew[c]);\n\t\t\t\t}\n\n\t\t\t\tfor (var cmt in commentsEdit) {\n\t\t\t\t\tvar commentModel = self.createCommentModel(commentsEdit[cmt]);\n\t\t\t\t\tself.updateCommentModel(commentModel);\n\t\t\t\t\tself.reRenderComment(commentModel.id);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar error = function error() {\n\t\t\t\tconsole.log('jquery comment append new error');\n\t\t\t};\n\t\t\tvar myVar = setTimeout(function () {\n\t\t\t\tself.appendNewComments();\n\t\t\t}, 30000);\n\t\t\tthis.options.appendNewComments(commentJSONs, success, error);\n\t\t},\n\n\t\tpostComment: function postComment(ev) {\n\t\t\tvar self = this;\n\t\t\tvar sendButton = $(ev.currentTarget);\n\t\t\tvar commentingField = sendButton.parents('.commenting-field').first();\n\t\t\tvar textarea = commentingField.find('.textarea');\n\n\t\t\tsendButton.removeClass('enabled');\n\n\t\t\tvar commentJSON = this.createCommentJSON(textarea);\n\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\n\n\t\t\tvar success = function success(commentJSON) {\n\t\t\t\tself.currentSortKey = 'newest';\n\t\t\t\tself.showActiveSort();\n\t\t\t\tself.createComment(commentJSON);\n\t\t\t\tcommentingField.find('.close').trigger('click');\n\t\t\t};\n\n\t\t\tvar error = function error() {\n\t\t\t\tsendButton.addClass('enabled');\n\t\t\t};\n\n\t\t\tthis.options.postComment(commentJSON, success, error);\n\t\t},\n\n\t\tcreateComment: function createComment(commentJSON) {\n\t\t\tvar commentModel = this.createCommentModel(commentJSON);\n\t\t\tthis.addCommentToDataModel(commentModel);\n\t\t\tthis.addComment(commentModel);\n\t\t\tif (commentModel.opinion == true) {\n\t\t\t\tthis.addImportantCmt(commentModel);\n\t\t\t}\n\t\t},\n\n\t\tputComment: function putComment(ev) {\n\t\t\tvar self = this;\n\t\t\tvar saveButton = $(ev.currentTarget);\n\t\t\tvar commentingField = saveButton.parents('.commenting-field').first();\n\t\t\tvar textarea = commentingField.find('.textarea');\n\n\t\t\tsaveButton.removeClass('enabled');\n\n\t\t\tvar commentJSON = $.extend({}, this.commentsById[textarea.attr('data-comment')]);\n\t\t\t$.extend(commentJSON, {\n\t\t\t\tparent: textarea.attr('data-parent') || null,\n\t\t\t\tcontent: this.getTextareaContent(textarea),\n\t\t\t\tpings: this.getPings(textarea),\n\t\t\t\tmodified: new Date().getTime()\n\t\t\t});\n\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\n\n\t\t\tvar success = function success(commentJSON) {\n\n\t\t\t\tvar commentModel = self.createCommentModel(commentJSON);\n\n\t\t\t\tdelete commentModel['childs'];\n\t\t\t\tself.updateCommentModel(commentModel);\n\n\t\t\t\tcommentingField.find('.close').trigger('click');\n\n\t\t\t\tself.reRenderComment(commentModel.id);\n\t\t\t};\n\n\t\t\tvar error = function error() {\n\t\t\t\tsaveButton.addClass('enabled');\n\t\t\t};\n\n\t\t\tthis.options.putComment(commentJSON, success, error);\n\t\t},\n\n\t\tdeleteComment: function deleteComment(ev) {\n\t\t\tvar self = this;\n\t\t\tvar deleteButton = $(ev.currentTarget);\n\t\t\tvar commentEl = deleteButton.parents('.comment').first();\n\t\t\tvar commentJSON = $.extend({}, this.commentsById[commentEl.attr('data-id')]);\n\t\t\tvar commentId = commentJSON.id;\n\t\t\tvar parentId = commentJSON.parent;\n\n\t\t\tdeleteButton.removeClass('enabled');\n\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\n\n\t\t\tvar success = function success() {\n\t\t\t\tself.removeComment(commentId);\n\t\t\t\tif (parentId) self.reRenderCommentActionBar(parentId);\n\n\t\t\t\tif (commentJSON.opinion == true) {\n\t\t\t\t\t$('[data-sort-key=' + self.currentSortKey + ']').trigger('click');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar error = function error() {\n\t\t\t\tdeleteButton.addClass('enabled');\n\t\t\t};\n\n\t\t\tthis.options.deleteComment(commentJSON, success, error);\n\t\t},\n\n\t\thashtagClicked: function hashtagClicked(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tvar value = el.attr('data-value');\n\t\t\tthis.options.hashtagClicked(value);\n\t\t},\n\n\t\tpingClicked: function pingClicked(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tvar value = el.attr('data-value');\n\t\t\tthis.options.pingClicked(value);\n\t\t},\n\n\t\tfileInputChanged: function fileInputChanged(ev, files) {\n\t\t\tvar files = ev.currentTarget.files;\n\t\t\tvar commentingField = $(ev.currentTarget).parents('.commenting-field').first();\n\t\t\tthis.uploadAttachments(files, commentingField);\n\t\t},\n\n\t\tupvoteComment: function upvoteComment(ev) {\n\t\t\tvar self = this;\n\t\t\tvar commentEl = $(ev.currentTarget).parents('li.comment').first();\n\t\t\tvar commentModel = commentEl.data().model;\n\n\t\t\tvar previousUpvoteCount = commentModel.upvoteCount;\n\t\t\tvar newUpvoteCount;\n\t\t\tif (commentModel.userHasUpvoted) {\n\t\t\t\tnewUpvoteCount = previousUpvoteCount - 1;\n\t\t\t} else {\n\t\t\t\tnewUpvoteCount = previousUpvoteCount + 1;\n\t\t\t}\n\n\t\t\tcommentModel.userHasUpvoted = !commentModel.userHasUpvoted;\n\t\t\tcommentModel.upvoteCount = newUpvoteCount;\n\t\t\tthis.reRenderUpvotes(commentModel.id);\n\n\t\t\tvar commentJSON = $.extend({}, commentModel);\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\n\n\t\t\tvar success = function success(commentJSON) {\n\t\t\t\tvar commentModel = self.createCommentModel(commentJSON);\n\t\t\t\tself.updateCommentModel(commentModel);\n\t\t\t\tself.reRenderUpvotes(commentModel.id);\n\t\t\t};\n\n\t\t\tvar error = function error() {\n\t\t\t\tcommentModel.userHasUpvoted = !commentModel.userHasUpvoted;\n\t\t\t\tcommentModel.upvoteCount = previousUpvoteCount;\n\t\t\t\tself.reRenderUpvotes(commentModel.id);\n\t\t\t};\n\n\t\t\tthis.options.upvoteComment(commentJSON, success, error);\n\t\t},\n\n\t\ttoggleReplies: function toggleReplies(ev) {\n\t\t\tvar el = $(ev.currentTarget);\n\t\t\tel.siblings('.hidden-reply').toggleClass('visible');\n\t\t\tthis.setToggleAllButtonText(el, true);\n\t\t},\n\n\t\treplyButtonClicked: function replyButtonClicked(ev) {\n\t\t\tvar replyButton = $(ev.currentTarget);\n\t\t\tvar outermostParent = replyButton.parents('li.comment').last();\n\t\t\tvar parentId = replyButton.parents('.comment').first().data().id;\n\n\t\t\tvar replyField = outermostParent.find('.child-comments > .commenting-field');\n\t\t\tif (replyField.length) replyField.remove();\n\t\t\tvar previousParentId = replyField.find('.textarea').attr('data-parent');\n\n\t\t\tif (previousParentId != parentId) {\n\t\t\t\treplyField = this.createCommentingFieldElement(parentId, null, false);\n\t\t\t\toutermostParent.find('.child-comments').append(replyField);\n\n\t\t\t\tvar textarea = replyField.find('.textarea');\n\t\t\t\tthis.moveCursorToEnd(textarea);\n\n\t\t\t\tvar scrollTop = this.options.scrollContainer.scrollTop();\n\t\t\t\tvar endOfReply = scrollTop + replyField.position().top + replyField.outerHeight();\n\t\t\t\tvar endOfScrollable = scrollTop + this.options.scrollContainer.outerHeight();\n\t\t\t\tif (endOfReply > endOfScrollable) {\n\t\t\t\t\tvar newScrollTop = scrollTop + (endOfReply - endOfScrollable);\n\t\t\t\t\tthis.options.scrollContainer.scrollTop(newScrollTop);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\teditButtonClicked: function editButtonClicked(ev) {\n\t\t\tvar editButton = $(ev.currentTarget);\n\t\t\tvar commentEl = editButton.parents('li.comment').first();\n\t\t\tvar commentModel = commentEl.data().model;\n\n\t\t\tcommentModel = this.commentsById[commentModel.id];\n\t\t\tcommentEl.addClass('edit');\n\n\t\t\tvar editField = this.createCommentingFieldElement(commentModel.parent, commentModel.id, false);\n\t\t\tcommentEl.find('.comment-wrapper').first().append(editField);\n\n\t\t\tvar textarea = editField.find('.textarea');\n\t\t\ttextarea.attr('data-comment', commentModel.id);\n\n\t\t\ttextarea.append(this.getFormattedCommentContent(commentModel, true));\n\n\t\t\tthis.moveCursorToEnd(textarea);\n\t\t},\n\n\t\tshowDroppableOverlay: function showDroppableOverlay(ev) {\n\t\t\tif (this.options.enableAttachments) {\n\t\t\t\tthis.$el.find('.droppable-overlay').css('top', this.$el[0].scrollTop);\n\t\t\t\tthis.$el.find('.droppable-overlay').show();\n\t\t\t\tthis.$el.addClass('drag-ongoing');\n\t\t\t}\n\t\t},\n\n\t\thandleDragEnter: function handleDragEnter(ev) {\n\t\t\tvar count = $(ev.currentTarget).data('dnd-count') || 0;\n\t\t\tcount++;\n\t\t\t$(ev.currentTarget).data('dnd-count', count);\n\t\t\t$(ev.currentTarget).addClass('drag-over');\n\t\t},\n\n\t\thandleDragLeave: function handleDragLeave(ev, callback) {\n\t\t\tvar count = $(ev.currentTarget).data('dnd-count');\n\t\t\tcount--;\n\t\t\t$(ev.currentTarget).data('dnd-count', count);\n\n\t\t\tif (count == 0) {\n\t\t\t\t$(ev.currentTarget).removeClass('drag-over');\n\t\t\t\tif (callback) callback();\n\t\t\t}\n\t\t},\n\n\t\thandleDragLeaveForOverlay: function handleDragLeaveForOverlay(ev) {\n\t\t\tvar self = this;\n\t\t\tthis.handleDragLeave(ev, function () {\n\t\t\t\tself.hideDroppableOverlay();\n\t\t\t});\n\t\t},\n\n\t\thandleDragLeaveForDroppable: function handleDragLeaveForDroppable(ev) {\n\t\t\tthis.handleDragLeave(ev);\n\t\t},\n\n\t\thandleDragOverForOverlay: function handleDragOverForOverlay(ev) {\n\t\t\tev.stopPropagation();\n\t\t\tev.preventDefault();\n\t\t\tev.originalEvent.dataTransfer.dropEffect = 'copy';\n\t\t},\n\n\t\thideDroppableOverlay: function hideDroppableOverlay() {\n\t\t\tthis.$el.find('.droppable-overlay').hide();\n\t\t\tthis.$el.removeClass('drag-ongoing');\n\t\t},\n\n\t\thandleDrop: function handleDrop(ev) {\n\t\t\tev.preventDefault();\n\n\t\t\t$(ev.target).trigger('dragleave');\n\n\t\t\tthis.hideDroppableOverlay();\n\t\t\tthis.uploadAttachments(ev.originalEvent.dataTransfer.files);\n\t\t},\n\n\t\tstopPropagation: function stopPropagation(ev) {\n\t\t\tev.stopPropagation();\n\t\t},\n\n\t\tcreateHTML: function createHTML() {\n\t\t\tvar self = this;\n\n\t\t\tvar mainCommentingField = this.createCommentingFieldElement(null, null, true);\n\t\t\tmainCommentingField.addClass('main');\n\t\t\tthis.$el.append(mainCommentingField);\n\n\t\t\tvar mainControlRow = mainCommentingField.find('.control-row');\n\t\t\tmainControlRow.hide();\n\t\t\tmainCommentingField.find('.close').hide();\n\n\t\t\tif (this.options.enableNavigation) {\n\t\t\t\tthis.$el.append(this.createNavigationElement());\n\t\t\t\tthis.showActiveSort();\n\t\t\t}\n\n\t\t\tvar spinner = this.createSpinner();\n\t\t\tthis.$el.append(spinner);\n\n\t\t\tvar commentsContainer = $('<div/>', {\n\t\t\t\t'class': 'data-container overflowComment',\n\t\t\t\t'data-container': 'comments'\n\t\t\t});\n\t\t\tthis.$el.append(commentsContainer);\n\n\t\t\tvar noComments = $('<div/>', {\n\t\t\t\t'class': 'no-comments no-data',\n\t\t\t\ttext: this.options.textFormatter(this.options.noCommentsText)\n\t\t\t});\n\t\t\tvar noCommentsIcon = $('<i/>', {\n\t\t\t\t'class': 'fa fa-comments fa-2x'\n\t\t\t});\n\t\t\tif (this.options.noCommentsIconURL.length) {\n\t\t\t\tnoCommentsIcon.css('background-image', 'url(\"' + this.options.noCommentsIconURL + '\")');\n\t\t\t\tnoCommentsIcon.addClass('image');\n\t\t\t}\n\t\t\tnoComments.prepend($('<br/>')).prepend(noCommentsIcon);\n\t\t\tcommentsContainer.append(noComments);\n\n\t\t\tvar importantCmtContainer = $('<div/>', {\n\t\t\t\t'class': 'data-container overflowComment',\n\t\t\t\t'data-container': 'importantCmt'\n\t\t\t});\n\t\t\tthis.$el.append(importantCmtContainer);\n\n\t\t\tvar noCommentsImpt = $('<div/>', {\n\t\t\t\t'class': 'no-comments no-data',\n\t\t\t\ttext: this.options.textFormatter(this.options.noCommentsImportantText)\n\t\t\t});\n\t\t\tvar noCommentsImptIcon = $('<i/>', {\n\t\t\t\t'class': 'fa fa-comments fa-2x'\n\t\t\t});\n\t\t\tif (this.options.noCommentsImptIconURL.length) {\n\t\t\t\tnoCommentsImptIcon.css('background-image', 'url(\"' + this.options.noCommentsImptIconURL + '\")');\n\t\t\t\tnoCommentsImptIcon.addClass('image');\n\t\t\t}\n\t\t\tnoCommentsImpt.prepend($('<br/>')).prepend(noCommentsImptIcon);\n\t\t\timportantCmtContainer.append(noCommentsImpt);\n\n\t\t\tif (this.options.enableAttachments) {\n\t\t\t\tvar attachmentsContainer = $('<div/>', {\n\t\t\t\t\t'class': 'data-container overflowComment',\n\t\t\t\t\t'data-container': 'attachments'\n\t\t\t\t});\n\t\t\t\tthis.$el.append(attachmentsContainer);\n\n\t\t\t\tvar noAttachments = $('<div/>', {\n\t\t\t\t\t'class': 'no-attachments no-data',\n\t\t\t\t\ttext: this.options.textFormatter(this.options.noAttachmentsText)\n\t\t\t\t});\n\t\t\t\tvar noAttachmentsIcon = $('<i/>', {\n\t\t\t\t\t'class': 'fa fa-paperclip fa-2x'\n\t\t\t\t});\n\t\t\t\tif (this.options.attachmentIconURL.length) {\n\t\t\t\t\tnoAttachmentsIcon.css('background-image', 'url(\"' + this.options.attachmentIconURL + '\")');\n\t\t\t\t\tnoAttachmentsIcon.addClass('image');\n\t\t\t\t}\n\t\t\t\tnoAttachments.prepend($('<br/>')).prepend(noAttachmentsIcon);\n\t\t\t\tattachmentsContainer.append(noAttachments);\n\n\t\t\t\tvar droppableOverlay = $('<div/>', {\n\t\t\t\t\t'class': 'droppable-overlay'\n\t\t\t\t});\n\n\t\t\t\tvar droppableContainer = $('<div/>', {\n\t\t\t\t\t'class': 'droppable-container'\n\t\t\t\t});\n\n\t\t\t\tvar droppable = $('<div/>', {\n\t\t\t\t\t'class': 'droppable'\n\t\t\t\t});\n\n\t\t\t\tvar uploadIcon = $('<i/>', {\n\t\t\t\t\t'class': 'fa fa-upload fa-4x'\n\t\t\t\t});\n\t\t\t\tif (this.options.uploadIconURL.length) {\n\t\t\t\t\tuploadIcon.css('background-image', 'url(\"' + this.options.uploadIconURL + '\")');\n\t\t\t\t\tuploadIcon.addClass('image');\n\t\t\t\t}\n\n\t\t\t\tvar dropAttachmentText = $('<div/>', {\n\t\t\t\t\ttext: this.options.textFormatter(this.options.attachmentDropText)\n\t\t\t\t});\n\t\t\t\tdroppable.append(uploadIcon);\n\t\t\t\tdroppable.append(dropAttachmentText);\n\n\t\t\t\tdroppableOverlay.html(droppableContainer.html(droppable)).hide();\n\t\t\t\tthis.$el.append(droppableOverlay);\n\t\t\t}\n\t\t},\n\n\t\tcreateProfilePictureElement: function createProfilePictureElement(src) {\n\t\t\tif (src) {\n\t\t\t\tvar profilePicture = $('<img/>', {\n\t\t\t\t\tsrc: src\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvar profilePicture = $('<i/>', {\n\t\t\t\t\t'class': 'fa fa-user'\n\t\t\t\t});\n\t\t\t}\n\t\t\tprofilePicture.addClass('profile-picture');\n\t\t\tif (this.options.roundProfilePictures) profilePicture.addClass('round');\n\t\t\treturn profilePicture;\n\t\t},\n\n\t\tcreateCommentingFieldElement: function createCommentingFieldElement(parentId, existingCommentId, enableOpinion) {\n\t\t\tvar self = this;\n\n\t\t\tvar commentingField = $('<div/>', {\n\t\t\t\t'class': 'commenting-field'\n\t\t\t});\n\n\t\t\tif (existingCommentId) {\n\t\t\t\tvar profilePictureURL = this.commentsById[existingCommentId].profilePictureURL;\n\t\t\t} else {\n\t\t\t\tvar profilePictureURL = this.options.profilePictureURL;\n\t\t\t}\n\t\t\tvar profilePicture = this.createProfilePictureElement(profilePictureURL);\n\n\t\t\tvar textareaWrapper = $('<div/>', {\n\t\t\t\t'class': 'textarea-wrapper'\n\t\t\t});\n\n\t\t\tvar controlRow = $('<div/>', {\n\t\t\t\t'class': 'control-row'\n\t\t\t});\n\n\t\t\tvar textarea = $('<div/>', {\n\t\t\t\t'class': 'textarea',\n\t\t\t\t'data-placeholder': this.options.textFormatter(this.options.textareaPlaceholderText),\n\t\t\t\tcontenteditable: true\n\t\t\t});\n\n\t\t\tthis.adjustTextareaHeight(textarea, false);\n\n\t\t\tvar closeButton = $('<span/>', {\n\t\t\t\t'class': 'close'\n\t\t\t}).append($('<span class=\"left\"/>')).append($('<span class=\"right\"/>'));\n\n\t\t\tif (existingCommentId) {\n\t\t\t\tvar saveButtonText = this.options.textFormatter(this.options.saveText);\n\t\t\t\tvar opinionCmtId = existingCommentId;\n\t\t\t} else {\n\t\t\t\tvar saveButtonText = this.options.textFormatter(this.options.sendText);\n\t\t\t\tvar opinionCmtId = '';\n\n\t\t\t\tif (this.options.enableAttachments) {\n\t\t\t\t\tvar uploadButton = $('<span/>', {\n\t\t\t\t\t\t'class': 'enabled upload'\n\t\t\t\t\t});\n\t\t\t\t\tvar uploadIcon = $('<i/>', {\n\t\t\t\t\t\t'class': 'md-icon',\n\t\t\t\t\t\ttext: 'Ti ln'\n\t\t\t\t\t});\n\t\t\t\t\tvar fileInput = $('<input/>', {\n\t\t\t\t\t\ttype: 'file',\n\t\t\t\t\t\t'data-role': 'none' });\n\n\t\t\t\t\tif (!$.browser.mobile) fileInput.attr('multiple', 'multiple');\n\n\t\t\t\t\tif (this.options.uploadIconURL.length) {\n\t\t\t\t\t\tuploadIcon.css('background-image', 'url(\"' + this.options.uploadIconURL + '\")');\n\t\t\t\t\t\tuploadIcon.addClass('image');\n\t\t\t\t\t}\n\t\t\t\t\tuploadButton.append(uploadIcon).append(fileInput);\n\t\t\t\t\tcontrolRow.append(uploadButton);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar saveButtonClass = existingCommentId ? 'update' : 'send';\n\t\t\tvar saveButton = $('<span/>', {\n\t\t\t\t'class': saveButtonClass + ' save highlight-background',\n\t\t\t\ttext: saveButtonText\n\t\t\t});\n\n\n\t\t\tif (enableOpinion) {\n\t\t\t\tvar checkOpinion = $('<input/>', {\n\t\t\t\t\t'class': 'opinion checkOpinion mt-1 mr-1',\n\t\t\t\t\t'id': 'opinion' + opinionCmtId,\n\t\t\t\t\t'name': 'opinion' + opinionCmtId,\n\t\t\t\t\t'type': 'checkbox'\n\t\t\t\t});\n\t\t\t\tvar labelCheckOpinion = $('<label/>', {\n\t\t\t\t\t'class': 'opinion label-opinion',\n\t\t\t\t\t'for': 'opinion' + opinionCmtId,\n\t\t\t\t\ttext: ' kin chnh thc'\n\t\t\t\t});\n\t\t\t\tcontrolRow.append(checkOpinion).append(labelCheckOpinion);\n\t\t\t}\n\n\t\t\tcontrolRow.prepend(saveButton);\n\t\t\ttextareaWrapper.append(closeButton).append(textarea).append(controlRow);\n\t\t\tcommentingField.append(profilePicture).append(textareaWrapper);\n\n\t\t\tif (parentId) {\n\t\t\t\ttextarea.attr('data-parent', parentId);\n\n\t\t\t\tvar parentModel = this.commentsById[parentId];\n\t\t\t\tif (parentModel.parent) {\n\t\t\t\t\ttextarea.html('&nbsp;');\n\t\t\t\t\tvar replyToName = '@' + parentModel.fullname;\n\t\t\t\t\tvar replyToTag = this.createTagElement(replyToName, 'reply-to', parentModel.creator);\n\t\t\t\t\ttextarea.prepend(replyToTag);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.options.enablePinging) {\n\t\t\t\ttextarea.textcomplete([{\n\t\t\t\t\tmatch: /(^|\\s)@(([0-9]|[^\\u0000-\\u007F]|[a-z]|\\s)*)$/im,\n\t\t\t\t\tsearch: function search(term, callback) {\n\t\t\t\t\t\tterm = self.normalizeSpaces(term);\n\n\t\t\t\t\t\tvar pings = self.getPings(textarea);\n\t\t\t\t\t\tvar users = self.getUsers().filter(function (user) {\n\t\t\t\t\t\t\tvar isSelf = user.id == self.options.currentUserId;\n\t\t\t\t\t\t\tvar alreadyPinged = pings.indexOf(user.id) != -1;\n\t\t\t\t\t\t\treturn !isSelf && !alreadyPinged;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tself.sortUsers(users);\n\n\t\t\t\t\t\tcallback($.map(users, function (user) {\n\t\t\t\t\t\t\tvar lowercaseTerm = term.toLowerCase();\n\t\t\t\t\t\t\tvar nameMatch = user.fullname.toLowerCase().indexOf(lowercaseTerm) != -1;\n\t\t\t\t\t\t\tvar emailMatch = user.email.toLowerCase().indexOf(lowercaseTerm) != -1;\n\t\t\t\t\t\t\treturn nameMatch || emailMatch ? user : null;\n\t\t\t\t\t\t}));\n\t\t\t\t\t},\n\t\t\t\t\ttemplate: function template(user) {\n\t\t\t\t\t\tvar wrapper = $('<div/>');\n\n\t\t\t\t\t\tvar profilePictureEl = $('<img/>', {\n\t\t\t\t\t\t\tsrc: user.pictureUrl,\n\t\t\t\t\t\t\t'class': 'profile-picture round'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvar detailsEl = $('<div/>', {\n\t\t\t\t\t\t\t'class': 'details'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tvar nameEl = $('<div/>', {\n\t\t\t\t\t\t\t'class': 'name'\n\t\t\t\t\t\t}).html(user.fullname);\n\n\t\t\t\t\t\tvar emailEl = $('<div/>', {\n\t\t\t\t\t\t\t'class': 'email'\n\t\t\t\t\t\t}).html(user.email);\n\n\t\t\t\t\t\tif (user.email) {\n\t\t\t\t\t\t\tdetailsEl.append(nameEl).append(emailEl);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdetailsEl.addClass('no-email');\n\t\t\t\t\t\t\tdetailsEl.append(nameEl);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twrapper.append(profilePictureEl).append(detailsEl);\n\t\t\t\t\t\treturn wrapper.html();\n\t\t\t\t\t},\n\t\t\t\t\treplace: function replace(user) {\n\t\t\t\t\t\tvar tag = self.createTagElement('@' + user.fullname, 'ping', user.id);\n\t\t\t\t\t\treturn ' ' + tag[0].outerHTML + ' ';\n\t\t\t\t\t}\n\t\t\t\t}], {\n\t\t\t\t\tappendTo: '.jquery-comments',\n\t\t\t\t\tdropdownClassName: 'dropdown autocomplete',\n\t\t\t\t\tmaxCount: 5,\n\t\t\t\t\trightEdgeOffset: 0\n\t\t\t\t});\n\n\t\t\t\t$.fn.textcomplete.Dropdown.prototype.render = function (zippedData) {\n\t\t\t\t\tvar contentsHtml = this._buildContents(zippedData);\n\t\t\t\t\tvar unzippedData = $.map(zippedData, function (d) {\n\t\t\t\t\t\treturn d.value;\n\t\t\t\t\t});\n\t\t\t\t\tif (zippedData.length) {\n\t\t\t\t\t\tvar strategy = zippedData[0].strategy;\n\t\t\t\t\t\tif (strategy.id) {\n\t\t\t\t\t\t\tthis.$el.attr('data-strategy', strategy.id);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$el.removeAttr('data-strategy');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._renderHeader(unzippedData);\n\t\t\t\t\t\tthis._renderFooter(unzippedData);\n\t\t\t\t\t\tif (contentsHtml) {\n\t\t\t\t\t\t\tthis._renderContents(contentsHtml);\n\t\t\t\t\t\t\tthis._fitToBottom();\n\t\t\t\t\t\t\tthis._fitToRight();\n\t\t\t\t\t\t\tthis._activateIndexedItem();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._setScroll();\n\t\t\t\t\t} else if (this.noResultsMessage) {\n\t\t\t\t\t\tthis._renderNoResultsMessage(unzippedData);\n\t\t\t\t\t} else if (this.shown) {\n\t\t\t\t\t\tthis.deactivate();\n\t\t\t\t\t}\n\n\t\t\t\t\tvar top = parseInt(this.$el.css('top')) + self.options.scrollContainer.scrollTop();\n\t\t\t\t\tthis.$el.css('top', top);\n\n\t\t\t\t\tvar originalLeft = this.$el.css('left');\n\t\t\t\t\tthis.$el.css('left', 0);\n\t\t\t\t\tvar maxLeft = self.$el.width() - this.$el.outerWidth();\n\t\t\t\t\tvar left = Math.min(maxLeft, parseInt(originalLeft));\n\t\t\t\t\tthis.$el.css('left', left);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn commentingField;\n\t\t},\n\n\t\tcreateNavigationElement: function createNavigationElement() {\n\t\t\tvar navigationEl = $('<ul/>', {\n\t\t\t\t'class': 'navigation'\n\t\t\t});\n\t\t\tvar navigationWrapper = $('<div/>', {\n\t\t\t\t'class': 'navigation-wrapper'\n\t\t\t});\n\t\t\tnavigationEl.append(navigationWrapper);\n\n\t\t\tvar newest = $('<li/>', {\n\t\t\t\ttext: this.options.textFormatter(this.options.newestText),\n\t\t\t\t'data-sort-key': 'newest',\n\t\t\t\t'data-container-name': 'comments'\n\t\t\t});\n\n\t\t\tvar oldest = $('<li/>', {\n\t\t\t\ttext: this.options.textFormatter(this.options.oldestText),\n\t\t\t\t'data-sort-key': 'oldest',\n\t\t\t\t'data-container-name': 'comments'\n\t\t\t});\n\n\t\t\tvar important = $('<li/>', {\n\t\t\t\ttext: this.options.textFormatter(this.options.importantCmtText),\n\t\t\t\t'data-sort-key': 'important',\n\t\t\t\t'data-container-name': 'importantCmt'\n\t\t\t});\n\n\t\t\tvar popular = $('<li/>', {\n\t\t\t\ttext: this.options.textFormatter(this.options.popularText),\n\t\t\t\t'data-sort-key': 'popularity',\n\t\t\t\t'data-container-name': 'comments'\n\t\t\t});\n\n\t\t\tvar attachments = $('<li/>', {\n\t\t\t\ttext: this.options.textFormatter(this.options.attachmentsText),\n\t\t\t\t'data-sort-key': 'attachments',\n\t\t\t\t'data-container-name': 'attachments'\n\t\t\t});\n\n\t\t\tvar attachmentsIcon = $('<i/>', {\n\t\t\t\t'class': 'fa fa-paperclip'\n\t\t\t});\n\t\t\tif (this.options.attachmentIconURL.length) {\n\t\t\t\tattachmentsIcon.css('background-image', 'url(\"' + this.options.attachmentIconURL + '\")');\n\t\t\t\tattachmentsIcon.addClass('image');\n\t\t\t}\n\t\t\tattachments.prepend(attachmentsIcon);\n\n\t\t\tvar dropdownNavigationWrapper = $('<div/>', {\n\t\t\t\t'class': 'navigation-wrapper responsive'\n\t\t\t});\n\t\t\tvar dropdownNavigation = $('<ul/>', {\n\t\t\t\t'class': 'dropdown'\n\t\t\t});\n\t\t\tvar dropdownTitle = $('<li/>', {\n\t\t\t\t'class': 'title'\n\t\t\t});\n\t\t\tvar dropdownTitleHeader = $('<header/>');\n\n\t\t\tdropdownTitle.append(dropdownTitleHeader);\n\t\t\tdropdownNavigationWrapper.append(dropdownTitle);\n\t\t\tdropdownNavigationWrapper.append(dropdownNavigation);\n\t\t\tnavigationEl.append(dropdownNavigationWrapper);\n\n\t\t\tnavigationWrapper.append(newest).append(oldest).append(important);\n\t\t\tdropdownNavigation.append(newest.clone()).append(oldest.clone()).append(important.clone());\n\n\t\t\tif (this.options.enableReplying || this.options.enableUpvoting) {\n\t\t\t\tnavigationWrapper.append(popular);\n\t\t\t\tdropdownNavigation.append(popular.clone());\n\t\t\t}\n\t\t\tif (this.options.enableAttachments) {\n\t\t\t\tnavigationWrapper.append(attachments);\n\t\t\t\tdropdownNavigationWrapper.append(attachments.clone());\n\t\t\t}\n\n\t\t\tif (this.options.forceResponsive) this.forceResponsive();\n\t\t\treturn navigationEl;\n\t\t},\n\n\t\tcreateSpinner: function createSpinner() {\n\t\t\tvar spinner = $('<div/>', {\n\t\t\t\t'class': 'spinner'\n\t\t\t});\n\t\t\tvar spinnerIcon = $('<i/>', {\n\t\t\t\t'class': 'fa fa-spinner fa-spin'\n\t\t\t});\n\t\t\tif (this.options.spinnerIconURL.length) {\n\t\t\t\tspinnerIcon.css('background-image', 'url(\"' + this.options.spinnerIconURL + '\")');\n\t\t\t\tspinnerIcon.addClass('image');\n\t\t\t}\n\t\t\tspinner.html(spinnerIcon);\n\t\t\treturn spinner;\n\t\t},\n\n\t\tcreateCommentElement: function createCommentElement(commentModel) {\n\t\t\tvar commentEl = $('<li/>', {\n\t\t\t\t'data-id': commentModel.id,\n\t\t\t\t'class': 'comment'\n\t\t\t}).data('model', commentModel);\n\n\t\t\tif (commentModel.createdByCurrentUser) commentEl.addClass('by-current-user');\n\t\t\tif (commentModel.createdByAdmin) commentEl.addClass('by-admin');\n\n\t\t\tvar childComments = $('<ul/>', {\n\t\t\t\t'class': 'child-comments'\n\t\t\t});\n\n\t\t\tvar commentWrapper = this.createCommentWrapperElement(commentModel);\n\n\t\t\tcommentEl.append(commentWrapper);\n\t\t\tif (commentModel.parent == null) commentEl.append(childComments);\n\t\t\treturn commentEl;\n\t\t},\n\n\t\tcreateCommentWrapperElement: function createCommentWrapperElement(commentModel) {\n\t\t\tvar commentWrapper = $('<div/>', {\n\t\t\t\t'class': 'comment-wrapper'\n\t\t\t});\n\n\t\t\tvar profilePicture = this.createProfilePictureElement(commentModel.profilePictureURL);\n\n\t\t\tvar time = $('<time/>', {\n\t\t\t\ttext: this.options.timeFormatter(commentModel.created),\n\t\t\t\t'data-original': commentModel.created\n\t\t\t});\n\n\t\t\tvar nameText = commentModel.createdByCurrentUser ? this.options.textFormatter(this.options.youText) : commentModel.fullname;\n\t\t\tvar name = $('<div/>', {\n\t\t\t\t'class': 'name'\n\t\t\t});\n\t\t\tif (commentModel.profileURL) {\n\t\t\t\tvar link = $('<a/>', {\n\t\t\t\t\thref: commentModel.profileURL,\n\t\t\t\t\ttext: nameText\n\t\t\t\t});\n\t\t\t\tname.html(link);\n\t\t\t} else {\n\t\t\t\tname.text(nameText);\n\t\t\t}\n\n\t\t\tif (commentModel.createdByCurrentUser || commentModel.createdByAdmin) name.addClass('highlight-font-bold');\n\n\t\t\tif (commentModel.parent) {\n\t\t\t\tvar parent = this.commentsById[commentModel.parent];\n\t\t\t\tif (parent.parent) {\n\t\t\t\t\tvar replyTo = $('<span/>', {\n\t\t\t\t\t\t'class': 'reply-to',\n\t\t\t\t\t\ttext: parent.fullname\n\t\t\t\t\t});\n\n\t\t\t\t\tvar replyIcon = $('<i/>', {\n\t\t\t\t\t\t'class': 'fa fa-share'\n\t\t\t\t\t});\n\t\t\t\t\tif (this.options.replyIconURL.length) {\n\t\t\t\t\t\treplyIcon.css('background-image', 'url(\"' + this.options.replyIconURL + '\")');\n\t\t\t\t\t\treplyIcon.addClass('image');\n\t\t\t\t\t}\n\n\t\t\t\t\treplyTo.prepend(replyIcon);\n\t\t\t\t\tname.append(replyTo);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (commentModel.isNew) {\n\t\t\t\tvar newTag = $('<span/>', {\n\t\t\t\t\t'class': 'new highlight-background',\n\t\t\t\t\ttext: this.options.newText\n\t\t\t\t});\n\t\t\t\tname.append(newTag);\n\t\t\t}\n\n\t\t\tvar wrapper = $('<div/>', {\n\t\t\t\t'class': 'wrapper'\n\t\t\t});\n\n\t\t\tvar noteOpinion = $('<div/>', {\n\t\t\t\t'class': 'note-opinion',\n\t\t\t\ttext: '( kin chnh thc)'\n\t\t\t});\n\n\t\t\tvar content = $('<div/>', {\n\t\t\t\t'class': 'content'\n\t\t\t});\n\n\t\t\tvar isAttachment = commentModel.fileURL != undefined;\n\t\t\tif (isAttachment) {\n\t\t\t\tvar format = null;\n\t\t\t\tvar type = null;\n\n\t\t\t\tif (commentModel.fileMimeType) {\n\t\t\t\t\tvar mimeTypeParts = commentModel.fileMimeType.split('/');\n\t\t\t\t\tif (mimeTypeParts.length == 2) {\n\t\t\t\t\t\tformat = mimeTypeParts[1];\n\t\t\t\t\t\ttype = mimeTypeParts[0];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar link = $('<a/>', {\n\t\t\t\t\t'class': 'attachment',\n\t\t\t\t\thref: commentModel.fileURL,\n\t\t\t\t\ttarget: '_blank'\n\t\t\t\t});\n\n\t\t\t\tif (type == 'image') {\n\t\t\t\t\tvar image = $('<img/>', {\n\t\t\t\t\t\tsrc: commentModel.fileURL\n\t\t\t\t\t});\n\t\t\t\t\tlink.html(image);\n\t\t\t\t} else if (type == 'video') {\n\t\t\t\t\tvar video = $('<video/>', {\n\t\t\t\t\t\tsrc: commentModel.fileURL,\n\t\t\t\t\t\ttype: commentModel.fileMimeType,\n\t\t\t\t\t\tcontrols: 'controls'\n\t\t\t\t\t});\n\t\t\t\t\tlink.html(video);\n\t\t\t\t} else {\n\t\t\t\t\tvar availableIcons = ['archive', 'audio', 'code', 'excel', 'image', 'movie', 'pdf', 'photo', 'picture', 'powerpoint', 'sound', 'video', 'word', 'zip'];\n\n\t\t\t\t\tvar iconClass = 'fa fa-file-o';\n\t\t\t\t\tif (availableIcons.indexOf(format) > 0) {\n\t\t\t\t\t\ticonClass = 'fa fa-file-' + format + '-o';\n\t\t\t\t\t} else if (availableIcons.indexOf(type) > 0) {\n\t\t\t\t\t\ticonClass = 'fa fa-file-' + type + '-o';\n\t\t\t\t\t}\n\n\t\t\t\t\tvar fileIcon = $('<i/>', {\n\t\t\t\t\t\t'class': iconClass\n\t\t\t\t\t});\n\t\t\t\t\tif (this.options.fileIconURL.length) {\n\t\t\t\t\t\tfileIcon.css('background-image', 'url(\"' + this.options.fileIconURL + '\")');\n\t\t\t\t\t\tfileIcon.addClass('image');\n\t\t\t\t\t}\n\n\t\t\t\t\tvar fileName = commentModel.fileName;\n\t\t\t\t\tlink.text(fileName);\n\t\t\t\t\tlink.prepend(fileIcon);\n\t\t\t\t}\n\t\t\t\tcontent.html(link);\n\t\t\t} else {\n\t\t\t\tcontent.html(this.getFormattedCommentContent(commentModel));\n\t\t\t}\n\n\t\t\tif (commentModel.modified && commentModel.modified != commentModel.created) {\n\t\t\t\tvar editedTime = this.options.timeFormatter(commentModel.modified);\n\t\t\t\tvar edited = $('<time/>', {\n\t\t\t\t\t'class': 'edited',\n\t\t\t\t\ttext: this.options.textFormatter(this.options.editedText) + ' ' + editedTime,\n\t\t\t\t\t'data-original': commentModel.modified\n\t\t\t\t});\n\t\t\t\tcontent.append(edited);\n\t\t\t}\n\n\t\t\tvar actions = $('<span/>', {\n\t\t\t\t'class': 'actions'\n\t\t\t});\n\n\t\t\tvar reply = $('<button/>', {\n\t\t\t\t'class': 'action reply',\n\t\t\t\t'type': 'button',\n\t\t\t\ttext: this.options.textFormatter(this.options.replyText)\n\t\t\t});\n\n\t\t\tvar upvoteIcon = $('<i/>', {\n\t\t\t\t'class': 'fa fa-thumbs-up'\n\t\t\t});\n\t\t\tif (this.options.upvoteIconURL.length) {\n\t\t\t\tupvoteIcon.css('background-image', 'url(\"' + this.options.upvoteIconURL + '\")');\n\t\t\t\tupvoteIcon.addClass('image');\n\t\t\t}\n\n\t\t\tvar upvotes = this.createUpvoteElement(commentModel);\n\n\t\t\tif (this.options.enableReplying) actions.append(reply);\n\t\t\tif (this.options.enableUpvoting) actions.append(upvotes);\n\n\t\t\tif (commentModel.createdByCurrentUser || this.options.currentUserIsAdmin) {\n\t\t\t\tif (isAttachment && this.isAllowedToDelete(commentModel.id)) {\n\t\t\t\t\tvar deleteButton = $('<button/>', {\n\t\t\t\t\t\t'class': 'action delete enabled',\n\t\t\t\t\t\ttext: this.options.textFormatter(this.options.deleteText)\n\t\t\t\t\t});\n\t\t\t\t\tactions.append(deleteButton);\n\t\t\t\t} else if (!isAttachment && this.options.enableEditing) {\n\t\t\t\t\tvar editButton = $('<button/>', {\n\t\t\t\t\t\t'class': 'action edit',\n\t\t\t\t\t\ttext: this.options.textFormatter(this.options.editText)\n\t\t\t\t\t});\n\t\t\t\t\tactions.append(editButton);\n\t\t\t\t\tvar deleteButton = $('<button/>', {\n\t\t\t\t\t\t'class': 'action delete enabled',\n\t\t\t\t\t\ttext: this.options.textFormatter(this.options.deleteText)\n\t\t\t\t\t});\n\t\t\t\t\tactions.append(deleteButton);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twrapper.append(content);\n\t\t\tif (commentModel.opinion == true) {\n\t\t\t\twrapper.append(noteOpinion);\n\t\t\t}\n\t\t\twrapper.append(actions);\n\t\t\tcommentWrapper.append(profilePicture).append(time).append(name).append(wrapper);\n\t\t\treturn commentWrapper;\n\t\t},\n\n\t\tcreateUpvoteElement: function createUpvoteElement(commentModel) {\n\t\t\tvar upvoteIcon = $('<i/>', {\n\t\t\t\t'class': 'fa fa-thumbs-up'\n\t\t\t});\n\t\t\tif (this.options.upvoteIconURL.length) {\n\t\t\t\tupvoteIcon.css('background-image', 'url(\"' + this.options.upvoteIconURL + '\")');\n\t\t\t\tupvoteIcon.addClass('image');\n\t\t\t}\n\n\t\t\tvar upvoteEl = $('<button/>', {\n\t\t\t\t'class': 'action upvote' + (commentModel.userHasUpvoted ? ' highlight-font' : '')\n\t\t\t}).append($('<span/>', {\n\t\t\t\ttext: commentModel.upvoteCount,\n\t\t\t\t'class': 'upvote-count'\n\t\t\t})).append(upvoteIcon);\n\n\t\t\treturn upvoteEl;\n\t\t},\n\n\t\tcreateTagElement: function createTagElement(text, extraClasses, value) {\n\t\t\tvar tagEl = $('<input/>', {\n\t\t\t\t'class': 'tag',\n\t\t\t\t'type': 'button',\n\t\t\t\t'data-role': 'none'\n\t\t\t});\n\t\t\tif (extraClasses) tagEl.addClass(extraClasses);\n\t\t\ttagEl.val(text);\n\t\t\ttagEl.attr('data-value', value);\n\t\t\treturn tagEl;\n\t\t},\n\n\t\treRenderComment: function reRenderComment(id) {\n\t\t\tvar commentModel = this.commentsById[id];\n\t\t\tvar commentElements = this.$el.find('li.comment[data-id=\"' + commentModel.id + '\"]');\n\n\t\t\tvar self = this;\n\t\t\tcommentElements.each(function (index, commentEl) {\n\t\t\t\tvar commentWrapper = self.createCommentWrapperElement(commentModel);\n\t\t\t\t$(commentEl).find('.comment-wrapper').first().replaceWith(commentWrapper);\n\t\t\t});\n\t\t},\n\n\t\treRenderCommentActionBar: function reRenderCommentActionBar(id) {\n\t\t\tvar commentModel = this.commentsById[id];\n\t\t\tvar commentElements = this.$el.find('li.comment[data-id=\"' + commentModel.id + '\"]');\n\n\t\t\tvar self = this;\n\t\t\tcommentElements.each(function (index, commentEl) {\n\t\t\t\tvar commentWrapper = self.createCommentWrapperElement(commentModel);\n\t\t\t\t$(commentEl).find('.actions').first().replaceWith(commentWrapper.find('.actions'));\n\t\t\t});\n\t\t},\n\n\t\treRenderUpvotes: function reRenderUpvotes(id) {\n\t\t\tvar commentModel = this.commentsById[id];\n\t\t\tvar commentElements = this.$el.find('li.comment[data-id=\"' + commentModel.id + '\"]');\n\n\t\t\tvar self = this;\n\t\t\tcommentElements.each(function (index, commentEl) {\n\t\t\t\tvar upvotes = self.createUpvoteElement(commentModel);\n\t\t\t\t$(commentEl).find('.upvote').first().replaceWith(upvotes);\n\t\t\t});\n\t\t},\n\n\t\tcreateCssDeclarations: function createCssDeclarations() {\n\t\t\t$('head style.jquery-comments-css').remove();\n\n\t\t\tthis.createCss('.jquery-comments ul.navigation li.active:after {background: ' + this.options.highlightColor + ' !important;', +'}');\n\n\t\t\tthis.createCss('.jquery-comments ul.navigation ul.dropdown li.active {background: ' + this.options.highlightColor + ' !important;', +'}');\n\n\t\t\tthis.createCss('.jquery-comments .highlight-background {background: ' + this.options.highlightColor + ' !important;', +'}');\n\n\t\t\tthis.createCss('.jquery-comments .highlight-font {color: ' + this.options.highlightColor + ' !important;' + '}');\n\t\t\tthis.createCss('.jquery-comments .highlight-font-bold {color: ' + this.options.highlightColor + ' !important;' + 'font-weight: bold;' + '}');\n\t\t},\n\n\t\tcreateCss: function createCss(css) {\n\t\t\tvar styleEl = $('<style/>', {\n\t\t\t\ttype: 'text/css',\n\t\t\t\t'class': 'jquery-comments-css',\n\t\t\t\ttext: css\n\t\t\t});\n\t\t\t$('head').append(styleEl);\n\t\t},\n\n\t\tgetComments: function getComments() {\n\t\t\tvar self = this;\n\t\t\tvar commentArr = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(this.commentsById).map(function (id) {\n\t\t\t\treturn self.commentsById[id];\n\t\t\t});\n\t\t\tvar importantCmtArr = commentArr.filter(function (comment) {\n\t\t\t\treturn comment.opinion;\n\t\t\t});\n\t\t\tvar importantCmtUser = commentArr.filter(function (comment) {\n\t\t\t\treturn comment.opinion && comment.createdByCurrentUser;\n\t\t\t});\n\t\t\tvar attachCmtArr = commentArr.filter(function (comment) {\n\t\t\t\treturn comment.fileURL != undefined;\n\t\t\t});\n\t\t\tif (commentArr.length > 3) {\n\t\t\t\t$('.data-container[data-container=comments]').addClass('lessEl');\n\t\t\t} else {\n\t\t\t\t$('.data-container[data-container=comments]').addClass('fullEl');\n\t\t\t}\n\n\t\t\tif (importantCmtArr.length > 3) {\n\t\t\t\t$('.data-container[data-container=importantCmt]').addClass('lessEl');\n\t\t\t} else {\n\t\t\t\t$('.data-container[data-container=importantCmt]').addClass('fullEl');\n\t\t\t}\n\t\t\tif (importantCmtUser.length > 0) {\n\t\t\t\t$('.opinion').hide();\n\t\t\t} else {\n\t\t\t\t$('.opinion').show();\n\t\t\t}\n\n\t\t\tif (attachCmtArr.length > 3) {\n\t\t\t\t$('.data-container[data-container=attachments]').addClass('lessEl');\n\t\t\t} else {\n\t\t\t\t$('.data-container[data-container=attachments]').addClass('fullEl');\n\t\t\t}\n\n\t\t\treturn __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(this.commentsById).map(function (id) {\n\t\t\t\treturn self.commentsById[id];\n\t\t\t});\n\t\t},\n\n\t\tgetUsers: function getUsers() {\n\t\t\tvar self = this;\n\t\t\treturn __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default()(this.usersById).map(function (id) {\n\t\t\t\treturn self.usersById[id];\n\t\t\t});\n\t\t},\n\n\t\tgetChildComments: function getChildComments(parentId) {\n\t\t\treturn this.getComments().filter(function (comment) {\n\t\t\t\treturn comment.parent == parentId;\n\t\t\t});\n\t\t},\n\n\t\tgetAttachments: function getAttachments() {\n\t\t\tvar self = this;\n\t\t\treturn this.getComments().filter(function (comment) {\n\t\t\t\treturn comment.fileURL != undefined;\n\t\t\t});\n\t\t},\n\t\tgetImportantCmt: function getImportantCmt() {\n\t\t\tvar self = this;\n\t\t\treturn this.getComments().filter(function (comment) {\n\t\t\t\treturn comment.opinion == true;\n\t\t\t});\n\t\t},\n\t\tgetOutermostParent: function getOutermostParent(directParentId) {\n\t\t\tvar parentId = directParentId;\n\t\t\tdo {\n\t\t\t\tvar parentComment = this.commentsById[parentId];\n\t\t\t\tparentId = parentComment.parent;\n\t\t\t} while (parentComment.parent != null);\n\t\t\treturn parentComment;\n\t\t},\n\n\t\tcreateCommentJSON: function createCommentJSON(textarea) {\n\t\t\tvar time = new Date().toISOString();\n\t\t\tvar commentJSON = {\n\t\t\t\tid: 'c' + (this.getComments().length + 1),\n\t\t\t\tparent: textarea.attr('data-parent') || null,\n\t\t\t\tcreated: time,\n\t\t\t\tmodified: time,\n\t\t\t\tcontent: this.getTextareaContent(textarea),\n\t\t\t\tpings: this.getPings(textarea),\n\t\t\t\tfullname: this.options.textFormatter(this.options.youText),\n\t\t\t\tprofilePictureURL: this.options.profilePictureURL,\n\t\t\t\tcreatedByCurrentUser: true,\n\t\t\t\tupvoteCount: 0,\n\t\t\t\tuserHasUpvoted: false\n\t\t\t};\n\t\t\treturn commentJSON;\n\t\t},\n\n\t\tisAllowedToDelete: function isAllowedToDelete(commentId) {\n\t\t\tif (this.options.enableDeleting) {\n\t\t\t\tvar isAllowedToDelete = true;\n\t\t\t\tif (!this.options.enableDeletingCommentWithReplies) {\n\t\t\t\t\t$(this.getComments()).each(function (index, comment) {\n\t\t\t\t\t\tif (comment.parent == commentId) isAllowedToDelete = false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn isAllowedToDelete;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tsetToggleAllButtonText: function setToggleAllButtonText(toggleAllButton, toggle) {\n\t\t\tvar self = this;\n\t\t\tvar textContainer = toggleAllButton.find('span.text');\n\t\t\tvar caret = toggleAllButton.find('.caret');\n\n\t\t\tvar showExpandingText = function showExpandingText() {\n\t\t\t\tvar text = self.options.textFormatter(self.options.viewAllRepliesText);\n\t\t\t\tvar replyCount = toggleAllButton.siblings('.comment').length;\n\t\t\t\ttext = text.replace('__replyCount__', replyCount);\n\t\t\t\ttextContainer.text(text);\n\t\t\t};\n\n\t\t\tvar hideRepliesText = this.options.textFormatter(this.options.hideRepliesText);\n\n\t\t\tif (toggle) {\n\t\t\t\tif (textContainer.text() == hideRepliesText) {\n\t\t\t\t\tshowExpandingText();\n\t\t\t\t} else {\n\t\t\t\t\ttextContainer.text(hideRepliesText);\n\t\t\t\t}\n\n\t\t\t\tcaret.toggleClass('up');\n\t\t\t} else {\n\t\t\t\tif (textContainer.text() != hideRepliesText) {\n\t\t\t\t\tshowExpandingText();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tadjustTextareaHeight: function adjustTextareaHeight(textarea, focus) {\n\t\t\tvar textareaBaseHeight = 2.2;\n\t\t\tvar lineHeight = 1.45;\n\n\t\t\tvar setRows = function setRows(rows) {\n\t\t\t\tvar height = textareaBaseHeight + (rows - 1) * lineHeight;\n\t\t\t\ttextarea.css('height', height + 'em');\n\t\t\t};\n\n\t\t\ttextarea = $(textarea);\n\t\t\tvar rowCount = focus == true ? this.options.textareaRowsOnFocus : this.options.textareaRows;\n\t\t\tdo {\n\t\t\t\tsetRows(rowCount);\n\t\t\t\trowCount++;\n\t\t\t\tvar isAreaScrollable = textarea[0].scrollHeight > textarea.outerHeight();\n\t\t\t\tvar maxRowsUsed = this.options.textareaMaxRows == false ? false : rowCount > this.options.textareaMaxRows;\n\t\t\t} while (isAreaScrollable && !maxRowsUsed);\n\t\t},\n\n\t\tclearTextarea: function clearTextarea(textarea) {\n\t\t\ttextarea.empty().trigger('input');\n\t\t},\n\n\t\tgetTextareaContent: function getTextareaContent(textarea, humanReadable) {\n\t\t\tvar textareaClone = textarea.clone();\n\n\t\t\ttextareaClone.find('.reply-to.tag').remove();\n\n\t\t\ttextareaClone.find('.tag.hashtag').replaceWith(function () {\n\t\t\t\treturn humanReadable ? $(this).val() : '#' + $(this).attr('data-value');\n\t\t\t});\n\t\t\ttextareaClone.find('.tag.ping').replaceWith(function () {\n\t\t\t\treturn humanReadable ? $(this).val() : '@' + $(this).attr('data-value');\n\t\t\t});\n\n\t\t\tvar ce = $('<pre/>').html(textareaClone.html());\n\t\t\tce.find('div, p, br').replaceWith(function () {\n\t\t\t\treturn '\\n' + this.innerHTML;\n\t\t\t});\n\n\t\t\tvar text = ce.text().replace(/^\\s+/g, '');\n\n\t\t\tvar text = this.normalizeSpaces(text);\n\t\t\treturn text;\n\t\t},\n\n\t\tgetFormattedCommentContent: function getFormattedCommentContent(commentModel, replaceNewLines) {\n\t\t\tvar html = this.escape(commentModel.content);\n\t\t\thtml = this.linkify(html);\n\t\t\thtml = this.highlightTags(commentModel, html);\n\t\t\tif (replaceNewLines) html = html.replace(/(?:\\n)/g, '<br>');\n\t\t\treturn html;\n\t\t},\n\n\t\tgetPings: function getPings(textarea) {\n\t\t\treturn $.map(textarea.find('.ping'), function (el) {\n\t\t\t\treturn parseInt($(el).attr('data-value'));\n\t\t\t});\n\t\t},\n\n\t\tmoveCursorToEnd: function moveCursorToEnd(el) {\n\t\t\tel = $(el)[0];\n\n\t\t\t$(el).trigger('input');\n\n\t\t\t$(el).scrollTop(el.scrollHeight);\n\n\t\t\tif (typeof window.getSelection != 'undefined' && typeof document.createRange != 'undefined') {\n\t\t\t\tvar range = document.createRange();\n\t\t\t\trange.selectNodeContents(el);\n\t\t\t\trange.collapse(false);\n\t\t\t\tvar sel = window.getSelection();\n\t\t\t\tsel.removeAllRanges();\n\t\t\t\tsel.addRange(range);\n\t\t\t} else if (typeof document.body.createTextRange != 'undefined') {\n\t\t\t\tvar textRange = document.body.createTextRange();\n\t\t\t\ttextRange.moveToElementText(el);\n\t\t\t\ttextRange.collapse(false);\n\t\t\t\ttextRange.select();\n\t\t\t}\n\n\t\t\tel.focus();\n\t\t},\n\n\t\tescape: function escape(inputText) {\n\t\t\treturn $('<pre/>').text(this.normalizeSpaces(inputText)).html();\n\t\t},\n\n\t\tnormalizeSpaces: function normalizeSpaces(inputText) {\n\t\t\treturn inputText.replace(new RegExp('\\xA0', 'g'), ' ');\n\t\t},\n\n\t\tafter: function after(times, func) {\n\t\t\tvar self = this;\n\t\t\treturn function () {\n\t\t\t\ttimes--;\n\t\t\t\tif (times == 0) {\n\t\t\t\t\treturn func.apply(self, arguments);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\n\t\thighlightTags: function highlightTags(commentModel, html) {\n\t\t\tif (this.options.enableHashtags) html = this.highlightHashtags(commentModel, html);\n\t\t\tif (this.options.enablePinging) html = this.highlightPings(commentModel, html);\n\t\t\treturn html;\n\t\t},\n\n\t\thighlightHashtags: function highlightHashtags(commentModel, html) {\n\t\t\tvar self = this;\n\n\t\t\tif (html.indexOf('#') != -1) {\n\t\t\t\tvar __createTag = function __createTag(tag) {\n\t\t\t\t\tvar tag = self.createTagElement('#' + tag, 'hashtag', tag);\n\t\t\t\t\treturn tag[0].outerHTML;\n\t\t\t\t};\n\n\t\t\t\tvar regex = /(^|\\s)#([a-z\\d-_]+)/gim;\n\t\t\t\thtml = html.replace(regex, function ($0, $1, $2) {\n\t\t\t\t\treturn $1 + __createTag($2);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn html;\n\t\t},\n\n\t\thighlightPings: function highlightPings(commentModel, html) {\n\t\t\tvar self = this;\n\n\t\t\tif (html.indexOf('@') != -1) {\n\n\t\t\t\tvar __createTag = function __createTag(user) {\n\t\t\t\t\tvar tag = self.createTagElement('@' + user.fullname, 'ping', user.id);\n\t\t\t\t\treturn tag[0].outerHTML;\n\t\t\t\t};\n\n\t\t\t\tvar highlightedHtml = '';\n\t\t\t\t$(commentModel.pings).each(function (index, id) {\n\t\t\t\t\tif (id in self.usersById) {\n\t\t\t\t\t\tvar user = self.usersById[id];\n\t\t\t\t\t\tvar pingText = '@' + user.id;\n\n\t\t\t\t\t\tvar endIndex = html.indexOf(pingText) + pingText.length;\n\t\t\t\t\t\tvar current = html.slice(0, endIndex);\n\t\t\t\t\t\thighlightedHtml += current.replace(pingText, __createTag(user));\n\n\t\t\t\t\t\thtml = html.slice(endIndex);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\thighlightedHtml += html;\n\t\t\t\treturn highlightedHtml;\n\t\t\t}\n\t\t\treturn html;\n\t\t},\n\n\t\tlinkify: function linkify(inputText) {\n\t\t\tvar replacedText, replacePattern1, replacePattern2, replacePattern3;\n\n\t\t\treplacePattern1 = /(^|\\s)((https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gim;\n\t\t\treplacedText = inputText.replace(replacePattern1, '$1<a href=\"$2\" target=\"_blank\">$2</a>');\n\n\t\t\treplacePattern2 = /(^|\\s)(www\\.[\\S]+(\\b|$))/gim;\n\t\t\treplacedText = replacedText.replace(replacePattern2, '$1<a href=\"http://$2\" target=\"_blank\">$2</a>');\n\n\t\t\treplacePattern3 = /(^|\\s)(([a-zA-Z0-9\\-\\_\\.]+)@[a-zA-Z\\_]+?(\\.[a-zA-Z]{2,6})+)/gim;\n\t\t\treplacedText = replacedText.replace(replacePattern3, '$1<a href=\"mailto:$2\">$2</a>');\n\n\t\t\tvar count = inputText.match(/<a href/g) || [];\n\n\t\t\tif (count.length > 0) {\n\t\t\t\tvar splitInput = inputText.split(/(<\\/a>)/g);\n\t\t\t\tfor (var i = 0; i < splitInput.length; i++) {\n\t\t\t\t\tif (splitInput[i].match(/<a href/g) == null) {\n\t\t\t\t\t\tsplitInput[i] = splitInput[i].replace(replacePattern1, '<a href=\"$1\" target=\"_blank\">$1</a>').replace(replacePattern2, '$1<a href=\"http://$2\" target=\"_blank\">$2</a>').replace(replacePattern3, '<a href=\"mailto:$1\">$1</a>');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar combinedReplacedText = splitInput.join('');\n\t\t\t\treturn combinedReplacedText;\n\t\t\t} else {\n\t\t\t\treturn replacedText;\n\t\t\t}\n\t\t},\n\n\t\twaitUntil: function waitUntil(condition, callback) {\n\t\t\tvar self = this;\n\n\t\t\tif (condition()) {\n\t\t\t\tcallback();\n\t\t\t} else {\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tself.waitUntil(condition, callback);\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t},\n\n\t\tapplyInternalMappings: function applyInternalMappings(commentJSON) {\n\t\t\tvar invertedMappings = {};\n\t\t\tvar mappings = this.options.fieldMappings;\n\t\t\tfor (var prop in mappings) {\n\t\t\t\tif (mappings.hasOwnProperty(prop)) {\n\t\t\t\t\tinvertedMappings[mappings[prop]] = prop;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn this.applyMappings(invertedMappings, commentJSON);\n\t\t},\n\n\t\tapplyExternalMappings: function applyExternalMappings(commentJSON) {\n\t\t\tvar mappings = this.options.fieldMappings;\n\t\t\treturn this.applyMappings(mappings, commentJSON);\n\t\t},\n\n\t\tapplyMappings: function applyMappings(mappings, commentJSON) {\n\t\t\tvar result = {};\n\n\t\t\tfor (var key1 in commentJSON) {\n\t\t\t\tif (key1 in mappings) {\n\t\t\t\t\tvar key2 = mappings[key1];\n\t\t\t\t\tresult[key2] = commentJSON[key1];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t};\n\n\t$.fn.comments = function (options) {\n\t\treturn this.each(function () {\n\t\t\tvar comments = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(Comments);\n\t\t\t$.data(this, 'comments', comments);\n\t\t\tcomments.init(options || {}, this);\n\t\t});\n\t};\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(36), __webpack_require__(559)(module)))\n\n/***/ }),\n\n/***/ 515:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    assign_items: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    type: {\n      type: Number,\n      default: function _default() {\n        return 1;\n      }\n    }\n  },\n  model: {\n    prop: 'assign_items'\n  },\n  data: function data() {\n    return {\n      data_phancong: [],\n      assignedtype_items: {\n        '2': [{ text: 'Khng c phn cng', value: 0 }, { text: 'Thc hin chnh', value: 1 }, { text: 'Thc hin phi hp', value: 2 }],\n        '3': [{ text: 'Khng c phn cng', value: 0 }, { text: 'Thc hin chnh', value: 1 }, { text: 'Thc hin phi hp', value: 2 }, { text: 'Theo di', value: 3 }]\n      },\n      title_asign: {\n        '1': 'PHN CNG NGI THC HIN',\n        '2': 'PHN CNG THC HIN, PHI HP',\n        '3': 'PHN CNG THC HIN, PHI HP V THEO DI'\n      }\n    };\n  },\n  mounted: function mounted() {\n    this.data_phancong = this.assign_items;\n  },\n\n  methods: {\n    changeAssigned: function changeAssigned(event, index) {\n      var vm = this;\n      if (vm.type === 1) {\n        if (event === true) {\n          vm.assign_items[index].assigned = 1;\n        } else {\n          vm.assign_items[index].assigned = 0;\n        }\n      } else {\n        vm.assign_items[index].assigned = event.value;\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 517:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    detailDossier: {\n      type: Object,\n      default: function _default() {}\n    }\n  },\n  watch: {\n    detailDossier: function detailDossier(val) {\n      console.log('watch', val);\n      var vm = this;\n      vm.thongTinChiTietHoSo = val;\n    }\n  },\n  components: {},\n  data: function data() {\n    return {\n      thongTinChiTietHoSo: {},\n      showContactDetail: false\n    };\n  },\n  computed: {\n    loading: function loading() {\n      return this.$store.getters.loading;\n    }\n  },\n  created: function created() {\n    var vm = this;\n    vm.thongTinChiTietHoSo = vm.detailDossier;\n  },\n  mounted: function mounted() {\n    var vm = this;\n    vm.thongTinChiTietHoSo = vm.detailDossier;\n  },\n\n  methods: {\n    initData: function initData(data) {\n      var vm = this;\n      vm.$store.dispatch('getDetailDossier', data).then(function (resultDossier) {\n        vm.thongTinChiTietHoSo = resultDossier;\n        console.log('thongTinChiTietHoSo', vm.thongTinChiTietHoSo);\n      });\n    },\n    goBack: function goBack() {\n      window.history.back();\n    },\n    durationText: function durationText(durationUnit, durationCount) {\n      var durationText;\n      if (durationUnit === 1 && durationCount > 8) {\n        var day = Math.floor(durationCount / 8) + ' ngy';\n        var hours = void 0;\n        if (durationCount % 8 !== 0) {\n          hours = (durationCount / 8 - Math.floor(durationCount / 8)) * 8 + ' gi';\n        } else {\n          hours = '';\n        }\n        durationText = day + ' ' + hours;\n      } else if (durationUnit === 0) {\n        durationText = durationCount + ' ngy';\n      } else if (durationUnit === 1 && durationCount <= 8) {\n        durationText = durationCount + ' gi';\n      }\n      return durationText;\n    }\n  },\n  filters: {\n    dateTimeView: function dateTimeView(arg) {\n      if (arg) {\n        var value = new Date(arg);\n        return value.getDate().toString().padStart(2, '0') + '/' + (value.getMonth() + 1).toString().padStart(2, '0') + '/' + value.getFullYear() + ' | ' + value.getHours().toString().padStart(2, '0') + ':' + value.getMinutes().toString().padStart(2, '0');\n      } else {\n        return '';\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 518:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    resultFiles: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    }\n  },\n  data: function data() {\n    return {\n      dossierId: '',\n      loadingAction: false,\n      headers: [{\n        text: 'STT',\n        align: 'center',\n        sortable: false\n      }, {\n        text: 'S giy',\n        align: 'center',\n        sortable: false\n      }, {\n        text: 'Ngy cp',\n        align: 'center',\n        sortable: false\n      }, {\n        text: 'Tn giy t',\n        align: 'center',\n        sortable: false\n      }]\n    };\n  },\n  computed: {\n    loading: function loading() {\n      return this.$store.getters.loading;\n    }\n  },\n  created: function created() {\n    var vm = this;\n    vm.$nextTick(function () {});\n  },\n\n  methods: {},\n  filters: {\n    dateTimeView: function dateTimeView(arg) {\n      if (arg) {\n        var value = new Date(arg);\n        return value.getDate().toString().padStart(2, '0') + '/' + (value.getMonth() + 1).toString().padStart(2, '0') + '/' + value.getFullYear();\n      } else {\n        return '';\n      }\n    },\n    filterFileResult: function filterFileResult(arg) {\n      if (arg.length > 0) {\n        var resultFilter = [];\n        resultFilter = arg.filter(function (val, index) {\n          return val.dossierPartType === 2 && val.eForm === false;\n        });\n        return resultFilter;\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 519:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    payments: {\n      type: Object,\n      default: function _default() {}\n    },\n    payment_type: {\n      type: Number,\n      default: function _default() {\n        return 5;\n      }\n    }\n  },\n  data: function data() {\n    return {\n      dossierId: '',\n      loadingAction: false,\n      feeAmount: '',\n      checkPaid: false\n    };\n  },\n  computed: {\n    loading: function loading() {\n      return this.$store.getters.loading;\n    },\n    loadingTable: function loadingTable() {\n      return this.$store.getters.loadingTable;\n    }\n  },\n  created: function created() {\n    var vm = this;\n    vm.$nextTick(function () {});\n  },\n\n  methods: {\n    initData: function initData(data) {\n      var vm = this;\n      vm.dossierId = data;\n      vm.$store.dispatch('getDetailDossier', data).then(function (resultDossier) {\n        vm.$store.dispatch('loadDossierPayments', resultDossier).then(function (result) {\n          vm.feeAmount = result.feeAmount;\n        }).catch(function (reject) {\n          console.log(reject);\n        });\n      }).catch(function (reject) {\n        console.log(reject);\n      });\n    },\n    currency: function currency(value) {\n      if (value) {\n        var moneyCur = (value / 1).toFixed(0).replace('.', ',');\n        return moneyCur.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n      }\n      return '';\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 520:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    user_note: {\n      type: Number,\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      noteYkien: '',\n      valid: false\n    };\n  },\n  methods: {\n    initData: function initData(data) {\n      var vm = this;\n      vm.$store.dispatch('getDetailDossier', data).then(function (resultDossier) {\n        vm.thongTinChiTietHoSo = resultDossier;\n      });\n    },\n    doExport: function doExport() {\n      var vm = this;\n      var exportData = {\n        text: vm.noteYkien,\n        valid: vm.$refs.userNoteForm.validate()\n      };\n      return exportData;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 521:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"THNG TIN CHUNG H S\")]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', {\n    staticClass: \"py-0\"\n  }, [_c('v-layout', {\n    staticClass: \"px-2 py-2\",\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm4\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Tn doanh nghip: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold\"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.applicantName))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"M h s: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\"  \" + _vm._s(_vm.thongTinChiTietHoSo.dossierIdCTN) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"S h s: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.dossierNo) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Trng thi: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.dossierStatusText) + \" \")])])]), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm4\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Thi gian gi: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.submitDate) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Thi gian tip nhn: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.receiveDate))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Thi hn x l: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \\n              \" + _vm._s(_vm.durationText(_vm.thongTinChiTietHoSo.durationUnit, _vm.thongTinChiTietHoSo.durationCount)) + \" lm vic \\n            \")])])]), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm4\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"xs12 sm12 pb-1\",\n    staticStyle: {\n      \"color\": \"#0b72ba\"\n    }\n  }, [_vm._v(\"Thng tin lin h:\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Tn doanh nghip: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.applicantName) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pl-0\"\n  }, [_vm._v(\"a ch Email: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.contactEmail) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"S in thoi: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.contactTelNo) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"a ch: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.address) + \" \")])])])], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 522:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"traketqua\"\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"GIY T KT QU\\n      \")]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', [_c('v-data-table', {\n    staticClass: \"table-bordered\",\n    attrs: {\n      \"headers\": _vm.headers,\n      \"items\": _vm._f(\"filterFileResult\")(_vm.resultFiles),\n      \"item-key\": \"no\",\n      \"hide-actions\": \"\",\n      \"no-data-text\": 'Khng c giy t kt qu'\n    },\n    scopedSlots: _vm._u([{\n      key: \"headerCell\",\n      fn: function(props) {\n        return [_c('v-tooltip', {\n          attrs: {\n            \"bottom\": \"\"\n          }\n        }, [_c('span', {\n          attrs: {\n            \"slot\": \"activator\"\n          },\n          slot: \"activator\"\n        }, [_vm._v(\"\\n                  \" + _vm._s(props.header.text) + \"\\n                \")]), _vm._v(\" \"), _c('span', [_vm._v(\"\\n                  \" + _vm._s(props.header.text) + \"\\n                \")])])]\n      }\n    }, {\n      key: \"items\",\n      fn: function(props) {\n        return [_c('td', {\n          staticClass: \"text-xs-center\",\n          staticStyle: {\n            \"width\": \"5%\"\n          }\n        }, [_vm._v(\" \" + _vm._s(props.index + 1) + \" \")]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\",\n          staticStyle: {\n            \"width\": \"10%\"\n          }\n        }, [_vm._v(\" \" + _vm._s(props.item.deliverableCode) + \" \")]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\",\n          staticStyle: {\n            \"width\": \"10%\"\n          }\n        }, [_vm._v(\" \" + _vm._s(_vm._f(\"dateTimeView\")(props.item.createDate)) + \" \")]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\",\n          staticStyle: {\n            \"width\": \"75%\"\n          }\n        }, [_vm._v(\" \" + _vm._s(props.item.displayName) + \" \")])]\n      }\n    }])\n  })], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 524:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"phancong\",\n    staticStyle: {\n      \"background-color\": \"white\",\n      \"width\": \"100%\"\n    }\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(_vm._s(_vm.title_asign[_vm.type]) + \"\\n      \")]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', _vm._l((_vm.data_phancong), function(item, index) {\n    return _c('div', {\n      key: item.userId,\n      staticClass: \"ml-3\",\n      staticStyle: {\n        \"display\": \"inline-block\"\n      }\n    }, [(_vm.type === 1) ? _c('v-layout', {\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', [_c('v-checkbox', {\n      on: {\n        \"change\": function($event) {\n          _vm.changeAssigned($event, index)\n        }\n      },\n      model: {\n        value: (item.assigned),\n        callback: function($$v) {\n          _vm.$set(item, \"assigned\", $$v)\n        },\n        expression: \"item.assigned\"\n      }\n    })], 1), _vm._v(\" \"), _c('v-flex', {\n      staticClass: \"pt-1\"\n    }, [_c('span', [_vm._v(_vm._s(item.userName))]), _vm._v(\"\\n              \")])], 1) : _c('v-layout', {\n      staticClass: \"my-1\",\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      staticClass: \"pt-1\"\n    }, [_vm._v(_vm._s(item.userName))]), _vm._v(\"  \\n              \"), _c('v-flex', [_c('v-select', {\n      staticStyle: {\n        \"max-width\": \"160px\"\n      },\n      attrs: {\n        \"items\": _vm.assignedtype_items[_vm.type],\n        \"value\": item.assigned,\n        \"item-text\": \"text\",\n        \"item-value\": \"value\",\n        \"return-object\": \"\",\n        \"hide-selected\": \"\"\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.changeAssigned($event, index)\n        }\n      }\n    })], 1), _vm._v(\"\\n               \\n            \")], 1)], 1)\n  }))], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 525:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"\\n     kin cn b \"), (_vm.user_note === 2) ? _c('span', {\n    staticClass: \"red--text text--darken-3\"\n  }, [_vm._v(\"*\")]) : _vm._e()]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', {\n    staticClass: \"py-2 px-2\"\n  }, [_c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs12\": \"\"\n    }\n  }, [_c('v-form', {\n    ref: \"userNoteForm\",\n    model: {\n      value: (_vm.valid),\n      callback: function($$v) {\n        _vm.valid = $$v\n      },\n      expression: \"valid\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"textarea\": \"\",\n      \"rows\": 2,\n      \"rules\": _vm.user_note === 2 ? [function () { return _vm.noteYkien !== '' || 'Trng d liu bt buc'; }] : [],\n      \"required\": \"\"\n    },\n    model: {\n      value: (_vm.noteYkien),\n      callback: function($$v) {\n        _vm.noteYkien = $$v\n      },\n      expression: \"noteYkien\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 526:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"XC NHN THU PH\\n    \")]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', [(_vm.payment_type === 5) ? _c('div', {\n    staticClass: \"pl-3 fee-info\"\n  }, [_c('v-checkbox', {\n    attrs: {\n      \"label\": (\"Ph phi np: \" + (_vm.currency(_vm.payments.feeAmount)) + \" VN\")\n    },\n    model: {\n      value: (_vm.checkPaid),\n      callback: function($$v) {\n        _vm.checkPaid = $$v\n      },\n      expression: \"checkPaid\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"red--text\"\n  }, [_vm._v(\"* \")]), _vm._v(\" nh du  xc nh ngi lm th tc  hon thnh np ph.\\n        \")], 1) : _vm._e()])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 527:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(512);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery_textcomplete__ = __webpack_require__(552);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_jquery_textcomplete___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_jquery_textcomplete__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__store_jquery_comment__ = __webpack_require__(514);\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: ['classPK', 'className'],\n  data: function data() {\n    return {\n      usersComment: [{\n        id: 1,\n        fullname: 'Trnh Cng Trnh',\n        email: 'trinhtc@fds.vn.com',\n        pictureUrl: 'https://app.viima.com/static/media/user_profiles/user-icon.png'\n      }, {\n        id: 2,\n        fullname: 'Thi Hong Anh',\n        email: 'anhth@fds.vn',\n        pictureUrl: 'https://app.viima.com/static/media/user_profiles/user-icon.png'\n      }],\n      comment: [],\n      argShowMore: true,\n\n      checkOpinion: true\n    };\n  },\n  computed: {\n    loading: function loading() {\n      return this.$store.getters.loading;\n    },\n    initData: function initData() {\n      return this.$store.getters.loadingInitData;\n    }\n  },\n  watch: {\n    classPK: function classPK(val) {\n      var vm = this;\n      vm.$store.dispatch('loadUsersComment', val).then(function (result) {\n        vm.usersComment = result;\n        vm.initComment();\n      }).catch(function (reject) {\n        vm.initComment();\n      });\n    }\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    var vm = this;\n    if (vm.classPK) {\n      vm.$store.dispatch('loadUsersComment', vm.classPK).then(function (result) {\n        vm.usersComment = result;\n        vm.initComment();\n      }).catch(function (reject) {\n        vm.initComment();\n      });\n    }\n  },\n\n  methods: {\n    initComment: function initComment() {\n      var vm = this;\n      __WEBPACK_IMPORTED_MODULE_1_jquery___default()('#comments-container-el').comments({\n        profilePictureURL: 'https://viima-app.s3.amazonaws.com/media/user_profiles/user-icon.png',\n        textareaRows: 2,\n        enableAttachments: true,\n        enableHashtags: true,\n        enablePinging: true,\n        postCommentOnEnter: false,\n        forceResponsive: false,\n        readOnly: false,\n        textareaPlaceholderText: 'Thm bnh lun mi',\n        newestText: 'Mi nht',\n        oldestText: 'C nht',\n        popularText: 'Ph bin',\n        attachmentsText: 'nh km',\n        sendText: 'Gi',\n        replyText: 'Tr li',\n        editText: 'Sa',\n        editedText: ' sa',\n        youText: 'Bn',\n        saveText: 'Ghi li',\n        deleteText: 'Xa',\n\n        hideRepliesText: 'n cu tr li',\n        noCommentsText: 'Khng c bnh lun no',\n        noAttachmentsText: 'Khng c tp nh km',\n        attachmentDropText: 'Ko th tp nh km',\n        fieldMappings: {\n          id: 'commentId',\n          parent: 'parent',\n          userId: 'userId',\n          created: 'createdDate',\n          modified: 'modifiedDate',\n          content: 'content',\n          fileURL: 'fileUrl',\n          fileMimeType: 'fileType',\n          fileName: 'fileName',\n          pings: 'pings',\n          creator: 'userId',\n          fullname: 'fullname',\n          profileURL: 'profileUrl',\n          profilePictureURL: 'pictureUrl',\n          isNew: 'isNew',\n          createdByAdmin: 'isAdmin',\n          createdByCurrentUser: 'createdByCurrentUser',\n          upvoteCount: 'upvoteCount',\n          userHasUpvoted: 'userHasUpvoted',\n          email: 'email',\n          opinion: 'opinion',\n          className: 'className',\n          classPK: 'classPK'\n        },\n        timeFormatter: function timeFormatter(time) {\n          if (time) {\n            var value = new Date(time);\n            return value.getDate().toString().padStart(2, '0') + '/' + (value.getMonth() + 1).toString().padStart(2, '0') + '/' + value.getFullYear() + ' ' + value.getHours().toString().padStart(2, '0') + ':' + value.getMinutes().toString().padStart(2, '0');\n          } else {\n            return '';\n          }\n        },\n        getUsers: function getUsers(onSuccess, onError) {\n          onSuccess(vm.usersComment);\n        },\n        getComments: function getComments(onSuccess, onError) {\n          var dataGet = {\n            'classPK': vm.classPK,\n            'className': vm.className\n          };\n          var promise = vm.$store.dispatch('loadCommentItems', dataGet);\n          promise.then(function (result) {\n            var data = [];\n            __WEBPACK_IMPORTED_MODULE_1_jquery___default.a.each(result, function (index, item) {\n              vm.comment = item;\n              vm.formatComment(vm.comment);\n              data.push(vm.comment);\n            });\n            onSuccess(data);\n          }).catch(function (reject) {\n            onSuccess([]);\n            onError();\n          });\n        },\n        postComment: function postComment(data, onSuccess, onError) {\n          data.classPK = vm.classPK;\n          data.className = vm.className;\n          data.opinion = document.getElementById('opinion').checked;\n          vm.$store.dispatch('postComment', data).then(function (result) {\n            if (result.opinion) {\n              __WEBPACK_IMPORTED_MODULE_1_jquery___default()('.opinion').hide();\n            }\n            document.getElementById('opinion').checked = false;\n            vm.comment = result;\n            vm.formatComment(vm.comment);\n            onSuccess(vm.comment);\n          });\n        },\n        putComment: function putComment(data, onSuccess, onError) {\n          data.classPK = vm.classPK;\n          data.className = vm.className;\n          vm.$store.dispatch('putComment', data).then(function (result) {\n            vm.comment = result;\n            vm.formatComment(vm.comment);\n            onSuccess(vm.comment);\n          });\n        },\n        deleteComment: function deleteComment(data, onSuccess, onError) {\n          data.classPK = vm.classPK;\n          data.className = vm.className;\n          vm.$store.dispatch('deleteComment', data).then(function (result) {\n            onSuccess();\n          }).catch(function (reject) {\n            onError();\n            console.log(reject);\n          });\n        },\n        upvoteComment: function upvoteComment(data, onSuccess, onError) {\n          data.classPK = vm.classPK;\n          data.className = vm.className;\n          vm.$store.dispatch('upvoteComment', data).then(function (result) {\n            vm.comment = result;\n            vm.formatComment(vm.comment);\n            onSuccess(vm.comment);\n          }).catch(function (reject) {\n            console.log(reject);\n          });\n        },\n        uploadAttachments: function uploadAttachments(comments, onSuccess, onError) {\n          var responses = 0;\n          var successfulUploads = [];\n          var serverResponded = function serverResponded() {\n            responses++;\n            if (responses === comments.length) {\n              if (successfulUploads.length === 0) {\n                onError();\n              } else {\n                onSuccess(successfulUploads);\n              }\n            }\n          };\n          __WEBPACK_IMPORTED_MODULE_1_jquery___default()(comments).each(function (index, comment) {\n            var formData = new FormData();\n            __WEBPACK_IMPORTED_MODULE_1_jquery___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(comment)).each(function (index, key) {\n              var value = comment[key];\n              if (value) {\n                formData.append(key, value);\n              }\n            });\n            formData.append('file', comment.file);\n            formData.append('className', vm.className);\n            formData.append('classPK', vm.classPK);\n            formData.append('parent', comment.parent != null ? comment.parent : 0);\n            formData.append('fileName', comment.file.name);\n            formData.append('fileType', comment.file.type);\n            formData.append('fileSize', comment.file.size);\n            formData.append('pings', comment.pings.join());\n\n            formData.append('email', vm.initData.user.userEmail);\n            formData.append('fullname', vm.initData.user.userName);\n            __WEBPACK_IMPORTED_MODULE_1_jquery___default.a.ajax({\n              url: vm.initData.commentApi + '/uploads',\n              dataType: 'json',\n              type: 'POST',\n              headers: {\n                'groupId': vm.initData.groupId\n              },\n              data: formData,\n              cache: false,\n              contentType: false,\n              processData: false,\n              success: function success(comment) {\n                vm.formatComment(comment);\n                successfulUploads.push(vm.comment);\n                serverResponded();\n              },\n              error: function error(xhr, data) {\n                serverResponded();\n              }\n            });\n          });\n        }\n      });\n    },\n    formatComment: function formatComment(comment) {\n      var vm = this;\n      vm.comment = comment;\n      if (comment.parent === 0) {\n        vm.comment.parent = null;\n      }\n      if (comment.fileName === '') {\n        vm.comment.fileName = null;\n      }\n      if (comment.fileType === '') {\n        vm.comment.fileType = null;\n      }\n      if (comment.fileUrl === '') {\n        vm.comment.fileUrl = null;\n      }\n      if (comment.pictureUrl === '') {\n        vm.comment.pictureUrl = 'https://viima-app.s3.amazonaws.com/media/user_profiles/user-icon.png';\n      }\n      vm.comment.fullname = comment.fullname;\n      vm.comment.opinion = comment.opinion;\n      vm.comment.pings = comment.pings.toString().split(',');\n      vm.comment.createdDate = vm.comment.createDate;\n      vm.comment.modifiedDate = vm.comment.modifiedDate;\n    },\n    dateTimeView: function dateTimeView(arg) {\n      if (arg) {\n        var value = new Date(arg);\n        return value.getDate().toString().padStart(2, '0') + '/' + (value.getMonth() + 1).toString().padStart(2, '0') + '/' + value.getFullYear() + ' ' + value.getHours().toString().padStart(2, '0') + ':' + value.getMinutes().toString().padStart(2, '0');\n      } else {\n        return '';\n      }\n    }\n  },\n  filters: {\n    dateTimeView: function dateTimeView(arg) {\n      if (arg) {\n        var value = new Date(arg);\n        return value.getDate().toString().padStart(2, '0') + '/' + (value.getMonth() + 1).toString().padStart(2, '0') + '/' + value.getFullYear() + '  ' + value.getHours().toString().padStart(2, '0') + ':' + value.getMinutes().toString().padStart(2, '0');\n      } else {\n        return '';\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 533:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(537), __esModule: true };\n\n/***/ }),\n\n/***/ 534:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(539), __esModule: true };\n\n/***/ }),\n\n/***/ 535:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(540), __esModule: true };\n\n/***/ }),\n\n/***/ 536:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _iterator = __webpack_require__(535);\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = __webpack_require__(534);\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n/***/ }),\n\n/***/ 537:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(547);\nvar $Object = __webpack_require__(30).Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n\n/***/ }),\n\n/***/ 538:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(548);\nmodule.exports = __webpack_require__(30).Object.keys;\n\n\n/***/ }),\n\n/***/ 539:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(549);\n__webpack_require__(229);\n__webpack_require__(550);\n__webpack_require__(551);\nmodule.exports = __webpack_require__(30).Symbol;\n\n\n/***/ }),\n\n/***/ 540:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(146);\n__webpack_require__(230);\nmodule.exports = __webpack_require__(508).f('iterator');\n\n\n/***/ }),\n\n/***/ 541:\n/***/ (function(module, exports, __webpack_require__) {\n\n// all enumerable object keys, includes symbols\nvar getKeys = __webpack_require__(140);\nvar gOPS = __webpack_require__(218);\nvar pIE = __webpack_require__(210);\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n/***/ }),\n\n/***/ 542:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 7.2.2 IsArray(argument)\nvar cof = __webpack_require__(73);\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n/***/ }),\n\n/***/ 543:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar META = __webpack_require__(142)('meta');\nvar isObject = __webpack_require__(59);\nvar has = __webpack_require__(72);\nvar setDesc = __webpack_require__(57).f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !__webpack_require__(93)(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n/***/ }),\n\n/***/ 544:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pIE = __webpack_require__(210);\nvar createDesc = __webpack_require__(95);\nvar toIObject = __webpack_require__(94);\nvar toPrimitive = __webpack_require__(219);\nvar has = __webpack_require__(72);\nvar IE8_DOM_DEFINE = __webpack_require__(226);\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = __webpack_require__(58) ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n/***/ }),\n\n/***/ 545:\n/***/ (function(module, exports, __webpack_require__) {\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = __webpack_require__(94);\nvar gOPN = __webpack_require__(513).f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n/***/ }),\n\n/***/ 546:\n/***/ (function(module, exports, __webpack_require__) {\n\n// most Object methods by ES6 should accept primitives\nvar $export = __webpack_require__(51);\nvar core = __webpack_require__(30);\nvar fails = __webpack_require__(93);\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n/***/ }),\n\n/***/ 547:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(51);\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: __webpack_require__(217) });\n\n\n/***/ }),\n\n/***/ 548:\n/***/ (function(module, exports, __webpack_require__) {\n\n// 19.1.2.14 Object.keys(O)\nvar toObject = __webpack_require__(98);\nvar $keys = __webpack_require__(140);\n\n__webpack_require__(546)('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n/***/ }),\n\n/***/ 549:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// ECMAScript 6 symbols shim\nvar global = __webpack_require__(19);\nvar has = __webpack_require__(72);\nvar DESCRIPTORS = __webpack_require__(58);\nvar $export = __webpack_require__(51);\nvar redefine = __webpack_require__(228);\nvar META = __webpack_require__(543).KEY;\nvar $fails = __webpack_require__(93);\nvar shared = __webpack_require__(145);\nvar setToStringTag = __webpack_require__(97);\nvar uid = __webpack_require__(142);\nvar wks = __webpack_require__(20);\nvar wksExt = __webpack_require__(508);\nvar wksDefine = __webpack_require__(507);\nvar enumKeys = __webpack_require__(541);\nvar isArray = __webpack_require__(542);\nvar anObject = __webpack_require__(38);\nvar isObject = __webpack_require__(59);\nvar toIObject = __webpack_require__(94);\nvar toPrimitive = __webpack_require__(219);\nvar createDesc = __webpack_require__(95);\nvar _create = __webpack_require__(217);\nvar gOPNExt = __webpack_require__(545);\nvar $GOPD = __webpack_require__(544);\nvar $DP = __webpack_require__(57);\nvar $keys = __webpack_require__(140);\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  __webpack_require__(513).f = gOPNExt.f = $getOwnPropertyNames;\n  __webpack_require__(210).f = $propertyIsEnumerable;\n  __webpack_require__(218).f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !__webpack_require__(141)) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(52)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n/***/ }),\n\n/***/ 550:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(507)('asyncIterator');\n\n\n/***/ }),\n\n/***/ 551:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(507)('observable');\n\n\n/***/ }),\n\n/***/ 552:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (factory) {\n  if (true) {\n    // AMD. Register as an anonymous module.\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(36)], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof module === \"object\" && module.exports) {\n    var $ = require('jquery');\n    module.exports = factory($);\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n}(function (jQuery) {\n\n/*!\n * jQuery.textcomplete\n *\n * Repository: https://github.com/yuku-t/jquery-textcomplete\n * License:    MIT (https://github.com/yuku-t/jquery-textcomplete/blob/master/LICENSE)\n * Author:     Yuku Takahashi\n */\n\nif (typeof jQuery === 'undefined') {\n  throw new Error('jQuery.textcomplete requires jQuery');\n}\n\n+function ($) {\n  'use strict';\n\n  var warn = function (message) {\n    if (console.warn) { console.warn(message); }\n  };\n\n  var id = 1;\n\n  $.fn.textcomplete = function (strategies, option) {\n    var args = Array.prototype.slice.call(arguments);\n    return this.each(function () {\n      var self = this;\n      var $this = $(this);\n      var completer = $this.data('textComplete');\n      if (!completer) {\n        option || (option = {});\n        option._oid = id++;  // unique object id\n        completer = new $.fn.textcomplete.Completer(this, option);\n        $this.data('textComplete', completer);\n      }\n      if (typeof strategies === 'string') {\n        if (!completer) return;\n        args.shift()\n        completer[strategies].apply(completer, args);\n        if (strategies === 'destroy') {\n          $this.removeData('textComplete');\n        }\n      } else {\n        // For backward compatibility.\n        // TODO: Remove at v0.4\n        $.each(strategies, function (obj) {\n          $.each(['header', 'footer', 'placement', 'maxCount'], function (name) {\n            if (obj[name]) {\n              completer.option[name] = obj[name];\n              warn(name + 'as a strategy param is deprecated. Use option.');\n              delete obj[name];\n            }\n          });\n        });\n        completer.register($.fn.textcomplete.Strategy.parse(strategies, {\n          el: self,\n          $el: $this\n        }));\n      }\n    });\n  };\n\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  // Exclusive execution control utility.\n  //\n  // func - The function to be locked. It is executed with a function named\n  //        `free` as the first argument. Once it is called, additional\n  //        execution are ignored until the free is invoked. Then the last\n  //        ignored execution will be replayed immediately.\n  //\n  // Examples\n  //\n  //   var lockedFunc = lock(function (free) {\n  //     setTimeout(function { free(); }, 1000); // It will be free in 1 sec.\n  //     console.log('Hello, world');\n  //   });\n  //   lockedFunc();  // => 'Hello, world'\n  //   lockedFunc();  // none\n  //   lockedFunc();  // none\n  //   // 1 sec past then\n  //   // => 'Hello, world'\n  //   lockedFunc();  // => 'Hello, world'\n  //   lockedFunc();  // none\n  //\n  // Returns a wrapped function.\n  var lock = function (func) {\n    var locked, queuedArgsToReplay;\n\n    return function () {\n      // Convert arguments into a real array.\n      var args = Array.prototype.slice.call(arguments);\n      if (locked) {\n        // Keep a copy of this argument list to replay later.\n        // OK to overwrite a previous value because we only replay\n        // the last one.\n        queuedArgsToReplay = args;\n        return;\n      }\n      locked = true;\n      var self = this;\n      args.unshift(function replayOrFree() {\n        if (queuedArgsToReplay) {\n          // Other request(s) arrived while we were locked.\n          // Now that the lock is becoming available, replay\n          // the latest such request, then call back here to\n          // unlock (or replay another request that arrived\n          // while this one was in flight).\n          var replayArgs = queuedArgsToReplay;\n          queuedArgsToReplay = undefined;\n          replayArgs.unshift(replayOrFree);\n          func.apply(self, replayArgs);\n        } else {\n          locked = false;\n        }\n      });\n      func.apply(this, args);\n    };\n  };\n\n  var isString = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object String]';\n  };\n\n  var uniqueId = 0;\n  var initializedEditors = [];\n\n  function Completer(element, option) {\n    this.$el        = $(element);\n    this.id         = 'textcomplete' + uniqueId++;\n    this.strategies = [];\n    this.views      = [];\n    this.option     = $.extend({}, Completer.defaults, option);\n\n    if (!this.$el.is('input[type=text]') && !this.$el.is('input[type=search]') && !this.$el.is('textarea') && !element.isContentEditable && element.contentEditable != 'true') {\n      throw new Error('textcomplete must be called on a Textarea or a ContentEditable.');\n    }\n\n    // use ownerDocument to fix iframe / IE issues\n    if (element === element.ownerDocument.activeElement) {\n      // element has already been focused. Initialize view objects immediately.\n      this.initialize()\n    } else {\n      // Initialize view objects lazily.\n      var self = this;\n      this.$el.one('focus.' + this.id, function () { self.initialize(); });\n\n      // Special handling for CKEditor: lazy init on instance load\n      if ((!this.option.adapter || this.option.adapter == 'CKEditor') && typeof CKEDITOR != 'undefined' && (this.$el.is('textarea'))) {\n        CKEDITOR.on(\"instanceReady\", function(event) { //For multiple ckeditors on one page: this needs to be executed each time a ckeditor-instance is ready.\n\n          if($.inArray(event.editor.id, initializedEditors) == -1) { //For multiple ckeditors on one page: focus-eventhandler should only be added once for every editor.\n            initializedEditors.push(event.editor.id);\n\t\t\t\n            event.editor.on(\"focus\", function(event2) {\n\t\t\t\t//replace the element with the Iframe element and flag it as CKEditor\n\t\t\t\tself.$el = $(event.editor.editable().$);\n\t\t\t\tif (!self.option.adapter) {\n\t\t\t\t\tself.option.adapter = $.fn.textcomplete['CKEditor'];\n\t\t\t\t}\n\t\t\t\tself.option.ckeditor_instance = event.editor; //For multiple ckeditors on one page: in the old code this was not executed when adapter was alread set. So we were ALWAYS working with the FIRST instance.\n              \tself.initialize();\n            });\n          }\n        });\n      }\n    }\n  }\n\n  Completer.defaults = {\n    appendTo: 'body',\n    className: '',  // deprecated option\n    dropdownClassName: 'dropdown-menu textcomplete-dropdown',\n    maxCount: 10,\n    zIndex: '100',\n    rightEdgeOffset: 30\n  };\n\n  $.extend(Completer.prototype, {\n    // Public properties\n    // -----------------\n\n    id:         null,\n    option:     null,\n    strategies: null,\n    adapter:    null,\n    dropdown:   null,\n    $el:        null,\n    $iframe:    null,\n\n    // Public methods\n    // --------------\n\n    initialize: function () {\n      var element = this.$el.get(0);\n      \n      // check if we are in an iframe\n      // we need to alter positioning logic if using an iframe\n      if (this.$el.prop('ownerDocument') !== document && window.frames.length) {\n        for (var iframeIndex = 0; iframeIndex < window.frames.length; iframeIndex++) {\n          if (this.$el.prop('ownerDocument') === window.frames[iframeIndex].document) {\n            this.$iframe = $(window.frames[iframeIndex].frameElement);\n            break;\n          }\n        }\n      }\n      \n      \n      // Initialize view objects.\n      this.dropdown = new $.fn.textcomplete.Dropdown(element, this, this.option);\n      var Adapter, viewName;\n      if (this.option.adapter) {\n        Adapter = this.option.adapter;\n      } else {\n        if (this.$el.is('textarea') || this.$el.is('input[type=text]') || this.$el.is('input[type=search]')) {\n          viewName = typeof element.selectionEnd === 'number' ? 'Textarea' : 'IETextarea';\n        } else {\n          viewName = 'ContentEditable';\n        }\n        Adapter = $.fn.textcomplete[viewName];\n      }\n      this.adapter = new Adapter(element, this, this.option);\n    },\n\n    destroy: function () {\n      this.$el.off('.' + this.id);\n      if (this.adapter) {\n        this.adapter.destroy();\n      }\n      if (this.dropdown) {\n        this.dropdown.destroy();\n      }\n      this.$el = this.adapter = this.dropdown = null;\n    },\n\n    deactivate: function () {\n      if (this.dropdown) {\n        this.dropdown.deactivate();\n      }\n    },\n\n    // Invoke textcomplete.\n    trigger: function (text, skipUnchangedTerm) {\n      if (!this.dropdown) { this.initialize(); }\n      text != null || (text = this.adapter.getTextFromHeadToCaret());\n      var searchQuery = this._extractSearchQuery(text);\n      if (searchQuery.length) {\n        var term = searchQuery[1];\n        // Ignore shift-key, ctrl-key and so on.\n        if (skipUnchangedTerm && this._term === term && term !== \"\") { return; }\n        this._term = term;\n        this._search.apply(this, searchQuery);\n      } else {\n        this._term = null;\n        this.dropdown.deactivate();\n      }\n    },\n\n    fire: function (eventName) {\n      var args = Array.prototype.slice.call(arguments, 1);\n      this.$el.trigger(eventName, args);\n      return this;\n    },\n\n    register: function (strategies) {\n      Array.prototype.push.apply(this.strategies, strategies);\n    },\n\n    // Insert the value into adapter view. It is called when the dropdown is clicked\n    // or selected.\n    //\n    // value    - The selected element of the array callbacked from search func.\n    // strategy - The Strategy object.\n    // e        - Click or keydown event object.\n    select: function (value, strategy, e) {\n      this._term = null;\n      this.adapter.select(value, strategy, e);\n      this.fire('change').fire('textComplete:select', value, strategy);\n      this.adapter.focus();\n    },\n\n    // Private properties\n    // ------------------\n\n    _clearAtNext: true,\n    _term:        null,\n\n    // Private methods\n    // ---------------\n\n    // Parse the given text and extract the first matching strategy.\n    //\n    // Returns an array including the strategy, the query term and the match\n    // object if the text matches an strategy; otherwise returns an empty array.\n    _extractSearchQuery: function (text) {\n      for (var i = 0; i < this.strategies.length; i++) {\n        var strategy = this.strategies[i];\n        var context = strategy.context(text);\n        if (context || context === '') {\n          var matchRegexp = $.isFunction(strategy.match) ? strategy.match(text) : strategy.match;\n          if (isString(context)) { text = context; }\n          var match = text.match(matchRegexp);\n          if (match) { return [strategy, match[strategy.index], match]; }\n        }\n      }\n      return []\n    },\n\n    // Call the search method of selected strategy..\n    _search: lock(function (free, strategy, term, match) {\n      var self = this;\n      strategy.search(term, function (data, stillSearching) {\n        if (!self.dropdown.shown) {\n          self.dropdown.activate();\n        }\n        if (self._clearAtNext) {\n          // The first callback in the current lock.\n          self.dropdown.clear();\n          self._clearAtNext = false;\n        }\n        self.dropdown.setPosition(self.adapter.getCaretPosition());\n        self.dropdown.render(self._zip(data, strategy, term));\n        if (!stillSearching) {\n          // The last callback in the current lock.\n          free();\n          self._clearAtNext = true; // Call dropdown.clear at the next time.\n        }\n      }, match);\n    }),\n\n    // Build a parameter for Dropdown#render.\n    //\n    // Examples\n    //\n    //  this._zip(['a', 'b'], 's');\n    //  //=> [{ value: 'a', strategy: 's' }, { value: 'b', strategy: 's' }]\n    _zip: function (data, strategy, term) {\n      return $.map(data, function (value) {\n        return { value: value, strategy: strategy, term: term };\n      });\n    }\n  });\n\n  $.fn.textcomplete.Completer = Completer;\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  var $window = $(window);\n\n  var include = function (zippedData, datum) {\n    var i, elem;\n    var idProperty = datum.strategy.idProperty\n    for (i = 0; i < zippedData.length; i++) {\n      elem = zippedData[i];\n      if (elem.strategy !== datum.strategy) continue;\n      if (idProperty) {\n        if (elem.value[idProperty] === datum.value[idProperty]) return true;\n      } else {\n        if (elem.value === datum.value) return true;\n      }\n    }\n    return false;\n  };\n\n  var dropdownViews = {};\n  $(document).on('click', function (e) {\n    var id = e.originalEvent && e.originalEvent.keepTextCompleteDropdown;\n    $.each(dropdownViews, function (key, view) {\n      if (key !== id) { view.deactivate(); }\n    });\n  });\n\n  var commands = {\n    SKIP_DEFAULT: 0,\n    KEY_UP: 1,\n    KEY_DOWN: 2,\n    KEY_ENTER: 3,\n    KEY_PAGEUP: 4,\n    KEY_PAGEDOWN: 5,\n    KEY_ESCAPE: 6\n  };\n\n  // Dropdown view\n  // =============\n\n  // Construct Dropdown object.\n  //\n  // element - Textarea or contenteditable element.\n  function Dropdown(element, completer, option) {\n    this.$el       = Dropdown.createElement(option);\n    this.completer = completer;\n    this.id        = completer.id + 'dropdown';\n    this._data     = []; // zipped data.\n    this.$inputEl  = $(element);\n    this.option    = option;\n\n    // Override setPosition method.\n    if (option.listPosition) { this.setPosition = option.listPosition; }\n    if (option.height) { this.$el.height(option.height); }\n    var self = this;\n    $.each(['maxCount', 'placement', 'footer', 'header', 'noResultsMessage', 'className'], function (_i, name) {\n      if (option[name] != null) { self[name] = option[name]; }\n    });\n    this._bindEvents(element);\n    dropdownViews[this.id] = this;\n  }\n\n  $.extend(Dropdown, {\n    // Class methods\n    // -------------\n\n    createElement: function (option) {\n      var $parent = option.appendTo;\n      if (!($parent instanceof $)) { $parent = $($parent); }\n      var $el = $('<ul></ul>')\n        .addClass(option.dropdownClassName)\n        .attr('id', 'textcomplete-dropdown-' + option._oid)\n        .css({\n          display: 'none',\n          left: 0,\n          position: 'absolute',\n          zIndex: option.zIndex\n        })\n        .appendTo($parent);\n      return $el;\n    }\n  });\n\n  $.extend(Dropdown.prototype, {\n    // Public properties\n    // -----------------\n\n    $el:       null,  // jQuery object of ul.dropdown-menu element.\n    $inputEl:  null,  // jQuery object of target textarea.\n    completer: null,\n    footer:    null,\n    header:    null,\n    id:        null,\n    maxCount:  null,\n    placement: '',\n    shown:     false,\n    data:      [],     // Shown zipped data.\n    className: '',\n\n    // Public methods\n    // --------------\n\n    destroy: function () {\n      // Don't remove $el because it may be shared by several textcompletes.\n      this.deactivate();\n\n      this.$el.off('.' + this.id);\n      this.$inputEl.off('.' + this.id);\n      this.clear();\n      this.$el.remove();\n      this.$el = this.$inputEl = this.completer = null;\n      delete dropdownViews[this.id]\n    },\n\n    render: function (zippedData) {\n      var contentsHtml = this._buildContents(zippedData);\n      var unzippedData = $.map(zippedData, function (d) { return d.value; });\n      if (zippedData.length) {\n        var strategy = zippedData[0].strategy;\n        if (strategy.id) {\n          this.$el.attr('data-strategy', strategy.id);\n        } else {\n          this.$el.removeAttr('data-strategy');\n        }\n        this._renderHeader(unzippedData);\n        this._renderFooter(unzippedData);\n        if (contentsHtml) {\n          this._renderContents(contentsHtml);\n          this._fitToBottom();\n          this._fitToRight();\n          this._activateIndexedItem();\n        }\n        this._setScroll();\n      } else if (this.noResultsMessage) {\n        this._renderNoResultsMessage(unzippedData);\n      } else if (this.shown) {\n        this.deactivate();\n      }\n    },\n\n    setPosition: function (pos) {\n      // Make the dropdown fixed if the input is also fixed\n      // This can't be done during init, as textcomplete may be used on multiple elements on the same page\n      // Because the same dropdown is reused behind the scenes, we need to recheck every time the dropdown is showed\n      var position = 'absolute';\n      // Check if input or one of its parents has positioning we need to care about\n      this.$inputEl.add(this.$inputEl.parents()).each(function() {\n        if($(this).css('position') === 'absolute') // The element has absolute positioning, so it's all OK\n          return false;\n        if($(this).css('position') === 'fixed') {\n          pos.top -= $window.scrollTop();\n          pos.left -= $window.scrollLeft();\n          position = 'fixed';\n          return false;\n        }\n      });\n      this.$el.css(this._applyPlacement(pos));\n      this.$el.css({ position: position }); // Update positioning\n\n      return this;\n    },\n\n    clear: function () {\n      this.$el.html('');\n      this.data = [];\n      this._index = 0;\n      this._$header = this._$footer = this._$noResultsMessage = null;\n    },\n\n    activate: function () {\n      if (!this.shown) {\n        this.clear();\n        this.$el.show();\n        if (this.className) { this.$el.addClass(this.className); }\n        this.completer.fire('textComplete:show');\n        this.shown = true;\n      }\n      return this;\n    },\n\n    deactivate: function () {\n      if (this.shown) {\n        this.$el.hide();\n        if (this.className) { this.$el.removeClass(this.className); }\n        this.completer.fire('textComplete:hide');\n        this.shown = false;\n      }\n      return this;\n    },\n\n    isUp: function (e) {\n      return e.keyCode === 38 || (e.ctrlKey && e.keyCode === 80);  // UP, Ctrl-P\n    },\n\n    isDown: function (e) {\n      return e.keyCode === 40 || (e.ctrlKey && e.keyCode === 78);  // DOWN, Ctrl-N\n    },\n\n    isEnter: function (e) {\n      var modifiers = e.ctrlKey || e.altKey || e.metaKey || e.shiftKey;\n      return !modifiers && (e.keyCode === 13 || e.keyCode === 9 || (this.option.completeOnSpace === true && e.keyCode === 32))  // ENTER, TAB\n    },\n\n    isPageup: function (e) {\n      return e.keyCode === 33;  // PAGEUP\n    },\n\n    isPagedown: function (e) {\n      return e.keyCode === 34;  // PAGEDOWN\n    },\n\n    isEscape: function (e) {\n      return e.keyCode === 27;  // ESCAPE\n    },\n\n    // Private properties\n    // ------------------\n\n    _data:    null,  // Currently shown zipped data.\n    _index:   null,\n    _$header: null,\n    _$noResultsMessage: null,\n    _$footer: null,\n\n    // Private methods\n    // ---------------\n\n    _bindEvents: function () {\n      this.$el.on('mousedown.' + this.id, '.textcomplete-item', $.proxy(this._onClick, this));\n      this.$el.on('touchstart.' + this.id, '.textcomplete-item', $.proxy(this._onClick, this));\n      this.$el.on('mouseover.' + this.id, '.textcomplete-item', $.proxy(this._onMouseover, this));\n      this.$inputEl.on('keydown.' + this.id, $.proxy(this._onKeydown, this));\n    },\n\n    _onClick: function (e) {\n      var $el = $(e.target);\n      e.preventDefault();\n      e.originalEvent.keepTextCompleteDropdown = this.id;\n      if (!$el.hasClass('textcomplete-item')) {\n        $el = $el.closest('.textcomplete-item');\n      }\n      var datum = this.data[parseInt($el.data('index'), 10)];\n      this.completer.select(datum.value, datum.strategy, e);\n      var self = this;\n      // Deactive at next tick to allow other event handlers to know whether\n      // the dropdown has been shown or not.\n      setTimeout(function () {\n        self.deactivate();\n        if (e.type === 'touchstart') {\n          self.$inputEl.focus();\n        }\n      }, 0);\n    },\n\n    // Activate hovered item.\n    _onMouseover: function (e) {\n      var $el = $(e.target);\n      e.preventDefault();\n      if (!$el.hasClass('textcomplete-item')) {\n        $el = $el.closest('.textcomplete-item');\n      }\n      this._index = parseInt($el.data('index'), 10);\n      this._activateIndexedItem();\n    },\n\n    _onKeydown: function (e) {\n      if (!this.shown) { return; }\n\n      var command;\n\n      if ($.isFunction(this.option.onKeydown)) {\n        command = this.option.onKeydown(e, commands);\n      }\n\n      if (command == null) {\n        command = this._defaultKeydown(e);\n      }\n\n      switch (command) {\n        case commands.KEY_UP:\n          e.preventDefault();\n          this._up();\n          break;\n        case commands.KEY_DOWN:\n          e.preventDefault();\n          this._down();\n          break;\n        case commands.KEY_ENTER:\n          e.preventDefault();\n          this._enter(e);\n          break;\n        case commands.KEY_PAGEUP:\n          e.preventDefault();\n          this._pageup();\n          break;\n        case commands.KEY_PAGEDOWN:\n          e.preventDefault();\n          this._pagedown();\n          break;\n        case commands.KEY_ESCAPE:\n          e.preventDefault();\n          this.deactivate();\n          break;\n      }\n    },\n\n    _defaultKeydown: function (e) {\n      if (this.isUp(e)) {\n        return commands.KEY_UP;\n      } else if (this.isDown(e)) {\n        return commands.KEY_DOWN;\n      } else if (this.isEnter(e)) {\n        return commands.KEY_ENTER;\n      } else if (this.isPageup(e)) {\n        return commands.KEY_PAGEUP;\n      } else if (this.isPagedown(e)) {\n        return commands.KEY_PAGEDOWN;\n      } else if (this.isEscape(e)) {\n        return commands.KEY_ESCAPE;\n      }\n    },\n\n    _up: function () {\n      if (this._index === 0) {\n        this._index = this.data.length - 1;\n      } else {\n        this._index -= 1;\n      }\n      this._activateIndexedItem();\n      this._setScroll();\n    },\n\n    _down: function () {\n      if (this._index === this.data.length - 1) {\n        this._index = 0;\n      } else {\n        this._index += 1;\n      }\n      this._activateIndexedItem();\n      this._setScroll();\n    },\n\n    _enter: function (e) {\n      var datum = this.data[parseInt(this._getActiveElement().data('index'), 10)];\n      this.completer.select(datum.value, datum.strategy, e);\n      this.deactivate();\n    },\n\n    _pageup: function () {\n      var target = 0;\n      var threshold = this._getActiveElement().position().top - this.$el.innerHeight();\n      this.$el.children().each(function (i) {\n        if ($(this).position().top + $(this).outerHeight() > threshold) {\n          target = i;\n          return false;\n        }\n      });\n      this._index = target;\n      this._activateIndexedItem();\n      this._setScroll();\n    },\n\n    _pagedown: function () {\n      var target = this.data.length - 1;\n      var threshold = this._getActiveElement().position().top + this.$el.innerHeight();\n      this.$el.children().each(function (i) {\n        if ($(this).position().top > threshold) {\n          target = i;\n          return false\n        }\n      });\n      this._index = target;\n      this._activateIndexedItem();\n      this._setScroll();\n    },\n\n    _activateIndexedItem: function () {\n      this.$el.find('.textcomplete-item.active').removeClass('active');\n      this._getActiveElement().addClass('active');\n    },\n\n    _getActiveElement: function () {\n      return this.$el.children('.textcomplete-item:nth(' + this._index + ')');\n    },\n\n    _setScroll: function () {\n      var $activeEl = this._getActiveElement();\n      var itemTop = $activeEl.position().top;\n      var itemHeight = $activeEl.outerHeight();\n      var visibleHeight = this.$el.innerHeight();\n      var visibleTop = this.$el.scrollTop();\n      if (this._index === 0 || this._index == this.data.length - 1 || itemTop < 0) {\n        this.$el.scrollTop(itemTop + visibleTop);\n      } else if (itemTop + itemHeight > visibleHeight) {\n        this.$el.scrollTop(itemTop + itemHeight + visibleTop - visibleHeight);\n      }\n    },\n\n    _buildContents: function (zippedData) {\n      var datum, i, index;\n      var html = '';\n      for (i = 0; i < zippedData.length; i++) {\n        if (this.data.length === this.maxCount) break;\n        datum = zippedData[i];\n        if (include(this.data, datum)) { continue; }\n        index = this.data.length;\n        this.data.push(datum);\n        html += '<li class=\"textcomplete-item\" data-index=\"' + index + '\"><a>';\n        html +=   datum.strategy.template(datum.value, datum.term);\n        html += '</a></li>';\n      }\n      return html;\n    },\n\n    _renderHeader: function (unzippedData) {\n      if (this.header) {\n        if (!this._$header) {\n          this._$header = $('<li class=\"textcomplete-header\"></li>').prependTo(this.$el);\n        }\n        var html = $.isFunction(this.header) ? this.header(unzippedData) : this.header;\n        this._$header.html(html);\n      }\n    },\n\n    _renderFooter: function (unzippedData) {\n      if (this.footer) {\n        if (!this._$footer) {\n          this._$footer = $('<li class=\"textcomplete-footer\"></li>').appendTo(this.$el);\n        }\n        var html = $.isFunction(this.footer) ? this.footer(unzippedData) : this.footer;\n        this._$footer.html(html);\n      }\n    },\n\n    _renderNoResultsMessage: function (unzippedData) {\n      if (this.noResultsMessage) {\n        if (!this._$noResultsMessage) {\n          this._$noResultsMessage = $('<li class=\"textcomplete-no-results-message\"></li>').appendTo(this.$el);\n        }\n        var html = $.isFunction(this.noResultsMessage) ? this.noResultsMessage(unzippedData) : this.noResultsMessage;\n        this._$noResultsMessage.html(html);\n      }\n    },\n\n    _renderContents: function (html) {\n      if (this._$footer) {\n        this._$footer.before(html);\n      } else {\n        this.$el.append(html);\n      }\n    },\n\n    _fitToBottom: function() {\n      var windowScrollBottom = $window.scrollTop() + $window.height();\n      var height = this.$el.height();\n      if ((this.$el.position().top + height) > windowScrollBottom) {\n        // only do this if we are not in an iframe\n        if (!this.completer.$iframe) {\n          this.$el.offset({top: windowScrollBottom - height});\n        }\n      }\n    },\n\n    _fitToRight: function() {\n      // We don't know how wide our content is until the browser positions us, and at that point it clips us\n      // to the document width so we don't know if we would have overrun it. As a heuristic to avoid that clipping\n      // (which makes our elements wrap onto the next line and corrupt the next item), if we're close to the right\n      // edge, move left. We don't know how far to move left, so just keep nudging a bit.\n      var tolerance = this.option.rightEdgeOffset; // pixels. Make wider than vertical scrollbar because we might not be able to use that space.\n      var lastOffset = this.$el.offset().left, offset;\n      var width = this.$el.width();\n      var maxLeft = $window.width() - tolerance;\n      while (lastOffset + width > maxLeft) {\n        this.$el.offset({left: lastOffset - tolerance});\n        offset = this.$el.offset().left;\n        if (offset >= lastOffset) { break; }\n        lastOffset = offset;\n      }\n    },\n\n    _applyPlacement: function (position) {\n      // If the 'placement' option set to 'top', move the position above the element.\n      if (this.placement.indexOf('top') !== -1) {\n        // Overwrite the position object to set the 'bottom' property instead of the top.\n        position = {\n          top: 'auto',\n          bottom: this.$el.parent().height() - position.top + position.lineHeight,\n          left: position.left\n        };\n      } else {\n        position.bottom = 'auto';\n        delete position.lineHeight;\n      }\n      if (this.placement.indexOf('absleft') !== -1) {\n        position.left = 0;\n      } else if (this.placement.indexOf('absright') !== -1) {\n        position.right = 0;\n        position.left = 'auto';\n      }\n      return position;\n    }\n  });\n\n  $.fn.textcomplete.Dropdown = Dropdown;\n  $.extend($.fn.textcomplete, commands);\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  // Memoize a search function.\n  var memoize = function (func) {\n    var memo = {};\n    return function (term, callback) {\n      if (memo[term]) {\n        callback(memo[term]);\n      } else {\n        func.call(this, term, function (data) {\n          memo[term] = (memo[term] || []).concat(data);\n          callback.apply(null, arguments);\n        });\n      }\n    };\n  };\n\n  function Strategy(options) {\n    $.extend(this, options);\n    if (this.cache) { this.search = memoize(this.search); }\n  }\n\n  Strategy.parse = function (strategiesArray, params) {\n    return $.map(strategiesArray, function (strategy) {\n      var strategyObj = new Strategy(strategy);\n      strategyObj.el = params.el;\n      strategyObj.$el = params.$el;\n      return strategyObj;\n    });\n  };\n\n  $.extend(Strategy.prototype, {\n    // Public properties\n    // -----------------\n\n    // Required\n    match:      null,\n    replace:    null,\n    search:     null,\n\n    // Optional\n    id:         null,\n    cache:      false,\n    context:    function () { return true; },\n    index:      2,\n    template:   function (obj) { return obj; },\n    idProperty: null\n  });\n\n  $.fn.textcomplete.Strategy = Strategy;\n\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  var now = Date.now || function () { return new Date().getTime(); };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // `wait` msec.\n  //\n  // This utility function was originally implemented at Underscore.js.\n  var debounce = function (func, wait) {\n    var timeout, args, context, timestamp, result;\n    var later = function () {\n      var last = now() - timestamp;\n      if (last < wait) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    };\n\n    return function () {\n      context = this;\n      args = arguments;\n      timestamp = now();\n      if (!timeout) {\n        timeout = setTimeout(later, wait);\n      }\n      return result;\n    };\n  };\n\n  function Adapter () {}\n\n  $.extend(Adapter.prototype, {\n    // Public properties\n    // -----------------\n\n    id:        null, // Identity.\n    completer: null, // Completer object which creates it.\n    el:        null, // Textarea element.\n    $el:       null, // jQuery object of the textarea.\n    option:    null,\n\n    // Public methods\n    // --------------\n\n    initialize: function (element, completer, option) {\n      this.el        = element;\n      this.$el       = $(element);\n      this.id        = completer.id + this.constructor.name;\n      this.completer = completer;\n      this.option    = option;\n\n      if (this.option.debounce) {\n        this._onKeyup = debounce(this._onKeyup, this.option.debounce);\n      }\n\n      this._bindEvents();\n    },\n\n    destroy: function () {\n      this.$el.off('.' + this.id); // Remove all event handlers.\n      this.$el = this.el = this.completer = null;\n    },\n\n    // Update the element with the given value and strategy.\n    //\n    // value    - The selected object. It is one of the item of the array\n    //            which was callbacked from the search function.\n    // strategy - The Strategy associated with the selected value.\n    select: function (/* value, strategy */) {\n      throw new Error('Not implemented');\n    },\n\n    // Returns the caret's relative coordinates from body's left top corner.\n    getCaretPosition: function () {\n      var position = this._getCaretRelativePosition();\n      var offset = this.$el.offset();\n\n      // Calculate the left top corner of `this.option.appendTo` element.\n      var $parent = this.option.appendTo;\n      if ($parent) {\n         if (!($parent instanceof $)) { $parent = $($parent); }\n         var parentOffset = $parent.offsetParent().offset();\n         offset.top -= parentOffset.top;\n         offset.left -= parentOffset.left;\n      }\n\n      position.top += offset.top;\n      position.left += offset.left;\n      return position;\n    },\n\n    // Focus on the element.\n    focus: function () {\n      this.$el.focus();\n    },\n\n    // Private methods\n    // ---------------\n\n    _bindEvents: function () {\n      this.$el.on('keyup.' + this.id, $.proxy(this._onKeyup, this));\n    },\n\n    _onKeyup: function (e) {\n      if (this._skipSearch(e)) { return; }\n      this.completer.trigger(this.getTextFromHeadToCaret(), true);\n    },\n\n    // Suppress searching if it returns true.\n    _skipSearch: function (clickEvent) {\n      switch (clickEvent.keyCode) {\n        case 9:  // TAB\n        case 13: // ENTER\n        case 16: // SHIFT\n        case 17: // CTRL\n        case 18: // ALT\n        case 33: // PAGEUP\n        case 34: // PAGEDOWN\n        case 40: // DOWN\n        case 38: // UP\n        case 27: // ESC\n          return true;\n      }\n      if (clickEvent.ctrlKey) switch (clickEvent.keyCode) {\n        case 78: // Ctrl-N\n        case 80: // Ctrl-P\n          return true;\n      }\n    }\n  });\n\n  $.fn.textcomplete.Adapter = Adapter;\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  // Textarea adapter\n  // ================\n  //\n  // Managing a textarea. It doesn't know a Dropdown.\n  function Textarea(element, completer, option) {\n    this.initialize(element, completer, option);\n  }\n\n  $.extend(Textarea.prototype, $.fn.textcomplete.Adapter.prototype, {\n    // Public methods\n    // --------------\n\n    // Update the textarea with the given value and strategy.\n    select: function (value, strategy, e) {\n      var pre = this.getTextFromHeadToCaret();\n      var post = this.el.value.substring(this.el.selectionEnd);\n      var newSubstr = strategy.replace(value, e);\n      var regExp;\n      if (typeof newSubstr !== 'undefined') {\n        if ($.isArray(newSubstr)) {\n          post = newSubstr[1] + post;\n          newSubstr = newSubstr[0];\n        }\n        regExp = $.isFunction(strategy.match) ? strategy.match(pre) : strategy.match;\n        pre = pre.replace(regExp, newSubstr);\n        this.$el.val(pre + post);\n        this.el.selectionStart = this.el.selectionEnd = pre.length;\n      }\n    },\n\n    getTextFromHeadToCaret: function () {\n      return this.el.value.substring(0, this.el.selectionEnd);\n    },\n\n    // Private methods\n    // ---------------\n\n    _getCaretRelativePosition: function () {\n      var p = $.fn.textcomplete.getCaretCoordinates(this.el, this.el.selectionStart);\n      return {\n        top: p.top + this._calculateLineHeight() - this.$el.scrollTop(),\n        left: p.left - this.$el.scrollLeft(),\n        lineHeight: this._calculateLineHeight()\n      };\n    },\n\n    _calculateLineHeight: function () {\n      var lineHeight = parseInt(this.$el.css('line-height'), 10);\n      if (isNaN(lineHeight)) {\n        // http://stackoverflow.com/a/4515470/1297336\n        var parentNode = this.el.parentNode;\n        var temp = document.createElement(this.el.nodeName);\n        var style = this.el.style;\n        temp.setAttribute(\n          'style',\n          'margin:0px;padding:0px;font-family:' + style.fontFamily + ';font-size:' + style.fontSize\n        );\n        temp.innerHTML = 'test';\n        parentNode.appendChild(temp);\n        lineHeight = temp.clientHeight;\n        parentNode.removeChild(temp);\n      }\n      return lineHeight;\n    }\n  });\n\n  $.fn.textcomplete.Textarea = Textarea;\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  var sentinelChar = '';\n\n  function IETextarea(element, completer, option) {\n    this.initialize(element, completer, option);\n    $('<span>' + sentinelChar + '</span>').css({\n      position: 'absolute',\n      top: -9999,\n      left: -9999\n    }).insertBefore(element);\n  }\n\n  $.extend(IETextarea.prototype, $.fn.textcomplete.Textarea.prototype, {\n    // Public methods\n    // --------------\n\n    select: function (value, strategy, e) {\n      var pre = this.getTextFromHeadToCaret();\n      var post = this.el.value.substring(pre.length);\n      var newSubstr = strategy.replace(value, e);\n      var regExp;\n      if (typeof newSubstr !== 'undefined') {\n        if ($.isArray(newSubstr)) {\n          post = newSubstr[1] + post;\n          newSubstr = newSubstr[0];\n        }\n        regExp = $.isFunction(strategy.match) ? strategy.match(pre) : strategy.match;\n        pre = pre.replace(regExp, newSubstr);\n        this.$el.val(pre + post);\n        this.el.focus();\n        var range = this.el.createTextRange();\n        range.collapse(true);\n        range.moveEnd('character', pre.length);\n        range.moveStart('character', pre.length);\n        range.select();\n      }\n    },\n\n    getTextFromHeadToCaret: function () {\n      this.el.focus();\n      var range = document.selection.createRange();\n      range.moveStart('character', -this.el.value.length);\n      var arr = range.text.split(sentinelChar)\n      return arr.length === 1 ? arr[0] : arr[1];\n    }\n  });\n\n  $.fn.textcomplete.IETextarea = IETextarea;\n}(jQuery);\n\n// NOTE: TextComplete plugin has contenteditable support but it does not work\n//       fine especially on old IEs.\n//       Any pull requests are REALLY welcome.\n\n+function ($) {\n  'use strict';\n\n  // ContentEditable adapter\n  // =======================\n  //\n  // Adapter for contenteditable elements.\n  function ContentEditable (element, completer, option) {\n    this.initialize(element, completer, option);\n  }\n\n  $.extend(ContentEditable.prototype, $.fn.textcomplete.Adapter.prototype, {\n    // Public methods\n    // --------------\n\n    // Update the content with the given value and strategy.\n    // When an dropdown item is selected, it is executed.\n    select: function (value, strategy, e) {\n      var pre = this.getTextFromHeadToCaret();\n      // use ownerDocument instead of window to support iframes\n      var sel = this.el.ownerDocument.getSelection();\n      \n      var range = sel.getRangeAt(0);\n      var selection = range.cloneRange();\n      selection.selectNodeContents(range.startContainer);\n      var content = selection.toString();\n      var post = content.substring(range.startOffset);\n      var newSubstr = strategy.replace(value, e);\n      var regExp;\n      if (typeof newSubstr !== 'undefined') {\n        if ($.isArray(newSubstr)) {\n          post = newSubstr[1] + post;\n          newSubstr = newSubstr[0];\n        }\n        regExp = $.isFunction(strategy.match) ? strategy.match(pre) : strategy.match;\n        pre = pre.replace(regExp, newSubstr)\n            .replace(/ $/, \"&nbsp\"); // &nbsp necessary at least for CKeditor to not eat spaces\n        range.selectNodeContents(range.startContainer);\n        range.deleteContents();\n        \n        // create temporary elements\n        var preWrapper = this.el.ownerDocument.createElement(\"div\");\n        preWrapper.innerHTML = pre;\n        var postWrapper = this.el.ownerDocument.createElement(\"div\");\n        postWrapper.innerHTML = post;\n        \n        // create the fragment thats inserted\n        var fragment = this.el.ownerDocument.createDocumentFragment();\n        var childNode;\n        var lastOfPre;\n        while (childNode = preWrapper.firstChild) {\n        \tlastOfPre = fragment.appendChild(childNode);\n        }\n        while (childNode = postWrapper.firstChild) {\n        \tfragment.appendChild(childNode);\n        }\n        \n        // insert the fragment & jump behind the last node in \"pre\"\n        range.insertNode(fragment);\n        range.setStartAfter(lastOfPre);\n        \n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n      }\n    },\n\n    // Private methods\n    // ---------------\n\n    // Returns the caret's relative position from the contenteditable's\n    // left top corner.\n    //\n    // Examples\n    //\n    //   this._getCaretRelativePosition()\n    //   //=> { top: 18, left: 200, lineHeight: 16 }\n    //\n    // Dropdown's position will be decided using the result.\n    _getCaretRelativePosition: function () {\n      var range = this.el.ownerDocument.getSelection().getRangeAt(0).cloneRange();\n      var wrapperNode = range.endContainer.parentNode;\n      var node = this.el.ownerDocument.createElement('span');\n      range.insertNode(node);\n      range.selectNodeContents(node);\n      range.deleteContents();\n      setTimeout(function() { wrapperNode.normalize(); }, 0);\n      var $node = $(node);\n      var position = $node.offset();\n      position.left -= this.$el.offset().left;\n      position.top += $node.height() - this.$el.offset().top;\n      position.lineHeight = $node.height();\n      \n      // special positioning logic for iframes\n      // this is typically used for contenteditables such as tinymce or ckeditor\n      if (this.completer.$iframe) {\n        var iframePosition = this.completer.$iframe.offset();\n        position.top += iframePosition.top;\n        position.left += iframePosition.left;\n        // We need to get the scrollTop of the html-element inside the iframe and not of the body-element,\n        // because on IE the scrollTop of the body-element (this.$el) is always zero.\n        position.top -= $(this.completer.$iframe[0].contentWindow.document).scrollTop();\n      }\n      \n      $node.remove();\n      return position;\n    },\n\n    // Returns the string between the first character and the caret.\n    // Completer will be triggered with the result for start autocompleting.\n    //\n    // Example\n    //\n    //   // Suppose the html is '<b>hello</b> wor|ld' and | is the caret.\n    //   this.getTextFromHeadToCaret()\n    //   // => ' wor'  // not '<b>hello</b> wor'\n    getTextFromHeadToCaret: function () {\n      var range = this.el.ownerDocument.getSelection().getRangeAt(0);\n      var selection = range.cloneRange();\n      selection.selectNodeContents(range.startContainer);\n      return selection.toString().substring(0, range.startOffset);\n    }\n  });\n\n  $.fn.textcomplete.ContentEditable = ContentEditable;\n}(jQuery);\n\n// NOTE: TextComplete plugin has contenteditable support but it does not work\n//       fine especially on old IEs.\n//       Any pull requests are REALLY welcome.\n\n+function ($) {\n  'use strict';\n\n  // CKEditor adapter\n  // =======================\n  //\n  // Adapter for CKEditor, based on contenteditable elements.\n  function CKEditor (element, completer, option) {\n    this.initialize(element, completer, option);\n  }\n\n  $.extend(CKEditor.prototype, $.fn.textcomplete.ContentEditable.prototype, {\n    _bindEvents: function () {\n      var $this = this;\n      this.option.ckeditor_instance.on('key', function(event) {\n        var domEvent = event.data;\n        $this._onKeyup(domEvent);\n        if ($this.completer.dropdown.shown && $this._skipSearch(domEvent)) {\n          return false;\n        }\n      }, null, null, 1); // 1 = Priority = Important!\n      // we actually also need the native event, as the CKEditor one is happening to late\n      this.$el.on('keyup.' + this.id, $.proxy(this._onKeyup, this));\n    },\n});\n\n  $.fn.textcomplete.CKEditor = CKEditor;\n}(jQuery);\n\n// The MIT License (MIT)\n// \n// Copyright (c) 2015 Jonathan Ong me@jongleberry.com\n// \n// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n// associated documentation files (the \"Software\"), to deal in the Software without restriction,\n// including without limitation the rights to use, copy, modify, merge, publish, distribute,\n// sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// \n// The above copyright notice and this permission notice shall be included in all copies or\n// substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT\n// NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n// https://github.com/component/textarea-caret-position\n\n(function ($) {\n\n// The properties that we copy into a mirrored div.\n// Note that some browsers, such as Firefox,\n// do not concatenate properties, i.e. padding-top, bottom etc. -> padding,\n// so we have to do every single property specifically.\nvar properties = [\n  'direction',  // RTL support\n  'boxSizing',\n  'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY',  // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration',  // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize'\n\n];\n\nvar isBrowser = (typeof window !== 'undefined');\nvar isFirefox = (isBrowser && window.mozInnerScreenX != null);\n\nfunction getCaretCoordinates(element, position, options) {\n  if(!isBrowser) {\n    throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\n  }\n\n  var debug = options && options.debug || false;\n  if (debug) {\n    var el = document.querySelector('#input-textarea-caret-position-mirror-div');\n    if ( el ) { el.parentNode.removeChild(el); }\n  }\n\n  // mirrored div\n  var div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n\n  var style = div.style;\n  var computed = window.getComputedStyle? getComputedStyle(element) : element.currentStyle;  // currentStyle for IE < 9\n\n  // default textarea styles\n  style.whiteSpace = 'pre-wrap';\n  if (element.nodeName !== 'INPUT')\n    style.wordWrap = 'break-word';  // only for textarea-s\n\n  // position off-screen\n  style.position = 'absolute';  // required to return coordinates properly\n  if (!debug)\n    style.visibility = 'hidden';  // not 'display: none' because we want rendering\n\n  // transfer the element's properties to the div\n  properties.forEach(function (prop) {\n    style[prop] = computed[prop];\n  });\n\n  if (isFirefox) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > parseInt(computed.height))\n      style.overflowY = 'scroll';\n  } else {\n    style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position);\n  // the second special handling for input type=\"text\" vs textarea: spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n  if (element.nodeName === 'INPUT')\n    div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n\n  var span = document.createElement('span');\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // for inputs, just '.' would be enough, but why bother?\n  span.textContent = element.value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  var coordinates = {\n    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n    left: span.offsetLeft + parseInt(computed['borderLeftWidth'])\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#aaa';\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\n$.fn.textcomplete.getCaretCoordinates = getCaretCoordinates;\n\n}(jQuery));\n\nreturn jQuery;\n}));\n\n\n/***/ }),\n\n/***/ 557:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"comment-temp\"\n  }, [_c('div', [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl-transparent\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": true\n    }\n  }, [_c('v-card', {\n    staticClass: \"comments__container\"\n  }, [_c('v-card-text', [_c('div', {\n    attrs: {\n      \"id\": \"comments-container-el\"\n    }\n  })])], 1)], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 559:\n/***/ (function(module, exports) {\n\nmodule.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n/***/ }),\n\n/***/ 569:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(143);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(139);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jquery__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__store_jquery_comment__ = __webpack_require__(514);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Comment_vue__ = __webpack_require__(220);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__Comment_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5__Comment_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__form_xu_ly_ThongTinCoBanHoSo_vue__ = __webpack_require__(213);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__form_xu_ly_ThongTinCoBanHoSo_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__form_xu_ly_ThongTinCoBanHoSo_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__form_xu_ly_PhanCongNguoiThucHien_vue__ = __webpack_require__(212);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__form_xu_ly_PhanCongNguoiThucHien_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7__form_xu_ly_PhanCongNguoiThucHien_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__form_xu_ly_TraKetQua_vue__ = __webpack_require__(214);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__form_xu_ly_TraKetQua_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8__form_xu_ly_TraKetQua_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__form_xu_ly_XacNhanThuPhi_vue__ = __webpack_require__(215);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__form_xu_ly_XacNhanThuPhi_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9__form_xu_ly_XacNhanThuPhi_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__form_xu_ly_YkienCanBoThucHien_vue__ = __webpack_require__(216);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__form_xu_ly_YkienCanBoThucHien_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10__form_xu_ly_YkienCanBoThucHien_vue__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: ['index', 'id'],\n  components: {\n    'comment': __WEBPACK_IMPORTED_MODULE_5__Comment_vue___default.a,\n    'thong-tin-co-ban-ho-so': __WEBPACK_IMPORTED_MODULE_6__form_xu_ly_ThongTinCoBanHoSo_vue___default.a,\n    'phan-cong': __WEBPACK_IMPORTED_MODULE_7__form_xu_ly_PhanCongNguoiThucHien_vue___default.a,\n    'tra-ket-qua': __WEBPACK_IMPORTED_MODULE_8__form_xu_ly_TraKetQua_vue___default.a,\n    'xac-nhan-thu-phi': __WEBPACK_IMPORTED_MODULE_9__form_xu_ly_XacNhanThuPhi_vue___default.a,\n    'y-kien-can-bo': __WEBPACK_IMPORTED_MODULE_10__form_xu_ly_YkienCanBoThucHien_vue___default.a\n  },\n  data: function data() {\n    return {\n      btnDossierDynamics: [],\n      btnStepsDynamics: [],\n      loadingAction: false,\n      indexAction: -1,\n      indexActionStep: -1,\n      dossierId: '',\n      className: 'org.opencps.dossiermgt.model.Dossier',\n      dossierFilesItems: [],\n      dossierTemplatesItems: [],\n      showContactDetail: false,\n      listHistoryProcessing: [],\n      dossierTemplatesTN: [],\n      dossierTemplatesKQ: [],\n      thongTinChiTietHoSo: {},\n      loadingAlpacajsForm: false,\n      nextActions: [],\n      processSteps: [],\n      documents: [],\n      payments: [],\n      dossierActions: [],\n      itemselect: '',\n      dossierSyncs: [],\n      stepModel: null,\n      actionNote: '',\n      actionsSubmitLoading: false,\n      showThongTinCoBanHoSo: false,\n      showYkienCanBoThucHien: false,\n      showFormBoSungThongTinNgan: false,\n      showPhanCongNguoiThucHien: false,\n      showTaoTaiLieuKetQua: false,\n      showKyPheDuyetTaiLieu: false,\n      showTraKetQua: false,\n      showXacNhanThuPhi: false,\n      showThucHienThanhToanDienTu: false,\n      dossierItemDialogPick: '',\n      itemDialogPick: '',\n      resultDialogPick: '',\n      indexDialogPick: '',\n      userNote: 0,\n      payment_type: 0,\n      type_assign: 0,\n      returnFiles: [],\n      assign_items: [],\n      btnStateVisible: true,\n      dialogActionProcess: false,\n      headers: [{\n        text: 'Vai tr',\n        align: 'center',\n        sortable: false,\n        class: 'vaitro_column'\n      }, {\n        text: 'Cng vic',\n        align: 'center',\n        sortable: false,\n        class: 'congviec_column'\n      }, {\n        text: 'Thi hn quy nh',\n        align: 'center',\n        sortable: false,\n        class: 'thoihanquydinh_column'\n      }, {\n        text: 'Ngy bt u',\n        align: 'center',\n        sortable: false,\n        class: 'ngaybatdau_column'\n      }, {\n        text: 'Ngi thc hin',\n        align: 'center',\n        sortable: false,\n        class: 'nguoithuchien_column'\n      }, {\n        text: 'Kt qu',\n        align: 'center',\n        sortable: false,\n        class: 'ketqua_column'\n      }],\n      headerSyncs: [{\n        text: 'Nht k h s',\n        align: 'center',\n        sortable: false,\n        class: 'nhatki_column'\n      }, {\n        text: 'Trao i trc tuyn',\n        align: 'center',\n        sortable: false,\n        class: 'traodoitructuyen_column'\n      }],\n      filterDossierActionItems: [{\n        text: 'Tt c',\n        value: ''\n      }, {\n        text: 'C thao tc thc hin',\n        value: '1'\n      }, {\n        text: 'Khng thao tc thc hin',\n        value: '2'\n      }],\n      filterDossierAction: null,\n      filterDossierSyncItems: [{\n        text: 'Tt c',\n        value: '1,2'\n      }, {\n        text: 'Thng tin trao i',\n        value: '2'\n      }],\n      filterDossierSync: null,\n      messageChat: ''\n    };\n  },\n  computed: {\n    loading: function loading() {\n      return this.$store.getters.loading;\n    }\n  },\n  created: function created() {\n    var vm = this;\n    vm.$nextTick(function () {\n      vm.initData(vm.id);\n    });\n  },\n  updated: function updated() {\n    var vm = this;\n    vm.$nextTick(function () {\n      var currentParams = vm.$router.history.current.params;\n      var currentQuery = vm.$router.history.current.query;\n      if (currentParams.hasOwnProperty('step') && vm.isCallBack) {\n        vm.isCallBack = false;\n        vm.btnDossierDynamics = [];\n        vm.btnStepsDynamics = [];\n      }\n    });\n  },\n\n  watch: {\n    '$route': function $route(newRoute, oldRoute) {\n      var vm = this;\n      var currentQuery = newRoute.query;\n      if (currentQuery.hasOwnProperty('step')) {\n        vm.btnDossierDynamics = [];\n        vm.btnStepsDynamics = [];\n      }\n    }\n  },\n  methods: {\n    initData: function initData(data) {\n      var vm = this;\n      vm.dossierId = data;\n      console.log(data);\n      vm.$store.dispatch('getDetailDossier', data).then(function (resultDossier) {\n        vm.thongTinChiTietHoSo = resultDossier;\n        var arrTemp = [];\n        console.log(resultDossier.dossierId);\n        arrTemp.push(vm.$store.dispatch('loadDossierTemplates', resultDossier));\n        arrTemp.push(vm.$store.dispatch('loadDossierFiles', resultDossier.dossierId));\n        vm.thongTinHoSo = resultDossier;\n        __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.all(arrTemp).then(function (values) {\n          console.log(values);\n          var dossierTemplates = values[0];\n          var dossierFiles = values[1];\n          dossierTemplates.forEach(function (item) {\n            if (item.partType === 1) {\n              vm.dossierTemplatesTN.push(item);\n            } else {\n              vm.dossierTemplatesKQ.push(item);\n            }\n          });\n          vm.dossierFilesItems = dossierFiles;\n          vm.dossierTemplatesItems = dossierTemplates;\n          vm.recountFileTemplates();\n        }).catch(function (reject) {});\n        vm.$store.dispatch('loadDossierDocuments', resultDossier).then(function (resultDocuments) {\n          vm.documents = resultDocuments;\n        });\n        vm.$store.dispatch('loadDossierPayments', resultDossier).then(function (resultPayments) {\n          vm.payments = resultPayments;\n        });\n      });\n    },\n    recountFileTemplates: function recountFileTemplates() {\n      var vm = this;\n      vm.dossierTemplatesItems.forEach(function (itemTemplate) {\n        itemTemplate.count = 0;\n        vm.dossierFilesItems.forEach(function (itemFile) {\n          if (itemTemplate.partNo === itemFile.dossierPartNo) {\n            itemTemplate.count++;\n          }\n        });\n      });\n    },\n    goBack: function goBack() {\n      window.history.back();\n    },\n    viewFile: function viewFile(data) {\n      var _this = this;\n\n      var vm = this;\n      vm.dossierFilesItems.forEach(function (val) {\n        val['dossierId'] = vm.thongTinChiTietHoSo.dossierId;\n        if (val.dossierPartNo === data.partNo) {\n          _this.$store.dispatch('viewFile', val);\n        }\n      });\n    },\n    downloadFileLogs: function downloadFileLogs(data) {\n      var vm = this;\n      var dataCommit = {\n        fileAttachId: data,\n        dossierId: vm.id\n      };\n      this.$store.dispatch('downloadFile', dataCommit);\n    },\n    loadDossierActions: function loadDossierActions(data) {\n      var vm = this;\n      if (vm.thongTinChiTietHoSo.dossierId) {\n        var dataParams = {\n          dossierId: vm.thongTinChiTietHoSo.dossierId,\n          stepType: data\n        };\n        vm.$store.dispatch('loadDossierActions', dataParams).then(function (resultActions) {\n          vm.dossierActions = resultActions.data;\n        });\n      }\n    },\n    loadDossierSyncs: function loadDossierSyncs(data) {\n      var vm = this;\n      if (vm.thongTinChiTietHoSo.dossierId) {\n        var dataParams = {\n          dossierId: vm.thongTinChiTietHoSo.dossierId,\n          info: '1,2'\n        };\n        vm.$store.dispatch('loadDossierSyncs', dataParams).then(function (resultSyncs) {\n          console.log('resultSyncs++++++++++++++++', resultSyncs);\n          vm.dossierSyncs = resultSyncs;\n        });\n      }\n    },\n    loadDossierLogs: function loadDossierLogs(data) {\n      var vm = this;\n\n      var dataParams = {\n        dossierId: vm.thongTinChiTietHoSo.dossierId\n      };\n      var promiseHisProcessing = vm.$store.dispatch('getListHistoryProcessingItems', dataParams);\n      promiseHisProcessing.then(function (result) {\n        vm.listHistoryProcessing = [];\n        vm.listHistoryProcessing = result;\n      });\n    },\n    deleteDossierFileVersion: function deleteDossierFileVersion(item) {\n      var vm = this;\n      item['dossierId'] = vm.thongTinChiTietHoSo.dossierId;\n      vm.$store.dispatch('deleteAttackFiles', item).then(function (res) {});\n    },\n    pickFile: function pickFile(item) {\n      document.getElementById('file' + item.partNo).click();\n    },\n    postChat: function postChat() {\n      var vm = this;\n      var params = {\n        dossierId: vm.thongTinChiTietHoSo.dossierId,\n        actionCode: 8200,\n        actionNote: vm.messageChat,\n        actionUser: ''\n      };\n      vm.$store.dispatch('postAction', params).then(function (result) {\n        vm.loadDossierSyncs();\n      });\n      vm.messageChat = '';\n    },\n    getNextAction: function getNextAction(item) {\n      var vm = this;\n      if (item.type === 1) {\n        var filter = {\n          dossierId: vm.thongTinChiTietHoSo.dossierId,\n          actionId: item.processActionId\n        };\n        vm.$store.dispatch('getNextAction', filter).then(function (resultAction) {\n          vm.stepModel = resultAction;\n        }).catch(function (reject) {\n          vm.stepModel = null;\n        });\n      } else {\n        var _filter = {\n          dossierId: vm.thongTinChiTietHoSo.dossierId,\n          actionId: item.processActionId\n        };\n        vm.$store.dispatch('loadPlugin', _filter).then(function (resultPlugin) {\n          console.log('resultPlugin+++++++++', resultPlugin);\n          vm.stepModel = resultPlugin;\n        }).catch(function (reject) {\n          vm.stepModel = null;\n        });\n      }\n    },\n    processPullBtnDetailRouter: function processPullBtnDetailRouter(dossierItem, item, result, index) {\n      console.log('result Nextaction', result);\n      var vm = this;\n      var isPopup = false;\n      vm.dossierId = dossierItem.dossierId;\n      vm.showYkienCanBoThucHien = false;\n      vm.showFormBoSungThongTinNgan = false;\n      vm.showPhanCongNguoiThucHien = false;\n      vm.showTaoTaiLieuKetQua = false;\n      vm.showKyPheDuyetTaiLieu = false;\n      vm.showTraKetQua = false;\n      vm.showXacNhanThuPhi = false;\n      vm.showThucHienThanhToanDienTu = false;\n      vm.dossierItemDialogPick = dossierItem;\n      vm.itemDialogPick = item;\n      vm.resultDialogPick = result;\n      vm.indexDialogPick = index;\n      vm.userNote = 0;\n      if (result !== null && result !== undefined && result !== 'undefined' && (result.hasOwnProperty('userNote') || result.hasOwnProperty('extraForm') || result.hasOwnProperty('allowAssignUser') || result.hasOwnProperty('createFiles') || result.hasOwnProperty('eSignature') || result.hasOwnProperty('returnFiles') || result.hasOwnProperty('payment'))) {\n        if (result.hasOwnProperty('userNote') && (result.userNote === 1 || result.userNote === '1' || result.userNote === 2 || result.userNote === '2')) {\n          isPopup = true;\n          vm.showYkienCanBoThucHien = true;\n          vm.userNote = result.userNote;\n        }\n        if (result.hasOwnProperty('extraForm') && result.extraForm) {\n          isPopup = true;\n          vm.showFormBoSungThongTinNgan = true;\n        }\n        if (result.hasOwnProperty('allowAssignUser') && result.allowAssignUser !== 0) {\n          vm.assign_items = result.toUsers;\n          vm.type_assign = result.allowAssignUser;\n          isPopup = true;\n          vm.showPhanCongNguoiThucHien = true;\n        }\n        if (result.hasOwnProperty('returnFiles') && result.createFiles !== null && result.createFiles !== undefined && result.createFiles !== 'undefined' && result.createFiles.length > 0) {\n          isPopup = true;\n          vm.showTaoTaiLieuKetQua = true;\n        }\n        if (result.hasOwnProperty('eSignature') && result.eSignature) {\n          isPopup = true;\n          vm.showKyPheDuyetTaiLieu = true;\n        }\n        if (result.hasOwnProperty('returnFiles') && result.returnFiles !== null && result.returnFiles !== undefined && result.returnFiles !== 'undefined' && result.returnFiles.length > 0) {\n          isPopup = true;\n          vm.showTraKetQua = true;\n          vm.returnFiles = result.returnFiles;\n        }\n        if (result.hasOwnProperty('payment') && result.payment !== null && result.payment !== undefined && result.payment !== 'undefined' && result.payment.requestPayment === 5) {\n          isPopup = true;\n          vm.showXacNhanThuPhi = true;\n          vm.payments = result.payment;\n          vm.payment_type = result.payment.requestPayment;\n        }\n      }\n      if (isPopup) {\n        vm.dialogActionProcess = true;\n        vm.loadingActionProcess = false;\n      } else {\n        vm.processAction(vm.thongTinChiTietHoSo, item, result, index, true);\n      }\n    },\n    processPullBtnDetail: function processPullBtnDetail(item, index) {\n      var vm = this;\n      vm.itemAction = item;\n      var filter = {\n        dossierId: vm.thongTinChiTietHoSo.dossierId,\n        actionId: item.processActionId\n      };\n      vm.dossierId = vm.thongTinChiTietHoSo.dossierId;\n      vm.loadingActionProcess = true;\n      vm.$store.dispatch('processPullBtnDetail', filter).then(function (result) {\n        vm.processPullBtnDetailRouter(vm.thongTinChiTietHoSo, item, result, index);\n      });\n    },\n    btnActionEvent: function btnActionEvent(item, index, isGroup) {\n      var vm = this;\n      vm.itemAction = item;\n      vm.indexAction = index;\n      if (String(item.form) === 'NEW') {\n        var isOpenDialog = true;\n        if (vm.dichVuSelected !== null && vm.dichVuSelected !== undefined && vm.dichVuSelected !== 'undefined' && vm.listDichVu !== null && vm.listDichVu !== undefined && vm.listDichVu.length === 1) {\n          isOpenDialog = false;\n        }\n        if (isOpenDialog) {\n          vm.dialogAction = true;\n        } else {\n          vm.doCreateDossier();\n        }\n      } else if (String(item.form) === 'UPDATE') {\n        __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */].push({\n          path: '/danh-sach-ho-so/' + vm.index + '/ho-so/' + vm.thongTinChiTietHoSo.dossierId + '/' + vm.itemAction.form,\n          query: vm.$router.history.current.query\n        });\n      } else if (String(item.form) === 'ADD') {\n        __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */].push({\n          path: '/danh-sach-ho-so/' + vm.index + '/bo-sung-ho-so/' + vm.thongTinChiTietHoSo.dossierId,\n          query: vm.$router.history.current.query\n        });\n      } else if (String(item.form) === 'COPY') {\n        vm.doCopy(vm.thongTinChiTietHoSo, item, index, isGroup);\n      } else if (String(item.form) === 'CANCEL') {\n        vm.doCancel(vm.thongTinChiTietHoSo, item, index, isGroup);\n      } else if (String(item.form) === 'PRINT_01') {\n        vm.doPrint01(vm.thongTinChiTietHoSo, item, index, isGroup);\n      } else if (String(item.form) === 'PRINT_02') {\n        vm.doPrint02(vm.thongTinChiTietHoSo, item, index, isGroup);\n      } else if (String(item.form) === 'PRINT_03') {\n        vm.doPrint03(vm.thongTinChiTietHoSo, item, index, isGroup);\n      } else if (String(item.form) === 'GUIDE') {\n        vm.doGuiding(vm.thongTinChiTietHoSo, item, index, isGroup);\n      } else if (String(item.form) === 'PREVIEW') {\n        vm.doPreview(vm.thongTinChiTietHoSo, item, index, isGroup);\n      } else if (String(item.form) === 'ACTIONS') {\n        vm.doActions(vm.thongTinChiTietHoSo, item, index, isGroup);\n      } else if (String(item.form) === 'DELETE') {\n        vm.doDeleteDossier(vm.thongTinChiTietHoSo, item, index, isGroup);\n      } else if (String(item.form) === 'ROLLBACK_01') {\n        var result = {\n          actionCode: 9000\n        };\n        vm.processAction(vm.thongTinChiTietHoSo, item, result, index, true);\n      } else if (String(item.form) === 'ROLLBACK_02') {\n        var _result = {\n          actionCode: 9000\n        };\n        vm.processAction(vm.thongTinChiTietHoSo, item, _result, index, true);\n      } else if (String(item.form) === 'OVERDUE') {\n        var _result2 = {\n          actionCode: 8500\n        };\n        vm.processAction(vm.thongTinChiTietHoSo, item, _result2, index, true);\n      } else if (String(item.form) === 'BETIMES') {\n        var _result3 = {\n          actionCode: 8400\n        };\n        vm.processAction(vm.thongTinChiTietHoSo, item, _result3, index, true);\n      }\n    },\n    doCopy: function doCopy(dossierItem, item, index, isGroup) {\n      var vm = this;\n      var filter = {\n        dossierId: dossierItem.dossierId\n      };\n      vm.loadingAction = true;\n      vm.$store.dispatch('doCopy', filter).then(function (result) {\n        vm.loadingAction = false;\n        vm.indexAction = -1;\n        __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */].push({\n          path: '/danh-sach-ho-so/' + vm.index + '/ho-so/' + result.dossierId + '/' + vm.itemAction.form,\n          query: vm.$router.history.current.query\n        });\n      });\n    },\n    doCancel: function doCancel(dossierItem, item, index, isGroup) {\n      var vm = this;\n      vm.loadingAction = true;\n      if (isGroup) {\n        console.log(vm.selected);\n      } else {\n        var filter = {\n          dossierId: dossierItem.dossierId\n        };\n        vm.$store.dispatch('doCancel', filter).then(function (result) {\n          vm.loadingAction = false;\n          vm.indexAction = -1;\n          __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */].push({\n            path: '/danh-sach-ho-so/' + vm.index + '/ho-so/' + result.dossierId + '/' + vm.itemAction.form,\n            query: vm.$router.history.current.query\n          });\n        });\n      }\n    },\n    rollBack: function rollBack() {\n      var vm = this;\n      var params = {\n        dossierId: vm.thongTinChiTietHoSo.dossierId\n      };\n      vm.$store.dispatch('rollBack', params).then(function (resRollBack) {\n        vm.getNextActions();\n        vm.btnStateVisible = true;\n      });\n    },\n    processAction: function processAction(dossierItem, item, result, index, isConfirm) {\n      var vm = this;\n      var filter = {\n        dossierId: dossierItem.dossierId,\n        actionCode: result.actionCode\n      };\n      vm.dossierId = dossierItem.dossierId;\n      var currentQuery = vm.$router.history.current.query;\n      vm.loadingActionProcess = true;\n      if (isConfirm) {\n        var x = confirm('Bn c mun thc hin hnh ng ny?');\n        if (x) {\n          if (vm.showPhanCongNguoiThucHien) {\n            filter['toUsers'] = vm.assign_items;\n          }\n          vm.$store.dispatch('processDossierRouter', filter).then(function (result) {\n            vm.dialogActionProcess = false;\n            vm.loadingActionProcess = false;\n            vm.btnStateVisible = false;\n            if (result.rollbackable) {\n              vm.rollbackable = true;\n            }\n            __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */].push({\n              path: vm.$router.history.current.path,\n              query: {\n                recount: Math.floor(Math.random() * (100 - 1 + 1)) + 1,\n                renew: Math.floor(Math.random() * (100 - 1 + 1)) + 1,\n                q: currentQuery['q']\n              }\n            });\n          });\n        } else {\n          return false;\n        }\n      } else {\n        vm.$store.dispatch('processDossierRouter', filter).then(function (result) {\n          vm.dialogActionProcess = false;\n          vm.loadingActionProcess = false;\n          vm.btnStateVisible = false;\n          if (result.rollbackable) {\n            vm.rollbackable = true;\n          }\n          if (String(item.form) === 'ACTIONS') {} else {\n            __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */].push({\n              path: vm.$router.history.current.path,\n              query: {\n                recount: Math.floor(Math.random() * (100 - 1 + 1)) + 1,\n                renew: Math.floor(Math.random() * (100 - 1 + 1)) + 1,\n                q: currentQuery['q']\n              }\n            });\n          }\n        });\n      }\n    },\n    doPrint02: function doPrint02(dossierItem, item, index, isGroup) {\n      var vm = this;\n      if (vm.thuTucHanhChinhSelected === null || vm.thuTucHanhChinhSelected === undefined || vm.thuTucHanhChinhSelected === 'undefined') {\n        alert('Loi th tc bt buc phi chn');\n      } else {\n        var filter = {\n          document: item.document,\n          'serviceCode': vm.thuTucHanhChinhSelected.serviceCode,\n          'govAgencyCode': vm.thuTucHanhChinhSelected.govAgencyCode,\n          dossiers: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(vm.selected)\n        };\n        vm.dialogPDFLoading = true;\n        vm.dialogPDF = true;\n        vm.$store.dispatch('doPrint02', filter).then(function (result) {\n          vm.dialogPDFLoading = false;\n          document.getElementById('dialogPDFPreview').src = result;\n        });\n      }\n    },\n    doPrint03: function doPrint03(dossierItem, item, index, isGroup) {\n      var vm = this;\n      vm.dialogPDFLoading = true;\n      vm.dialogPDF = true;\n      var filter = {\n        dossierId: dossierItem.dossierId,\n        document: item.document\n      };\n      vm.$store.dispatch('doPrint03', filter).then(function (result) {\n        vm.dialogPDFLoading = false;\n        document.getElementById('dialogPDFPreview').src = result;\n      });\n    },\n    doGuiding: function doGuiding(dossierItem, item, index, isGroup) {\n      var vm = this;\n      if (vm.thuTucHanhChinhSelected === null || vm.thuTucHanhChinhSelected === undefined || vm.thuTucHanhChinhSelected === 'undefined') {\n        alert('Loi th tc bt buc phi chn');\n      } else {\n        var filter = {\n          serviceConfigId: vm.thuTucHanhChinhSelected.serviceConfigId\n        };\n        vm.dialogPDFLoading = true;\n        vm.dialogPDF = true;\n        vm.$store.dispatch('doGuiding', filter).then(function (result) {\n          vm.dialogPDFLoading = false;\n          document.getElementById('dialogPDFPreview').src = result;\n        });\n      }\n    },\n    getNextActions: function getNextActions() {\n      var vm = this;\n      var query = vm.$router.history.current.query;\n      var filter = {\n        dossierId: vm.thongTinChiTietHoSo.dossierId\n      };\n      vm.dossierId = vm.thongTinChiTietHoSo.dossierId;\n      vm.$store.dispatch('pullNextactions', filter).then(function (result) {\n        vm.btnDossierDynamics = result;\n      });\n      vm.$store.dispatch('pullProcessSteps', {\n        stepCode: vm.thongTinChiTietHoSo.stepCode\n      }).then(function (resProSteps) {\n        vm.btnStepsDynamics = resProSteps;\n      });\n    },\n    showAlpacaJSFORM: function showAlpacaJSFORM(item) {\n      var vm = this;\n      if (item.eform) {\n        vm.$store.dispatch('loadFormScript', item).then(function (resScript) {\n          vm.$store.dispatch('loadFormData', item).then(function (resData) {\n            var formScript, formData;\n\n            if (resScript) {\n              formScript = eval('(' + resScript + ')');\n            } else {\n              formScript = {};\n            }\n            if (resData) {\n              formData = eval('(' + resData + ')');\n            } else {\n              formData = {};\n            }\n\n            formScript.data = formData;\n            __WEBPACK_IMPORTED_MODULE_3_jquery___default()('#formAlpaca' + item.partNo).alpaca(formScript);\n          });\n        });\n      }\n    },\n    onUploadSingleFile: function onUploadSingleFile(e, data, i) {\n      var vm = this;\n      e.dataItem = data;\n      e['dossierId'] = vm.thongTinChiTietHoSo.dossierId;\n      e['dossierTemplateNo'] = vm.thongTinChiTietHoSo.dossierTemplateNo;\n      vm.$store.dispatch('uploadSingleFile', e).then(function (result) {}).catch(function (xhr) {});\n    },\n    submitAlpacajsForm: function submitAlpacajsForm(item) {\n      var vm = this;\n      var value = {\n        dossierId: vm.thongTinChiTietHoSo.dossierId,\n        dossierPartNo: item.partNo\n      };\n      vm.$store.dispatch('putAlpacaForm', value);\n    },\n    getColorChat: function getColorChat(syncType) {\n      if (syncType === 1) {\n        return 'pink';\n      } else {\n        return 'cyan lighten-1';\n      }\n    },\n    postNextActions: function postNextActions(stepModel) {\n      var vm = this;\n      stepModel['dossierId'] = vm.thongTinChiTietHoSo.dossierId;\n      if (stepModel.allowAssignUser > 0) {\n        vm.$store.dispatch('reassignDossier', stepModel).then(function (resReassign) {\n          console.log(resReassign);\n          var params = {\n            dossierId: vm.dossierId,\n            actionCode: stepModel.actionCode,\n            actionNote: vm.actionNote,\n            actionUser: '',\n            payload: '',\n            security: '',\n            assignUsers: '',\n            payment: '',\n            createDossiers: ''\n          };\n          vm.$store.dispatch('postAction', params).then(function (resPostAction) {\n            console.log(resPostAction);\n          });\n        });\n      } else {\n        var params = {\n          dossierId: vm.dossierId,\n          actionCode: stepModel.actionCode,\n          actionNote: vm.actionNote,\n          actionUser: '',\n          payload: '',\n          security: '',\n          assignUsers: '',\n          payment: '',\n          createDossiers: ''\n        };\n        vm.$store.dispatch('postAction', params).then(function (resPostAction) {\n          console.log(resPostAction);\n        });\n      }\n    }\n  },\n  filters: {\n    dateTimeView: function dateTimeView(arg) {\n      if (arg) {\n        var value = new Date(arg);\n        return value.getDate().toString().padStart(2, '0') + '/' + (value.getMonth() + 1).toString().padStart(2, '0') + '/' + value.getFullYear() + ' | ' + value.getHours().toString().padStart(2, '0') + ':' + value.getMinutes().toString().padStart(2, '0');\n      } else {\n        return '';\n      }\n    },\n    getMaxDueDate: function getMaxDueDate(arr) {\n      var maxDue = Math.max.apply(Math, arr.map(function (item) {\n        return item.actionOverdue;\n      }));\n      return maxDue;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 576:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"form-chitiet\"\n  }, [(_vm.loading) ? _c('content-placeholders', {\n    staticClass: \"mt-3\"\n  }, [_c('content-placeholders-text', {\n    attrs: {\n      \"lines\": 1\n    }\n  })], 1) : _c('div', {\n    staticClass: \"row-header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-big\"\n  }, [_c('span', [_vm._v(\"CHI TIT H S\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"layout row wrap header_tools row-blue\"\n  }, [_c('div', {\n    staticClass: \"flex xs8 sm10 pl-3 text-ellipsis text-bold\",\n    attrs: {\n      \"title\": _vm.thongTinChiTietHoSo.serviceName\n    }\n  }, [_vm._v(\"\\n        \" + _vm._s(_vm.thongTinChiTietHoSo.serviceName) + \"\\n      \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"flex xs4 sm2 text-right\",\n    staticStyle: {\n      \"margin-left\": \"auto\"\n    }\n  }, [_c('v-btn', {\n    staticClass: \"my-0 mx-0 btn-border-left\",\n    attrs: {\n      \"flat\": \"\",\n      \"active-class\": \"temp_active\"\n    },\n    on: {\n      \"click\": _vm.goBack\n    }\n  }, [_vm._v(\"\\n          Quay li \\n          \"), _c('v-icon', {\n    attrs: {\n      \"size\": \"16\"\n    }\n  }, [_vm._v(\"undo\")])], 1)], 1)])]), _vm._v(\" \"), _c('thong-tin-co-ban-ho-so', {\n    ref: \"thong-tin-co-ban-ho-so\",\n    attrs: {\n      \"detailDossier\": _vm.thongTinChiTietHoSo\n    }\n  }), _vm._v(\" \"), _c('div', [_c('v-tabs', {\n    staticClass: \"mb-4\",\n    attrs: {\n      \"icons-and-text\": \"\",\n      \"centered\": \"\"\n    }\n  }, [_c('v-tabs-slider', {\n    attrs: {\n      \"color\": \"primary\"\n    }\n  }), _vm._v(\" \"), _c('v-tab', {\n    key: 1,\n    attrs: {\n      \"href\": \"#1\"\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"\\n          THNH PHN H S\\n        \")])], 1), _vm._v(\" \"), _c('v-tab', {\n    key: 2,\n    attrs: {\n      \"href\": \"#2\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.getNextActions()\n      }\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"\\n          TH L H S\\n        \")])], 1), _vm._v(\" \"), _c('v-tab', {\n    key: 3,\n    attrs: {\n      \"href\": \"#3\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.loadDossierActions()\n      }\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"\\n          TIN TRNH TH L\\n        \")])], 1), _vm._v(\" \"), _c('v-tab', {\n    key: 4,\n    attrs: {\n      \"href\": \"#4\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.loadDossierLogs()\n      }\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"\\n          NHT K H S\\n        \")])], 1), _vm._v(\" \"), _c('v-tab', {\n    key: 5,\n    attrs: {\n      \"href\": \"#5\"\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"\\n          TRAO I THO LUN\\n        \")])], 1), _vm._v(\" \"), _c('v-tab', {\n    key: 6,\n    attrs: {\n      \"href\": \"#6\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.loadDossierSyncs()\n      }\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"\\n          TRAO I NI B\\n        \")])], 1), _vm._v(\" \"), _c('v-tabs-items', [_c('v-tab-item', {\n    attrs: {\n      \"id\": \"1\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\",\n    staticStyle: {\n      \"border\": \"none\"\n    },\n    attrs: {\n      \"expand\": \"\"\n    }\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"value\": true\n    }\n  }, [_c('div', {\n    staticClass: \"text-bold\",\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_vm._v(\" I.\")]), _vm._v(\"\\n                Ti liu np\\n              \")]), _vm._v(\" \"), _vm._l((_vm.dossierTemplatesTN), function(item, index) {\n    return _c('div', {\n      key: item.partNo\n    }, [_c('v-card', [_c('v-layout', {\n      staticClass: \"px-3 py-1 align-center row-list-style\",\n      staticStyle: {\n        \"border-bottom\": \"1px solid #ddd\"\n      },\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      attrs: {\n        \"xs11\": \"\"\n      }\n    }, [_c('span', {\n      staticClass: \"text-bold\",\n      staticStyle: {\n        \"position\": \"absolute\"\n      }\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"margin-left\": \"30px\"\n      }\n    }, [_vm._v(_vm._s(item.partName))])]), _vm._v(\" \"), _c('v-flex', {\n      staticClass: \"text-right\",\n      attrs: {\n        \"xs1\": \"\"\n      }\n    }, [_c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      staticStyle: {\n        \"height\": \"25px\",\n        \"width\": \"25px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"fab\": \"\",\n        \"dark\": \"\",\n        \"small\": \"\",\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.viewFile(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_vm._v(\"\\n                          \" + _vm._s(item.count) + \"\\n                        \")]), _vm._v(\" \"), _c('span', [_vm._v(\"Xem\")])], 1)], 1)], 1)], 1)], 1)\n  })], 2)], 1), _vm._v(\" \"), _c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\",\n    staticStyle: {\n      \"border\": \"none\"\n    },\n    attrs: {\n      \"expand\": \"\"\n    }\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"value\": true\n    }\n  }, [_c('div', {\n    staticClass: \"text-bold\",\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_vm._v(\" II.\")]), _vm._v(\"\\n                Kt qu\\n              \")]), _vm._v(\" \"), _vm._l((_vm.dossierTemplatesKQ), function(item, index) {\n    return _c('div', {\n      key: item.partNo\n    }, [_c('v-card', [_c('v-layout', {\n      staticClass: \"px-3 py-1 align-center row-list-style\",\n      staticStyle: {\n        \"border-bottom\": \"1px solid #ddd\"\n      },\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      attrs: {\n        \"xs11\": \"\"\n      }\n    }, [_c('span', {\n      staticClass: \"text-bold\",\n      staticStyle: {\n        \"position\": \"absolute\"\n      }\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"margin-left\": \"30px\"\n      }\n    }, [_vm._v(_vm._s(item.partName))])]), _vm._v(\" \"), _c('v-flex', {\n      staticClass: \"text-right\",\n      attrs: {\n        \"xs1\": \"\"\n      }\n    }, [_c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      staticStyle: {\n        \"height\": \"25px\",\n        \"width\": \"25px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"fab\": \"\",\n        \"dark\": \"\",\n        \"small\": \"\",\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.viewFile(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_vm._v(\"\\n                          \" + _vm._s(item.count) + \"\\n                        \")]), _vm._v(\" \"), _c('span', [_vm._v(\"Xem\")])], 1)], 1)], 1)], 1)], 1)\n  })], 2)], 1), _vm._v(\" \"), _c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\",\n    staticStyle: {\n      \"border\": \"none\"\n    },\n    attrs: {\n      \"expand\": \"\"\n    }\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"value\": true\n    }\n  }, [_c('div', {\n    staticClass: \"text-bold\",\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_vm._v(\" III.\")]), _vm._v(\"\\n                Vn bn hnh chnh\\n              \")]), _vm._v(\" \"), _vm._l((_vm.documents), function(item, index) {\n    return _c('div', {\n      key: item.documentCode\n    }, [_c('v-card', [_c('v-layout', {\n      staticClass: \"px-3 py-1 align-center row-list-style\",\n      staticStyle: {\n        \"border-bottom\": \"1px solid #ddd\"\n      },\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      attrs: {\n        \"xs11\": \"\"\n      }\n    }, [_c('span', {\n      staticClass: \"text-bold\",\n      staticStyle: {\n        \"position\": \"absolute\"\n      }\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"margin-left\": \"30px\"\n      }\n    }, [_vm._v(_vm._s(item.documentName))])]), _vm._v(\" \"), _c('v-flex', {\n      staticClass: \"text-right\",\n      attrs: {\n        \"xs1\": \"\"\n      }\n    }, [_c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      staticStyle: {\n        \"height\": \"25px\",\n        \"width\": \"25px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"fab\": \"\",\n        \"dark\": \"\",\n        \"small\": \"\",\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.viewFile(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_c('v-icon', [_vm._v(\"visibility\")])], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Xem\")])], 1)], 1)], 1)], 1)], 1)\n  })], 2)], 1)], 1), _vm._v(\" \"), _c('v-tab-item', {\n    attrs: {\n      \"id\": \"2\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [(_vm.btnStateVisible) ? _c('div', {}, [_vm._l((_vm.btnDossierDynamics), function(item, index) {\n    return _c('v-btn', {\n      key: index,\n      attrs: {\n        \"color\": \"primary\",\n        \"loading\": _vm.loadingAction && index === _vm.indexAction,\n        \"disabled\": _vm.loadingAction && index === _vm.indexAction\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.processPullBtnDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"\\n              \" + _vm._s(item.actionName) + \"\\n              \"), _c('span', {\n      attrs: {\n        \"slot\": \"loader\"\n      },\n      slot: \"loader\"\n    }, [_vm._v(\"Loading...\")])])\n  }), _vm._v(\" \"), _vm._l((_vm.btnStepsDynamics), function(item, index) {\n    return (String(item.form) !== 'NEW') ? _c('v-btn', {\n      key: index,\n      attrs: {\n        \"color\": \"primary\",\n        \"loading\": _vm.loadingAction && index === _vm.indexActionStep,\n        \"disabled\": _vm.loadingAction && index === _vm.indexActionStep\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.btnActionEvent(item, index, true)\n        }\n      }\n    }, [_vm._v(\"\\n              \" + _vm._s(item.title) + _vm._s(item.tiltle) + \"\\n              \"), _c('span', {\n      attrs: {\n        \"slot\": \"loader\"\n      },\n      slot: \"loader\"\n    }, [_vm._v(\"Loading...\")])]) : _vm._e()\n  })], 2) : _vm._e(), _vm._v(\" \"), (_vm.dialogActionProcess) ? _c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [(_vm.showPhanCongNguoiThucHien) ? _c('phan-cong', {\n    attrs: {\n      \"type\": _vm.type_assign\n    },\n    model: {\n      value: (_vm.assign_items),\n      callback: function($$v) {\n        _vm.assign_items = $$v\n      },\n      expression: \"assign_items\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showTraKetQua) ? _c('tra-ket-qua', {\n    attrs: {\n      \"resultFiles\": _vm.returnFiles\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showXacNhanThuPhi) ? _c('xac-nhan-thu-phi', {\n    attrs: {\n      \"payments\": _vm.payments,\n      \"payment_type\": _vm.payment_type\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showYkienCanBoThucHien) ? _c('y-kien-can-bo', {\n    attrs: {\n      \"user_note\": _vm.userNote\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.dialogActionProcess) ? _c('v-btn', {\n    attrs: {\n      \"color\": \"primary\",\n      \"flat\": \"flat\",\n      \"loading\": _vm.loadingActionProcess,\n      \"disabled\": _vm.loadingActionProcess\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.processAction(_vm.dossierItemDialogPick, _vm.itemDialogPick, _vm.resultDialogPick, _vm.indexDialogPick, false)\n      }\n    }\n  }, [_vm._v(\"\\n            Xc nhn\\n            \"), _c('span', {\n    attrs: {\n      \"slot\": \"loader\"\n    },\n    slot: \"loader\"\n  }, [_vm._v(\"Loading...\")])]) : _vm._e(), _vm._v(\" \"), (_vm.rollbackable) ? _c('v-btn', {\n    attrs: {\n      \"color\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.rollBack()\n      }\n    }\n  }, [_vm._v(\"Quay lui\")]) : _vm._e()], 1) : _vm._e()], 1), _vm._v(\" \"), _c('v-tab-item', {\n    attrs: {\n      \"id\": \"3\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [_c('div', [_c('v-data-table', {\n    staticClass: \"table-landing table-bordered\",\n    attrs: {\n      \"headers\": _vm.headers,\n      \"items\": _vm.dossierActions,\n      \"hide-actions\": \"\",\n      \"no-data-text\": \"Khng c d liu\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"headerCell\",\n      fn: function(props) {\n        return [_c('v-tooltip', {\n          attrs: {\n            \"bottom\": \"\"\n          }\n        }, [_c('span', {\n          attrs: {\n            \"slot\": \"activator\"\n          },\n          slot: \"activator\"\n        }, [_vm._v(\"\\n                  \" + _vm._s(props.header.text) + \"\\n                \")]), _vm._v(\" \"), _c('span', [_vm._v(\"\\n                  \" + _vm._s(props.header.text) + \"\\n                \")])])]\n      }\n    }, {\n      key: \"items\",\n      fn: function(props) {\n        return [_c('td', {\n          staticClass: \"text-xs-center\"\n        }, [_vm._v(_vm._s(props.item.sequenceRole))]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-center\"\n        }, [_vm._v(_vm._s(props.item.sequenceName))]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-center\"\n        }, [_vm._v(_vm._s(props.item.durationCount) + \" ngy\")]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-center\"\n        }, [_vm._v(_vm._s(props.item.startDate))]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-center\"\n        }, _vm._l((props.item.assignUsers), function(itemUser) {\n          return _c('div', {\n            key: itemUser.userId\n          }, [_vm._v(\"\\n                  \" + _vm._s(itemUser.userName) + \" \"), _c('br')])\n        })), _vm._v(\" \"), _c('td', _vm._l((props.item.actions), function(itemAction, index) {\n          return _c('div', {\n            key: index\n          }, [_vm._v(\"\\n                  \" + _vm._s(itemAction.actionName) + \" : (\" + _vm._s(itemAction.createDate) + \")\\n                  \"), (index === props.item.actions.length - 1) ? _c('div', [(itemAction.actionOverdue > 0) ? _c('span', {\n            staticStyle: {\n              \"color\": \"red\"\n            }\n          }, [_vm._v(\"Qu hn \" + _vm._s(itemAction.actionOverdue) + \" ngy\")]) : (itemAction.state === 0) ? _c('span', {\n            staticStyle: {\n              \"color\": \"blue\"\n            }\n          }, [_vm._v(\"ang ch thc hin\")]) : (itemAction.state === 1) ? _c('span', {\n            staticStyle: {\n              \"color\": \"blue\"\n            }\n          }, [_vm._v(\" thc hin\")]) : _c('span', {\n            staticStyle: {\n              \"color\": \"blue\"\n            }\n          }, [_vm._v(\"Quay li bc trc\")])]) : _vm._e()])\n        }))]\n      }\n    }])\n  })], 1)]), _vm._v(\" \"), _c('v-tab-item', {\n    attrs: {\n      \"id\": \"4\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, _vm._l((_vm.listHistoryProcessing), function(item, index) {\n    return _c('div', {\n      key: item.dossierLogId,\n      staticClass: \"list_history_style\"\n    }, [_c('td', {\n      staticClass: \"px-2 pt-2\",\n      class: index % 2 !== 0 ? 'col-tien-trinh-1' : 'col-tien-trinh-2'\n    }, [_vm._v(_vm._s(index + 1))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"text-xs-left px-2 py-2\"\n    }, [_c('p', {\n      staticClass: \"mb-2\"\n    }, [_vm._v(\" ng/b \"), _c('b', [_vm._v(_vm._s(item.author))]), _vm._v(\" \"), _c('span', {\n      staticStyle: {\n        \"color\": \"#0b72ba\"\n      }\n    }, [_vm._v(\"( \" + _vm._s(item.payload.stepName) + \" )\")]), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('span', {\n      staticStyle: {\n        \"color\": \"#939393\"\n      }\n    }, [_vm._v(_vm._s(_vm._f(\"dateTimeView\")(item.createDate)))])]), _vm._v(\"\\n                 kin: \"), _c('span', {\n      domProps: {\n        \"innerHTML\": _vm._s(item.content)\n      }\n    }), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _vm._l((item.payload.files), function(file) {\n      return _c('p', {\n        key: file.dossierFileId,\n        staticClass: \"history__download__link hover-pointer-download\",\n        attrs: {\n          \"title\": \"Ti file\"\n        },\n        on: {\n          \"click\": function($event) {\n            $event.preventDefault();\n            $event.stopPropagation();\n            _vm.downloadFileLogs(file.dossierFileId)\n          }\n        }\n      }, [_c('v-icon', [_vm._v(\"file_download\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(file.fileName))])], 1)\n    })], 2)])\n  })), _vm._v(\" \"), _c('v-tab-item', {\n    attrs: {\n      \"id\": \"5\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [_c('comment', {\n    attrs: {\n      \"classPK\": _vm.dossierId,\n      \"className\": _vm.className\n    }\n  })], 1), _vm._v(\" \"), _c('v-tab-item', {\n    attrs: {\n      \"id\": \"6\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [_c('v-layout', {\n    attrs: {\n      \"row\": \"\",\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm3\": \"\"\n    }\n  }), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm6\": \"\"\n    }\n  }, [_c('v-card', [_c('div', {\n    staticStyle: {\n      \"height\": \"400px\",\n      \"overflow\": \"auto\",\n      \"margin-bottom\": \"10px\"\n    }\n  }, _vm._l((_vm.dossierSyncs), function(item, index) {\n    return _c('div', {\n      key: index\n    }, [_c('div', {\n      class: {\n        'text-xs-left': item.syncType === 1, 'text-xs-right': item.syncType === 2\n      }\n    }, [_c('v-chip', {\n      attrs: {\n        \"label\": \"\",\n        \"color\": _vm.getColorChat(item.syncType),\n        \"text-color\": \"white\"\n      }\n    }, [_vm._v(\"\\n                        \" + _vm._s(item.actionUser) + \": \" + _vm._s(item.actionNote) + \"\\n                      \")])], 1)])\n  })), _vm._v(\" \"), _c('v-text-field', {\n    attrs: {\n      \"solo\": \"\",\n      \"label\": \"Nhp trao i\",\n      \"append-icon\": \"send\"\n    },\n    on: {\n      \"change\": _vm.postChat\n    },\n    model: {\n      value: (_vm.messageChat),\n      callback: function($$v) {\n        _vm.messageChat = $$v\n      },\n      expression: \"messageChat\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm3\": \"\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// o/front-end-super-gate/js/1.5bc5ee75d4f0a3c5818c.js","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./PhanCongNguoiThucHien.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7cac08a2\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./PhanCongNguoiThucHien.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/PhanCongNguoiThucHien.vue\n// module id = 212\n// module chunks = 0 1 3 17","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ThongTinCoBanHoSo.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02494d10\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ThongTinCoBanHoSo.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/ThongTinCoBanHoSo.vue\n// module id = 213\n// module chunks = 0 1 3 15","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./TraKetQua.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5b02061d\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./TraKetQua.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/TraKetQua.vue\n// module id = 214\n// module chunks = 0 1 3 14","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./XacNhanThuPhi.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ef005570\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./XacNhanThuPhi.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/XacNhanThuPhi.vue\n// module id = 215\n// module chunks = 0 1 3 13","var Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./YkienCanBoThucHien.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ad80357c\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./YkienCanBoThucHien.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/form_xu_ly/YkienCanBoThucHien.vue\n// module id = 216\n// module chunks = 0 1 3 12","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Comment.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c8f36406\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Comment.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Comment.vue\n// module id = 220\n// module chunks = 0 1 2","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./XemChiTietHoSoDetailCanBo.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2b6b1f3f\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./XemChiTietHoSoDetailCanBo.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/XemChiTietHoSoDetailCanBo.vue\n// module id = 241\n// module chunks = 0 1","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_wks-define.js\n// module id = 507\n// module chunks = 0 1 2","exports.f = require('./_wks');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_wks-ext.js\n// module id = 508\n// module chunks = 0 1 2","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/keys.js\n// module id = 512\n// module chunks = 0 1 2","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gopn.js\n// module id = 513\n// module chunks = 0 1 2","/* eslint-disable */\r\n\r\n(function (factory) {\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\t// AMD. Register as an anonymous module.\r\n\t\tdefine(['jquery'], factory);\r\n\t} else if (typeof module === 'object' && module.exports) {\r\n\t\t// Node/CommonJS\r\n\t\tmodule.exports = function(root, jQuery) {\r\n\t\t\tif (jQuery === undefined) {\r\n\t\t\t\t// require('jQuery') returns a factory that requires window to\r\n\t\t\t\t// build a jQuery instance, we normalize how we use modules\r\n\t\t\t\t// that require this pattern but the window provided is a noop\r\n\t\t\t\t// if it's defined (how jquery works)\r\n\t\t\t\tif (typeof window !== 'undefined') {\r\n\t\t\t\t\tjQuery = require('jquery');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tjQuery = require('jquery')(root);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfactory(jQuery);\r\n\t\t\treturn jQuery;\r\n\t\t};\r\n\t} else {\r\n\t\t// Browser globals\r\n\t\tfactory(jQuery);\r\n\t}\r\n}(function($) {\r\n\r\n\tvar Comments = {\r\n\t\t// Instance variables\r\n\t\t$el: null,\r\n\t\tcommentsById: {},\r\n\t\tusersById: {},\r\n\t\tdataFetched: false,\r\n\t\tcurrentSortKey: '',\r\n\t\toptions: {},\r\n\t\tevents: {\r\n\t\t\t// Close dropdowns\r\n\t\t\t'click': 'closeDropdowns',\r\n\t\t\t// Save comment on keydown\r\n\t\t\t'keydown [contenteditable]' : 'saveOnKeydown',\r\n\t\t\t// Listening changes in contenteditable fields (due to input event not working with IE)\r\n\t\t\t'focus [contenteditable]' : 'saveEditableContent',\r\n\t\t\t'keyup [contenteditable]' : 'checkEditableContentForChange',\r\n\t\t\t'paste [contenteditable]' : 'checkEditableContentForChange',\r\n\t\t\t'input [contenteditable]' : 'checkEditableContentForChange',\r\n\t\t\t'blur [contenteditable]' : 'checkEditableContentForChange',\r\n\t\t\t// Navigation\r\n\t\t\t'click .navigation li[data-sort-key]' : 'navigationElementClicked',\r\n\t\t\t'click .navigation li.title' : 'toggleNavigationDropdown',\r\n\t\t\t// Main comenting field\r\n\t\t\t'click .commenting-field.main .textarea': 'showMainCommentingField',\r\n\t\t\t'click .commenting-field.main .close' : 'hideMainCommentingField',\r\n\t\t\t// All commenting fields\r\n\t\t\t'click .commenting-field .textarea' : 'increaseTextareaHeight',\r\n\t\t\t'change .commenting-field .textarea' : 'increaseTextareaHeight textareaContentChanged',\r\n\t\t\t'click .commenting-field:not(.main) .close' : 'removeCommentingField',\r\n\t\t\t// Edit mode actions\r\n\t\t\t'click .commenting-field .send.enabled' : 'postComment',\r\n\t\t\t'click .commenting-field .update.enabled' : 'putComment',\r\n\t\t\t'click .commenting-field .delete.enabled' : 'deleteComment',\r\n\t\t\t'change .commenting-field .upload.enabled input[type=\"file\"]' : 'fileInputChanged',\r\n\t\t\t// Other actions\r\n\t\t\t'click li.comment button.upvote' : 'upvoteComment',\r\n\t\t\t'click li.comment button.delete.enabled' : 'deleteComment',\r\n\t\t\t'click li.comment .hashtag' : 'hashtagClicked',\r\n\t\t\t'click li.comment .ping' : 'pingClicked',\r\n\t\t\t// Other\r\n\t\t\t'click li.comment ul.child-comments .toggle-all': 'toggleReplies',\r\n\t\t\t'click li.comment button.reply': 'replyButtonClicked',\r\n\t\t\t'click li.comment button.edit': 'editButtonClicked',\r\n\t\t\t// Drag & dropping attachments\r\n\t\t\t'dragenter' : 'showDroppableOverlay',\r\n\t\t\t'dragenter .droppable-overlay' : 'handleDragEnter',\r\n\t\t\t'dragleave .droppable-overlay' : 'handleDragLeaveForOverlay',\r\n\t\t\t'dragenter .droppable-overlay .droppable' : 'handleDragEnter',\r\n\t\t\t'dragleave .droppable-overlay .droppable' : 'handleDragLeaveForDroppable',\r\n\t\t\t'dragover .droppable-overlay' : 'handleDragOverForOverlay',\r\n\t\t\t'drop .droppable-overlay' : 'handleDrop',\r\n\t\t\t// Prevent propagating the click event into buttons under the autocomplete dropdown\r\n\t\t\t'click .dropdown.autocomplete': 'stopPropagation',\r\n\t\t\t'mousedown .dropdown.autocomplete': 'stopPropagation',\r\n\t\t\t'touchstart .dropdown.autocomplete': 'stopPropagation',\r\n\t\t},\r\n\t\t// Default options\r\n\r\n\t\tgetDefaultOptions: function() {\r\n\t\t\treturn {\r\n\t\t\t\t// User        \r\n\t\t\t\tprofilePictureURL: '',\r\n\t\t\t\tcurrentUserIsAdmin: false,\r\n\t\t\t\tcurrentUserId: null,\r\n\t\t\t\t// Font awesome icon overrides        \r\n\t\t\t\tspinnerIconURL: '',\r\n\t\t\t\tupvoteIconURL: '',\r\n\t\t\t\treplyIconURL: '',\r\n\t\t\t\tuploadIconURL: '',\r\n\t\t\t\tattachmentIconURL: '',\r\n\t\t\t\tfileIconURL: '',\r\n\t\t\t\tnoCommentsIconURL: '',\r\n\t\t\t\tnoCommentsImptIconURL: '',\r\n\t\t\t\t// Strings to be formatted (for example localization)     \r\n\t\t\t\ttextareaPlaceholderText: 'Thm bnh lun mi',\r\n\t\t\t\tnewestText: 'Mi nht',\r\n\t\t\t\toldestText: 'C nht',\r\n\t\t\t\timportantCmtText: ' kin chnh thc',\r\n\t\t\t\tpopularText: 'Ph bin',\r\n\t\t\t\tattachmentsText: 'Tp nh km',\r\n\t\t\t\tsendText: 'Gi',\r\n\t\t\t\treplyText: 'Tr li',\r\n\t\t\t\teditText: 'Sa',\r\n\t\t\t\teditedText: ' sa',\r\n\t\t\t\tyouText: 'You',\r\n\t\t\t\tsaveText: 'Ghi li',\r\n\t\t\t\tdeleteText: 'Xo',\r\n\t\t\t\tnewText: 'Mi',\r\n\t\t\t\tviewAllRepliesText: 'Xem tt c __replyCount__ tr li',\r\n\t\t\t\thideRepliesText: 'Hide replies',\r\n\t\t\t\tnoCommentsText: 'Khng c bnh lun',\r\n\t\t\t\tnoCommentsImportantText: 'Khng c  kin chnh thc',\r\n\t\t\t\tnoAttachmentsText: 'Khng c tp nh km',\r\n\t\t\t\tattachmentDropText: 'Ko th tp  ti ln',\r\n\t\t\t\ttextFormatter: function(text) {return text},\r\n\t\t\t\t\r\n\t\t\t\t// Functionalities        \r\n\t\t\t\tenableReplying: true,\r\n\t\t\t\tenableEditing: true,\r\n\t\t\t\tenableUpvoting: true,\r\n\t\t\t\tenableDeleting: true,\r\n\t\t\t\tenableAttachments: false,\r\n\t\t\t\tenableHashtags: false,\r\n\t\t\t\tenablePinging: false,\r\n\t\t\t\tenableDeletingCommentWithReplies: false,\r\n\t\t\t\tenableNavigation: true,\r\n\t\t\t\tpostCommentOnEnter: false,\r\n\t\t\t\tforceResponsive: false,\r\n\t\t\t\treadOnly: false,\r\n\t\t\t\tdefaultNavigationSortKey: 'newest',\r\n\t\t\t\t// Colors     \r\n\t\t\t\thighlightColor: '#2793e6',\r\n\t\t\t\tdeleteButtonColor: '#C9302C',\r\n\t\t\t\tscrollContainer: this.$el,\r\n\t\t\t\troundProfilePictures: false,\r\n\t\t\t\ttextareaRows: 2,\r\n\t\t\t\ttextareaRowsOnFocus: 2,\r\n\t\t\t\ttextareaMaxRows: 5,\r\n\t\t\t\tmaxRepliesVisible: 2,\r\n\t\t\t\t\r\n\t\t\t\tfieldMappings: {\r\n\t\t\t\t\tid: 'id',\r\n\t\t\t\t\tparent: 'parent',\r\n\t\t\t\t\tcreated: 'createdDate',\r\n\t\t\t\t\tmodified: 'modifiedDate',\r\n\t\t\t\t\tcontent: 'content',\r\n\t\t\t\t\tfile: 'file',\r\n\t\t\t\t\tfileURL: 'file_url',\r\n\t\t\t\t\tfileMimeType: 'file_mime_type',\r\n\t\t\t\t\tpings: 'pings',\r\n\t\t\t\t\tcreator: 'creator',\r\n\t\t\t\t\tfullname: 'fullname',\r\n\t\t\t\t\tprofileURL: 'profile_url',\r\n\t\t\t\t\tprofilePictureURL: 'profile_picture_url',\r\n\t\t\t\t\tisNew: 'is_new',\r\n\t\t\t\t\tcreatedByAdmin: 'created_by_admin',\r\n\t\t\t\t\tcreatedByCurrentUser: 'created_by_current_user',\r\n\t\t\t\t\tupvoteCount: 'upvote_count',\r\n\t\t\t\t\tuserHasUpvoted: 'user_has_upvoted'\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\tgetUsers: function(success, error) {success([])},\r\n\t\t\t\tgetComments: function(success, error) {success([])},\r\n\t\t\t\tpostComment: function(commentJSON, success, error) {success(commentJSON)},\r\n\t\t\t\tputComment: function(commentJSON, success, error) {success(commentJSON)},\r\n\t\t\t\tdeleteComment: function(commentJSON, success, error) {success()},\r\n\t\t\t\tupvoteComment: function(commentJSON, success, error) {success(commentJSON)},\r\n\t\t\t\thashtagClicked: function(hashtag) {},\r\n\t\t\t\tpingClicked: function(userId) {},\r\n\t\t\t\tuploadAttachments: function(commentArray, success, error) {success(commentArray)},\r\n\t\t\t\trefresh: function() {},\r\n\t\t\t\ttimeFormatter: function(time) {return new Date(time).toLocaleDateString()},\r\n\t\t\t\tappendNewComments: function(commentJSONs, success, error) {success([])}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Initialization\r\n\t\tinit: function(options, el) {\r\n\t\t\tthis.$el = $(el);\r\n\t\t\tthis.$el.addClass('jquery-comments');\r\n\t\t\tthis.undelegateEvents();\r\n\t\t\tthis.delegateEvents();\r\n\t\t\t// Detect mobile devices\r\n\t\t\t(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);\r\n\t\t\tif($.browser.mobile) this.$el.addClass('mobile');\r\n\t\t\t// Init options\r\n\t\t\tthis.options = $.extend(true, {}, this.getDefaultOptions(), options);;\r\n\t\t\t// Read-only mode\r\n\t\t\tif(this.options.readOnly) this.$el.addClass('read-only');\r\n\t\t\t// Set initial sort key\r\n\t\t\tthis.currentSortKey = this.options.defaultNavigationSortKey;\r\n\t\t\t// Create CSS declarations for highlight color\r\n\t\t\tthis.createCssDeclarations();\r\n\t\t\t// Fetching data and rendering\r\n\t\t\tthis.fetchDataAndRender();\r\n\t\t},\r\n\r\n\t\tdelegateEvents: function() {\r\n\t\t\tthis.bindEvents(false);\r\n\t\t},\r\n\r\n\t\tundelegateEvents: function() {\r\n\t\t\tthis.bindEvents(true);\r\n\t\t},\r\n\r\n\t\tbindEvents: function(unbind) {\r\n\t\t\t\tvar bindFunction = unbind ? 'off' : 'on';\r\n\t\t\t\tfor (var key in this.events) {\r\n\t\t\t\t\t\tvar eventName = key.split(' ')[0];\r\n\t\t\t\t\t\tvar selector = key.split(' ').slice(1).join(' ');\r\n\t\t\t\t\t\tvar methodNames = this.events[key].split(' ');\r\n\r\n\t\t\t\t\t\tfor(var index in methodNames) {\r\n\t\t\t\t\t\t\t\tif(methodNames.hasOwnProperty(index)) {\r\n\t\t\t\t\t\t\t\t\t\tvar method = this[methodNames[index]];\r\n\r\n\t\t\t\t\t\t\t\t\t\t// Keep the context\r\n\t\t\t\t\t\t\t\t\t\tmethod = $.proxy(method, this);\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (selector == '') {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$el[bindFunction](eventName, method);\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$el[bindFunction](eventName, selector, method);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Basic functionalities\r\n\t\tfetchDataAndRender: function () {\r\n\t\t\tvar self = this;\r\n\t\t\tsetTimeout(function(){self.appendNewComments()},30000);\r\n\t\t\tthis.commentsById = {};\r\n\t\t\tthis.usersById = {};\r\n\t\t\tthis.$el.empty();\r\n\t\t\tthis.createHTML();\r\n\t\t\t// Render after data has been fetched\r\n\t\t\tvar dataFetched = this.after(this.options.enablePinging ? 2 : 1, function() {\r\n\t\t\t\tself.dataFetched = true;\r\n\t\t\t\tself.render();\r\n\t\t\t});\r\n\r\n\t\t\t// Comments\r\n\t\t\tvar commentsFetched = function(commentsArray) {\r\n\t\t\t\t// Convert comments to custom data model\r\n\t\t\t\tvar commentModels = commentsArray.map(function(commentsJSON){\r\n\t\t\t\t\treturn self.createCommentModel(commentsJSON)\r\n\t\t\t\t});\r\n\t\t\t\t// Sort comments by date (oldest first so that they can be appended to the data model\r\n\t\t\t\t// without caring dependencies)\r\n\t\t\t\tself.sortComments(commentModels, 'oldest');\r\n\t\t\t\t$(commentModels).each(function(index, commentModel) {\r\n\t\t\t\t\t\tself.addCommentToDataModel(commentModel);\r\n\t\t\t\t});\r\n\t\t\t\tdataFetched();\r\n\t\t\t};\r\n\t\t\tthis.options.getComments(commentsFetched, dataFetched);\r\n\r\n\t\t\t// Users\r\n\t\t\tif(this.options.enablePinging) {\r\n\t\t\t\tvar usersFetched = function(userArray) {\r\n\t\t\t\t\t$(userArray).each(function(index, user) {\r\n\t\t\t\t\t\tself.usersById[user.id] = user;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tdataFetched();\r\n\t\t\t\t}\r\n\t\t\t\tthis.options.getUsers(usersFetched, dataFetched);\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tfetchNext: function() {\r\n\t\t\tvar self = this;\r\n\t\t\t// Loading indicator\r\n\t\t\tvar spinner = this.createSpinner();\r\n\t\t\tthis.$el.find('ul#comment-list').append(spinner);\r\n\t\t\tvar success = function (commentModels) {\r\n\t\t\t\t$(commentModels).each(function(index, commentModel) {\r\n\t\t\t\t\tself.createComment(commentModel);\r\n\t\t\t\t});\r\n\t\t\t\tspinner.remove();\r\n\t\t\t}\r\n\r\n\t\t\tvar error = function() {\r\n\t\t\t\tspinner.remove();\r\n\t\t\t}\r\n\t\t\tthis.options.getComments(success, error);\r\n\t\t},\r\n\r\n\t\tcreateCommentModel: function(commentJSON) {\r\n\t\t\tvar commentModel = this.applyInternalMappings(commentJSON);\r\n\t\t\tcommentModel.childs = [];\r\n\t\t\tthis.commentsById[commentModel.id] = commentModel;\r\n\t\t\treturn commentModel;\r\n\t\t},\r\n\r\n\t\taddCommentToDataModel: function(commentModel) {\r\n\t\t\tif(!(commentModel.id in this.commentsById)) {\r\n\t\t\t\tthis.commentsById[commentModel.id] = commentModel;\r\n\r\n\t\t\t\t// Update child array of the parent (append childs to the array of outer most parent)\r\n\t\t\t\tif(commentModel.parent) {\r\n\t\t\t\t\tvar outermostParent = this.getOutermostParent(commentModel.parent);\r\n\t\t\t\t\toutermostParent.childs.push(commentModel.id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tupdateCommentModel: function(commentModel) {\r\n\t\t\t$.extend(this.commentsById[commentModel.id], commentModel);\r\n\t\t},\r\n\r\n\t\trender: function() {\r\n\t\t\tvar self = this;\r\n\t\t\t// Prevent re-rendering if data hasn't been fetched\r\n\t\t\tif(!this.dataFetched) return;\r\n\t\t\t// Show active container\r\n\t\t\tthis.showActiveContainer();\r\n\t\t\t// Create comments\r\n\t\t\tthis.createComments();\r\n\t\t\t// Create attachments if enabled\r\n\t\t\tif(this.options.enableAttachments) this.createAttachments(); \r\n\t\t\t// Create important comment\r\n\t\t\tthis.createImportantComments();\r\n\t\t\t// Remove spinner\r\n\t\t\tthis.$el.find('> .spinner').remove();\r\n\t\t\tthis.options.refresh();\r\n\t\t},\r\n\r\n\t\tshowActiveContainer: function() {\r\n\t\t\tvar activeNavigationEl = this.$el.find('.navigation li[data-container-name].active');\r\n\t\t\tvar containerName = activeNavigationEl.data('container-name');\r\n\t\t\tvar containerEl = this.$el.find('[data-container=\"' + containerName + '\"]');\r\n\t\t\tcontainerEl.siblings('[data-container]').hide();\r\n\t\t\tcontainerEl.show();\r\n\t\t},\r\n\r\n\t\tcreateComments: function() {\r\n\t\t\tvar self = this;\r\n\t\t\t// Create the list element before appending to DOM in order to reach better performance\r\n\t\t\tthis.$el.find('#comment-list').remove();\r\n\t\t\tvar commentList = $('<ul/>', {\r\n\t\t\t\tid: 'comment-list',\r\n\t\t\t\t'class': 'main'\r\n\t\t\t});\r\n\r\n\t\t\t// Divide commments into main level comments and replies\r\n\t\t\tvar mainLevelComments = [];\r\n\t\t\tvar replies = [];\r\n\r\n\t\t\t$(this.getComments()).each(function(index, commentModel) {\r\n\t\t\t\tif(commentModel.parent == null) {\r\n\t\t\t\t\tmainLevelComments.push(commentModel);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treplies.push(commentModel);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t// Append main level comments\r\n\t\t\tthis.sortComments(mainLevelComments, this.currentSortKey);\r\n\t\t\tmainLevelComments.reverse();    // Reverse the order as they are prepended to DOM\r\n\t\t\t$(mainLevelComments).each(function(index, commentModel) {\r\n\t\t\t\tself.addComment(commentModel, commentList);\r\n\t\t\t});\r\n\r\n\t\t\t// Append replies in chronological order\r\n\t\t\tthis.sortComments(replies, 'oldest');\r\n\t\t\t$(replies).each(function(index, commentModel) {\r\n\t\t\t\tself.addComment(commentModel, commentList);\r\n\t\t\t});\r\n\r\n\t\t\t// Appned list to DOM\r\n\t\t\tthis.$el.find('[data-container=\"comments\"]').prepend(commentList);\r\n\t\t},\r\n\r\n\t\tcreateAttachments: function() {\r\n\t\t\tvar self = this;\r\n\t\t\t// Create the list element before appending to DOM in order to reach better performance\r\n\t\t\tthis.$el.find('#attachment-list').remove();\r\n\t\t\tvar attachmentList = $('<ul/>', {\r\n\t\t\t\tid: 'attachment-list',\r\n\t\t\t\t'class': 'main'\r\n\t\t\t});\r\n\r\n\t\t\tvar attachments = this.getAttachments();\r\n\t\t\tthis.sortComments(attachments, 'newest');\r\n\t\t\tattachments.reverse();    // Reverse the order as they are prepended to DOM\r\n\t\t\t$(attachments).each(function(index, commentModel) {\r\n\t\t\t\tself.addAttachment(commentModel, attachmentList);\r\n\t\t\t});\r\n\r\n\t\t\t// Appned list to DOM\r\n\t\t\tthis.$el.find('[data-container=\"attachments\"]').prepend(attachmentList);\r\n\t\t},\r\n\t\tcreateImportantComments: function() {\r\n\t\t\tvar self = this;\r\n\t\t\t// Create the list element before appending to DOM in order to reach better performance\r\n\t\t\tthis.$el.find('#importantCmt-list').remove();\r\n\t\t\tvar importantCmtList = $('<ul/>', {\r\n\t\t\t\t\tid: 'importantCmt-list',\r\n\t\t\t\t\t'class': 'main'\r\n\t\t\t});\r\n\r\n\t\t\tvar importantCmt = this.getImportantCmt();\r\n\r\n\t\t\tthis.sortComments(importantCmt, 'newest');\r\n\t\t\timportantCmt.reverse();    // Reverse the order as they are prepended to DOM\r\n\t\t\t$(importantCmt).each(function(index, commentModel) {\r\n\t\t\t\t\tself.addImportantCmt(commentModel, importantCmtList);\r\n\t\t\t});\r\n\r\n\t\t\t// Appned list to DOM\r\n\t\t\tthis.$el.find('[data-container=\"importantCmt\"]').prepend(importantCmtList);\r\n\t\t},\r\n\t\taddComment: function(commentModel, commentList) {\r\n\t\t\tcommentList = commentList || this.$el.find('#comment-list');\r\n\t\t\tvar commentEl = this.createCommentElement(commentModel);\r\n\r\n\t\t\t// Case: reply\r\n\t\t\tif(commentModel.parent) {\r\n\t\t\t\tvar directParentEl = commentList.find('.comment[data-id=\"'+commentModel.parent+'\"]');\r\n\r\n\t\t\t\t// Re-render action bar of direct parent element\r\n\t\t\t\tthis.reRenderCommentActionBar(commentModel.parent);\r\n\r\n\t\t\t\t// Force replies into one level only\r\n\t\t\t\tvar outerMostParent = directParentEl.parents('.comment').last();\r\n\t\t\t\tif(outerMostParent.length == 0) outerMostParent = directParentEl;\r\n\r\n\t\t\t\t// Append element to DOM\r\n\t\t\t\tvar childCommentsEl = outerMostParent.find('.child-comments');\r\n\t\t\t\tvar commentingField = childCommentsEl.find('.commenting-field');\r\n\t\t\t\tif(commentingField.length) {\r\n\t\t\t\t\tcommentingField.before(commentEl)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tchildCommentsEl.append(commentEl);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update toggle all -button\r\n\t\t\t\tthis.updateToggleAllButton(outerMostParent);\r\n\r\n\t\t\t// Case: main level comment\r\n\t\t\t} else {\r\n\t\t\t\tcommentList.prepend(commentEl);\r\n\t\t\t}\r\n\t\t},\r\n\t\taddAttachment: function(commentModel, commentList) {\r\n\t\t\tcommentList = commentList || this.$el.find('#attachment-list');\r\n\t\t\tvar commentEl = this.createCommentElement(commentModel);\r\n\t\t\tcommentList.prepend(commentEl);\r\n\t\t},\r\n\t\taddImportantCmt: function(commentModel, commentList) {\r\n\t\t\tcommentList = commentList || this.$el.find('#importantCmt-list');\r\n\t\t\tvar commentEl = this.createCommentElement(commentModel);\r\n\t\t\tcommentList.prepend(commentEl);\r\n\t\t},\r\n\t\tremoveComment: function(commentId) {\r\n\t\t\tvar self = this;\r\n\t\t\tvar commentModel = this.commentsById[commentId];\r\n\r\n\t\t\t// Remove child comments recursively\r\n\t\t\tvar childComments = this.getChildComments(commentModel.id);\r\n\t\t\t$(childComments).each(function(index, childComment) {\r\n\t\t\t\tself.removeComment(childComment.id);\r\n\t\t\t});\r\n\r\n\t\t\t// Update the child array of outermost parent\r\n\t\t\tif(commentModel.parent) {\r\n\t\t\t\tvar outermostParent = this.getOutermostParent(commentModel.parent);\r\n\t\t\t\tvar indexToRemove = outermostParent.childs.indexOf(commentModel.id);\r\n\t\t\t\toutermostParent.childs.splice(indexToRemove, 1);\r\n\t\t\t}\r\n\r\n\t\t\t// Remove the comment from data model\r\n\t\t\tdelete this.commentsById[commentId];\r\n\t\t\tvar commentElements = this.$el.find('li.comment[data-id=\"'+commentId+'\"]');\r\n\t\t\tvar parentEl = commentElements.parents('li.comment').last();\r\n\r\n\t\t\t// Remove the element\r\n\t\t\tcommentElements.remove();\r\n\r\n\t\t\t// Update the toggle all button\r\n\t\t\tthis.updateToggleAllButton(parentEl);\r\n\t\t},\r\n\r\n\t\tuploadAttachments: function(files, commentingField) {\r\n\t\t\tvar self = this;\r\n\t\t\tif(!commentingField) commentingField = this.$el.find('.commenting-field.main');\r\n\t\t\tvar isReply = !commentingField.hasClass('main');\r\n\t\t\tvar fileCount = files.length;\r\n\r\n\t\t\tif(fileCount) {\r\n\t\t\t\tvar uploadButton = commentingField.find('.upload');\r\n\t\t\t\tvar textarea = commentingField.find('.textarea');\r\n\r\n\t\t\t\t// Disable upload button and append spinners while request is pending\r\n\t\t\t\tuploadButton.removeClass('enabled');\r\n\t\t\t\tvar attachmentListSpinner = this.createSpinner();\r\n\t\t\t\tvar commentListSpinner = this.createSpinner();\r\n\t\t\t\tthis.$el.find('ul#attachment-list').prepend(attachmentListSpinner);\r\n\t\t\t\tif(isReply) {\r\n\t\t\t\t\tcommentingField.before(commentListSpinner);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$el.find('ul#comment-list').prepend(commentListSpinner);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar success = function(commentArray) {\r\n\t\t\t\t\t$(commentArray).each(function(index, commentJSON) {\r\n\t\t\t\t\t\tvar commentModel = self.createCommentModel(commentJSON);\r\n\t\t\t\t\t\tself.addCommentToDataModel(commentModel);\r\n\t\t\t\t\t\tself.addComment(commentModel);\r\n\t\t\t\t\t\tself.addAttachment(commentModel);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Close the commenting field if all the uploads were successfull\r\n\t\t\t\t\t// and there's no content besides the attachment\r\n\t\t\t\t\tif(commentArray.length == fileCount && self.getTextareaContent(textarea).length == 0) {\r\n\t\t\t\t\t\tcommentingField.find('.close').trigger('click');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Enable upload button and remove spinners\r\n\t\t\t\t\tuploadButton.addClass('enabled');\r\n\t\t\t\t\tcommentListSpinner.remove();\r\n\t\t\t\t\tattachmentListSpinner.remove();\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar error = function() {\r\n\t\t\t\t\t// Enable upload button and remove spinners\r\n\t\t\t\t\tuploadButton.addClass('enabled');\r\n\t\t\t\t\tcommentListSpinner.remove();\r\n\t\t\t\t\tattachmentListSpinner.remove();\r\n\t\t\t\t};\r\n\r\n\t\t\t\tvar commentArray = [];\r\n\t\t\t\t$(files).each(function(index, file) {\r\n\t\t\t\t\t// Create comment JSON\r\n\t\t\t\t\tvar commentJSON = self.createCommentJSON(textarea);\r\n\t\t\t\t\tcommentJSON.id += '-' + index;\r\n\t\t\t\t\tcommentJSON.content = '';\r\n\t\t\t\t\tcommentJSON.file = file;\r\n\t\t\t\t\tcommentJSON.fileURL = 'C:/fakepath/' + file.name;\r\n\t\t\t\t\tcommentJSON.fileMimeType = file.type;\r\n\t\t\t\t\t// Reverse mapping\r\n\t\t\t\t\tcommentJSON = self.applyExternalMappings(commentJSON);\r\n\t\t\t\t\tcommentArray.push(commentJSON);\r\n\t\t\t\t});\r\n\r\n\t\t\t\tself.options.uploadAttachments(commentArray, success, error);\r\n\t\t\t}\r\n\r\n\t\t\t// Clear the input field\r\n\t\t\tuploadButton.find('input').val('');\r\n\t\t},\r\n\r\n\t\tupdateToggleAllButton: function(parentEl) {\r\n\t\t\t// Don't hide replies if maxRepliesVisible is null or undefined\r\n\t\t\tif (this.options.maxRepliesVisible == null) return;\r\n\r\n\t\t\tvar childCommentsEl = parentEl.find('.child-comments');\r\n\t\t\tvar childComments = childCommentsEl.find('.comment');\r\n\t\t\tvar toggleAllButton = childCommentsEl.find('li.toggle-all');\r\n\t\t\tchildComments.removeClass('hidden-reply');\r\n\r\n\t\t\t// Select replies to be hidden\r\n\t\t\tif (this.options.maxRepliesVisible === 0) {\r\n\t\t\t\tvar hiddenReplies = childComments;\r\n\t\t\t} else {\r\n\t\t\t\tvar hiddenReplies = childComments.slice(0, -this.options.maxRepliesVisible);\r\n\t\t\t}\r\n\r\n\t\t\t// Add identifying class for hidden replies so they can be toggled\r\n\t\t\thiddenReplies.addClass('hidden-reply');\r\n\r\n\t\t\t// Show all replies if replies are expanded\r\n\t\t\tif(toggleAllButton.find('span.text').text() == this.options.textFormatter(this.options.hideRepliesText)) {\r\n\t\t\t\thiddenReplies.addClass('visible');\r\n\t\t\t}\r\n\r\n\t\t\t// Make sure that toggle all button is present\r\n\t\t\tif(childComments.length > this.options.maxRepliesVisible) {\r\n\r\n\t\t\t\t// Append button to toggle all replies if necessary\r\n\t\t\t\tif(!toggleAllButton.length) {\r\n\r\n\t\t\t\t\ttoggleAllButton = $('<li/>', {\r\n\t\t\t\t\t\t'class': 'toggle-all highlight-font-bold'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar toggleAllButtonText = $('<span/>', {\r\n\t\t\t\t\t\t'class': 'text'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar caret = $('<span/>', {\r\n\t\t\t\t\t\t'class': 'caret'\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Append toggle button to DOM\r\n\t\t\t\t\ttoggleAllButton.append(toggleAllButtonText).append(caret);\r\n\t\t\t\t\tchildCommentsEl.prepend(toggleAllButton);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update the text of toggle all -button\r\n\t\t\t\tthis.setToggleAllButtonText(toggleAllButton, false);\r\n\t\t\t// Make sure that toggle all button is not present\r\n\t\t\t} else {\r\n\t\t\t\ttoggleAllButton.remove();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsortComments: function (comments, sortKey) {\r\n\t\t\tvar self = this;\r\n\t\t\t// Sort by popularity\r\n\t\t\tif(sortKey == 'popularity') {\r\n\t\t\t\tcomments.sort(function(commentA, commentB) {\r\n\t\t\t\t\tvar pointsOfA = commentA.childs.length;\r\n\t\t\t\t\tvar pointsOfB = commentB.childs.length;\r\n\r\n\t\t\t\t\tif(self.options.enableUpvoting) {\r\n\t\t\t\t\t\tpointsOfA += commentA.upvoteCount;\r\n\t\t\t\t\t\tpointsOfB += commentB.upvoteCount;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(pointsOfB != pointsOfA) {\r\n\t\t\t\t\t\treturn pointsOfB - pointsOfA;\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Return newer if popularity is the same\r\n\t\t\t\t\t\tvar createdA = new Date(commentA.created).getTime();\r\n\t\t\t\t\t\tvar createdB = new Date(commentB.created).getTime();\r\n\t\t\t\t\t\treturn createdB - createdA;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t// Sort by date\r\n\t\t\t} else {\r\n\t\t\t\tcomments.sort(function(commentA, commentB) {\r\n\t\t\t\t\tvar createdA = (new Date(commentA.created)).getTime();\r\n\t\t\t\t\tvar createdB = (new Date(commentB.created)).getTime();\r\n\t\t\t\t\tif(sortKey == 'oldest') {\r\n\t\t\t\t\t\treturn createdA - createdB;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn createdB - createdA;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsortUsers: function(users) {\r\n\t\t\tusers.sort(function(a,b) {\r\n\t\t\t\tvar nameA = a.fullname.toLowerCase().trim();\r\n\t\t\t\tvar nameB = b.fullname.toLowerCase().trim();\r\n\t\t\t\tif(nameA < nameB) return -1;\r\n\t\t\t\tif(nameA > nameB) return 1;\r\n\t\t\t\treturn 0;\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tsortAndReArrangeComments: function(sortKey) {\r\n\t\t\tvar commentList = this.$el.find('#comment-list');\r\n\r\n\t\t\t// Get main level comments\r\n\t\t\tvar mainLevelComments = this.getComments().filter(function(commentModel){return !commentModel.parent});\r\n\t\t\tthis.sortComments(mainLevelComments, sortKey);\r\n\r\n\t\t\t// Rearrange the main level comments\r\n\t\t\t$(mainLevelComments).each(function(index, commentModel) {\r\n\t\t\t\t\tvar commentEl = commentList.find('> li.comment[data-id='+commentModel.id+']');\r\n\t\t\t\t\tcommentList.append(commentEl);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tshowActiveSort: function() {\r\n\t\t\tvar activeElements = this.$el.find('.navigation li[data-sort-key=\"' + this.currentSortKey + '\"]');\r\n\r\n\t\t\t// Indicate active sort\r\n\t\t\tthis.$el.find('.navigation li').removeClass('active');\r\n\t\t\tactiveElements.addClass('active');\r\n\r\n\t\t\t// Update title for dropdown\r\n\t\t\tvar titleEl = this.$el.find('.navigation .title');\r\n\t\t\tif(this.currentSortKey != 'attachments') {\r\n\t\t\t\ttitleEl.addClass('active');\r\n\t\t\t\ttitleEl.find('header').html(activeElements.first().html());\r\n\t\t\t} else {\r\n\t\t\t\tvar defaultDropdownEl = this.$el.find('.navigation ul.dropdown').children().first();\r\n\t\t\t\ttitleEl.find('header').html(defaultDropdownEl.html());\r\n\t\t\t} \r\n\r\n\t\t\t// Show active container\r\n\t\t\tthis.showActiveContainer();\r\n\t\t},\r\n\r\n\t\tforceResponsive: function() {\r\n\t\t\tthis.$el.addClass('responsive');\r\n\t\t},\r\n\r\n\t\t// Event handlers\r\n\r\n\t\tcloseDropdowns: function() {\r\n\t\t\tthis.$el.find('.dropdown').hide();\r\n\t\t},\r\n\r\n\t\tsaveOnKeydown: function(ev) {\r\n\t\t\t// Save comment on cmd/ctrl + enter\r\n\t\t\tif(ev.keyCode == 13) {\r\n\t\t\t\tvar metaKey = ev.metaKey || ev.ctrlKey;\r\n\t\t\t\tif(this.options.postCommentOnEnter || metaKey){                \r\n\t\t\t\t\tvar el = $(ev.currentTarget);\r\n\t\t\t\t\tel.siblings('.control-row').find('.save').trigger('click');\r\n\t\t\t\t\tev.stopPropagation();\r\n\t\t\t\t\tev.preventDefault();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tsaveEditableContent: function(ev) {\r\n\t\t\tvar el = $(ev.currentTarget);\r\n\t\t\tel.data('before', el.html());\r\n\t\t},\r\n\r\n\t\tcheckEditableContentForChange: function(ev) {\r\n\t\t\tvar el = $(ev.currentTarget);\r\n\t\t\tif (el.data('before') != el.html()) {\r\n\t\t\t\tel.data('before', el.html());\r\n\t\t\t\tel.trigger('change');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tnavigationElementClicked: function(ev) {\r\n\t\t\tvar navigationEl = $(ev.currentTarget);\r\n\t\t\tvar sortKey = navigationEl.data().sortKey;\r\n\r\n\t\t\t// Sort the comments if necessary\r\n\t\t\tif(sortKey != 'attachments') {\r\n\t\t\t\t\tthis.sortAndReArrangeComments(sortKey);\r\n\t\t\t}\r\n\t\t\t// Save the current sort key\r\n\t\t\tthis.currentSortKey = sortKey;\r\n\t\t\tthis.showActiveSort();\r\n\t\t},\r\n\r\n\t\ttoggleNavigationDropdown: function(ev) {\r\n\t\t\t// Prevent closing immediately\r\n\t\t\tev.stopPropagation();\r\n\r\n\t\t\tvar dropdown = $(ev.currentTarget).find('~ .dropdown');\r\n\t\t\tdropdown.toggle();\r\n\t\t},\r\n\r\n\t\tshowMainCommentingField: function(ev) {\r\n\t\t\tvar mainTextarea = $(ev.currentTarget);\r\n\t\t\tmainTextarea.siblings('.control-row').show();\r\n\t\t\tmainTextarea.parent().find('.close').show();\r\n\t\t\tmainTextarea.focus();\r\n\t\t},\r\n\r\n\t\thideMainCommentingField: function(ev) {\r\n\t\t\tvar closeButton = $(ev.currentTarget);\r\n\t\t\tvar mainTextarea = this.$el.find('.commenting-field.main .textarea');\r\n\t\t\tvar mainControlRow = this.$el.find('.commenting-field.main .control-row');\r\n\r\n\t\t\tthis.clearTextarea(mainTextarea);\r\n\t\t\tthis.adjustTextareaHeight(mainTextarea, false);\r\n\r\n\t\t\tmainControlRow.hide();\r\n\t\t\tcloseButton.hide();\r\n\t\t\tmainTextarea.blur();\r\n\t\t},\r\n\r\n\t\tincreaseTextareaHeight: function(ev) {\r\n\t\t\tvar textarea = $(ev.currentTarget);\r\n\t\t\tthis.adjustTextareaHeight(textarea, true);\r\n\t\t},\r\n\r\n\t\ttextareaContentChanged: function(ev) {\r\n\t\t\tvar textarea = $(ev.currentTarget);\r\n\t\t\tvar saveButton = textarea.siblings('.control-row').find('.save');\r\n\r\n\t\t\t// Update parent id if reply-to tag was removed\r\n\t\t\tif(!textarea.find('.reply-to.tag').length) {\r\n\t\t\t\tvar commentId = textarea.attr('data-comment');\r\n\r\n\t\t\t\t// Case: editing comment\r\n\t\t\t\tif(commentId) {\r\n\t\t\t\t\tvar parentComments = textarea.parents('li.comment');\r\n\t\t\t\t\tif(parentComments.length > 1) {\r\n\t\t\t\t\t\tvar parentId = parentComments.last().data('id');\r\n\t\t\t\t\t\ttextarea.attr('data-parent', parentId);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t// Case: new comment\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar parentId = textarea.parents('li.comment').last().data('id');\r\n\t\t\t\t\ttextarea.attr('data-parent', parentId);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Move close button if scrollbar is visible\r\n\t\t\tvar commentingField = textarea.parents('.commenting-field').first();\r\n\t\t\tif(textarea[0].scrollHeight > textarea.outerHeight()) {\r\n\t\t\t\tcommentingField.addClass('scrollable');\r\n\t\t\t} else {\r\n\t\t\t\tcommentingField.removeClass('scrollable');\r\n\t\t\t}\r\n\r\n\t\t\t// Check if content or parent has changed if editing\r\n\t\t\tvar contentOrParentChangedIfEditing = true;\r\n\t\t\tvar content = this.getTextareaContent(textarea, true);\r\n\t\t\tif(commentId = textarea.attr('data-comment')) {\r\n\t\t\t\tvar contentChanged = content != this.commentsById[commentId].content;\r\n\t\t\t\tvar parentFromModel;\r\n\t\t\t\tif(this.commentsById[commentId].parent) {\r\n\t\t\t\t\tparentFromModel = this.commentsById[commentId].parent.toString();\r\n\t\t\t\t}\r\n\t\t\t\tvar parentChanged = textarea.attr('data-parent') != parentFromModel;\r\n\t\t\t\tcontentOrParentChangedIfEditing = contentChanged || parentChanged;\r\n\t\t\t}\r\n\r\n\t\t\t// Check whether save button needs to be enabled\r\n\t\t\tif(content.length && contentOrParentChangedIfEditing) {\r\n\t\t\t\tsaveButton.addClass('enabled');\r\n\t\t\t} else {\r\n\t\t\t\tsaveButton.removeClass('enabled');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tremoveCommentingField: function(ev) {\r\n\t\t\tvar closeButton = $(ev.currentTarget);\r\n\r\n\t\t\t// Remove edit class from comment if user was editing the comment\r\n\t\t\tvar textarea = closeButton.siblings('.textarea');\r\n\t\t\tif(textarea.attr('data-comment')) {\r\n\t\t\t\tcloseButton.parents('li.comment').first().removeClass('edit');\r\n\t\t\t}\r\n\r\n\t\t\t// Remove the field\r\n\t\t\tvar commentingField = closeButton.parents('.commenting-field').first();\r\n\t\t\tcommentingField.remove();\r\n\t\t},\r\n\r\n\t\tappendNewComments: function() {\r\n\t\t\tvar self = this;\r\n\t\t\tconsole.log($(self.$el.context), $(self.$el.context).length);\r\n\t\t\tif ($(self.$el.context).length == 0) {\r\n\t\t\t\tclearTimeout(myVar);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar commentJSONs = this.getComments();\r\n\r\n\t\t\tvar success = function(commentsNew, commentsEdit) {\r\n\t\t\t\tfor (var c in commentsNew) {\r\n\t\t\t\t\tself.createComment(commentsNew[c]);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (var cmt in commentsEdit) {\r\n\t\t\t\t\tvar commentModel = self.createCommentModel(commentsEdit[cmt]);\r\n\t\t\t\t\tself.updateCommentModel(commentModel);\r\n\t\t\t\t\tself.reRenderComment(commentModel.id);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar error = function() {\r\n\t\t\t\tconsole.log('jquery comment append new error');\r\n\t\t\t};\r\n\t\t\tvar myVar = setTimeout(function(){self.appendNewComments()},30000);\r\n\t\t\tthis.options.appendNewComments(commentJSONs, success, error);\r\n\t\t},\r\n\t\t\t\r\n\t\tpostComment: function(ev) {\r\n\t\t\tvar self = this;\r\n\t\t\tvar sendButton = $(ev.currentTarget);\r\n\t\t\tvar commentingField = sendButton.parents('.commenting-field').first();\r\n\t\t\tvar textarea = commentingField.find('.textarea');\r\n\r\n\t\t\t// Disable send button while request is pending\r\n\t\t\tsendButton.removeClass('enabled');\r\n\r\n\t\t\t// Create comment JSON\r\n\t\t\tvar commentJSON = this.createCommentJSON(textarea);\r\n\r\n\t\t\t// Reverse mapping\r\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\r\n\r\n\t\t\tvar success = function(commentJSON) {\r\n\t\t\t\tself.currentSortKey = 'newest'\r\n\t\t\t\tself.showActiveSort()\r\n\t\t\t\tself.createComment(commentJSON);\r\n\t\t\t\tcommentingField.find('.close').trigger('click');\r\n\t\t\t};\r\n\r\n\t\t\tvar error = function() {\r\n\t\t\t\tsendButton.addClass('enabled');\r\n\t\t\t};\r\n\r\n\t\t\tthis.options.postComment(commentJSON, success, error);\r\n\t\t},\r\n\r\n\t\tcreateComment: function(commentJSON) {\r\n\t\t\tvar commentModel = this.createCommentModel(commentJSON);\r\n\t\t\tthis.addCommentToDataModel(commentModel);\r\n\t\t\tthis.addComment(commentModel);\r\n\t\t\tif (commentModel.opinion == true) {\r\n\t\t\t\tthis.addImportantCmt(commentModel);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tputComment: function(ev) {\r\n\t\t\tvar self = this;\r\n\t\t\tvar saveButton = $(ev.currentTarget);\r\n\t\t\tvar commentingField = saveButton.parents('.commenting-field').first();\r\n\t\t\tvar textarea = commentingField.find('.textarea');\r\n\r\n\t\t\t// Disable send button while request is pending\r\n\t\t\tsaveButton.removeClass('enabled');\r\n\r\n\t\t\t// Use a clone of the existing model and update the model after succesfull update\r\n\t\t\tvar commentJSON =  $.extend({}, this.commentsById[textarea.attr('data-comment')]);\r\n\t\t\t$.extend(commentJSON, {\r\n\t\t\t\tparent: textarea.attr('data-parent') || null,\r\n\t\t\t\tcontent: this.getTextareaContent(textarea),\r\n\t\t\t\tpings: this.getPings(textarea),\r\n\t\t\t\tmodified: new Date().getTime()\r\n\t\t\t});\r\n\r\n\t\t\t// Reverse mapping\r\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\r\n\t\t\t\r\n\t\t\tvar success = function(commentJSON) {\r\n\t\t\t\t// The outermost parent can not be changed by editing the comment so the childs array\r\n\t\t\t\t// of parent does not require an update\r\n\r\n\t\t\t\tvar commentModel = self.createCommentModel(commentJSON);\r\n\t\t\t\r\n\t\t\t\t// Delete childs array from new comment model since it doesn't need an update\r\n\t\t\t\tdelete commentModel['childs'];\r\n\t\t\t\tself.updateCommentModel(commentModel);\r\n\t\t\t\t// Close the editing field\r\n\t\t\t\tcommentingField.find('.close').trigger('click');\r\n\r\n\t\t\t\t// Re-render the comment\r\n\t\t\t\tself.reRenderComment(commentModel.id);\r\n\t\t\t};\r\n\r\n\t\t\tvar error = function() {\r\n\t\t\t\tsaveButton.addClass('enabled');\r\n\t\t\t};\r\n\r\n\t\t\tthis.options.putComment(commentJSON, success, error);\r\n\t\t},\r\n\r\n\t\tdeleteComment: function(ev) {\r\n\t\t\tvar self = this;\r\n\t\t\tvar deleteButton = $(ev.currentTarget);\r\n\t\t\tvar commentEl = deleteButton.parents('.comment').first();\r\n\t\t\tvar commentJSON =  $.extend({}, this.commentsById[commentEl.attr('data-id')]);\r\n\t\t\tvar commentId = commentJSON.id;\r\n\t\t\tvar parentId = commentJSON.parent;\r\n\r\n\t\t\t// Disable send button while request is pending\r\n\t\t\tdeleteButton.removeClass('enabled');\r\n\r\n\t\t\t// Reverse mapping\r\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\r\n\r\n\t\t\tvar success = function() {\r\n\t\t\t\tself.removeComment(commentId);\r\n\t\t\t\tif(parentId) self.reRenderCommentActionBar(parentId);\r\n\t\t\t\t// \r\n\t\t\t\tif (commentJSON.opinion==true) {\r\n\t\t\t\t\t$(`[data-sort-key=${self.currentSortKey}]`).trigger('click')\r\n\t\t\t\t}\r\n\t\t\t\t// \r\n\t\t\t};\r\n\r\n\t\t\tvar error = function() {\r\n\t\t\t\tdeleteButton.addClass('enabled');\r\n\t\t\t};\r\n\r\n\t\t\tthis.options.deleteComment(commentJSON, success, error);\r\n\t\t},\r\n\r\n\t\thashtagClicked: function(ev) {\r\n\t\t\tvar el = $(ev.currentTarget);\r\n\t\t\tvar value = el.attr('data-value');\r\n\t\t\tthis.options.hashtagClicked(value);\r\n\t\t},\r\n\r\n\t\tpingClicked: function(ev) {\r\n\t\t\tvar el = $(ev.currentTarget);\r\n\t\t\tvar value = el.attr('data-value');\r\n\t\t\tthis.options.pingClicked(value);\r\n\t\t},\r\n\r\n\t\tfileInputChanged: function(ev, files) {\r\n\t\t\tvar files = ev.currentTarget.files;\r\n\t\t\tvar commentingField = $(ev.currentTarget).parents('.commenting-field').first();\r\n\t\t\tthis.uploadAttachments(files, commentingField);\r\n\t\t},\r\n\r\n\t\tupvoteComment: function(ev) {\r\n\t\t\tvar self = this;\r\n\t\t\tvar commentEl = $(ev.currentTarget).parents('li.comment').first();\r\n\t\t\tvar commentModel = commentEl.data().model;\r\n\r\n\t\t\t// Check whether user upvoted the comment or revoked the upvote\r\n\t\t\tvar previousUpvoteCount = commentModel.upvoteCount;\r\n\t\t\tvar newUpvoteCount;\r\n\t\t\tif(commentModel.userHasUpvoted) {\r\n\t\t\t\tnewUpvoteCount = previousUpvoteCount - 1;\r\n\t\t\t} else {\r\n\t\t\t\tnewUpvoteCount = previousUpvoteCount + 1;\r\n\t\t\t}\r\n\r\n\t\t\t// Show changes immediatelly\r\n\t\t\tcommentModel.userHasUpvoted = !commentModel.userHasUpvoted;\r\n\t\t\tcommentModel.upvoteCount = newUpvoteCount;\r\n\t\t\tthis.reRenderUpvotes(commentModel.id);\r\n\r\n\t\t\t// Reverse mapping\r\n\t\t\tvar commentJSON = $.extend({}, commentModel);\r\n\t\t\tcommentJSON = this.applyExternalMappings(commentJSON);\r\n\r\n\t\t\tvar success = function(commentJSON) {\r\n\t\t\t\tvar commentModel = self.createCommentModel(commentJSON);\r\n\t\t\t\tself.updateCommentModel(commentModel);\r\n\t\t\t\tself.reRenderUpvotes(commentModel.id);\r\n\t\t\t};\r\n\r\n\t\t\tvar error = function() {\r\n\t\t\t\t// Revert changes\r\n\t\t\t\tcommentModel.userHasUpvoted = !commentModel.userHasUpvoted;\r\n\t\t\t\tcommentModel.upvoteCount = previousUpvoteCount;\r\n\t\t\t\tself.reRenderUpvotes(commentModel.id);\r\n\t\t\t};\r\n\r\n\t\t\tthis.options.upvoteComment(commentJSON, success, error);\r\n\t\t},\r\n\r\n\t\ttoggleReplies: function(ev) {\r\n\t\t\tvar el = $(ev.currentTarget);\r\n\t\t\tel.siblings('.hidden-reply').toggleClass('visible');\r\n\t\t\tthis.setToggleAllButtonText(el, true);\r\n\t\t},\r\n\r\n\t\treplyButtonClicked: function(ev) {\r\n\t\t\tvar replyButton = $(ev.currentTarget);\r\n\t\t\tvar outermostParent = replyButton.parents('li.comment').last();\r\n\t\t\tvar parentId = replyButton.parents('.comment').first().data().id;\r\n\r\n\t\t\t// Remove existing field\r\n\t\t\tvar replyField = outermostParent.find('.child-comments > .commenting-field');\r\n\t\t\tif(replyField.length) replyField.remove();\r\n\t\t\tvar previousParentId = replyField.find('.textarea').attr('data-parent');\r\n\r\n\t\t\t// Create the reply field (do not re-create)\r\n\t\t\tif(previousParentId != parentId) {\r\n\t\t\t\treplyField = this.createCommentingFieldElement(parentId, null, false);\r\n\t\t\t\toutermostParent.find('.child-comments').append(replyField);\r\n\r\n\t\t\t\t// Move cursor to end\r\n\t\t\t\tvar textarea = replyField.find('.textarea');\r\n\t\t\t\tthis.moveCursorToEnd(textarea)\r\n\r\n\t\t\t\t// Make sure the reply field will be displayed\r\n\t\t\t\tvar scrollTop = this.options.scrollContainer.scrollTop();\r\n\t\t\t\tvar endOfReply = scrollTop + replyField.position().top + replyField.outerHeight();\r\n\t\t\t\tvar endOfScrollable = scrollTop + this.options.scrollContainer.outerHeight();\r\n\t\t\t\tif(endOfReply > endOfScrollable) {\r\n\t\t\t\t\tvar newScrollTop = scrollTop + (endOfReply - endOfScrollable);\r\n\t\t\t\t\tthis.options.scrollContainer.scrollTop(newScrollTop);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\teditButtonClicked: function(ev) {\r\n\t\t\tvar editButton = $(ev.currentTarget);\r\n\t\t\tvar commentEl = editButton.parents('li.comment').first();\r\n\t\t\tvar commentModel = commentEl.data().model;\r\n\t\t\t\r\n\t\t\tcommentModel = this.commentsById[commentModel.id];\r\n\t\t\tcommentEl.addClass('edit');\r\n\r\n\t\t\t// Create the editing field\r\n\t\t\tvar editField = this.createCommentingFieldElement(commentModel.parent, commentModel.id, false);\r\n\t\t\tcommentEl.find('.comment-wrapper').first().append(editField);\r\n\r\n\t\t\t// Append original content\r\n\t\t\tvar textarea = editField.find('.textarea');\r\n\t\t\ttextarea.attr('data-comment', commentModel.id);\r\n\r\n\t\t\t// Escaping HTML\r\n\t\t\ttextarea.append(this.getFormattedCommentContent(commentModel, true));\r\n\r\n\t\t\t// Move cursor to end\r\n\t\t\tthis.moveCursorToEnd(textarea);\r\n\t\t},\r\n\r\n\t\tshowDroppableOverlay: function(ev) {\r\n\t\t\tif(this.options.enableAttachments) {\r\n\t\t\t\tthis.$el.find('.droppable-overlay').css('top', this.$el[0].scrollTop);\r\n\t\t\t\tthis.$el.find('.droppable-overlay').show();\r\n\t\t\t\tthis.$el.addClass('drag-ongoing');\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\thandleDragEnter: function(ev) {\r\n\t\t\tvar count = $(ev.currentTarget).data('dnd-count') || 0;\r\n\t\t\tcount++;\r\n\t\t\t$(ev.currentTarget).data('dnd-count', count);\r\n\t\t\t$(ev.currentTarget).addClass('drag-over');\r\n\t\t},\r\n\r\n\t\thandleDragLeave: function(ev, callback) {\r\n\t\t\tvar count = $(ev.currentTarget).data('dnd-count');\r\n\t\t\tcount--;\r\n\t\t\t$(ev.currentTarget).data('dnd-count', count);\r\n\r\n\t\t\tif(count == 0) {            \r\n\t\t\t\t$(ev.currentTarget).removeClass('drag-over');\r\n\t\t\t\tif(callback) callback();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\thandleDragLeaveForOverlay: function(ev) {\r\n\t\t\tvar self = this;\r\n\t\t\tthis.handleDragLeave(ev, function() {\r\n\t\t\t\tself.hideDroppableOverlay();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\thandleDragLeaveForDroppable: function(ev) {\r\n\t\t\tthis.handleDragLeave(ev);\r\n\t\t},\r\n\r\n\t\thandleDragOverForOverlay: function(ev) {\r\n\t\t\tev.stopPropagation();\r\n\t\t\tev.preventDefault();\r\n\t\t\tev.originalEvent.dataTransfer.dropEffect = 'copy';\r\n\t\t},\r\n\r\n\t\thideDroppableOverlay: function() {\r\n\t\t\tthis.$el.find('.droppable-overlay').hide();\r\n\t\t\tthis.$el.removeClass('drag-ongoing');\r\n\t\t},\r\n\r\n\t\thandleDrop: function(ev) {\r\n\t\t\tev.preventDefault();\r\n\r\n\t\t\t// Reset DND counts\r\n\t\t\t$(ev.target).trigger('dragleave');\r\n\r\n\t\t\t// Hide the overlay and upload the files\r\n\t\t\tthis.hideDroppableOverlay();\r\n\t\t\tthis.uploadAttachments(ev.originalEvent.dataTransfer.files);\r\n\t\t},\r\n\r\n\t\tstopPropagation: function(ev) {\r\n\t\t\tev.stopPropagation();\r\n\t\t},\r\n\r\n\r\n\t\t// HTML elements\r\n\r\n\t\tcreateHTML: function() {\r\n\t\t\tvar self = this;\r\n\t\t\t// Commenting field\r\n\t\t\tvar mainCommentingField = this.createCommentingFieldElement(null, null, true);\r\n\t\t\tmainCommentingField.addClass('main');\r\n\t\t\tthis.$el.append(mainCommentingField);\r\n\r\n\t\t\t// Hide control row and close button\r\n\t\t\tvar mainControlRow = mainCommentingField.find('.control-row');\r\n\t\t\tmainControlRow.hide();\r\n\t\t\tmainCommentingField.find('.close').hide();\r\n\r\n\t\t\t// Navigation bar\r\n\t\t\tif (this.options.enableNavigation) {\r\n\t\t\t\tthis.$el.append(this.createNavigationElement());\r\n\t\t\t\tthis.showActiveSort();\r\n\t\t\t}\r\n\r\n\t\t\t// Loading spinner\r\n\t\t\tvar spinner = this.createSpinner();\r\n\t\t\tthis.$el.append(spinner);\r\n\r\n\t\t\t// Comments container\r\n\t\t\tvar commentsContainer = $('<div/>', {\r\n\t\t\t\t'class': 'data-container overflowComment',\r\n\t\t\t\t'data-container': 'comments'\r\n\t\t\t});\r\n\t\t\tthis.$el.append(commentsContainer);\r\n\t\t\t\t\r\n\t\t\t// \"No comments\" placeholder\r\n\t\t\tvar noComments = $('<div/>', {\r\n\t\t\t\t'class': 'no-comments no-data',\r\n\t\t\t\ttext: this.options.textFormatter(this.options.noCommentsText)\r\n\t\t\t});\r\n\t\t\tvar noCommentsIcon = $('<i/>', {\r\n\t\t\t\t'class': 'fa fa-comments fa-2x'\r\n\t\t\t});\r\n\t\t\tif(this.options.noCommentsIconURL.length) {\r\n\t\t\t\tnoCommentsIcon.css('background-image', 'url(\"'+this.options.noCommentsIconURL+'\")');\r\n\t\t\t\tnoCommentsIcon.addClass('image');\r\n\t\t\t}\r\n\t\t\tnoComments.prepend($('<br/>')).prepend(noCommentsIcon);            \r\n\t\t\tcommentsContainer.append(noComments);\r\n\r\n\t\t\t// important Comment Container\r\n\t\t\tvar importantCmtContainer = $('<div/>', {\r\n\t\t\t\t'class': 'data-container overflowComment',\r\n\t\t\t\t'data-container': 'importantCmt'\r\n\t\t\t});\r\n\t\t\tthis.$el.append(importantCmtContainer);\r\n\t\t\t\t// \"No comments Important\" placeholder\r\n\t\t\tvar noCommentsImpt = $('<div/>', {\r\n\t\t\t\t'class': 'no-comments no-data',\r\n\t\t\t\ttext: this.options.textFormatter(this.options.noCommentsImportantText)\r\n\t\t\t});\r\n\t\t\tvar noCommentsImptIcon = $('<i/>', {\r\n\t\t\t\t'class': 'fa fa-comments fa-2x'\r\n\t\t\t});\r\n\t\t\tif(this.options.noCommentsImptIconURL.length) {\r\n\t\t\t\tnoCommentsImptIcon.css('background-image', 'url(\"'+this.options.noCommentsImptIconURL+'\")');\r\n\t\t\t\tnoCommentsImptIcon.addClass('image');\r\n\t\t\t}\r\n\t\t\tnoCommentsImpt.prepend($('<br/>')).prepend(noCommentsImptIcon);            \r\n\t\t\timportantCmtContainer.append(noCommentsImpt);\r\n\r\n\t\t\t// Attachments\r\n\t\t\tif(this.options.enableAttachments) {\r\n\t\t\t\t// Attachments container\r\n\t\t\t\tvar attachmentsContainer = $('<div/>', {\r\n\t\t\t\t\t'class': 'data-container overflowComment',\r\n\t\t\t\t\t'data-container': 'attachments'\r\n\t\t\t\t});\r\n\t\t\t\tthis.$el.append(attachmentsContainer);\r\n\t\t\t\t\r\n\t\t\t\t// \"No attachments\" placeholder\r\n\t\t\t\tvar noAttachments = $('<div/>', {\r\n\t\t\t\t\t'class': 'no-attachments no-data',\r\n\t\t\t\t\ttext: this.options.textFormatter(this.options.noAttachmentsText)\r\n\t\t\t\t});\r\n\t\t\t\tvar noAttachmentsIcon = $('<i/>', {\r\n\t\t\t\t\t'class': 'fa fa-paperclip fa-2x'\r\n\t\t\t\t});\r\n\t\t\t\tif(this.options.attachmentIconURL.length) {\r\n\t\t\t\t\tnoAttachmentsIcon.css('background-image', 'url(\"'+this.options.attachmentIconURL+'\")');\r\n\t\t\t\t\tnoAttachmentsIcon.addClass('image');\r\n\t\t\t\t}\r\n\t\t\t\tnoAttachments.prepend($('<br/>')).prepend(noAttachmentsIcon);\r\n\t\t\t\tattachmentsContainer.append(noAttachments);\r\n\r\n\r\n\t\t\t\t// Drag & dropping attachments\r\n\t\t\t\tvar droppableOverlay = $('<div/>', {\r\n\t\t\t\t\t'class': 'droppable-overlay'\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar droppableContainer = $('<div/>', {\r\n\t\t\t\t\t'class': 'droppable-container'\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar droppable = $('<div/>', {\r\n\t\t\t\t\t'class': 'droppable'\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar uploadIcon = $('<i/>', {\r\n\t\t\t\t\t'class': 'fa fa-upload fa-4x'\r\n\t\t\t\t});\r\n\t\t\t\tif(this.options.uploadIconURL.length) {\r\n\t\t\t\t\tuploadIcon.css('background-image', 'url(\"'+this.options.uploadIconURL+'\")');\r\n\t\t\t\t\tuploadIcon.addClass('image');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar dropAttachmentText = $('<div/>', {\r\n\t\t\t\t\ttext: this.options.textFormatter(this.options.attachmentDropText)\r\n\t\t\t\t});\r\n\t\t\t\tdroppable.append(uploadIcon);\r\n\t\t\t\tdroppable.append(dropAttachmentText);\r\n\r\n\t\t\t\tdroppableOverlay.html(droppableContainer.html(droppable)).hide();\r\n\t\t\t\tthis.$el.append(droppableOverlay);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreateProfilePictureElement: function(src) {\r\n\t\t\tif(src) {\r\n\t\t\t\tvar profilePicture = $('<img/>', {\r\n\t\t\t\t\tsrc: src\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tvar profilePicture = $('<i/>', {\r\n\t\t\t\t\t'class': 'fa fa-user'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tprofilePicture.addClass('profile-picture');\r\n\t\t\tif(this.options.roundProfilePictures) profilePicture.addClass('round');\r\n\t\t\treturn profilePicture;\r\n\t\t},\r\n\r\n\t\tcreateCommentingFieldElement: function(parentId, existingCommentId, enableOpinion) {\r\n\t\t\tvar self = this;\r\n\t\t\t// Commenting field\r\n\t\t\tvar commentingField = $('<div/>', {\r\n\t\t\t\t'class': 'commenting-field'\r\n\t\t\t});\r\n\r\n\t\t\t// Profile picture\r\n\t\t\tif(existingCommentId) {\r\n\t\t\t\tvar profilePictureURL = this.commentsById[existingCommentId].profilePictureURL;\r\n\t\t\t} else {\r\n\t\t\t\tvar profilePictureURL = this.options.profilePictureURL;\r\n\t\t\t}\r\n\t\t\tvar profilePicture = this.createProfilePictureElement(profilePictureURL);\r\n\r\n\t\t\t// New comment\r\n\t\t\tvar textareaWrapper = $('<div/>', {\r\n\t\t\t\t'class': 'textarea-wrapper'\r\n\t\t\t});\r\n\r\n\t\t\t// Control row\r\n\t\t\tvar controlRow = $('<div/>', {\r\n\t\t\t\t'class': 'control-row'\r\n\t\t\t});\r\n\r\n\t\t\t// Textarea\r\n\t\t\tvar textarea = $('<div/>', {\r\n\t\t\t\t'class': 'textarea',\r\n\t\t\t\t'data-placeholder': this.options.textFormatter(this.options.textareaPlaceholderText),\r\n\t\t\t\tcontenteditable: true\r\n\t\t\t});\r\n\r\n\t\t\t// Setting the initial height for the textarea\r\n\t\t\tthis.adjustTextareaHeight(textarea, false);\r\n\r\n\t\t\t// Close button\r\n\t\t\tvar closeButton = $('<span/>', {\r\n\t\t\t\t'class': 'close'\r\n\t\t\t}).append($('<span class=\"left\"/>')).append($('<span class=\"right\"/>'));\r\n\r\n\t\t\t// Save button text\r\n\t\t\tif(existingCommentId) {\r\n\t\t\t\tvar saveButtonText = this.options.textFormatter(this.options.saveText);\r\n\t\t\t\tvar opinionCmtId = existingCommentId\r\n\t\t\t\t// Delete button Edit Comment\r\n\t\t\t\t// var deleteButton = $('<span/>', {\r\n\t\t\t\t// \t\t'class': 'delete',\r\n\t\t\t\t// \t\ttext: this.options.textFormatter(this.options.deleteText)\r\n\t\t\t\t// }).css('background-color', this.options.deleteButtonColor);\r\n\t\t\t\t// controlRow.append(deleteButton);\r\n\r\n\t\t\t\t// // Enable the delete button only if the user is allowed to delete\r\n\t\t\t\t// if(this.isAllowedToDelete(existingCommentId)) deleteButton.addClass('enabled')\r\n\r\n\t\t\t} else {\r\n\t\t\t\tvar saveButtonText = this.options.textFormatter(this.options.sendText);\r\n\t\t\t\tvar opinionCmtId =''\r\n\t\t\t\t// Add upload button if attachments are enabled\r\n\t\t\t\tif(this.options.enableAttachments) {\r\n\t\t\t\t\tvar uploadButton = $('<span/>', {\r\n\t\t\t\t\t\t'class': 'enabled upload'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar uploadIcon = $('<i/>', {\r\n\t\t\t\t\t\t'class': 'md-icon',\r\n\t\t\t\t\t\ttext: 'Ti ln'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tvar fileInput = $('<input/>', {\r\n\t\t\t\t\t\ttype: 'file',\r\n\t\t\t\t\t\t'data-role': 'none' // Prevent jquery-mobile for adding classes\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// Multi file upload might not work with backend as the the file names\r\n\t\t\t\t\t// may be the same causing duplicates\r\n\t\t\t\t\tif(!$.browser.mobile) fileInput.attr('multiple', 'multiple');\r\n\r\n\t\t\t\t\tif(this.options.uploadIconURL.length) {\r\n\t\t\t\t\t\tuploadIcon.css('background-image', 'url(\"'+this.options.uploadIconURL+'\")');\r\n\t\t\t\t\t\tuploadIcon.addClass('image');\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuploadButton.append(uploadIcon).append(fileInput);\r\n\t\t\t\t\tcontrolRow.append(uploadButton);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Save button\r\n\t\t\tvar saveButtonClass = existingCommentId ? 'update' : 'send';\r\n\t\t\tvar saveButton = $('<span/>', {\r\n\t\t\t\t'class': saveButtonClass + ' save highlight-background',\r\n\t\t\t\ttext: saveButtonText\r\n\t\t\t});\r\n\t\t\t// Check opinion\r\n\r\n\t\t\tif (enableOpinion) {\r\n\t\t\t\tvar checkOpinion = $('<input/>', {\r\n\t\t\t\t\t'class': 'opinion checkOpinion mt-1 mr-1',\r\n\t\t\t\t\t'id': 'opinion' + opinionCmtId,\r\n\t\t\t\t\t'name': 'opinion' + opinionCmtId,\r\n\t\t\t\t\t'type': 'checkbox'\r\n\t\t\t\t});\r\n\t\t\t\tvar labelCheckOpinion = $('<label/>', {\r\n\t\t\t\t\t'class': 'opinion label-opinion',\r\n\t\t\t\t\t'for': 'opinion'+opinionCmtId,\r\n\t\t\t\t\ttext: ' kin chnh thc'\r\n\t\t\t\t});\r\n\t\t\t\tcontrolRow.append(checkOpinion).append(labelCheckOpinion);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Populate the element\r\n\t\t\tcontrolRow.prepend(saveButton);\r\n\t\t\ttextareaWrapper.append(closeButton).append(textarea).append(controlRow);\r\n\t\t\tcommentingField.append(profilePicture).append(textareaWrapper);\r\n\r\n\r\n\t\t\tif(parentId) {\r\n\r\n\t\t\t\t\t// Set the parent id to the field if necessary\r\n\t\t\t\ttextarea.attr('data-parent', parentId);\r\n\r\n\t\t\t\t// Append reply-to tag if necessary\r\n\t\t\t\tvar parentModel = this.commentsById[parentId];\r\n\t\t\t\tif(parentModel.parent) {\r\n\t\t\t\t\ttextarea.html('&nbsp;');    // Needed to set the cursor to correct place\r\n\r\n\t\t\t\t\t// Creating the reply-to tag\r\n\t\t\t\t\tvar replyToName = '@' + parentModel.fullname;\r\n\t\t\t\t\tvar replyToTag = this.createTagElement(replyToName, 'reply-to', parentModel.creator);\r\n\t\t\t\t\ttextarea.prepend(replyToTag);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Pinging users\r\n\t\t\tif(this.options.enablePinging) {\r\n\t\t\t\t\ttextarea.textcomplete([{\r\n\t\t\t\t\t\t\t/**match: /(^|\\s)@(([a-z]|\\s)*)$/im,*/\r\n\t\t\t\t\t\tmatch: /(^|\\s)@(([0-9]|[^\\u0000-\\u007F]|[a-z]|\\s)*)$/im,\r\n\t\t\t\t\t\t\tsearch: function (term, callback) {\r\n\t\t\t\t\t\t\t\t// console.log(term);\r\n\t\t\t\t\t\t\t\t\tterm = self.normalizeSpaces(term);\r\n\r\n\t\t\t\t\t\t\t\t\t// Users excluding self and already pinged users\r\n\t\t\t\t\t\t\t\t\tvar pings = self.getPings(textarea);\r\n\t\t\t\t\t\t\t\t\tvar users = self.getUsers().filter(function(user) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar isSelf = user.id == self.options.currentUserId;\r\n\t\t\t\t\t\t\t\t\t\t\tvar alreadyPinged = pings.indexOf(user.id) != -1;\r\n\t\t\t\t\t\t\t\t\t\t\treturn !isSelf && !alreadyPinged;\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t// Sort users\r\n\t\t\t\t\t\t\t\t\tself.sortUsers(users);\r\n\r\n\t\t\t\t\t\t\t\t\tcallback($.map(users, function (user) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar lowercaseTerm = term.toLowerCase();\r\n\t\t\t\t\t\t\t\t\t\t\tvar nameMatch = user.fullname.toLowerCase().indexOf(lowercaseTerm) != -1;\r\n\t\t\t\t\t\t\t\t\t\t\tvar emailMatch = user.email.toLowerCase().indexOf(lowercaseTerm) != -1;\r\n\t\t\t\t\t\t\t\t\t\t\treturn nameMatch || emailMatch ? user : null;\r\n\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttemplate: function(user) {\r\n\t\t\t\t\t\t\t\t\tvar wrapper = $('<div/>');\r\n\r\n\t\t\t\t\t\t\t\t\tvar profilePictureEl = $('<img/>', {\r\n\t\t\t\t\t\t\t\t\t\t\tsrc: user.pictureUrl,\r\n\t\t\t\t\t\t\t\t\t\t\t'class': 'profile-picture round'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tvar detailsEl = $('<div/>', {\r\n\t\t\t\t\t\t\t\t\t\t\t'class': 'details',\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tvar nameEl = $('<div/>', {\r\n\t\t\t\t\t\t\t\t\t\t\t'class': 'name',\r\n\t\t\t\t\t\t\t\t\t}).html(user.fullname);\r\n\r\n\t\t\t\t\t\t\t\t\tvar emailEl = $('<div/>', {\r\n\t\t\t\t\t\t\t\t\t\t\t'class': 'email',\r\n\t\t\t\t\t\t\t\t\t}).html(user.email);\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif (user.email) {\r\n\t\t\t\t\t\t\t\t\t\t\tdetailsEl.append(nameEl).append(emailEl);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tdetailsEl.addClass('no-email')\r\n\t\t\t\t\t\t\t\t\t\t\tdetailsEl.append(nameEl)\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\twrapper.append(profilePictureEl).append(detailsEl);\r\n\t\t\t\t\t\t\t\t\treturn wrapper.html();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\treplace: function (user) {\r\n\t\t\t\t\t\t\t\t\tvar tag = self.createTagElement('@' + user.fullname, 'ping', user.id);\r\n\t\t\t\t\t\t\t\t\treturn ' ' + tag[0].outerHTML + ' ';\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t}], {\r\n\t\t\t\t\t\t\tappendTo: '.jquery-comments',\r\n\t\t\t\t\t\t\tdropdownClassName: 'dropdown autocomplete',\r\n\t\t\t\t\t\t\tmaxCount: 5,\r\n\t\t\t\t\t\t\trightEdgeOffset: 0,\r\n\t\t\t\t\t});\r\n\r\n\r\n\t\t\t\t\t// OVERIDE TEXTCOMPLETE DROPDOWN POSITIONING\r\n\r\n\t\t\t\t\t$.fn.textcomplete.Dropdown.prototype.render = function(zippedData) {\r\n\t\t\t\t\t\tvar contentsHtml = this._buildContents(zippedData);\r\n\t\t\t\t\t\tvar unzippedData = $.map(zippedData, function (d) { return d.value; });\r\n\t\t\t\t\t\tif (zippedData.length) {\r\n\t\t\t\t\t\t\tvar strategy = zippedData[0].strategy;\r\n\t\t\t\t\t\t\tif (strategy.id) {\r\n\t\t\t\t\t\t\t\tthis.$el.attr('data-strategy', strategy.id);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.$el.removeAttr('data-strategy');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis._renderHeader(unzippedData);\r\n\t\t\t\t\t\t\tthis._renderFooter(unzippedData);\r\n\t\t\t\t\t\t\tif (contentsHtml) {\r\n\t\t\t\t\t\t\t\tthis._renderContents(contentsHtml);\r\n\t\t\t\t\t\t\t\tthis._fitToBottom();\r\n\t\t\t\t\t\t\t\tthis._fitToRight();\r\n\t\t\t\t\t\t\t\tthis._activateIndexedItem();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis._setScroll();\r\n\t\t\t\t\t\t} else if (this.noResultsMessage) {\r\n\t\t\t\t\t\t\tthis._renderNoResultsMessage(unzippedData);\r\n\t\t\t\t\t\t} else if (this.shown) {\r\n\t\t\t\t\t\t\tthis.deactivate();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// CUSTOM CODE\r\n\t\t\t\t\t\t// ===========\r\n\r\n\t\t\t\t\t\t// Adjust vertical position\r\n\t\t\t\t\t\tvar top = parseInt(this.$el.css('top')) + self.options.scrollContainer.scrollTop();\r\n\t\t\t\t\t\tthis.$el.css('top', top);\r\n\r\n\t\t\t\t\t\t// Adjust horizontal position\r\n\t\t\t\t\t\tvar originalLeft = this.$el.css('left');\r\n\t\t\t\t\t\tthis.$el.css('left', 0);    // Left must be set to 0 in order to get the real width of the el\r\n\t\t\t\t\t\tvar maxLeft = self.$el.width() - this.$el.outerWidth();\r\n\t\t\t\t\t\tvar left = Math.min(maxLeft, parseInt(originalLeft));\r\n\t\t\t\t\t\tthis.$el.css('left', left);\r\n\r\n\t\t\t\t\t\t// ===========\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn commentingField;\r\n\t},\r\n\r\n\tcreateNavigationElement: function() {\r\n\t\tvar navigationEl = $('<ul/>', {\r\n\t\t\t'class': 'navigation'\r\n\t\t});\r\n\t\tvar navigationWrapper = $('<div/>', {\r\n\t\t\t'class': 'navigation-wrapper'\r\n\t\t});\r\n\t\tnavigationEl.append(navigationWrapper);\r\n\r\n\t\t// Newest\r\n\t\tvar newest = $('<li/>', {\r\n\t\t\ttext: this.options.textFormatter(this.options.newestText),\r\n\t\t\t'data-sort-key': 'newest',\r\n\t\t\t'data-container-name': 'comments'\r\n\t\t});\r\n\r\n\t\t// Oldest\r\n\t\tvar oldest = $('<li/>', {\r\n\t\t\ttext: this.options.textFormatter(this.options.oldestText),\r\n\t\t\t'data-sort-key': 'oldest',\r\n\t\t\t'data-container-name': 'comments'\r\n\t\t});\r\n\t\t// Important\r\n\t\tvar important = $('<li/>', {\r\n\t\t\ttext: this.options.textFormatter(this.options.importantCmtText),\r\n\t\t\t'data-sort-key': 'important',\r\n\t\t\t'data-container-name': 'importantCmt'\r\n\t\t});\r\n\t\t// Popular\r\n\t\tvar popular = $('<li/>', {\r\n\t\t\ttext: this.options.textFormatter(this.options.popularText),\r\n\t\t\t'data-sort-key': 'popularity',\r\n\t\t\t'data-container-name': 'comments'\r\n\t\t});\r\n\r\n\t\t// Attachments\r\n\t\tvar attachments = $('<li/>', {\r\n\t\t\ttext: this.options.textFormatter(this.options.attachmentsText),\r\n\t\t\t'data-sort-key': 'attachments',\r\n\t\t\t'data-container-name': 'attachments'\r\n\t\t});\r\n\r\n\t\t// Attachments icon\r\n\t\tvar attachmentsIcon = $('<i/>', {\r\n\t\t\t'class': 'fa fa-paperclip'\r\n\t\t});\r\n\t\tif(this.options.attachmentIconURL.length) {\r\n\t\t\tattachmentsIcon.css('background-image', 'url(\"'+this.options.attachmentIconURL+'\")');\r\n\t\t\tattachmentsIcon.addClass('image');\r\n\t\t}\r\n\t\tattachments.prepend(attachmentsIcon);\r\n\r\n\t\t// Responsive navigation\r\n\t\tvar dropdownNavigationWrapper = $('<div/>', {\r\n\t\t\t'class': 'navigation-wrapper responsive'\r\n\t\t});\r\n\t\tvar dropdownNavigation = $('<ul/>', {\r\n\t\t\t'class': 'dropdown'\r\n\t\t});\r\n\t\tvar dropdownTitle = $('<li/>', {\r\n\t\t\t'class': 'title'\r\n\t\t});\r\n\t\tvar dropdownTitleHeader = $('<header/>');\r\n\r\n\t\tdropdownTitle.append(dropdownTitleHeader);\r\n\t\tdropdownNavigationWrapper.append(dropdownTitle);\r\n\t\tdropdownNavigationWrapper.append(dropdownNavigation);\r\n\t\tnavigationEl.append(dropdownNavigationWrapper);\r\n\r\n\t\t// Populate elements\r\n\t\tnavigationWrapper.append(newest).append(oldest).append(important);\r\n\t\tdropdownNavigation.append(newest.clone()).append(oldest.clone()).append(important.clone());\r\n\r\n\t\tif(this.options.enableReplying || this.options.enableUpvoting) {\r\n\t\t\tnavigationWrapper.append(popular);\r\n\t\t\tdropdownNavigation.append(popular.clone());\r\n\t\t}\r\n\t\tif(this.options.enableAttachments) {\r\n\t\t\tnavigationWrapper.append(attachments);\r\n\t\t\tdropdownNavigationWrapper.append(attachments.clone());\r\n\t\t}\r\n\r\n\t\tif(this.options.forceResponsive) this.forceResponsive();\r\n\t\treturn navigationEl;\r\n\t},\r\n\r\n\tcreateSpinner: function() {\r\n\t\tvar spinner = $('<div/>', {\r\n\t\t\t'class': 'spinner'\r\n\t\t});\r\n\t\tvar spinnerIcon = $('<i/>', {\r\n\t\t\t'class': 'fa fa-spinner fa-spin'\r\n\t\t});\r\n\t\tif(this.options.spinnerIconURL.length) {\r\n\t\t\tspinnerIcon.css('background-image', 'url(\"'+this.options.spinnerIconURL+'\")');\r\n\t\t\tspinnerIcon.addClass('image');\r\n\t\t}\r\n\t\tspinner.html(spinnerIcon);\r\n\t\treturn spinner;\r\n\t},\r\n\r\n\tcreateCommentElement: function(commentModel) {\r\n\r\n\t\t// Comment container element\r\n\t\tvar commentEl = $('<li/>', {\r\n\t\t\t'data-id': commentModel.id,\r\n\t\t\t'class': 'comment'\r\n\t\t}).data('model', commentModel);\r\n\r\n\t\tif(commentModel.createdByCurrentUser) commentEl.addClass('by-current-user');\r\n\t\tif(commentModel.createdByAdmin) commentEl.addClass('by-admin');\r\n\r\n\t\t// Child comments\r\n\t\tvar childComments = $('<ul/>', {\r\n\t\t\t'class': 'child-comments'\r\n\t\t});\r\n\r\n\t\t// Comment wrapper\r\n\t\tvar commentWrapper = this.createCommentWrapperElement(commentModel);\r\n\r\n\t\tcommentEl.append(commentWrapper);\r\n\t\tif(commentModel.parent == null) commentEl.append(childComments);\r\n\t\treturn commentEl;\r\n\t},\r\n\r\n\tcreateCommentWrapperElement: function(commentModel) {\r\n\t\tvar commentWrapper = $('<div/>', {\r\n\t\t\t'class': 'comment-wrapper'\r\n\t\t});\r\n\r\n\t\t// Profile picture\r\n\t\tvar profilePicture = this.createProfilePictureElement(commentModel.profilePictureURL);\r\n\r\n\t\t// Time\r\n\t\tvar time = $('<time/>', {\r\n\t\t\ttext: this.options.timeFormatter(commentModel.created),\r\n\t\t\t'data-original': commentModel.created\r\n\t\t});\r\n\r\n\t\t// Name\r\n\t\tvar nameText = commentModel.createdByCurrentUser ? this.options.textFormatter(this.options.youText) : commentModel.fullname;\r\n\t\tvar name = $('<div/>', {\r\n\t\t\t'class': 'name'\r\n\t\t});\r\n\t\tif(commentModel.profileURL) {\r\n\t\t\tvar link = $('<a/>', {\r\n\t\t\t\thref: commentModel.profileURL,\r\n\t\t\t\ttext: nameText\r\n\t\t\t});\r\n\t\t\tname.html(link);\r\n\t\t} else {\r\n\t\t\tname.text(nameText);\r\n\t\t}\r\n\r\n\t\t// Highlight name for own comments and admin\r\n\t\tif(commentModel.createdByCurrentUser || commentModel.createdByAdmin) name.addClass('highlight-font-bold');\r\n\r\n\t\t// Show reply-to name if parent of parent exists\r\n\t\tif(commentModel.parent) {\r\n\t\t\tvar parent = this.commentsById[commentModel.parent];\r\n\t\t\tif(parent.parent) {\r\n\t\t\t\tvar replyTo = $('<span/>', {\r\n\t\t\t\t\t'class': 'reply-to',\r\n\t\t\t\t\ttext: parent.fullname\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// reply icon\r\n\t\t\t\tvar replyIcon = $('<i/>', {\r\n\t\t\t\t\t'class': 'fa fa-share'\r\n\t\t\t\t});\r\n\t\t\t\tif(this.options.replyIconURL.length) {\r\n\t\t\t\t\treplyIcon.css('background-image', 'url(\"'+this.options.replyIconURL+'\")');\r\n\t\t\t\t\treplyIcon.addClass('image');\r\n\t\t\t\t}\r\n\r\n\t\t\t\treplyTo.prepend(replyIcon);\r\n\t\t\t\tname.append(replyTo);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// New tag\r\n\t\tif(commentModel.isNew) {\r\n\t\t\tvar newTag = $('<span/>', {\r\n\t\t\t\t'class': 'new highlight-background',\r\n\t\t\t\ttext: this.options.newText\r\n\t\t\t});\r\n\t\t\tname.append(newTag);\r\n\t\t}\r\n\r\n\t\t// Wrapper\r\n\t\tvar wrapper = $('<div/>', {\r\n\t\t\t'class': 'wrapper'\r\n\t\t});\r\n\t\t// Note  kin chnh thc\r\n\t\tvar noteOpinion = $('<div/>', {\r\n\t\t\t'class': 'note-opinion',\r\n\t\t\ttext: '( kin chnh thc)'\r\n\t\t});\r\n\t\t// Content\r\n\t\tvar content = $('<div/>', {\r\n\t\t\t'class': 'content'\r\n\t\t});\r\n\r\n\t\t// Case: attachment\r\n\t\tvar isAttachment = commentModel.fileURL != undefined;\r\n\t\tif(isAttachment) {\r\n\t\t\tvar format = null;\r\n\t\t\tvar type = null;\r\n\r\n\t\t\t// Type and format\r\n\t\t\tif(commentModel.fileMimeType) {\r\n\t\t\t\tvar mimeTypeParts = commentModel.fileMimeType.split('/');\r\n\t\t\t\tif(mimeTypeParts.length == 2) {\r\n\t\t\t\t\tformat = mimeTypeParts[1];\r\n\t\t\t\t\ttype = mimeTypeParts[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Attachment link\r\n\t\t\tvar link = $('<a/>', {\r\n\t\t\t\t'class': 'attachment',\r\n\t\t\t\thref: commentModel.fileURL,\r\n\t\t\t\ttarget: '_blank'\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// var link = $('<a/>', {\r\n\t\t\t// \t\t'class': 'attachment',\r\n\t\t\t// \t\thref: 'javascript:viewCommentFileAttach(\"' + commentModel.fileURL + '\",\"' + commentModel.fileMimeType + '\");'\r\n\t\t\t// });\r\n\t\t\t\r\n\t\t\t// Case: image preview\r\n\t\t\tif(type == 'image') {\r\n\t\t\t\tvar image = $('<img/>', {\r\n\t\t\t\t\tsrc: commentModel.fileURL\r\n\t\t\t\t});\r\n\t\t\t\tlink.html(image);\r\n\t\t\t// Case: video preview\r\n\t\t\t} else if(type == 'video') {\r\n\t\t\t\tvar video = $('<video/>', {\r\n\t\t\t\t\tsrc: commentModel.fileURL,\r\n\t\t\t\t\ttype: commentModel.fileMimeType,\r\n\t\t\t\t\tcontrols: 'controls'\r\n\t\t\t\t});\r\n\t\t\t\tlink.html(video);\r\n\r\n\t\t\t// Case: icon and text\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Icon\r\n\t\t\t\tvar availableIcons = ['archive', 'audio', 'code', 'excel', 'image', 'movie', 'pdf', 'photo',\r\n\t\t\t\t\t'picture', 'powerpoint', 'sound', 'video', 'word', 'zip'];\r\n\t\t\t\t\r\n\t\t\t\tvar iconClass = 'fa fa-file-o';\r\n\t\t\t\tif(availableIcons.indexOf(format) > 0) {\r\n\t\t\t\t\ticonClass = 'fa fa-file-' + format + '-o';\r\n\t\t\t\t} else if(availableIcons.indexOf(type) > 0) {\r\n\t\t\t\t\ticonClass = 'fa fa-file-' + type + '-o';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar fileIcon = $('<i/>', {\r\n\t\t\t\t\t'class': iconClass\r\n\t\t\t\t});\r\n\t\t\t\tif(this.options.fileIconURL.length) {\r\n\t\t\t\t\tfileIcon.css('background-image', 'url(\"'+this.options.fileIconURL+'\")');\r\n\t\t\t\t\tfileIcon.addClass('image');\r\n\t\t\t\t}\r\n\t\t\t\t// File name\r\n\t\t\t\t/**\r\n\t\t\t\tvar parts = commentModel.fileURL.split('/');\r\n\t\t\t\tvar fileName = parts[parts.length - 1];\r\n\t\t\t\tfileName = fileName.split('?')[0];\r\n\t\t\t\tfileName = decodeURIComponent(fileName);\r\n\t\t\t\t*/\r\n\t\t\t\tvar fileName = commentModel.fileName;\r\n\t\t\t\tlink.text(fileName);\r\n\t\t\t\tlink.prepend(fileIcon);\r\n\t\t\t}\r\n\t\t\tcontent.html(link);\r\n\t\t// Case: regular comment\r\n\t\t} else {\r\n\t\t\tcontent.html(this.getFormattedCommentContent(commentModel));\r\n\t\t}\r\n\r\n\t\t// Edited timestamp\r\n\t\tif(commentModel.modified && commentModel.modified != commentModel.created) {\r\n\t\t\tvar editedTime = this.options.timeFormatter(commentModel.modified);\r\n\t\t\tvar edited = $('<time/>', {\r\n\t\t\t\t'class': 'edited',\r\n\t\t\t\ttext: this.options.textFormatter(this.options.editedText) + ' ' + editedTime,\r\n\t\t\t\t'data-original': commentModel.modified\r\n\t\t\t});\r\n\t\t\tcontent.append(edited);\r\n\t\t}\r\n\r\n\t\t// Actions\r\n\t\tvar actions = $('<span/>', {\r\n\t\t\t'class': 'actions'\r\n\t\t});\r\n\r\n\t\t// Reply\r\n\t\tvar reply = $('<button/>', {\r\n\t\t\t'class': 'action reply',\r\n\t\t\t'type': 'button',\r\n\t\t\ttext: this.options.textFormatter(this.options.replyText)\r\n\t\t});\r\n\r\n\t\t// Upvote icon\r\n\t\tvar upvoteIcon = $('<i/>', {\r\n\t\t\t'class': 'fa fa-thumbs-up'\r\n\t\t});\r\n\t\tif(this.options.upvoteIconURL.length) {\r\n\t\t\tupvoteIcon.css('background-image', 'url(\"'+this.options.upvoteIconURL+'\")');\r\n\t\t\tupvoteIcon.addClass('image');\r\n\t\t}\r\n\r\n\t\t// Upvotes\r\n\t\tvar upvotes = this.createUpvoteElement(commentModel);\r\n\r\n\t\t// Append buttons for actions that are enabled\r\n\t\tif(this.options.enableReplying) actions.append(reply);\r\n\t\tif(this.options.enableUpvoting) actions.append(upvotes);\r\n\r\n\t\tif(commentModel.createdByCurrentUser || this.options.currentUserIsAdmin) {\r\n\t\t\t// Case: delete button for attachment and currentUser\r\n\t\t\tif(isAttachment && this.isAllowedToDelete(commentModel.id)) {\r\n\t\t\t\tvar deleteButton = $('<button/>', {\r\n\t\t\t\t\t'class': 'action delete enabled',\r\n\t\t\t\t\ttext: this.options.textFormatter(this.options.deleteText)\r\n\t\t\t\t});\r\n\t\t\t\tactions.append(deleteButton);\r\n\r\n\t\t\t// Case: edit button for regular comment\r\n\t\t\t} else if(!isAttachment && this.options.enableEditing) {\r\n\t\t\t\tvar editButton = $('<button/>', {\r\n\t\t\t\t\t'class': 'action edit',\r\n\t\t\t\t\ttext: this.options.textFormatter(this.options.editText)\r\n\t\t\t\t});\r\n\t\t\t\tactions.append(editButton);\r\n\t\t\t\tvar deleteButton = $('<button/>', {\r\n\t\t\t\t\t'class': 'action delete enabled',\r\n\t\t\t\t\ttext: this.options.textFormatter(this.options.deleteText)\r\n\t\t\t\t});\r\n\t\t\t\tactions.append(deleteButton);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twrapper.append(content);\r\n\t\tif(commentModel.opinion == true) {\r\n\t\t\twrapper.append(noteOpinion);\r\n\t\t}\r\n\t\twrapper.append(actions);\r\n\t\tcommentWrapper.append(profilePicture).append(time).append(name).append(wrapper);\r\n\t\treturn commentWrapper;\r\n\t},\r\n\r\n\tcreateUpvoteElement: function(commentModel) {\r\n\t\t// Upvote icon\r\n\t\tvar upvoteIcon = $('<i/>', {\r\n\t\t\t'class': 'fa fa-thumbs-up'\r\n\t\t});\r\n\t\tif(this.options.upvoteIconURL.length) {\r\n\t\t\tupvoteIcon.css('background-image', 'url(\"'+this.options.upvoteIconURL+'\")');\r\n\t\t\tupvoteIcon.addClass('image');\r\n\t\t}\r\n\r\n\t\t// Upvotes\r\n\t\tvar upvoteEl = $('<button/>', {\r\n\t\t\t'class': 'action upvote' + (commentModel.userHasUpvoted ? ' highlight-font' : '')\r\n\t\t}).append($('<span/>', {\r\n\t\t\ttext: commentModel.upvoteCount,\r\n\t\t\t'class': 'upvote-count'\r\n\t\t})).append(upvoteIcon);\r\n\r\n\t\treturn upvoteEl;\r\n\t},\r\n\r\n\tcreateTagElement: function(text, extraClasses, value) {\r\n\t\tvar tagEl = $('<input/>', {\r\n\t\t\t'class': 'tag',\r\n\t\t\t'type': 'button',\r\n\t\t\t'data-role': 'none',\r\n\t\t});\r\n\t\tif(extraClasses) tagEl.addClass(extraClasses);\r\n\t\ttagEl.val(text);\r\n\t\ttagEl.attr('data-value', value);\r\n\t\treturn tagEl;\r\n\t},\r\n\r\n\treRenderComment: function(id) {\r\n\t\tvar commentModel = this.commentsById[id];\r\n\t\tvar commentElements = this.$el.find('li.comment[data-id=\"'+commentModel.id+'\"]');\r\n\r\n\t\tvar self = this;\r\n\t\tcommentElements.each(function(index, commentEl) {\r\n\t\t\tvar commentWrapper = self.createCommentWrapperElement(commentModel);\r\n\t\t\t$(commentEl).find('.comment-wrapper').first().replaceWith(commentWrapper);\r\n\t\t});\r\n\t},\r\n\r\n\treRenderCommentActionBar: function(id) {\r\n\t\tvar commentModel = this.commentsById[id];\r\n\t\tvar commentElements = this.$el.find('li.comment[data-id=\"'+commentModel.id+'\"]');\r\n\r\n\t\tvar self = this;\r\n\t\tcommentElements.each(function(index, commentEl) {\r\n\t\t\tvar commentWrapper = self.createCommentWrapperElement(commentModel);\r\n\t\t\t$(commentEl).find('.actions').first().replaceWith(commentWrapper.find('.actions'));\r\n\t\t});\r\n\t},\r\n\r\n\treRenderUpvotes: function(id) {\r\n\t\tvar commentModel = this.commentsById[id];\r\n\t\tvar commentElements = this.$el.find('li.comment[data-id=\"'+commentModel.id+'\"]');\r\n\r\n\t\tvar self = this;\r\n\t\tcommentElements.each(function(index, commentEl) {\r\n\t\t\tvar upvotes = self.createUpvoteElement(commentModel);\r\n\t\t\t$(commentEl).find('.upvote').first().replaceWith(upvotes);\r\n\t\t});\r\n\t},\r\n\r\n\r\n\t// Styling\r\n\tcreateCssDeclarations: function() {\r\n\r\n\t\t// Remove previous css-declarations\r\n\t\t$('head style.jquery-comments-css').remove();\r\n\r\n\t\t// Navigation underline\r\n\t\tthis.createCss('.jquery-comments ul.navigation li.active:after {background: '\r\n\t\t\t+ this.options.highlightColor  + ' !important;',\r\n\t\t\t+'}');\r\n\r\n\t\t// Dropdown active element\r\n\t\tthis.createCss('.jquery-comments ul.navigation ul.dropdown li.active {background: '\r\n\t\t\t+ this.options.highlightColor  + ' !important;',\r\n\t\t\t+'}');\r\n\r\n\t\t// Background highlight\r\n\t\tthis.createCss('.jquery-comments .highlight-background {background: '\r\n\t\t\t+ this.options.highlightColor  + ' !important;',\r\n\t\t\t+'}');\r\n\r\n\t\t// Font highlight\r\n\t\tthis.createCss('.jquery-comments .highlight-font {color: '\r\n\t\t\t+ this.options.highlightColor + ' !important;'\r\n\t\t\t+'}');\r\n\t\tthis.createCss('.jquery-comments .highlight-font-bold {color: '\r\n\t\t\t+ this.options.highlightColor + ' !important;'\r\n\t\t\t+ 'font-weight: bold;'\r\n\t\t\t+'}');\r\n\t},\r\n\r\n\tcreateCss: function(css) {\r\n\t\tvar styleEl = $('<style/>', {\r\n\t\t\ttype: 'text/css',\r\n\t\t\t'class': 'jquery-comments-css',\r\n\t\t\ttext: css\r\n\t\t});\r\n\t\t$('head').append(styleEl);\r\n\t},\r\n\r\n\t//\r\n\tgetComments: function() {\r\n\t\tvar self = this;\r\n\t\tlet commentArr = Object.keys(this.commentsById).map(function(id){return self.commentsById[id]})\r\n\t\tlet importantCmtArr = commentArr.filter(function(comment){return comment.opinion})\r\n\t\tlet importantCmtUser = commentArr.filter(function(comment){return comment.opinion&&comment.createdByCurrentUser})\r\n\t\tlet attachCmtArr = commentArr.filter(function(comment){return comment.fileURL != undefined})\r\n\t\tif (commentArr.length > 3) {\r\n\t\t\t$('.data-container[data-container=comments]').addClass('lessEl')\r\n\t\t} else {\r\n\t\t\t$('.data-container[data-container=comments]').addClass('fullEl')\r\n\t\t}\r\n\t\t// \r\n\t\tif (importantCmtArr.length > 3) {\r\n\t\t\t$('.data-container[data-container=importantCmt]').addClass('lessEl')\r\n\t\t} else {\r\n\t\t\t$('.data-container[data-container=importantCmt]').addClass('fullEl')\r\n\t\t}\r\n\t\tif (importantCmtUser.length > 0) {\r\n\t\t\t$('.opinion').hide()\r\n\t\t} else {\r\n\t\t\t$('.opinion').show()\r\n\t\t}\r\n\t\t// \r\n\t\tif (attachCmtArr.length > 3) {\r\n\t\t\t$('.data-container[data-container=attachments]').addClass('lessEl')\r\n\t\t} else {\r\n\t\t\t$('.data-container[data-container=attachments]').addClass('fullEl')\r\n\t\t}\r\n\r\n\t\treturn Object.keys(this.commentsById).map(function(id){return self.commentsById[id]});\r\n\t},\r\n\r\n\tgetUsers: function() {\r\n\t\tvar self = this;\r\n\t\treturn Object.keys(this.usersById).map(function(id){return self.usersById[id]});\r\n\t},\r\n\r\n\tgetChildComments: function(parentId) {\r\n\t\treturn this.getComments().filter(function(comment){return comment.parent == parentId});\r\n\t},\r\n\r\n\tgetAttachments: function() {\r\n\t\tvar self = this;\r\n\t\treturn this.getComments().filter(function(comment){return comment.fileURL != undefined});\r\n\t},\r\n\tgetImportantCmt: function() {\r\n\t\tvar self = this;\r\n\t\treturn this.getComments().filter(function(comment){return comment.opinion == true});\r\n\t},\r\n\tgetOutermostParent: function(directParentId) {\r\n\t\tvar parentId = directParentId;\r\n\t\tdo {\r\n\t\t\tvar parentComment = this.commentsById[parentId];\r\n\t\t\tparentId = parentComment.parent;\r\n\t\t} while(parentComment.parent != null);\r\n\t\treturn parentComment;\r\n\t},\r\n\r\n\tcreateCommentJSON: function(textarea) {\r\n\t\tvar time = new Date().toISOString();\r\n\t\tvar commentJSON = {\r\n\t\t\tid: 'c' +  (this.getComments().length + 1),   // Temporary id\r\n\t\t\tparent: textarea.attr('data-parent') || null,\r\n\t\t\tcreated: time,\r\n\t\t\tmodified: time,\r\n\t\t\tcontent: this.getTextareaContent(textarea),\r\n\t\t\tpings: this.getPings(textarea),\r\n\t\t\tfullname: this.options.textFormatter(this.options.youText),\r\n\t\t\tprofilePictureURL: this.options.profilePictureURL,\r\n\t\t\tcreatedByCurrentUser: true,\r\n\t\t\tupvoteCount: 0,\r\n\t\t\tuserHasUpvoted: false\r\n\t\t};\r\n\t\treturn commentJSON;\r\n\t},\r\n\r\n\tisAllowedToDelete: function(commentId) {\r\n\t\tif(this.options.enableDeleting) {\r\n\t\t\tvar isAllowedToDelete = true;\r\n\t\t\tif(!this.options.enableDeletingCommentWithReplies) {\r\n\t\t\t\t$(this.getComments()).each(function(index, comment) {\r\n\t\t\t\t\tif(comment.parent == commentId) isAllowedToDelete = false;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn isAllowedToDelete;\r\n\t\t}\r\n\t\treturn false;\r\n\t},\r\n\r\n\tsetToggleAllButtonText: function(toggleAllButton, toggle) {\r\n\t\tvar self = this;\r\n\t\tvar textContainer = toggleAllButton.find('span.text');\r\n\t\tvar caret = toggleAllButton.find('.caret');\r\n\r\n\t\tvar showExpandingText = function() {\r\n\t\t\t\tvar text = self.options.textFormatter(self.options.viewAllRepliesText);\r\n\t\t\t\tvar replyCount = toggleAllButton.siblings('.comment').length;\r\n\t\t\t\ttext = text.replace('__replyCount__', replyCount);\r\n\t\t\t\ttextContainer.text(text);\r\n\t\t};\r\n\r\n\t\tvar hideRepliesText = this.options.textFormatter(this.options.hideRepliesText);\r\n\r\n\t\tif(toggle) {\r\n\t\t\t// Toggle text\r\n\t\t\tif(textContainer.text() == hideRepliesText) {\r\n\t\t\t\tshowExpandingText();\r\n\t\t\t} else {\r\n\t\t\t\ttextContainer.text(hideRepliesText);\r\n\t\t\t}\r\n\t\t\t// Toggle direction of the caret\r\n\t\t\tcaret.toggleClass('up');\r\n\t\t} else {\r\n\t\t\t// Update text if necessary\r\n\t\t\tif(textContainer.text() != hideRepliesText) {\r\n\t\t\t\tshowExpandingText();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tadjustTextareaHeight: function(textarea, focus) {\r\n\t\tvar textareaBaseHeight = 2.2;\r\n\t\tvar lineHeight = 1.45;\r\n\r\n\t\tvar setRows = function(rows) {\r\n\t\t\tvar height = textareaBaseHeight + (rows - 1) * lineHeight;\r\n\t\t\ttextarea.css('height', height + 'em');\r\n\t\t};\r\n\r\n\t\ttextarea = $(textarea);\r\n\t\tvar rowCount = focus == true ? this.options.textareaRowsOnFocus : this.options.textareaRows;\r\n\t\tdo {\r\n\t\t\tsetRows(rowCount);\r\n\t\t\trowCount++;\r\n\t\t\tvar isAreaScrollable = textarea[0].scrollHeight > textarea.outerHeight();\r\n\t\t\tvar maxRowsUsed = this.options.textareaMaxRows == false ?\r\n\t\t\t\tfalse : rowCount > this.options.textareaMaxRows;\r\n\t\t} while(isAreaScrollable && !maxRowsUsed);\r\n\t},\r\n\r\n\tclearTextarea: function(textarea) {\r\n\t\ttextarea.empty().trigger('input');\r\n\t},\r\n\r\n\tgetTextareaContent: function(textarea, humanReadable) {\r\n\t\tvar textareaClone = textarea.clone();\r\n\r\n\t\t// Remove reply-to tag\r\n\t\ttextareaClone.find('.reply-to.tag').remove();\r\n\r\n\t\t// Replace tags with text values\r\n\t\ttextareaClone.find('.tag.hashtag').replaceWith(function(){\r\n\t\t\treturn humanReadable ? $(this).val() : '#' + $(this).attr('data-value');\r\n\t\t});\r\n\t\ttextareaClone.find('.tag.ping').replaceWith(function(){\r\n\t\t\treturn humanReadable ? $(this).val() : '@' + $(this).attr('data-value');\r\n\t\t});\r\n\r\n\t\tvar ce = $('<pre/>').html(textareaClone.html());\r\n\t\tce.find('div, p, br').replaceWith(function() { return '\\n' + this.innerHTML; });\r\n\r\n\t\t// Trim leading spaces\r\n\t\tvar text = ce.text().replace(/^\\s+/g, '');\r\n\r\n\t\t// Normalize spaces\r\n\t\tvar text = this.normalizeSpaces(text);\r\n\t\treturn text;\r\n\t},\r\n\r\n\tgetFormattedCommentContent: function(commentModel, replaceNewLines) {\r\n\t\tvar html = this.escape(commentModel.content);\r\n\t\thtml = this.linkify(html);\r\n\t\thtml = this.highlightTags(commentModel, html);\r\n\t\tif(replaceNewLines) html = html.replace(/(?:\\n)/g, '<br>');\r\n\t\treturn html;\r\n\t},\r\n\r\n\tgetPings: function(textarea) {\r\n\t\treturn $.map(textarea.find('.ping'), function(el){return parseInt($(el).attr('data-value'))});\r\n\t},\r\n\r\n\tmoveCursorToEnd: function(el) {\r\n\t\tel = $(el)[0];\r\n\r\n\t\t// Trigger input to adjust size\r\n\t\t$(el).trigger('input');\r\n\r\n\t\t// Scroll to bottom\r\n\t\t$(el).scrollTop(el.scrollHeight);\r\n\r\n\t\t// Move cursor to end\r\n\t\tif (typeof window.getSelection != 'undefined' && typeof document.createRange != 'undefined') {\r\n\t\t\tvar range = document.createRange();\r\n\t\t\trange.selectNodeContents(el);\r\n\t\t\trange.collapse(false);\r\n\t\t\tvar sel = window.getSelection();\r\n\t\t\tsel.removeAllRanges();\r\n\t\t\tsel.addRange(range);\r\n\t\t} else if (typeof document.body.createTextRange != 'undefined') {\r\n\t\t\tvar textRange = document.body.createTextRange();\r\n\t\t\ttextRange.moveToElementText(el);\r\n\t\t\ttextRange.collapse(false);\r\n\t\t\ttextRange.select();\r\n\t\t}\r\n\r\n\t\t// Focus\r\n\t\tel.focus();\r\n\t},\r\n\r\n\tescape: function(inputText) {\r\n\t\treturn $('<pre/>').text(this.normalizeSpaces(inputText)).html();\r\n\t},\r\n\r\n\tnormalizeSpaces: function(inputText) {\r\n\t\treturn inputText.replace(new RegExp('\\u00a0', 'g'), ' ');   // Convert non-breaking spaces to reguar spaces\r\n\t},\r\n\r\n\tafter: function(times, func) {\r\n\t\tvar self = this;\r\n\t\treturn function() {\r\n\t\t\ttimes--;\r\n\t\t\tif (times == 0) {\r\n\t\t\t\treturn func.apply(self, arguments);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\thighlightTags: function(commentModel, html) {\r\n\t\tif(this.options.enableHashtags) html = this.highlightHashtags(commentModel, html);\r\n\t\tif(this.options.enablePinging) html = this.highlightPings(commentModel, html);\r\n\t\treturn html;\r\n\t},\r\n\r\n\thighlightHashtags: function(commentModel, html) {\r\n\t\tvar self = this;\r\n\r\n\t\tif(html.indexOf('#') != -1) {\r\n\t\t\tvar __createTag = function(tag) {\r\n\t\t\t\tvar tag = self.createTagElement('#' + tag, 'hashtag', tag);\r\n\t\t\t\treturn tag[0].outerHTML;\r\n\t\t\t}\r\n\r\n\t\t\tvar regex = /(^|\\s)#([a-z\\d-_]+)/gim;\r\n\t\t\thtml = html.replace(regex, function($0, $1, $2){\r\n\t\t\t\treturn $1 + __createTag($2);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn html;\r\n\t},\r\n\r\n\thighlightPings: function(commentModel, html) {\r\n\t\tvar self = this;\r\n\r\n\t\tif(html.indexOf('@') != -1) {\r\n\r\n\t\t\tvar __createTag = function(user) {\r\n\t\t\t\tvar tag = self.createTagElement('@' + user.fullname, 'ping', user.id);\r\n\t\t\t\treturn tag[0].outerHTML;\r\n\t\t\t}\r\n\r\n\t\t\tvar highlightedHtml = '';\r\n\t\t\t$(commentModel.pings).each(function(index, id) {\r\n\t\t\t\tif(id in self.usersById) {\r\n\t\t\t\t\tvar user = self.usersById[id];\r\n\t\t\t\t\tvar pingText = '@' + user.id;\r\n\r\n\t\t\t\t\tvar endIndex = html.indexOf(pingText) + pingText.length;\r\n\t\t\t\t\tvar current = html.slice(0, endIndex);\r\n\t\t\t\t\thighlightedHtml += current.replace(pingText, __createTag(user));\r\n\r\n\t\t\t\t\thtml = html.slice(endIndex);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\thighlightedHtml += html;\r\n\t\t\treturn highlightedHtml;\r\n\t\t}\r\n\t\treturn html;\r\n\t},\r\n\r\n\tlinkify: function(inputText) {\r\n\t\tvar replacedText, replacePattern1, replacePattern2, replacePattern3;\r\n\r\n\t\t// URLs starting with http://, https://, file:// or ftp://\r\n\t\treplacePattern1 = /(^|\\s)((https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/gim;\r\n\t\treplacedText = inputText.replace(replacePattern1, '$1<a href=\"$2\" target=\"_blank\">$2</a>');\r\n\r\n\t\t// URLs starting with \"www.\" (without // before it, or it'd re-link the ones done above).\r\n\t\treplacePattern2 = /(^|\\s)(www\\.[\\S]+(\\b|$))/gim;\r\n\t\treplacedText = replacedText.replace(replacePattern2, '$1<a href=\"http://$2\" target=\"_blank\">$2</a>');\r\n\r\n\t\t// Change email addresses to mailto:: links.\r\n\t\treplacePattern3 = /(^|\\s)(([a-zA-Z0-9\\-\\_\\.]+)@[a-zA-Z\\_]+?(\\.[a-zA-Z]{2,6})+)/gim;\r\n\t\treplacedText = replacedText.replace(replacePattern3, '$1<a href=\"mailto:$2\">$2</a>');\r\n\r\n\t\t// If there are hrefs in the original text, let's split\r\n\t\t// the text up and only work on the parts that don't have urls yet.\r\n\t\tvar count = inputText.match(/<a href/g) || [];\r\n\r\n\t\tif(count.length > 0){\r\n\t\t\t// Keep delimiter when splitting\r\n\t\t\tvar splitInput = inputText.split(/(<\\/a>)/g);\r\n\t\t\tfor (var i = 0 ; i < splitInput.length ; i++){\r\n\t\t\t\tif(splitInput[i].match(/<a href/g) == null){\r\n\t\t\t\t\tsplitInput[i] = splitInput[i].replace(replacePattern1, '<a href=\"$1\" target=\"_blank\">$1</a>').replace(replacePattern2, '$1<a href=\"http://$2\" target=\"_blank\">$2</a>').replace(replacePattern3, '<a href=\"mailto:$1\">$1</a>');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar combinedReplacedText = splitInput.join('');\r\n\t\t\treturn combinedReplacedText;\r\n\t\t} else {\r\n\t\t\treturn replacedText;\r\n\t\t}\r\n\t},\r\n\r\n\twaitUntil: function(condition, callback) {\r\n\t\tvar self = this;\r\n\r\n\t\tif(condition()) {\r\n\t\t\tcallback();\r\n\t\t} else {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tself.waitUntil(condition, callback);\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t},\r\n\r\n\tapplyInternalMappings: function(commentJSON) {\r\n\t\t// Inverting field mappings\r\n\t\tvar invertedMappings = {};\r\n\t\tvar mappings = this.options.fieldMappings;\r\n\t\tfor (var prop in mappings) {\r\n\t\t\tif(mappings.hasOwnProperty(prop)) {\r\n\t\t\t\tinvertedMappings[mappings[prop]] = prop;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this.applyMappings(invertedMappings, commentJSON);\r\n\t},\r\n\r\n\tapplyExternalMappings: function(commentJSON) {\r\n\t\tvar mappings = this.options.fieldMappings;\r\n\t\treturn this.applyMappings(mappings, commentJSON);\r\n\t},\r\n\r\n\tapplyMappings: function(mappings, commentJSON) {\r\n\t\tvar result = {};\r\n\r\n\t\tfor(var key1 in commentJSON) {\r\n\t\t\tif(key1 in mappings) {\r\n\t\t\t\tvar key2 = mappings[key1];\r\n\t\t\t\tresult[key2] = commentJSON[key1];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t};\r\n\r\n\t$.fn.comments = function(options) {\r\n\t\treturn this.each(function() {\r\n\t\t\tvar comments = Object.create(Comments);\r\n\t\t\t$.data(this, 'comments', comments);\r\n\t\t\tcomments.init(options || {}, this);\r\n\t\t});\r\n\t};\r\n}));\r\n\r\n\r\n/* eslint-disable */\n\n\n// WEBPACK FOOTER //\n// ./src/store/jquery_comment.js","<template>  \r\n  <div class=\"phancong\" style=\"background-color: white;width:100%\">\r\n    <v-expansion-panel class=\"expansion-pl\">\r\n      <v-expansion-panel-content hide-actions value=\"1\">\r\n        <div slot=\"header\">\r\n          <div class=\"background-triangle-small\"> \r\n            <v-icon size=\"18\" color=\"white\">star_rate</v-icon> \r\n          </div>{{title_asign[type]}}\r\n        </div>\r\n        <v-card>\r\n          <v-card-text>\r\n            <div class=\"ml-3\" v-for=\"(item, index) in data_phancong\" v-bind:key=\"item.userId\" style=\"display: inline-block\">\r\n              <v-layout wrap v-if=\"type === 1\">\r\n                <v-flex>\r\n                  <v-checkbox v-model=\"item.assigned\"\r\n                  @change = 'changeAssigned($event, index)'\r\n                  ></v-checkbox>\r\n                </v-flex>\r\n                <v-flex class=\"pt-1\">\r\n                  <span>{{item.userName}}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n                </v-flex>\r\n              </v-layout>\r\n\r\n              <v-layout wrap v-else class=\"my-1\">\r\n                <v-flex class=\"pt-1\">{{item.userName}}</v-flex> &nbsp; &nbsp;\r\n                <v-flex>\r\n                  <v-select\r\n                    :items=\"assignedtype_items[type]\"\r\n                    :value=\"item.assigned\"\r\n                    item-text=\"text\"\r\n                    item-value=\"value\"\r\n                    return-object\r\n                    hide-selected\r\n                    @change = 'changeAssigned($event, index)'\r\n                    style=\"max-width: 160px\"\r\n                  ></v-select>\r\n                </v-flex>\r\n                &nbsp; &nbsp;\r\n              </v-layout>\r\n            </div>\r\n          </v-card-text>\r\n        </v-card>\r\n        \r\n      </v-expansion-panel-content>\r\n    </v-expansion-panel>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  props: {\r\n    assign_items: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    type: {\r\n      type: Number,\r\n      default: () => 1\r\n    }\r\n  },\r\n  model: {\r\n    prop: 'assign_items'\r\n  },\r\n  data: () => ({\r\n    data_phancong: [],\r\n    assignedtype_items: {\r\n      '2': [\r\n        {text: 'Khng c phn cng', value: 0},\r\n        {text: 'Thc hin chnh', value: 1},\r\n        {text: 'Thc hin phi hp', value: 2}\r\n      ],\r\n      '3': [\r\n        {text: 'Khng c phn cng', value: 0},\r\n        {text: 'Thc hin chnh', value: 1},\r\n        {text: 'Thc hin phi hp', value: 2},\r\n        {text: 'Theo di', value: 3}\r\n      ]\r\n    },\r\n    title_asign: {\r\n      '1': 'PHN CNG NGI THC HIN',\r\n      '2': 'PHN CNG THC HIN, PHI HP',\r\n      '3': 'PHN CNG THC HIN, PHI HP V THEO DI'\r\n    }\r\n  }),\r\n  mounted () {\r\n    this.data_phancong = this.assign_items\r\n  },\r\n  methods: {\r\n    changeAssigned (event, index) {\r\n      var vm = this\r\n      if (vm.type === 1) {\r\n        if (event === true) {\r\n          vm.assign_items[index].assigned = 1\r\n        } else {\r\n          vm.assign_items[index].assigned = 0\r\n        }\r\n      } else {\r\n        vm.assign_items[index].assigned = event.value\r\n      }\r\n      // vm.data_pc = vm.assign_items\r\n      // vm.$emit('change', vm.data_pc)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// PhanCongNguoiThucHien.vue?15af1e55","<template>\r\n  <v-expansion-panel class=\"expansion-pl ext__form\">\r\n    <v-expansion-panel-content hide-actions value=\"1\">\r\n      <div slot=\"header\"><div class=\"background-triangle-small\"> <v-icon size=\"18\" color=\"white\">star_rate</v-icon> </div>THNG TIN CHUNG H S</div>\r\n      <v-card>\r\n        <v-card-text class=\"py-0\">\r\n          <v-layout wrap class=\"px-2 py-2\">\r\n          <v-flex xs12 sm4>\r\n            <div class=\"xs12 sm12 pb-1\">\r\n              <span class=\"pr-2\">Tn doanh nghip: </span>\r\n              <span class=\"pl-0 text-bold\"> {{thongTinChiTietHoSo.applicantName}}</span>\r\n            </div>\r\n            <!--  -->\r\n            <div class=\"xs12 sm12 pb-1\">\r\n              <span class=\"pr-2\">M h s: </span>\r\n              <span class=\"pl-0 text-bold \">  {{thongTinChiTietHoSo.dossierIdCTN}} </span>\r\n            </div>\r\n            <!--  -->\r\n            <div class=\"xs12 sm12 pb-1\">\r\n              <span class=\"pr-2\">S h s: </span>\r\n              <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.dossierNo}} </span>\r\n            </div>\r\n            <!--  -->\r\n            <div class=\"xs12 sm12 pb-1\">\r\n              <span class=\"pr-2\">Trng thi: </span>\r\n              <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.dossierStatusText}} </span>\r\n            </div>\r\n          </v-flex>\r\n          <!--  -->\r\n          <v-flex xs12 sm4>\r\n            <div class=\"xs12 sm12 pb-1\">\r\n              <span class=\"pr-2\">Thi gian gi: </span>\r\n              <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.submitDate}} </span>\r\n            </div>\r\n            <!--  -->\r\n            <div class=\"xs12 sm12 pb-1\">\r\n              <span class=\"pr-2\">Thi gian tip nhn: </span>\r\n              <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.receiveDate}}</span>\r\n            </div>\r\n            <!--  -->\r\n            <div class=\"xs12 sm12 pb-1\">\r\n              <span class=\"pr-2\">Thi hn x l: </span>\r\n              <span class=\"pl-0 text-bold \"> \r\n                {{durationText(thongTinChiTietHoSo.durationUnit, thongTinChiTietHoSo.durationCount)}} lm vic \r\n              </span>\r\n            </div>\r\n          </v-flex>\r\n          <!--  -->\r\n          <v-flex xs12 sm4>\r\n            <div class=\"xs12 sm12 pb-1\" style=\"color:#0b72ba\">Thng tin lin h:</div>\r\n            <div class=\"xs12 sm12 pb-1\">\r\n              <span class=\"pr-2\">Tn doanh nghip: </span>\r\n              <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.applicantName}} </span>\r\n            </div>\r\n            <!--  -->\r\n            <div class=\"xs12 sm12 pb-1\">\r\n              <span class=\"pl-0\">a ch Email: </span>\r\n              <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.contactEmail}} </span>\r\n            </div>\r\n            <!--  -->\r\n            <div class=\"xs12 sm12 pb-1\">\r\n              <span class=\"pr-2\">S in thoi: </span>\r\n              <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.contactTelNo}} </span>\r\n            </div>\r\n            <!--  -->\r\n            <div class=\"xs12 sm12 pb-1\">\r\n              <span class=\"pr-2\">a ch: </span>\r\n              <span class=\"pl-0 text-bold \"> {{thongTinChiTietHoSo.address}} </span>\r\n            </div>\r\n          </v-flex>\r\n        </v-layout>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-expansion-panel-content>\r\n  </v-expansion-panel>\r\n</template>\r\n<script>\r\n  export default {\r\n    props: {\r\n      detailDossier: {\r\n        type: Object,\r\n        default: () => {}\r\n      }\r\n    },\r\n    watch: {\r\n      detailDossier (val) {\r\n        console.log('watch', val)\r\n        var vm = this\r\n        vm.thongTinChiTietHoSo = val\r\n      }\r\n    },\r\n    components: {\r\n    },\r\n    data: () => ({\r\n      thongTinChiTietHoSo: {},\r\n      showContactDetail: false\r\n    }),\r\n    computed: {\r\n      loading () {\r\n        return this.$store.getters.loading\r\n      }\r\n    },\r\n    created () {\r\n      var vm = this\r\n      vm.thongTinChiTietHoSo = vm.detailDossier\r\n    },\r\n    mounted () {\r\n      var vm = this\r\n      vm.thongTinChiTietHoSo = vm.detailDossier\r\n    },\r\n    methods: {\r\n      initData (data) {\r\n        var vm = this\r\n        vm.$store.dispatch('getDetailDossier', data).then(resultDossier => {\r\n          vm.thongTinChiTietHoSo = resultDossier\r\n          console.log('thongTinChiTietHoSo', vm.thongTinChiTietHoSo)\r\n        })\r\n      },\r\n      goBack () {\r\n        window.history.back()\r\n      },\r\n      durationText (durationUnit, durationCount) {\r\n        var durationText\r\n        if (durationUnit === 1 && durationCount > 8) {\r\n          let day = Math.floor(durationCount / 8) + ' ngy'\r\n          let hours\r\n          if (durationCount % 8 !== 0) {\r\n            hours = ((durationCount / 8) - Math.floor(durationCount / 8)) * 8 + ' gi'\r\n          } else {\r\n            hours = ''\r\n          }\r\n          durationText = `${day} ${hours}`\r\n        } else if (durationUnit === 0) {\r\n          durationText = durationCount + ' ngy'\r\n        } else if (durationUnit === 1 && durationCount <= 8) {\r\n          durationText = durationCount + ' gi'\r\n        }\r\n        return durationText\r\n      }\r\n    },\r\n    filters: {\r\n      dateTimeView (arg) {\r\n        if (arg) {\r\n          let value = new Date(arg)\r\n          return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()} | ${value.getHours().toString().padStart(2, '0')}:${value.getMinutes().toString().padStart(2, '0')}`\r\n        } else {\r\n          return ''\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// ThongTinCoBanHoSo.vue?b2a86ecc","<template>\r\n  <div class=\"traketqua\">\r\n    <v-expansion-panel class=\"expansion-pl\">\r\n      <v-expansion-panel-content hide-actions value=\"1\">\r\n        <div slot=\"header\">\r\n          <div class=\"background-triangle-small\"> \r\n            <v-icon size=\"18\" color=\"white\">star_rate</v-icon> \r\n          </div>GIY T KT QU\r\n        </div>\r\n        <v-card>\r\n          <v-card-text>\r\n            <v-data-table\r\n              :headers=\"headers\"\r\n              :items=\"resultFiles|filterFileResult\"\r\n              item-key=\"no\"\r\n              class=\"table-bordered\"\r\n              hide-actions\r\n              :no-data-text=\"'Khng c giy t kt qu'\"\r\n            >\r\n              <template slot=\"headerCell\" slot-scope=\"props\">\r\n                <v-tooltip bottom>\r\n                  <span slot=\"activator\">\r\n                    {{ props.header.text }}\r\n                  </span>\r\n                  <span>\r\n                    {{ props.header.text }}\r\n                  </span>\r\n                </v-tooltip>\r\n              </template>\r\n              <template slot=\"items\" slot-scope=\"props\">\r\n                <td class=\"text-xs-center\" style=\"width:5%\"> {{ props.index + 1 }} </td>\r\n                <td class=\"text-xs-left\" style=\"width:10%\"> {{ props.item.deliverableCode }} </td>\r\n                <td class=\"text-xs-left\" style=\"width:10%\"> {{ props.item.createDate|dateTimeView }} </td>\r\n                <td class=\"text-xs-left\" style=\"width:75%\"> {{props.item.displayName}} </td>\r\n              </template>\r\n            </v-data-table>\r\n          </v-card-text>\r\n        </v-card>\r\n        \r\n      </v-expansion-panel-content>\r\n    </v-expansion-panel>\r\n  </div>\r\n  <!-- <v-dialog v-model=\"dialog_add_dined\" persistent max-width=\"500px\">\r\n    <v-card>\r\n      <v-card-text>\r\n        <v-container grid-list-md>\r\n          <v-layout wrap>\r\n            <v-flex xs12>\r\n              <v-text-field v-model=\"note_reason\" placeholder=\"Nhp l do t chi\" multi-line></v-text-field>\r\n            </v-flex>\r\n          </v-layout>\r\n        </v-container>\r\n      </v-card-text>\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn color=\"primary\" flat=\"flat\" @click.native=\"submitAddReason(note_reason)\"\r\n          :loading=\"loadingAction\"\r\n          :disabled=\"loadingAction\"\r\n        >\r\n          Chp nhn &nbsp;\r\n          <span slot=\"loader\">Loading...</span>\r\n        </v-btn>\r\n        <v-btn color=\"red darken-3\" flat=\"flat\" @click.native=\"dialog_add_dined = false\"\r\n          :loading=\"loadingAction\"\r\n          :disabled=\"loadingAction\"\r\n        >\r\n          B qua &nbsp;\r\n          <span slot=\"loader\">Loading...</span>\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog> -->\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  props: {\r\n    resultFiles: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data: () => ({\r\n    dossierId: '',\r\n    loadingAction: false,\r\n    headers: [\r\n      {\r\n        text: 'STT',\r\n        align: 'center',\r\n        sortable: false\r\n      },\r\n      {\r\n        text: 'S giy',\r\n        align: 'center',\r\n        sortable: false\r\n      },\r\n      {\r\n        text: 'Ngy cp',\r\n        align: 'center',\r\n        sortable: false\r\n      },\r\n      {\r\n        text: 'Tn giy t',\r\n        align: 'center',\r\n        sortable: false\r\n      }\r\n    ]\r\n  }),\r\n  computed: {\r\n    loading () {\r\n      return this.$store.getters.loading\r\n    }\r\n  },\r\n  created () {\r\n    var vm = this\r\n    vm.$nextTick(function () {})\r\n  },\r\n  methods: {},\r\n  filters: {\r\n    dateTimeView (arg) {\r\n      if (arg) {\r\n        let value = new Date(arg)\r\n        return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()}`\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    filterFileResult (arg) {\r\n      if (arg.length > 0) {\r\n        let resultFilter = []\r\n        resultFilter = arg.filter((val, index) => {\r\n          return (val.dossierPartType === 2 && val.eForm === false)\r\n        })\r\n        return resultFilter\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// TraKetQua.vue?d91d4f6c","<template>\r\n  <v-expansion-panel class=\"expansion-pl\">\r\n    <v-expansion-panel-content hide-actions value=\"1\">\r\n      <div slot=\"header\">\r\n        <div class=\"background-triangle-small\"> \r\n          <v-icon size=\"18\" color=\"white\">star_rate</v-icon> \r\n        </div>XC NHN THU PH\r\n      </div>\r\n      <v-card>\r\n        <v-card-text>\r\n          <div class=\"pl-3 fee-info\" v-if=\"payment_type === 5\">\r\n            <v-checkbox :label=\"`Ph phi np: ${currency(payments.feeAmount)} VN`\" v-model=\"checkPaid\"></v-checkbox>\r\n            <span class=\"red--text\">* </span> nh du  xc nh ngi lm th tc  hon thnh np ph.\r\n          </div>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-expansion-panel-content>\r\n  </v-expansion-panel>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  props: {\r\n    payments: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    payment_type: {\r\n      type: Number,\r\n      default: () => 5\r\n    }\r\n  },\r\n  data: () => ({\r\n    dossierId: '',\r\n    loadingAction: false,\r\n    feeAmount: '',\r\n    checkPaid: false\r\n  }),\r\n  computed: {\r\n    loading () {\r\n      return this.$store.getters.loading\r\n    },\r\n    loadingTable () {\r\n      return this.$store.getters.loadingTable\r\n    }\r\n  },\r\n  created () {\r\n    var vm = this\r\n    vm.$nextTick(function () {})\r\n  },\r\n  methods: {\r\n    initData (data) {\r\n      var vm = this\r\n      vm.dossierId = data\r\n      vm.$store.dispatch('getDetailDossier', data).then(resultDossier => {\r\n        vm.$store.dispatch('loadDossierPayments', resultDossier).then(function (result) {\r\n          vm.feeAmount = result.feeAmount\r\n        }).catch(function (reject) {\r\n          console.log(reject)\r\n        })\r\n      }).catch(reject => {\r\n        console.log(reject)\r\n      })\r\n    },\r\n    currency (value) {\r\n      if (value) {\r\n        let moneyCur = (value / 1).toFixed(0).replace('.', ',')\r\n        return moneyCur.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.')\r\n      }\r\n      return ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// XacNhanThuPhi.vue?7564d89e","<template>\r\n  <v-expansion-panel class=\"expansion-pl ext__form\">\r\n    <v-expansion-panel-content hide-actions value=\"1\">\r\n      <div slot=\"header\"><div class=\"background-triangle-small\"> <v-icon size=\"18\" color=\"white\">star_rate</v-icon> </div>\r\n       kin cn b <span v-if=\"user_note === 2\" class=\"red--text text--darken-3\">*</span>\r\n      </div>\r\n      <v-card>\r\n        <v-card-text class=\"py-2 px-2\">\r\n          <v-layout wrap>\r\n            <v-flex xs12>\r\n              <v-form v-model=\"valid\" ref=\"userNoteForm\">\r\n                <v-text-field\r\n                  v-model.lazy=\"noteYkien\"\r\n                  textarea\r\n                  :rows=\"2\"\r\n                  :rules=\"user_note === 2 ? [() => noteYkien !== '' || 'Trng d liu bt buc'] : []\"\r\n                  required\r\n                ></v-text-field>\r\n              </v-form>\r\n            </v-flex>\r\n          </v-layout>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-expansion-panel-content>\r\n  </v-expansion-panel>\r\n</template>\r\n<script>\r\n  export default {\r\n    props: {\r\n      user_note: {\r\n        type: Number,\r\n        required: true\r\n      }\r\n    },\r\n    data: () => ({\r\n      noteYkien: '',\r\n      valid: false\r\n    }),\r\n    methods: {\r\n      initData (data) {\r\n        var vm = this\r\n        vm.$store.dispatch('getDetailDossier', data).then(resultDossier => {\r\n          vm.thongTinChiTietHoSo = resultDossier\r\n        })\r\n      },\r\n      doExport () {\r\n        let vm = this\r\n        let exportData = {\r\n          text: vm.noteYkien,\r\n          valid: vm.$refs.userNoteForm.validate()\r\n        }\r\n        return exportData\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// YkienCanBoThucHien.vue?5179657f","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"THNG TIN CHUNG H S\")]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', {\n    staticClass: \"py-0\"\n  }, [_c('v-layout', {\n    staticClass: \"px-2 py-2\",\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm4\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Tn doanh nghip: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold\"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.applicantName))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"M h s: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\"  \" + _vm._s(_vm.thongTinChiTietHoSo.dossierIdCTN) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"S h s: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.dossierNo) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Trng thi: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.dossierStatusText) + \" \")])])]), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm4\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Thi gian gi: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.submitDate) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Thi gian tip nhn: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.receiveDate))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Thi hn x l: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \\n              \" + _vm._s(_vm.durationText(_vm.thongTinChiTietHoSo.durationUnit, _vm.thongTinChiTietHoSo.durationCount)) + \" lm vic \\n            \")])])]), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm4\": \"\"\n    }\n  }, [_c('div', {\n    staticClass: \"xs12 sm12 pb-1\",\n    staticStyle: {\n      \"color\": \"#0b72ba\"\n    }\n  }, [_vm._v(\"Thng tin lin h:\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"Tn doanh nghip: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.applicantName) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pl-0\"\n  }, [_vm._v(\"a ch Email: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.contactEmail) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"S in thoi: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.contactTelNo) + \" \")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"xs12 sm12 pb-1\"\n  }, [_c('span', {\n    staticClass: \"pr-2\"\n  }, [_vm._v(\"a ch: \")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"pl-0 text-bold \"\n  }, [_vm._v(\" \" + _vm._s(_vm.thongTinChiTietHoSo.address) + \" \")])])])], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-02494d10\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/ThongTinCoBanHoSo.vue\n// module id = 521\n// module chunks = 0 1 3 15","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"traketqua\"\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"GIY T KT QU\\n      \")]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', [_c('v-data-table', {\n    staticClass: \"table-bordered\",\n    attrs: {\n      \"headers\": _vm.headers,\n      \"items\": _vm._f(\"filterFileResult\")(_vm.resultFiles),\n      \"item-key\": \"no\",\n      \"hide-actions\": \"\",\n      \"no-data-text\": 'Khng c giy t kt qu'\n    },\n    scopedSlots: _vm._u([{\n      key: \"headerCell\",\n      fn: function(props) {\n        return [_c('v-tooltip', {\n          attrs: {\n            \"bottom\": \"\"\n          }\n        }, [_c('span', {\n          attrs: {\n            \"slot\": \"activator\"\n          },\n          slot: \"activator\"\n        }, [_vm._v(\"\\n                  \" + _vm._s(props.header.text) + \"\\n                \")]), _vm._v(\" \"), _c('span', [_vm._v(\"\\n                  \" + _vm._s(props.header.text) + \"\\n                \")])])]\n      }\n    }, {\n      key: \"items\",\n      fn: function(props) {\n        return [_c('td', {\n          staticClass: \"text-xs-center\",\n          staticStyle: {\n            \"width\": \"5%\"\n          }\n        }, [_vm._v(\" \" + _vm._s(props.index + 1) + \" \")]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\",\n          staticStyle: {\n            \"width\": \"10%\"\n          }\n        }, [_vm._v(\" \" + _vm._s(props.item.deliverableCode) + \" \")]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\",\n          staticStyle: {\n            \"width\": \"10%\"\n          }\n        }, [_vm._v(\" \" + _vm._s(_vm._f(\"dateTimeView\")(props.item.createDate)) + \" \")]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-left\",\n          staticStyle: {\n            \"width\": \"75%\"\n          }\n        }, [_vm._v(\" \" + _vm._s(props.item.displayName) + \" \")])]\n      }\n    }])\n  })], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-5b02061d\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/TraKetQua.vue\n// module id = 522\n// module chunks = 0 1 3 14","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"phancong\",\n    staticStyle: {\n      \"background-color\": \"white\",\n      \"width\": \"100%\"\n    }\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(_vm._s(_vm.title_asign[_vm.type]) + \"\\n      \")]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', _vm._l((_vm.data_phancong), function(item, index) {\n    return _c('div', {\n      key: item.userId,\n      staticClass: \"ml-3\",\n      staticStyle: {\n        \"display\": \"inline-block\"\n      }\n    }, [(_vm.type === 1) ? _c('v-layout', {\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', [_c('v-checkbox', {\n      on: {\n        \"change\": function($event) {\n          _vm.changeAssigned($event, index)\n        }\n      },\n      model: {\n        value: (item.assigned),\n        callback: function($$v) {\n          _vm.$set(item, \"assigned\", $$v)\n        },\n        expression: \"item.assigned\"\n      }\n    })], 1), _vm._v(\" \"), _c('v-flex', {\n      staticClass: \"pt-1\"\n    }, [_c('span', [_vm._v(_vm._s(item.userName))]), _vm._v(\"\\n              \")])], 1) : _c('v-layout', {\n      staticClass: \"my-1\",\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      staticClass: \"pt-1\"\n    }, [_vm._v(_vm._s(item.userName))]), _vm._v(\"  \\n              \"), _c('v-flex', [_c('v-select', {\n      staticStyle: {\n        \"max-width\": \"160px\"\n      },\n      attrs: {\n        \"items\": _vm.assignedtype_items[_vm.type],\n        \"value\": item.assigned,\n        \"item-text\": \"text\",\n        \"item-value\": \"value\",\n        \"return-object\": \"\",\n        \"hide-selected\": \"\"\n      },\n      on: {\n        \"change\": function($event) {\n          _vm.changeAssigned($event, index)\n        }\n      }\n    })], 1), _vm._v(\"\\n               \\n            \")], 1)], 1)\n  }))], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7cac08a2\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/PhanCongNguoiThucHien.vue\n// module id = 524\n// module chunks = 0 1 3 17","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"\\n     kin cn b \"), (_vm.user_note === 2) ? _c('span', {\n    staticClass: \"red--text text--darken-3\"\n  }, [_vm._v(\"*\")]) : _vm._e()]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', {\n    staticClass: \"py-2 px-2\"\n  }, [_c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs12\": \"\"\n    }\n  }, [_c('v-form', {\n    ref: \"userNoteForm\",\n    model: {\n      value: (_vm.valid),\n      callback: function($$v) {\n        _vm.valid = $$v\n      },\n      expression: \"valid\"\n    }\n  }, [_c('v-text-field', {\n    attrs: {\n      \"textarea\": \"\",\n      \"rows\": 2,\n      \"rules\": _vm.user_note === 2 ? [function () { return _vm.noteYkien !== '' || 'Trng d liu bt buc'; }] : [],\n      \"required\": \"\"\n    },\n    model: {\n      value: (_vm.noteYkien),\n      callback: function($$v) {\n        _vm.noteYkien = $$v\n      },\n      expression: \"noteYkien\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-ad80357c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/YkienCanBoThucHien.vue\n// module id = 525\n// module chunks = 0 1 3 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('v-expansion-panel', {\n    staticClass: \"expansion-pl\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": \"1\"\n    }\n  }, [_c('div', {\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_c('v-icon', {\n    attrs: {\n      \"size\": \"18\",\n      \"color\": \"white\"\n    }\n  }, [_vm._v(\"star_rate\")])], 1), _vm._v(\"XC NHN THU PH\\n    \")]), _vm._v(\" \"), _c('v-card', [_c('v-card-text', [(_vm.payment_type === 5) ? _c('div', {\n    staticClass: \"pl-3 fee-info\"\n  }, [_c('v-checkbox', {\n    attrs: {\n      \"label\": (\"Ph phi np: \" + (_vm.currency(_vm.payments.feeAmount)) + \" VN\")\n    },\n    model: {\n      value: (_vm.checkPaid),\n      callback: function($$v) {\n        _vm.checkPaid = $$v\n      },\n      expression: \"checkPaid\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"red--text\"\n  }, [_vm._v(\"* \")]), _vm._v(\" nh du  xc nh ngi lm th tc  hon thnh np ph.\\n        \")], 1) : _vm._e()])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-ef005570\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/form_xu_ly/XacNhanThuPhi.vue\n// module id = 526\n// module chunks = 0 1 3 13","<template>\r\n  <div class=\"comment-temp\">\r\n    <!-- Component Trao i tho lun -->\r\n    <div>\r\n      <v-expansion-panel class=\"expansion-pl-transparent\">\r\n        <v-expansion-panel-content hide-actions :value=\"true\">\r\n          <!-- <div slot=\"header\">\r\n            <div class=\"background-triangle-small\"> \r\n              <v-icon size=\"18\" color=\"white\">star_rate</v-icon> \r\n            </div>\r\n            TRAO I THNG TIN\r\n          </div> -->\r\n          \r\n          <v-card class=\"comments__container\" >\r\n            <v-card-text>\r\n              <div id=\"comments-container-el\"></div>\r\n              \r\n              <!-- <v-flex v-if=\"argShowMore2\"><span class=\"action-show primary--text mx-2 my-2\" @click=\"showMore2\">Xem thm</span></v-flex>\r\n              <v-flex v-if=\"!argShowMore2\"><span class=\"action-show primary--text mx-2 my-2\" @click=\"showMore2\">Rt gn</span></v-flex> -->\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-expansion-panel-content>\r\n      </v-expansion-panel>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport $ from 'jquery'\r\n// import axios from 'axios'\r\nimport 'jquery-textcomplete'\r\nimport '../store/jquery_comment'\r\nexport default {\r\n  props: ['classPK', 'className'],\r\n  data: () => ({\r\n    usersComment: [\r\n      {\r\n        id: 1,\r\n        fullname: 'Trnh Cng Trnh',\r\n        email: 'trinhtc@fds.vn.com',\r\n        pictureUrl: 'https://app.viima.com/static/media/user_profiles/user-icon.png'\r\n      },\r\n      {\r\n        id: 2,\r\n        fullname: 'Thi Hong Anh',\r\n        email: 'anhth@fds.vn',\r\n        pictureUrl: 'https://app.viima.com/static/media/user_profiles/user-icon.png'\r\n      }\r\n    ],\r\n    comment: [],\r\n    argShowMore: true,\r\n    //\r\n    checkOpinion: true\r\n  }),\r\n  computed: {\r\n    loading () {\r\n      return this.$store.getters.loading\r\n    },\r\n    initData () {\r\n      return this.$store.getters.loadingInitData\r\n    }\r\n  },\r\n  watch: {\r\n    classPK (val) {\r\n      var vm = this\r\n      vm.$store.dispatch('loadUsersComment', val).then(result => {\r\n        vm.usersComment = result\r\n        vm.initComment()\r\n      }).catch(reject => {\r\n        vm.initComment()\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    // var vm = this\r\n    // vm.$nextTick(function () {\r\n    //   vm.$store.dispatch('loadUsersComment', vm.classPK).then(result => {\r\n    //     vm.usersComment = result\r\n    //   })\r\n    // })\r\n  },\r\n  mounted () {\r\n    var vm = this\r\n    if (vm.classPK) {\r\n      vm.$store.dispatch('loadUsersComment', vm.classPK).then(result => {\r\n        vm.usersComment = result\r\n        vm.initComment()\r\n      }).catch(reject => {\r\n        vm.initComment()\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    initComment: function () {\r\n      var vm = this\r\n      $('#comments-container-el').comments({\r\n        profilePictureURL: 'https://viima-app.s3.amazonaws.com/media/user_profiles/user-icon.png',\r\n        textareaRows: 2,\r\n        enableAttachments: true,\r\n        enableHashtags: true,\r\n        enablePinging: true,\r\n        postCommentOnEnter: false,\r\n        forceResponsive: false,\r\n        readOnly: false,\r\n        textareaPlaceholderText: 'Thm bnh lun mi',\r\n        newestText: 'Mi nht',\r\n        oldestText: 'C nht',\r\n        popularText: 'Ph bin',\r\n        attachmentsText: 'nh km',\r\n        sendText: 'Gi',\r\n        replyText: 'Tr li',\r\n        editText: 'Sa',\r\n        editedText: ' sa',\r\n        youText: 'Bn',\r\n        saveText: 'Ghi li',\r\n        deleteText: 'Xa',\r\n        // viewAllRepliesText: 'Xem tt c cu tr li',\r\n        hideRepliesText: 'n cu tr li',\r\n        noCommentsText: 'Khng c bnh lun no',\r\n        noAttachmentsText: 'Khng c tp nh km',\r\n        attachmentDropText: 'Ko th tp nh km',\r\n        fieldMappings: {\r\n          id: 'commentId',\r\n          parent: 'parent',\r\n          userId: 'userId',\r\n          created: 'createdDate',\r\n          modified: 'modifiedDate',\r\n          content: 'content',\r\n          fileURL: 'fileUrl',\r\n          fileMimeType: 'fileType',\r\n          fileName: 'fileName',\r\n          pings: 'pings',\r\n          creator: 'userId',\r\n          fullname: 'fullname',\r\n          profileURL: 'profileUrl',\r\n          profilePictureURL: 'pictureUrl',\r\n          isNew: 'isNew',\r\n          createdByAdmin: 'isAdmin',\r\n          createdByCurrentUser: 'createdByCurrentUser',\r\n          upvoteCount: 'upvoteCount',\r\n          userHasUpvoted: 'userHasUpvoted',\r\n          email: 'email',\r\n          opinion: 'opinion',\r\n          className: 'className',\r\n          classPK: 'classPK'\r\n        },\r\n        timeFormatter: function (time) {\r\n          if (time) {\r\n            let value = new Date(time)\r\n            return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()} ${value.getHours().toString().padStart(2, '0')}:${value.getMinutes().toString().padStart(2, '0')}`\r\n          } else {\r\n            return ''\r\n          }\r\n        },\r\n        getUsers: function (onSuccess, onError) {\r\n          onSuccess(vm.usersComment)\r\n        },\r\n        getComments: function (onSuccess, onError) {\r\n          var dataGet = {\r\n            'classPK': vm.classPK,\r\n            'className': vm.className\r\n          }\r\n          let promise = vm.$store.dispatch('loadCommentItems', dataGet)\r\n          promise.then(result => {\r\n            var data = []\r\n            $.each(result, function (index, item) {\r\n              vm.comment = item\r\n              vm.formatComment(vm.comment)\r\n              data.push(vm.comment)\r\n            })\r\n            onSuccess(data)\r\n          }).catch(reject => {\r\n            onSuccess([])\r\n            onError()\r\n          })\r\n        },\r\n        postComment: function (data, onSuccess, onError) {\r\n          data.classPK = vm.classPK\r\n          data.className = vm.className\r\n          data.opinion = document.getElementById('opinion').checked\r\n          vm.$store.dispatch('postComment', data).then(result => {\r\n            if (result.opinion) {\r\n              $('.opinion').hide()\r\n            }\r\n            document.getElementById('opinion').checked = false\r\n            vm.comment = result\r\n            vm.formatComment(vm.comment)\r\n            onSuccess(vm.comment)\r\n          })\r\n        },\r\n        putComment: function (data, onSuccess, onError) {\r\n          data.classPK = vm.classPK\r\n          data.className = vm.className\r\n          vm.$store.dispatch('putComment', data).then(result => {\r\n            vm.comment = result\r\n            vm.formatComment(vm.comment)\r\n            onSuccess(vm.comment)\r\n          })\r\n        },\r\n        deleteComment: function (data, onSuccess, onError) {\r\n          data.classPK = vm.classPK\r\n          data.className = vm.className\r\n          vm.$store.dispatch('deleteComment', data).then(result => {\r\n            onSuccess()\r\n          }).catch(reject => {\r\n            onError()\r\n            console.log(reject)\r\n          })\r\n        },\r\n        upvoteComment: function (data, onSuccess, onError) {\r\n          data.classPK = vm.classPK\r\n          data.className = vm.className\r\n          vm.$store.dispatch('upvoteComment', data).then(result => {\r\n            vm.comment = result\r\n            vm.formatComment(vm.comment)\r\n            onSuccess(vm.comment)\r\n          }).catch(reject => {\r\n            console.log(reject)\r\n          })\r\n        },\r\n        uploadAttachments: function (comments, onSuccess, onError) {\r\n          var responses = 0\r\n          var successfulUploads = []\r\n          var serverResponded = function () {\r\n            responses++\r\n            if (responses === comments.length) {\r\n              if (successfulUploads.length === 0) {\r\n                onError()\r\n              } else {\r\n                onSuccess(successfulUploads)\r\n              }\r\n            }\r\n          }\r\n          $(comments).each(function (index, comment) {\r\n            var formData = new FormData()\r\n            $(Object.keys(comment)).each(function (index, key) {\r\n              var value = comment[key]\r\n              if (value) {\r\n                formData.append(key, value)\r\n              }\r\n            })\r\n            formData.append('file', comment.file)\r\n            formData.append('className', vm.className)\r\n            formData.append('classPK', vm.classPK)\r\n            formData.append('parent', comment.parent != null ? comment.parent : 0)\r\n            formData.append('fileName', comment.file.name)\r\n            formData.append('fileType', comment.file.type)\r\n            formData.append('fileSize', comment.file.size)\r\n            formData.append('pings', comment.pings.join())\r\n            // formData.append('email', 'congtrinh0209@gmail.com')\r\n            // formData.append('fullname', 'Cng Trnh')\r\n            formData.append('email', vm.initData.user.userEmail)\r\n            formData.append('fullname', vm.initData.user.userName)\r\n            $.ajax({\r\n              url: vm.initData.commentApi + '/uploads',\r\n              dataType: 'json',\r\n              type: 'POST',\r\n              headers: {\r\n                'groupId': vm.initData.groupId\r\n                // 'groupId': 55301\r\n              },\r\n              data: formData,\r\n              cache: false,\r\n              contentType: false,\r\n              processData: false,\r\n              success: function (comment) {\r\n                vm.formatComment(comment)\r\n                successfulUploads.push(vm.comment)\r\n                serverResponded()\r\n              },\r\n              error: function (xhr, data) {\r\n                serverResponded()\r\n              }\r\n            })\r\n          })\r\n        }\r\n        // appendNewComments: function (commentJSONs, onSuccess, onError) {\r\n        //   const config = {\r\n        //     headers: {\r\n        //       'groupId': vm.group_id\r\n        //     }\r\n        //   }\r\n        //   let commentById = {}\r\n        //   let oldCommentsId = commentJSONs.map(function (c) {\r\n        //     commentById[c.id] = c.id + '' + c.userHasUpvoted + '' + c.upvoteCount + '' + c.content\r\n        //     return c.id\r\n        //   })\r\n        //   let url = vm.initData.commentApi + '/org.opencps.dossiermgt.model.Dossier/' + vm.classPK + '?start=0&end=10&sort=modified_Number&order=true'\r\n        //   axios.get(url, config).then(function (response) {\r\n        //     let data = []\r\n        //     let dataEdited = []\r\n        //     if (response.hasOwnProperty('data')) {\r\n        //       var serializable = response.data.data\r\n        //       let curId = 0\r\n        //       let code = ''\r\n        //       for (var key in serializable) {\r\n        //         vm.comment = serializable[key]\r\n        //         curId = vm.comment['commentId']\r\n        //         code = vm.comment['commentId'] + '' + vm.comment['userHasUpvoted'] + '' + vm.comment['upvoteCount'] + '' + vm.comment['content']\r\n        //         vm.formatComment(vm.comment)\r\n        //         /* check return if not exist */\r\n        //         if (oldCommentsId.indexOf(curId) === -1) {\r\n        //           data.push(vm.comment)\r\n        //         } else if (code !== commentById[curId]) {\r\n        //           /* if have changed */\r\n        //           dataEdited.push(vm.comment)\r\n        //         }\r\n        //       }\r\n        //       onSuccess(data, dataEdited)\r\n        //     }\r\n        //   })\r\n        //   .catch(function (error) {\r\n        //     console.log(error)\r\n        //   })\r\n        // }\r\n      })\r\n    },\r\n    formatComment: function (comment) {\r\n      var vm = this\r\n      vm.comment = comment\r\n      if (comment.parent === 0) {\r\n        vm.comment.parent = null\r\n      }\r\n      if (comment.fileName === '') {\r\n        vm.comment.fileName = null\r\n      }\r\n      if (comment.fileType === '') {\r\n        vm.comment.fileType = null\r\n      }\r\n      if (comment.fileUrl === '') {\r\n        vm.comment.fileUrl = null\r\n      }\r\n      if (comment.pictureUrl === '') {\r\n        vm.comment.pictureUrl = 'https://viima-app.s3.amazonaws.com/media/user_profiles/user-icon.png'\r\n      }\r\n      vm.comment.fullname = comment.fullname\r\n      vm.comment.opinion = comment.opinion\r\n      vm.comment.pings = comment.pings.toString().split(',')\r\n      vm.comment.createdDate = vm.comment.createDate\r\n      vm.comment.modifiedDate = vm.comment.modifiedDate\r\n    },\r\n    dateTimeView (arg) {\r\n      if (arg) {\r\n        let value = new Date(arg)\r\n        return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()} ${value.getHours().toString().padStart(2, '0')}:${value.getMinutes().toString().padStart(2, '0')}`\r\n      } else {\r\n        return ''\r\n      }\r\n    }\r\n  },\r\n  filters: {\r\n    dateTimeView (arg) {\r\n      if (arg) {\r\n        let value = new Date(arg)\r\n        return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()}  ${value.getHours().toString().padStart(2, '0')}:${value.getMinutes().toString().padStart(2, '0')}`\r\n      } else {\r\n        return ''\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// Comment.vue?4f05f858","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/create.js\n// module id = 533\n// module chunks = 0 1 2","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/symbol.js\n// module id = 534\n// module chunks = 0 1 2","module.exports = { \"default\": require(\"core-js/library/fn/symbol/iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/symbol/iterator.js\n// module id = 535\n// module chunks = 0 1 2","\"use strict\";\n\nexports.__esModule = true;\n\nvar _iterator = require(\"../core-js/symbol/iterator\");\n\nvar _iterator2 = _interopRequireDefault(_iterator);\n\nvar _symbol = require(\"../core-js/symbol\");\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nvar _typeof = typeof _symbol2.default === \"function\" && typeof _iterator2.default === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = typeof _symbol2.default === \"function\" && _typeof(_iterator2.default) === \"symbol\" ? function (obj) {\n  return typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n} : function (obj) {\n  return obj && typeof _symbol2.default === \"function\" && obj.constructor === _symbol2.default && obj !== _symbol2.default.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/helpers/typeof.js\n// module id = 536\n// module chunks = 0 1 2","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/create.js\n// module id = 537\n// module chunks = 0 1 2","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/keys.js\n// module id = 538\n// module chunks = 0 1 2","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/symbol/index.js\n// module id = 539\n// module chunks = 0 1 2","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/symbol/iterator.js\n// module id = 540\n// module chunks = 0 1 2","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_enum-keys.js\n// module id = 541\n// module chunks = 0 1 2","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_is-array.js\n// module id = 542\n// module chunks = 0 1 2","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_meta.js\n// module id = 543\n// module chunks = 0 1 2","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gopd.js\n// module id = 544\n// module chunks = 0 1 2","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-gopn-ext.js\n// module id = 545\n// module chunks = 0 1 2","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-sap.js\n// module id = 546\n// module chunks = 0 1 2","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.create.js\n// module id = 547\n// module chunks = 0 1 2","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.keys.js\n// module id = 548\n// module chunks = 0 1 2","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function';\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  require('./_object-gops').f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.symbol.js\n// module id = 549\n// module chunks = 0 1 2","require('./_wks-define')('asyncIterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es7.symbol.async-iterator.js\n// module id = 550\n// module chunks = 0 1 2","require('./_wks-define')('observable');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es7.symbol.observable.js\n// module id = 551\n// module chunks = 0 1 2","(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof module === \"object\" && module.exports) {\n    var $ = require('jquery');\n    module.exports = factory($);\n  } else {\n    // Browser globals\n    factory(jQuery);\n  }\n}(function (jQuery) {\n\n/*!\n * jQuery.textcomplete\n *\n * Repository: https://github.com/yuku-t/jquery-textcomplete\n * License:    MIT (https://github.com/yuku-t/jquery-textcomplete/blob/master/LICENSE)\n * Author:     Yuku Takahashi\n */\n\nif (typeof jQuery === 'undefined') {\n  throw new Error('jQuery.textcomplete requires jQuery');\n}\n\n+function ($) {\n  'use strict';\n\n  var warn = function (message) {\n    if (console.warn) { console.warn(message); }\n  };\n\n  var id = 1;\n\n  $.fn.textcomplete = function (strategies, option) {\n    var args = Array.prototype.slice.call(arguments);\n    return this.each(function () {\n      var self = this;\n      var $this = $(this);\n      var completer = $this.data('textComplete');\n      if (!completer) {\n        option || (option = {});\n        option._oid = id++;  // unique object id\n        completer = new $.fn.textcomplete.Completer(this, option);\n        $this.data('textComplete', completer);\n      }\n      if (typeof strategies === 'string') {\n        if (!completer) return;\n        args.shift()\n        completer[strategies].apply(completer, args);\n        if (strategies === 'destroy') {\n          $this.removeData('textComplete');\n        }\n      } else {\n        // For backward compatibility.\n        // TODO: Remove at v0.4\n        $.each(strategies, function (obj) {\n          $.each(['header', 'footer', 'placement', 'maxCount'], function (name) {\n            if (obj[name]) {\n              completer.option[name] = obj[name];\n              warn(name + 'as a strategy param is deprecated. Use option.');\n              delete obj[name];\n            }\n          });\n        });\n        completer.register($.fn.textcomplete.Strategy.parse(strategies, {\n          el: self,\n          $el: $this\n        }));\n      }\n    });\n  };\n\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  // Exclusive execution control utility.\n  //\n  // func - The function to be locked. It is executed with a function named\n  //        `free` as the first argument. Once it is called, additional\n  //        execution are ignored until the free is invoked. Then the last\n  //        ignored execution will be replayed immediately.\n  //\n  // Examples\n  //\n  //   var lockedFunc = lock(function (free) {\n  //     setTimeout(function { free(); }, 1000); // It will be free in 1 sec.\n  //     console.log('Hello, world');\n  //   });\n  //   lockedFunc();  // => 'Hello, world'\n  //   lockedFunc();  // none\n  //   lockedFunc();  // none\n  //   // 1 sec past then\n  //   // => 'Hello, world'\n  //   lockedFunc();  // => 'Hello, world'\n  //   lockedFunc();  // none\n  //\n  // Returns a wrapped function.\n  var lock = function (func) {\n    var locked, queuedArgsToReplay;\n\n    return function () {\n      // Convert arguments into a real array.\n      var args = Array.prototype.slice.call(arguments);\n      if (locked) {\n        // Keep a copy of this argument list to replay later.\n        // OK to overwrite a previous value because we only replay\n        // the last one.\n        queuedArgsToReplay = args;\n        return;\n      }\n      locked = true;\n      var self = this;\n      args.unshift(function replayOrFree() {\n        if (queuedArgsToReplay) {\n          // Other request(s) arrived while we were locked.\n          // Now that the lock is becoming available, replay\n          // the latest such request, then call back here to\n          // unlock (or replay another request that arrived\n          // while this one was in flight).\n          var replayArgs = queuedArgsToReplay;\n          queuedArgsToReplay = undefined;\n          replayArgs.unshift(replayOrFree);\n          func.apply(self, replayArgs);\n        } else {\n          locked = false;\n        }\n      });\n      func.apply(this, args);\n    };\n  };\n\n  var isString = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object String]';\n  };\n\n  var uniqueId = 0;\n  var initializedEditors = [];\n\n  function Completer(element, option) {\n    this.$el        = $(element);\n    this.id         = 'textcomplete' + uniqueId++;\n    this.strategies = [];\n    this.views      = [];\n    this.option     = $.extend({}, Completer.defaults, option);\n\n    if (!this.$el.is('input[type=text]') && !this.$el.is('input[type=search]') && !this.$el.is('textarea') && !element.isContentEditable && element.contentEditable != 'true') {\n      throw new Error('textcomplete must be called on a Textarea or a ContentEditable.');\n    }\n\n    // use ownerDocument to fix iframe / IE issues\n    if (element === element.ownerDocument.activeElement) {\n      // element has already been focused. Initialize view objects immediately.\n      this.initialize()\n    } else {\n      // Initialize view objects lazily.\n      var self = this;\n      this.$el.one('focus.' + this.id, function () { self.initialize(); });\n\n      // Special handling for CKEditor: lazy init on instance load\n      if ((!this.option.adapter || this.option.adapter == 'CKEditor') && typeof CKEDITOR != 'undefined' && (this.$el.is('textarea'))) {\n        CKEDITOR.on(\"instanceReady\", function(event) { //For multiple ckeditors on one page: this needs to be executed each time a ckeditor-instance is ready.\n\n          if($.inArray(event.editor.id, initializedEditors) == -1) { //For multiple ckeditors on one page: focus-eventhandler should only be added once for every editor.\n            initializedEditors.push(event.editor.id);\n\t\t\t\n            event.editor.on(\"focus\", function(event2) {\n\t\t\t\t//replace the element with the Iframe element and flag it as CKEditor\n\t\t\t\tself.$el = $(event.editor.editable().$);\n\t\t\t\tif (!self.option.adapter) {\n\t\t\t\t\tself.option.adapter = $.fn.textcomplete['CKEditor'];\n\t\t\t\t}\n\t\t\t\tself.option.ckeditor_instance = event.editor; //For multiple ckeditors on one page: in the old code this was not executed when adapter was alread set. So we were ALWAYS working with the FIRST instance.\n              \tself.initialize();\n            });\n          }\n        });\n      }\n    }\n  }\n\n  Completer.defaults = {\n    appendTo: 'body',\n    className: '',  // deprecated option\n    dropdownClassName: 'dropdown-menu textcomplete-dropdown',\n    maxCount: 10,\n    zIndex: '100',\n    rightEdgeOffset: 30\n  };\n\n  $.extend(Completer.prototype, {\n    // Public properties\n    // -----------------\n\n    id:         null,\n    option:     null,\n    strategies: null,\n    adapter:    null,\n    dropdown:   null,\n    $el:        null,\n    $iframe:    null,\n\n    // Public methods\n    // --------------\n\n    initialize: function () {\n      var element = this.$el.get(0);\n      \n      // check if we are in an iframe\n      // we need to alter positioning logic if using an iframe\n      if (this.$el.prop('ownerDocument') !== document && window.frames.length) {\n        for (var iframeIndex = 0; iframeIndex < window.frames.length; iframeIndex++) {\n          if (this.$el.prop('ownerDocument') === window.frames[iframeIndex].document) {\n            this.$iframe = $(window.frames[iframeIndex].frameElement);\n            break;\n          }\n        }\n      }\n      \n      \n      // Initialize view objects.\n      this.dropdown = new $.fn.textcomplete.Dropdown(element, this, this.option);\n      var Adapter, viewName;\n      if (this.option.adapter) {\n        Adapter = this.option.adapter;\n      } else {\n        if (this.$el.is('textarea') || this.$el.is('input[type=text]') || this.$el.is('input[type=search]')) {\n          viewName = typeof element.selectionEnd === 'number' ? 'Textarea' : 'IETextarea';\n        } else {\n          viewName = 'ContentEditable';\n        }\n        Adapter = $.fn.textcomplete[viewName];\n      }\n      this.adapter = new Adapter(element, this, this.option);\n    },\n\n    destroy: function () {\n      this.$el.off('.' + this.id);\n      if (this.adapter) {\n        this.adapter.destroy();\n      }\n      if (this.dropdown) {\n        this.dropdown.destroy();\n      }\n      this.$el = this.adapter = this.dropdown = null;\n    },\n\n    deactivate: function () {\n      if (this.dropdown) {\n        this.dropdown.deactivate();\n      }\n    },\n\n    // Invoke textcomplete.\n    trigger: function (text, skipUnchangedTerm) {\n      if (!this.dropdown) { this.initialize(); }\n      text != null || (text = this.adapter.getTextFromHeadToCaret());\n      var searchQuery = this._extractSearchQuery(text);\n      if (searchQuery.length) {\n        var term = searchQuery[1];\n        // Ignore shift-key, ctrl-key and so on.\n        if (skipUnchangedTerm && this._term === term && term !== \"\") { return; }\n        this._term = term;\n        this._search.apply(this, searchQuery);\n      } else {\n        this._term = null;\n        this.dropdown.deactivate();\n      }\n    },\n\n    fire: function (eventName) {\n      var args = Array.prototype.slice.call(arguments, 1);\n      this.$el.trigger(eventName, args);\n      return this;\n    },\n\n    register: function (strategies) {\n      Array.prototype.push.apply(this.strategies, strategies);\n    },\n\n    // Insert the value into adapter view. It is called when the dropdown is clicked\n    // or selected.\n    //\n    // value    - The selected element of the array callbacked from search func.\n    // strategy - The Strategy object.\n    // e        - Click or keydown event object.\n    select: function (value, strategy, e) {\n      this._term = null;\n      this.adapter.select(value, strategy, e);\n      this.fire('change').fire('textComplete:select', value, strategy);\n      this.adapter.focus();\n    },\n\n    // Private properties\n    // ------------------\n\n    _clearAtNext: true,\n    _term:        null,\n\n    // Private methods\n    // ---------------\n\n    // Parse the given text and extract the first matching strategy.\n    //\n    // Returns an array including the strategy, the query term and the match\n    // object if the text matches an strategy; otherwise returns an empty array.\n    _extractSearchQuery: function (text) {\n      for (var i = 0; i < this.strategies.length; i++) {\n        var strategy = this.strategies[i];\n        var context = strategy.context(text);\n        if (context || context === '') {\n          var matchRegexp = $.isFunction(strategy.match) ? strategy.match(text) : strategy.match;\n          if (isString(context)) { text = context; }\n          var match = text.match(matchRegexp);\n          if (match) { return [strategy, match[strategy.index], match]; }\n        }\n      }\n      return []\n    },\n\n    // Call the search method of selected strategy..\n    _search: lock(function (free, strategy, term, match) {\n      var self = this;\n      strategy.search(term, function (data, stillSearching) {\n        if (!self.dropdown.shown) {\n          self.dropdown.activate();\n        }\n        if (self._clearAtNext) {\n          // The first callback in the current lock.\n          self.dropdown.clear();\n          self._clearAtNext = false;\n        }\n        self.dropdown.setPosition(self.adapter.getCaretPosition());\n        self.dropdown.render(self._zip(data, strategy, term));\n        if (!stillSearching) {\n          // The last callback in the current lock.\n          free();\n          self._clearAtNext = true; // Call dropdown.clear at the next time.\n        }\n      }, match);\n    }),\n\n    // Build a parameter for Dropdown#render.\n    //\n    // Examples\n    //\n    //  this._zip(['a', 'b'], 's');\n    //  //=> [{ value: 'a', strategy: 's' }, { value: 'b', strategy: 's' }]\n    _zip: function (data, strategy, term) {\n      return $.map(data, function (value) {\n        return { value: value, strategy: strategy, term: term };\n      });\n    }\n  });\n\n  $.fn.textcomplete.Completer = Completer;\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  var $window = $(window);\n\n  var include = function (zippedData, datum) {\n    var i, elem;\n    var idProperty = datum.strategy.idProperty\n    for (i = 0; i < zippedData.length; i++) {\n      elem = zippedData[i];\n      if (elem.strategy !== datum.strategy) continue;\n      if (idProperty) {\n        if (elem.value[idProperty] === datum.value[idProperty]) return true;\n      } else {\n        if (elem.value === datum.value) return true;\n      }\n    }\n    return false;\n  };\n\n  var dropdownViews = {};\n  $(document).on('click', function (e) {\n    var id = e.originalEvent && e.originalEvent.keepTextCompleteDropdown;\n    $.each(dropdownViews, function (key, view) {\n      if (key !== id) { view.deactivate(); }\n    });\n  });\n\n  var commands = {\n    SKIP_DEFAULT: 0,\n    KEY_UP: 1,\n    KEY_DOWN: 2,\n    KEY_ENTER: 3,\n    KEY_PAGEUP: 4,\n    KEY_PAGEDOWN: 5,\n    KEY_ESCAPE: 6\n  };\n\n  // Dropdown view\n  // =============\n\n  // Construct Dropdown object.\n  //\n  // element - Textarea or contenteditable element.\n  function Dropdown(element, completer, option) {\n    this.$el       = Dropdown.createElement(option);\n    this.completer = completer;\n    this.id        = completer.id + 'dropdown';\n    this._data     = []; // zipped data.\n    this.$inputEl  = $(element);\n    this.option    = option;\n\n    // Override setPosition method.\n    if (option.listPosition) { this.setPosition = option.listPosition; }\n    if (option.height) { this.$el.height(option.height); }\n    var self = this;\n    $.each(['maxCount', 'placement', 'footer', 'header', 'noResultsMessage', 'className'], function (_i, name) {\n      if (option[name] != null) { self[name] = option[name]; }\n    });\n    this._bindEvents(element);\n    dropdownViews[this.id] = this;\n  }\n\n  $.extend(Dropdown, {\n    // Class methods\n    // -------------\n\n    createElement: function (option) {\n      var $parent = option.appendTo;\n      if (!($parent instanceof $)) { $parent = $($parent); }\n      var $el = $('<ul></ul>')\n        .addClass(option.dropdownClassName)\n        .attr('id', 'textcomplete-dropdown-' + option._oid)\n        .css({\n          display: 'none',\n          left: 0,\n          position: 'absolute',\n          zIndex: option.zIndex\n        })\n        .appendTo($parent);\n      return $el;\n    }\n  });\n\n  $.extend(Dropdown.prototype, {\n    // Public properties\n    // -----------------\n\n    $el:       null,  // jQuery object of ul.dropdown-menu element.\n    $inputEl:  null,  // jQuery object of target textarea.\n    completer: null,\n    footer:    null,\n    header:    null,\n    id:        null,\n    maxCount:  null,\n    placement: '',\n    shown:     false,\n    data:      [],     // Shown zipped data.\n    className: '',\n\n    // Public methods\n    // --------------\n\n    destroy: function () {\n      // Don't remove $el because it may be shared by several textcompletes.\n      this.deactivate();\n\n      this.$el.off('.' + this.id);\n      this.$inputEl.off('.' + this.id);\n      this.clear();\n      this.$el.remove();\n      this.$el = this.$inputEl = this.completer = null;\n      delete dropdownViews[this.id]\n    },\n\n    render: function (zippedData) {\n      var contentsHtml = this._buildContents(zippedData);\n      var unzippedData = $.map(zippedData, function (d) { return d.value; });\n      if (zippedData.length) {\n        var strategy = zippedData[0].strategy;\n        if (strategy.id) {\n          this.$el.attr('data-strategy', strategy.id);\n        } else {\n          this.$el.removeAttr('data-strategy');\n        }\n        this._renderHeader(unzippedData);\n        this._renderFooter(unzippedData);\n        if (contentsHtml) {\n          this._renderContents(contentsHtml);\n          this._fitToBottom();\n          this._fitToRight();\n          this._activateIndexedItem();\n        }\n        this._setScroll();\n      } else if (this.noResultsMessage) {\n        this._renderNoResultsMessage(unzippedData);\n      } else if (this.shown) {\n        this.deactivate();\n      }\n    },\n\n    setPosition: function (pos) {\n      // Make the dropdown fixed if the input is also fixed\n      // This can't be done during init, as textcomplete may be used on multiple elements on the same page\n      // Because the same dropdown is reused behind the scenes, we need to recheck every time the dropdown is showed\n      var position = 'absolute';\n      // Check if input or one of its parents has positioning we need to care about\n      this.$inputEl.add(this.$inputEl.parents()).each(function() {\n        if($(this).css('position') === 'absolute') // The element has absolute positioning, so it's all OK\n          return false;\n        if($(this).css('position') === 'fixed') {\n          pos.top -= $window.scrollTop();\n          pos.left -= $window.scrollLeft();\n          position = 'fixed';\n          return false;\n        }\n      });\n      this.$el.css(this._applyPlacement(pos));\n      this.$el.css({ position: position }); // Update positioning\n\n      return this;\n    },\n\n    clear: function () {\n      this.$el.html('');\n      this.data = [];\n      this._index = 0;\n      this._$header = this._$footer = this._$noResultsMessage = null;\n    },\n\n    activate: function () {\n      if (!this.shown) {\n        this.clear();\n        this.$el.show();\n        if (this.className) { this.$el.addClass(this.className); }\n        this.completer.fire('textComplete:show');\n        this.shown = true;\n      }\n      return this;\n    },\n\n    deactivate: function () {\n      if (this.shown) {\n        this.$el.hide();\n        if (this.className) { this.$el.removeClass(this.className); }\n        this.completer.fire('textComplete:hide');\n        this.shown = false;\n      }\n      return this;\n    },\n\n    isUp: function (e) {\n      return e.keyCode === 38 || (e.ctrlKey && e.keyCode === 80);  // UP, Ctrl-P\n    },\n\n    isDown: function (e) {\n      return e.keyCode === 40 || (e.ctrlKey && e.keyCode === 78);  // DOWN, Ctrl-N\n    },\n\n    isEnter: function (e) {\n      var modifiers = e.ctrlKey || e.altKey || e.metaKey || e.shiftKey;\n      return !modifiers && (e.keyCode === 13 || e.keyCode === 9 || (this.option.completeOnSpace === true && e.keyCode === 32))  // ENTER, TAB\n    },\n\n    isPageup: function (e) {\n      return e.keyCode === 33;  // PAGEUP\n    },\n\n    isPagedown: function (e) {\n      return e.keyCode === 34;  // PAGEDOWN\n    },\n\n    isEscape: function (e) {\n      return e.keyCode === 27;  // ESCAPE\n    },\n\n    // Private properties\n    // ------------------\n\n    _data:    null,  // Currently shown zipped data.\n    _index:   null,\n    _$header: null,\n    _$noResultsMessage: null,\n    _$footer: null,\n\n    // Private methods\n    // ---------------\n\n    _bindEvents: function () {\n      this.$el.on('mousedown.' + this.id, '.textcomplete-item', $.proxy(this._onClick, this));\n      this.$el.on('touchstart.' + this.id, '.textcomplete-item', $.proxy(this._onClick, this));\n      this.$el.on('mouseover.' + this.id, '.textcomplete-item', $.proxy(this._onMouseover, this));\n      this.$inputEl.on('keydown.' + this.id, $.proxy(this._onKeydown, this));\n    },\n\n    _onClick: function (e) {\n      var $el = $(e.target);\n      e.preventDefault();\n      e.originalEvent.keepTextCompleteDropdown = this.id;\n      if (!$el.hasClass('textcomplete-item')) {\n        $el = $el.closest('.textcomplete-item');\n      }\n      var datum = this.data[parseInt($el.data('index'), 10)];\n      this.completer.select(datum.value, datum.strategy, e);\n      var self = this;\n      // Deactive at next tick to allow other event handlers to know whether\n      // the dropdown has been shown or not.\n      setTimeout(function () {\n        self.deactivate();\n        if (e.type === 'touchstart') {\n          self.$inputEl.focus();\n        }\n      }, 0);\n    },\n\n    // Activate hovered item.\n    _onMouseover: function (e) {\n      var $el = $(e.target);\n      e.preventDefault();\n      if (!$el.hasClass('textcomplete-item')) {\n        $el = $el.closest('.textcomplete-item');\n      }\n      this._index = parseInt($el.data('index'), 10);\n      this._activateIndexedItem();\n    },\n\n    _onKeydown: function (e) {\n      if (!this.shown) { return; }\n\n      var command;\n\n      if ($.isFunction(this.option.onKeydown)) {\n        command = this.option.onKeydown(e, commands);\n      }\n\n      if (command == null) {\n        command = this._defaultKeydown(e);\n      }\n\n      switch (command) {\n        case commands.KEY_UP:\n          e.preventDefault();\n          this._up();\n          break;\n        case commands.KEY_DOWN:\n          e.preventDefault();\n          this._down();\n          break;\n        case commands.KEY_ENTER:\n          e.preventDefault();\n          this._enter(e);\n          break;\n        case commands.KEY_PAGEUP:\n          e.preventDefault();\n          this._pageup();\n          break;\n        case commands.KEY_PAGEDOWN:\n          e.preventDefault();\n          this._pagedown();\n          break;\n        case commands.KEY_ESCAPE:\n          e.preventDefault();\n          this.deactivate();\n          break;\n      }\n    },\n\n    _defaultKeydown: function (e) {\n      if (this.isUp(e)) {\n        return commands.KEY_UP;\n      } else if (this.isDown(e)) {\n        return commands.KEY_DOWN;\n      } else if (this.isEnter(e)) {\n        return commands.KEY_ENTER;\n      } else if (this.isPageup(e)) {\n        return commands.KEY_PAGEUP;\n      } else if (this.isPagedown(e)) {\n        return commands.KEY_PAGEDOWN;\n      } else if (this.isEscape(e)) {\n        return commands.KEY_ESCAPE;\n      }\n    },\n\n    _up: function () {\n      if (this._index === 0) {\n        this._index = this.data.length - 1;\n      } else {\n        this._index -= 1;\n      }\n      this._activateIndexedItem();\n      this._setScroll();\n    },\n\n    _down: function () {\n      if (this._index === this.data.length - 1) {\n        this._index = 0;\n      } else {\n        this._index += 1;\n      }\n      this._activateIndexedItem();\n      this._setScroll();\n    },\n\n    _enter: function (e) {\n      var datum = this.data[parseInt(this._getActiveElement().data('index'), 10)];\n      this.completer.select(datum.value, datum.strategy, e);\n      this.deactivate();\n    },\n\n    _pageup: function () {\n      var target = 0;\n      var threshold = this._getActiveElement().position().top - this.$el.innerHeight();\n      this.$el.children().each(function (i) {\n        if ($(this).position().top + $(this).outerHeight() > threshold) {\n          target = i;\n          return false;\n        }\n      });\n      this._index = target;\n      this._activateIndexedItem();\n      this._setScroll();\n    },\n\n    _pagedown: function () {\n      var target = this.data.length - 1;\n      var threshold = this._getActiveElement().position().top + this.$el.innerHeight();\n      this.$el.children().each(function (i) {\n        if ($(this).position().top > threshold) {\n          target = i;\n          return false\n        }\n      });\n      this._index = target;\n      this._activateIndexedItem();\n      this._setScroll();\n    },\n\n    _activateIndexedItem: function () {\n      this.$el.find('.textcomplete-item.active').removeClass('active');\n      this._getActiveElement().addClass('active');\n    },\n\n    _getActiveElement: function () {\n      return this.$el.children('.textcomplete-item:nth(' + this._index + ')');\n    },\n\n    _setScroll: function () {\n      var $activeEl = this._getActiveElement();\n      var itemTop = $activeEl.position().top;\n      var itemHeight = $activeEl.outerHeight();\n      var visibleHeight = this.$el.innerHeight();\n      var visibleTop = this.$el.scrollTop();\n      if (this._index === 0 || this._index == this.data.length - 1 || itemTop < 0) {\n        this.$el.scrollTop(itemTop + visibleTop);\n      } else if (itemTop + itemHeight > visibleHeight) {\n        this.$el.scrollTop(itemTop + itemHeight + visibleTop - visibleHeight);\n      }\n    },\n\n    _buildContents: function (zippedData) {\n      var datum, i, index;\n      var html = '';\n      for (i = 0; i < zippedData.length; i++) {\n        if (this.data.length === this.maxCount) break;\n        datum = zippedData[i];\n        if (include(this.data, datum)) { continue; }\n        index = this.data.length;\n        this.data.push(datum);\n        html += '<li class=\"textcomplete-item\" data-index=\"' + index + '\"><a>';\n        html +=   datum.strategy.template(datum.value, datum.term);\n        html += '</a></li>';\n      }\n      return html;\n    },\n\n    _renderHeader: function (unzippedData) {\n      if (this.header) {\n        if (!this._$header) {\n          this._$header = $('<li class=\"textcomplete-header\"></li>').prependTo(this.$el);\n        }\n        var html = $.isFunction(this.header) ? this.header(unzippedData) : this.header;\n        this._$header.html(html);\n      }\n    },\n\n    _renderFooter: function (unzippedData) {\n      if (this.footer) {\n        if (!this._$footer) {\n          this._$footer = $('<li class=\"textcomplete-footer\"></li>').appendTo(this.$el);\n        }\n        var html = $.isFunction(this.footer) ? this.footer(unzippedData) : this.footer;\n        this._$footer.html(html);\n      }\n    },\n\n    _renderNoResultsMessage: function (unzippedData) {\n      if (this.noResultsMessage) {\n        if (!this._$noResultsMessage) {\n          this._$noResultsMessage = $('<li class=\"textcomplete-no-results-message\"></li>').appendTo(this.$el);\n        }\n        var html = $.isFunction(this.noResultsMessage) ? this.noResultsMessage(unzippedData) : this.noResultsMessage;\n        this._$noResultsMessage.html(html);\n      }\n    },\n\n    _renderContents: function (html) {\n      if (this._$footer) {\n        this._$footer.before(html);\n      } else {\n        this.$el.append(html);\n      }\n    },\n\n    _fitToBottom: function() {\n      var windowScrollBottom = $window.scrollTop() + $window.height();\n      var height = this.$el.height();\n      if ((this.$el.position().top + height) > windowScrollBottom) {\n        // only do this if we are not in an iframe\n        if (!this.completer.$iframe) {\n          this.$el.offset({top: windowScrollBottom - height});\n        }\n      }\n    },\n\n    _fitToRight: function() {\n      // We don't know how wide our content is until the browser positions us, and at that point it clips us\n      // to the document width so we don't know if we would have overrun it. As a heuristic to avoid that clipping\n      // (which makes our elements wrap onto the next line and corrupt the next item), if we're close to the right\n      // edge, move left. We don't know how far to move left, so just keep nudging a bit.\n      var tolerance = this.option.rightEdgeOffset; // pixels. Make wider than vertical scrollbar because we might not be able to use that space.\n      var lastOffset = this.$el.offset().left, offset;\n      var width = this.$el.width();\n      var maxLeft = $window.width() - tolerance;\n      while (lastOffset + width > maxLeft) {\n        this.$el.offset({left: lastOffset - tolerance});\n        offset = this.$el.offset().left;\n        if (offset >= lastOffset) { break; }\n        lastOffset = offset;\n      }\n    },\n\n    _applyPlacement: function (position) {\n      // If the 'placement' option set to 'top', move the position above the element.\n      if (this.placement.indexOf('top') !== -1) {\n        // Overwrite the position object to set the 'bottom' property instead of the top.\n        position = {\n          top: 'auto',\n          bottom: this.$el.parent().height() - position.top + position.lineHeight,\n          left: position.left\n        };\n      } else {\n        position.bottom = 'auto';\n        delete position.lineHeight;\n      }\n      if (this.placement.indexOf('absleft') !== -1) {\n        position.left = 0;\n      } else if (this.placement.indexOf('absright') !== -1) {\n        position.right = 0;\n        position.left = 'auto';\n      }\n      return position;\n    }\n  });\n\n  $.fn.textcomplete.Dropdown = Dropdown;\n  $.extend($.fn.textcomplete, commands);\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  // Memoize a search function.\n  var memoize = function (func) {\n    var memo = {};\n    return function (term, callback) {\n      if (memo[term]) {\n        callback(memo[term]);\n      } else {\n        func.call(this, term, function (data) {\n          memo[term] = (memo[term] || []).concat(data);\n          callback.apply(null, arguments);\n        });\n      }\n    };\n  };\n\n  function Strategy(options) {\n    $.extend(this, options);\n    if (this.cache) { this.search = memoize(this.search); }\n  }\n\n  Strategy.parse = function (strategiesArray, params) {\n    return $.map(strategiesArray, function (strategy) {\n      var strategyObj = new Strategy(strategy);\n      strategyObj.el = params.el;\n      strategyObj.$el = params.$el;\n      return strategyObj;\n    });\n  };\n\n  $.extend(Strategy.prototype, {\n    // Public properties\n    // -----------------\n\n    // Required\n    match:      null,\n    replace:    null,\n    search:     null,\n\n    // Optional\n    id:         null,\n    cache:      false,\n    context:    function () { return true; },\n    index:      2,\n    template:   function (obj) { return obj; },\n    idProperty: null\n  });\n\n  $.fn.textcomplete.Strategy = Strategy;\n\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  var now = Date.now || function () { return new Date().getTime(); };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // `wait` msec.\n  //\n  // This utility function was originally implemented at Underscore.js.\n  var debounce = function (func, wait) {\n    var timeout, args, context, timestamp, result;\n    var later = function () {\n      var last = now() - timestamp;\n      if (last < wait) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        result = func.apply(context, args);\n        context = args = null;\n      }\n    };\n\n    return function () {\n      context = this;\n      args = arguments;\n      timestamp = now();\n      if (!timeout) {\n        timeout = setTimeout(later, wait);\n      }\n      return result;\n    };\n  };\n\n  function Adapter () {}\n\n  $.extend(Adapter.prototype, {\n    // Public properties\n    // -----------------\n\n    id:        null, // Identity.\n    completer: null, // Completer object which creates it.\n    el:        null, // Textarea element.\n    $el:       null, // jQuery object of the textarea.\n    option:    null,\n\n    // Public methods\n    // --------------\n\n    initialize: function (element, completer, option) {\n      this.el        = element;\n      this.$el       = $(element);\n      this.id        = completer.id + this.constructor.name;\n      this.completer = completer;\n      this.option    = option;\n\n      if (this.option.debounce) {\n        this._onKeyup = debounce(this._onKeyup, this.option.debounce);\n      }\n\n      this._bindEvents();\n    },\n\n    destroy: function () {\n      this.$el.off('.' + this.id); // Remove all event handlers.\n      this.$el = this.el = this.completer = null;\n    },\n\n    // Update the element with the given value and strategy.\n    //\n    // value    - The selected object. It is one of the item of the array\n    //            which was callbacked from the search function.\n    // strategy - The Strategy associated with the selected value.\n    select: function (/* value, strategy */) {\n      throw new Error('Not implemented');\n    },\n\n    // Returns the caret's relative coordinates from body's left top corner.\n    getCaretPosition: function () {\n      var position = this._getCaretRelativePosition();\n      var offset = this.$el.offset();\n\n      // Calculate the left top corner of `this.option.appendTo` element.\n      var $parent = this.option.appendTo;\n      if ($parent) {\n         if (!($parent instanceof $)) { $parent = $($parent); }\n         var parentOffset = $parent.offsetParent().offset();\n         offset.top -= parentOffset.top;\n         offset.left -= parentOffset.left;\n      }\n\n      position.top += offset.top;\n      position.left += offset.left;\n      return position;\n    },\n\n    // Focus on the element.\n    focus: function () {\n      this.$el.focus();\n    },\n\n    // Private methods\n    // ---------------\n\n    _bindEvents: function () {\n      this.$el.on('keyup.' + this.id, $.proxy(this._onKeyup, this));\n    },\n\n    _onKeyup: function (e) {\n      if (this._skipSearch(e)) { return; }\n      this.completer.trigger(this.getTextFromHeadToCaret(), true);\n    },\n\n    // Suppress searching if it returns true.\n    _skipSearch: function (clickEvent) {\n      switch (clickEvent.keyCode) {\n        case 9:  // TAB\n        case 13: // ENTER\n        case 16: // SHIFT\n        case 17: // CTRL\n        case 18: // ALT\n        case 33: // PAGEUP\n        case 34: // PAGEDOWN\n        case 40: // DOWN\n        case 38: // UP\n        case 27: // ESC\n          return true;\n      }\n      if (clickEvent.ctrlKey) switch (clickEvent.keyCode) {\n        case 78: // Ctrl-N\n        case 80: // Ctrl-P\n          return true;\n      }\n    }\n  });\n\n  $.fn.textcomplete.Adapter = Adapter;\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  // Textarea adapter\n  // ================\n  //\n  // Managing a textarea. It doesn't know a Dropdown.\n  function Textarea(element, completer, option) {\n    this.initialize(element, completer, option);\n  }\n\n  $.extend(Textarea.prototype, $.fn.textcomplete.Adapter.prototype, {\n    // Public methods\n    // --------------\n\n    // Update the textarea with the given value and strategy.\n    select: function (value, strategy, e) {\n      var pre = this.getTextFromHeadToCaret();\n      var post = this.el.value.substring(this.el.selectionEnd);\n      var newSubstr = strategy.replace(value, e);\n      var regExp;\n      if (typeof newSubstr !== 'undefined') {\n        if ($.isArray(newSubstr)) {\n          post = newSubstr[1] + post;\n          newSubstr = newSubstr[0];\n        }\n        regExp = $.isFunction(strategy.match) ? strategy.match(pre) : strategy.match;\n        pre = pre.replace(regExp, newSubstr);\n        this.$el.val(pre + post);\n        this.el.selectionStart = this.el.selectionEnd = pre.length;\n      }\n    },\n\n    getTextFromHeadToCaret: function () {\n      return this.el.value.substring(0, this.el.selectionEnd);\n    },\n\n    // Private methods\n    // ---------------\n\n    _getCaretRelativePosition: function () {\n      var p = $.fn.textcomplete.getCaretCoordinates(this.el, this.el.selectionStart);\n      return {\n        top: p.top + this._calculateLineHeight() - this.$el.scrollTop(),\n        left: p.left - this.$el.scrollLeft(),\n        lineHeight: this._calculateLineHeight()\n      };\n    },\n\n    _calculateLineHeight: function () {\n      var lineHeight = parseInt(this.$el.css('line-height'), 10);\n      if (isNaN(lineHeight)) {\n        // http://stackoverflow.com/a/4515470/1297336\n        var parentNode = this.el.parentNode;\n        var temp = document.createElement(this.el.nodeName);\n        var style = this.el.style;\n        temp.setAttribute(\n          'style',\n          'margin:0px;padding:0px;font-family:' + style.fontFamily + ';font-size:' + style.fontSize\n        );\n        temp.innerHTML = 'test';\n        parentNode.appendChild(temp);\n        lineHeight = temp.clientHeight;\n        parentNode.removeChild(temp);\n      }\n      return lineHeight;\n    }\n  });\n\n  $.fn.textcomplete.Textarea = Textarea;\n}(jQuery);\n\n+function ($) {\n  'use strict';\n\n  var sentinelChar = '';\n\n  function IETextarea(element, completer, option) {\n    this.initialize(element, completer, option);\n    $('<span>' + sentinelChar + '</span>').css({\n      position: 'absolute',\n      top: -9999,\n      left: -9999\n    }).insertBefore(element);\n  }\n\n  $.extend(IETextarea.prototype, $.fn.textcomplete.Textarea.prototype, {\n    // Public methods\n    // --------------\n\n    select: function (value, strategy, e) {\n      var pre = this.getTextFromHeadToCaret();\n      var post = this.el.value.substring(pre.length);\n      var newSubstr = strategy.replace(value, e);\n      var regExp;\n      if (typeof newSubstr !== 'undefined') {\n        if ($.isArray(newSubstr)) {\n          post = newSubstr[1] + post;\n          newSubstr = newSubstr[0];\n        }\n        regExp = $.isFunction(strategy.match) ? strategy.match(pre) : strategy.match;\n        pre = pre.replace(regExp, newSubstr);\n        this.$el.val(pre + post);\n        this.el.focus();\n        var range = this.el.createTextRange();\n        range.collapse(true);\n        range.moveEnd('character', pre.length);\n        range.moveStart('character', pre.length);\n        range.select();\n      }\n    },\n\n    getTextFromHeadToCaret: function () {\n      this.el.focus();\n      var range = document.selection.createRange();\n      range.moveStart('character', -this.el.value.length);\n      var arr = range.text.split(sentinelChar)\n      return arr.length === 1 ? arr[0] : arr[1];\n    }\n  });\n\n  $.fn.textcomplete.IETextarea = IETextarea;\n}(jQuery);\n\n// NOTE: TextComplete plugin has contenteditable support but it does not work\n//       fine especially on old IEs.\n//       Any pull requests are REALLY welcome.\n\n+function ($) {\n  'use strict';\n\n  // ContentEditable adapter\n  // =======================\n  //\n  // Adapter for contenteditable elements.\n  function ContentEditable (element, completer, option) {\n    this.initialize(element, completer, option);\n  }\n\n  $.extend(ContentEditable.prototype, $.fn.textcomplete.Adapter.prototype, {\n    // Public methods\n    // --------------\n\n    // Update the content with the given value and strategy.\n    // When an dropdown item is selected, it is executed.\n    select: function (value, strategy, e) {\n      var pre = this.getTextFromHeadToCaret();\n      // use ownerDocument instead of window to support iframes\n      var sel = this.el.ownerDocument.getSelection();\n      \n      var range = sel.getRangeAt(0);\n      var selection = range.cloneRange();\n      selection.selectNodeContents(range.startContainer);\n      var content = selection.toString();\n      var post = content.substring(range.startOffset);\n      var newSubstr = strategy.replace(value, e);\n      var regExp;\n      if (typeof newSubstr !== 'undefined') {\n        if ($.isArray(newSubstr)) {\n          post = newSubstr[1] + post;\n          newSubstr = newSubstr[0];\n        }\n        regExp = $.isFunction(strategy.match) ? strategy.match(pre) : strategy.match;\n        pre = pre.replace(regExp, newSubstr)\n            .replace(/ $/, \"&nbsp\"); // &nbsp necessary at least for CKeditor to not eat spaces\n        range.selectNodeContents(range.startContainer);\n        range.deleteContents();\n        \n        // create temporary elements\n        var preWrapper = this.el.ownerDocument.createElement(\"div\");\n        preWrapper.innerHTML = pre;\n        var postWrapper = this.el.ownerDocument.createElement(\"div\");\n        postWrapper.innerHTML = post;\n        \n        // create the fragment thats inserted\n        var fragment = this.el.ownerDocument.createDocumentFragment();\n        var childNode;\n        var lastOfPre;\n        while (childNode = preWrapper.firstChild) {\n        \tlastOfPre = fragment.appendChild(childNode);\n        }\n        while (childNode = postWrapper.firstChild) {\n        \tfragment.appendChild(childNode);\n        }\n        \n        // insert the fragment & jump behind the last node in \"pre\"\n        range.insertNode(fragment);\n        range.setStartAfter(lastOfPre);\n        \n        range.collapse(true);\n        sel.removeAllRanges();\n        sel.addRange(range);\n      }\n    },\n\n    // Private methods\n    // ---------------\n\n    // Returns the caret's relative position from the contenteditable's\n    // left top corner.\n    //\n    // Examples\n    //\n    //   this._getCaretRelativePosition()\n    //   //=> { top: 18, left: 200, lineHeight: 16 }\n    //\n    // Dropdown's position will be decided using the result.\n    _getCaretRelativePosition: function () {\n      var range = this.el.ownerDocument.getSelection().getRangeAt(0).cloneRange();\n      var wrapperNode = range.endContainer.parentNode;\n      var node = this.el.ownerDocument.createElement('span');\n      range.insertNode(node);\n      range.selectNodeContents(node);\n      range.deleteContents();\n      setTimeout(function() { wrapperNode.normalize(); }, 0);\n      var $node = $(node);\n      var position = $node.offset();\n      position.left -= this.$el.offset().left;\n      position.top += $node.height() - this.$el.offset().top;\n      position.lineHeight = $node.height();\n      \n      // special positioning logic for iframes\n      // this is typically used for contenteditables such as tinymce or ckeditor\n      if (this.completer.$iframe) {\n        var iframePosition = this.completer.$iframe.offset();\n        position.top += iframePosition.top;\n        position.left += iframePosition.left;\n        // We need to get the scrollTop of the html-element inside the iframe and not of the body-element,\n        // because on IE the scrollTop of the body-element (this.$el) is always zero.\n        position.top -= $(this.completer.$iframe[0].contentWindow.document).scrollTop();\n      }\n      \n      $node.remove();\n      return position;\n    },\n\n    // Returns the string between the first character and the caret.\n    // Completer will be triggered with the result for start autocompleting.\n    //\n    // Example\n    //\n    //   // Suppose the html is '<b>hello</b> wor|ld' and | is the caret.\n    //   this.getTextFromHeadToCaret()\n    //   // => ' wor'  // not '<b>hello</b> wor'\n    getTextFromHeadToCaret: function () {\n      var range = this.el.ownerDocument.getSelection().getRangeAt(0);\n      var selection = range.cloneRange();\n      selection.selectNodeContents(range.startContainer);\n      return selection.toString().substring(0, range.startOffset);\n    }\n  });\n\n  $.fn.textcomplete.ContentEditable = ContentEditable;\n}(jQuery);\n\n// NOTE: TextComplete plugin has contenteditable support but it does not work\n//       fine especially on old IEs.\n//       Any pull requests are REALLY welcome.\n\n+function ($) {\n  'use strict';\n\n  // CKEditor adapter\n  // =======================\n  //\n  // Adapter for CKEditor, based on contenteditable elements.\n  function CKEditor (element, completer, option) {\n    this.initialize(element, completer, option);\n  }\n\n  $.extend(CKEditor.prototype, $.fn.textcomplete.ContentEditable.prototype, {\n    _bindEvents: function () {\n      var $this = this;\n      this.option.ckeditor_instance.on('key', function(event) {\n        var domEvent = event.data;\n        $this._onKeyup(domEvent);\n        if ($this.completer.dropdown.shown && $this._skipSearch(domEvent)) {\n          return false;\n        }\n      }, null, null, 1); // 1 = Priority = Important!\n      // we actually also need the native event, as the CKEditor one is happening to late\n      this.$el.on('keyup.' + this.id, $.proxy(this._onKeyup, this));\n    },\n});\n\n  $.fn.textcomplete.CKEditor = CKEditor;\n}(jQuery);\n\n// The MIT License (MIT)\n// \n// Copyright (c) 2015 Jonathan Ong me@jongleberry.com\n// \n// Permission is hereby granted, free of charge, to any person obtaining a copy of this software and\n// associated documentation files (the \"Software\"), to deal in the Software without restriction,\n// including without limitation the rights to use, copy, modify, merge, publish, distribute,\n// sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n// \n// The above copyright notice and this permission notice shall be included in all copies or\n// substantial portions of the Software.\n// \n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT\n// NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n// NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n//\n// https://github.com/component/textarea-caret-position\n\n(function ($) {\n\n// The properties that we copy into a mirrored div.\n// Note that some browsers, such as Firefox,\n// do not concatenate properties, i.e. padding-top, bottom etc. -> padding,\n// so we have to do every single property specifically.\nvar properties = [\n  'direction',  // RTL support\n  'boxSizing',\n  'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n  'height',\n  'overflowX',\n  'overflowY',  // copy the scrollbar for IE\n\n  'borderTopWidth',\n  'borderRightWidth',\n  'borderBottomWidth',\n  'borderLeftWidth',\n  'borderStyle',\n\n  'paddingTop',\n  'paddingRight',\n  'paddingBottom',\n  'paddingLeft',\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n  'fontStyle',\n  'fontVariant',\n  'fontWeight',\n  'fontStretch',\n  'fontSize',\n  'fontSizeAdjust',\n  'lineHeight',\n  'fontFamily',\n\n  'textAlign',\n  'textTransform',\n  'textIndent',\n  'textDecoration',  // might not make a difference, but better be safe\n\n  'letterSpacing',\n  'wordSpacing',\n\n  'tabSize',\n  'MozTabSize'\n\n];\n\nvar isBrowser = (typeof window !== 'undefined');\nvar isFirefox = (isBrowser && window.mozInnerScreenX != null);\n\nfunction getCaretCoordinates(element, position, options) {\n  if(!isBrowser) {\n    throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');\n  }\n\n  var debug = options && options.debug || false;\n  if (debug) {\n    var el = document.querySelector('#input-textarea-caret-position-mirror-div');\n    if ( el ) { el.parentNode.removeChild(el); }\n  }\n\n  // mirrored div\n  var div = document.createElement('div');\n  div.id = 'input-textarea-caret-position-mirror-div';\n  document.body.appendChild(div);\n\n  var style = div.style;\n  var computed = window.getComputedStyle? getComputedStyle(element) : element.currentStyle;  // currentStyle for IE < 9\n\n  // default textarea styles\n  style.whiteSpace = 'pre-wrap';\n  if (element.nodeName !== 'INPUT')\n    style.wordWrap = 'break-word';  // only for textarea-s\n\n  // position off-screen\n  style.position = 'absolute';  // required to return coordinates properly\n  if (!debug)\n    style.visibility = 'hidden';  // not 'display: none' because we want rendering\n\n  // transfer the element's properties to the div\n  properties.forEach(function (prop) {\n    style[prop] = computed[prop];\n  });\n\n  if (isFirefox) {\n    // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n    if (element.scrollHeight > parseInt(computed.height))\n      style.overflowY = 'scroll';\n  } else {\n    style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n  }\n\n  div.textContent = element.value.substring(0, position);\n  // the second special handling for input type=\"text\" vs textarea: spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n  if (element.nodeName === 'INPUT')\n    div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n\n  var span = document.createElement('span');\n  // Wrapping must be replicated *exactly*, including when a long word gets\n  // onto the next line, with whitespace at the end of the line before (#7).\n  // The  *only* reliable way to do that is to copy the *entire* rest of the\n  // textarea's content into the <span> created at the caret position.\n  // for inputs, just '.' would be enough, but why bother?\n  span.textContent = element.value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\n  div.appendChild(span);\n\n  var coordinates = {\n    top: span.offsetTop + parseInt(computed['borderTopWidth']),\n    left: span.offsetLeft + parseInt(computed['borderLeftWidth'])\n  };\n\n  if (debug) {\n    span.style.backgroundColor = '#aaa';\n  } else {\n    document.body.removeChild(div);\n  }\n\n  return coordinates;\n}\n\n$.fn.textcomplete.getCaretCoordinates = getCaretCoordinates;\n\n}(jQuery));\n\nreturn jQuery;\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jquery-textcomplete/dist/jquery.textcomplete.js\n// module id = 552\n// module chunks = 0 1 2","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"comment-temp\"\n  }, [_c('div', [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl-transparent\"\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"hide-actions\": \"\",\n      \"value\": true\n    }\n  }, [_c('v-card', {\n    staticClass: \"comments__container\"\n  }, [_c('v-card-text', [_c('div', {\n    attrs: {\n      \"id\": \"comments-container-el\"\n    }\n  })])], 1)], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-c8f36406\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Comment.vue\n// module id = 557\n// module chunks = 0 1 2","module.exports = function(originalModule) {\r\n\tif(!originalModule.webpackPolyfill) {\r\n\t\tvar module = Object.create(originalModule);\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"exports\", {\r\n\t\t\tenumerable: true,\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/harmony-module.js\n// module id = 559\n// module chunks = 0 1 2","<template>\r\n  <div class=\"form-chitiet\">\r\n    <content-placeholders class=\"mt-3\" v-if=\"loading\">\r\n      <content-placeholders-text :lines=\"1\" />\r\n    </content-placeholders>\r\n    <div v-else class=\"row-header\">\r\n      <div class=\"background-triangle-big\"> <span>CHI TIT H S</span> </div>\r\n      <div class=\"layout row wrap header_tools row-blue\">\r\n        <div class=\"flex xs8 sm10 pl-3 text-ellipsis text-bold\" :title=\"thongTinChiTietHoSo.serviceName\">\r\n          {{thongTinChiTietHoSo.serviceName}}\r\n        </div>\r\n        <div class=\"flex xs4 sm2 text-right\" style=\"margin-left: auto;\">\r\n          <v-btn flat class=\"my-0 mx-0 btn-border-left\" @click=\"goBack\" active-class=\"temp_active\">\r\n            Quay li &nbsp;\r\n            <v-icon size=\"16\">undo</v-icon>\r\n          </v-btn>\r\n        </div>\r\n      </div> \r\n    </div>\r\n    <thong-tin-co-ban-ho-so ref=\"thong-tin-co-ban-ho-so\" :detailDossier=\"thongTinChiTietHoSo\"></thong-tin-co-ban-ho-so>\r\n    <!--  -->\r\n    <div>\r\n      <v-tabs icons-and-text centered class=\"mb-4\">\r\n        <v-tabs-slider color=\"primary\"></v-tabs-slider>\r\n        <v-tab :key=\"1\" href=\"#1\">\r\n          <v-btn flat class=\"px-0 py-0 mx-0 my-0\">\r\n            THNH PHN H S\r\n          </v-btn>\r\n        </v-tab>\r\n        <v-tab :key=\"2\" href=\"#2\" @click=\"getNextActions()\"> \r\n          <v-btn flat class=\"px-0 py-0 mx-0 my-0\">\r\n            TH L H S\r\n          </v-btn>\r\n        </v-tab>\r\n        <v-tab :key=\"3\" href=\"#3\" @click=\"loadDossierActions()\">\r\n          <v-btn flat class=\"px-0 py-0 mx-0 my-0\">\r\n            TIN TRNH TH L\r\n          </v-btn>\r\n        </v-tab>\r\n        <v-tab :key=\"4\" href=\"#4\" @click=\"loadDossierLogs()\">\r\n          <v-btn flat class=\"px-0 py-0 mx-0 my-0\">\r\n            NHT K H S\r\n          </v-btn>\r\n        </v-tab>\r\n        <v-tab :key=\"5\" href=\"#5\">\r\n          <v-btn flat class=\"px-0 py-0 mx-0 my-0\">\r\n            TRAO I THO LUN\r\n          </v-btn>\r\n        </v-tab>\r\n        <v-tab :key=\"6\" href=\"#6\" @click=\"loadDossierSyncs()\">\r\n          <v-btn flat class=\"px-0 py-0 mx-0 my-0\">\r\n            TRAO I NI B\r\n          </v-btn>\r\n        </v-tab>\r\n        <v-tabs-items>\r\n          <v-tab-item id=\"1\" reverse-transition=\"fade-transition\" transition=\"fade-transition\">\r\n            <v-expansion-panel expand  class=\"expansion-pl ext__form\" style=\"border: none\">\r\n              <v-expansion-panel-content v-bind:value=\"true\">\r\n                <div slot=\"header\" class=\"text-bold\">\r\n                  <div class=\"background-triangle-small\"> I.</div>\r\n                  Ti liu np\r\n                </div>\r\n                <div v-for=\"(item, index) in dossierTemplatesTN\" v-bind:key=\"item.partNo\">\r\n                  <v-card>\r\n                    <v-layout wrap class=\"px-3 py-1 align-center row-list-style\" style=\"border-bottom: 1px solid #ddd\"> \r\n                      <v-flex xs11>\r\n                        <span class=\"text-bold\" style=\"position: absolute;\">{{index + 1}}.</span> \r\n                        <div style=\"margin-left: 30px;\">{{item.partName}}</div>\r\n                      </v-flex>\r\n                      <v-flex xs1 class=\"text-right\">\r\n                        <v-tooltip top>\r\n                          <v-btn slot=\"activator\" class=\"mx-0 my-0\" fab dark small color=\"primary\" @click=\"viewFile(item)\" style=\"height:25px;width:25px\">\r\n                            {{item.count}}\r\n                          </v-btn>\r\n                          <span>Xem</span>\r\n                        </v-tooltip>\r\n                      </v-flex>\r\n                    </v-layout>\r\n                  </v-card>\r\n                </div>\r\n              </v-expansion-panel-content>\r\n            </v-expansion-panel>\r\n            <v-expansion-panel expand  class=\"expansion-pl ext__form\" style=\"border: none\">\r\n              <v-expansion-panel-content v-bind:value=\"true\">\r\n                <div slot=\"header\" class=\"text-bold\">\r\n                  <div class=\"background-triangle-small\"> II.</div>\r\n                  Kt qu\r\n                </div>\r\n                <div v-for=\"(item, index) in dossierTemplatesKQ\" v-bind:key=\"item.partNo\">\r\n                  <v-card>\r\n                    <v-layout wrap class=\"px-3 py-1 align-center row-list-style\" style=\"border-bottom: 1px solid #ddd\"> \r\n                      <v-flex xs11>\r\n                        <span class=\"text-bold\" style=\"position: absolute;\">{{index + 1}}.</span> \r\n                        <div style=\"margin-left: 30px;\">{{item.partName}}</div>\r\n                      </v-flex>\r\n                      <v-flex xs1 class=\"text-right\">\r\n                        <v-tooltip top>\r\n                          <v-btn slot=\"activator\" class=\"mx-0 my-0\" fab dark small color=\"primary\" @click=\"viewFile(item)\" style=\"height:25px;width:25px\">\r\n                            {{item.count}}\r\n                          </v-btn>\r\n                          <span>Xem</span>\r\n                        </v-tooltip>\r\n                      </v-flex>\r\n                    </v-layout>\r\n                  </v-card>\r\n                </div>\r\n              </v-expansion-panel-content>\r\n            </v-expansion-panel>\r\n            <v-expansion-panel expand  class=\"expansion-pl ext__form\" style=\"border: none\">\r\n              <v-expansion-panel-content v-bind:value=\"true\">\r\n                <div slot=\"header\" class=\"text-bold\">\r\n                  <div class=\"background-triangle-small\"> III.</div>\r\n                  Vn bn hnh chnh\r\n                </div>\r\n                <div v-for=\"(item, index) in documents\" v-bind:key=\"item.documentCode\">\r\n                  <v-card>\r\n                    <v-layout wrap class=\"px-3 py-1 align-center row-list-style\" style=\"border-bottom: 1px solid #ddd\"> \r\n                      <v-flex xs11>\r\n                        <span class=\"text-bold\" style=\"position: absolute;\">{{index + 1}}.</span> \r\n                        <div style=\"margin-left: 30px;\">{{item.documentName}}</div>\r\n                      </v-flex>\r\n                      <v-flex xs1 class=\"text-right\">\r\n                        <v-tooltip top>\r\n                          <v-btn slot=\"activator\" class=\"mx-0 my-0\" fab dark small color=\"primary\" @click=\"viewFile(item)\" style=\"height:25px;width:25px\">\r\n                            <v-icon>visibility</v-icon>\r\n                          </v-btn>\r\n                          <span>Xem</span>\r\n                        </v-tooltip>\r\n                      </v-flex>\r\n                    </v-layout>\r\n                  </v-card>\r\n                </div>\r\n              </v-expansion-panel-content>\r\n            </v-expansion-panel>\r\n            <!-- <v-expansion-panel expand  class=\"expansion-pl ext__form\" style=\"border: none\">\r\n              <v-expansion-panel-content v-bind:value=\"true\">\r\n                <div slot=\"header\" class=\"text-bold\">\r\n                  <div class=\"background-triangle-small\"> IV.</div>\r\n                  Chng t thanh ton\r\n                </div>\r\n                <div v-for=\"(item, index) in payments\" :key=\"item.referenceUid\">\r\n                  <v-card>\r\n                    <v-layout wrap class=\"px-3 py-1 align-center row-list-style\" style=\"border-bottom: 1px solid #ddd\"> \r\n                      <v-flex xs11>\r\n                        <span class=\"text-bold\" style=\"position: absolute;\">{{index + 1}}.</span> \r\n                        <div style=\"margin-left: 30px;\">{{item.paymentFee}}</div>\r\n                      </v-flex>\r\n                      <v-flex xs1 class=\"text-right\">\r\n                        <v-tooltip top>\r\n                          <v-btn slot=\"activator\" class=\"mx-0 my-0\" fab dark small color=\"primary\" @click=\"viewFile(item)\" style=\"height:25px;width:25px\">\r\n                            <v-icon>visibility</v-icon>\r\n                          </v-btn>\r\n                          <span>Xem</span>\r\n                        </v-tooltip>\r\n                      </v-flex>\r\n                    </v-layout>\r\n                  </v-card>\r\n                </div>\r\n              </v-expansion-panel-content>\r\n            </v-expansion-panel> -->\r\n          </v-tab-item>\r\n          <v-tab-item id=\"2\" reverse-transition=\"fade-transition\" transition=\"fade-transition\">\r\n            <div class=\"\" v-if=\"btnStateVisible\">\r\n              <v-btn color=\"primary\" v-for=\"(item, index) in btnDossierDynamics\" v-bind:key=\"index\" \r\n                v-on:click.native=\"processPullBtnDetail(item, index)\" \r\n                :loading=\"loadingAction && index === indexAction\"\r\n                :disabled=\"loadingAction && index === indexAction\"\r\n              >\r\n                {{item.actionName}}\r\n                <span slot=\"loader\">Loading...</span>\r\n              </v-btn>\r\n              <v-btn color=\"primary\" v-for=\"(item, index) in btnStepsDynamics\" v-bind:key=\"index\" v-if=\"String(item.form) !== 'NEW'\"\r\n                v-on:click.native=\"btnActionEvent(item, index, true)\" \r\n                :loading=\"loadingAction && index === indexActionStep\"\r\n                :disabled=\"loadingAction && index === indexActionStep\"\r\n              >\r\n                {{ item.title }}{{ item.tiltle }}\r\n                <span slot=\"loader\">Loading...</span>\r\n              </v-btn>\r\n            </div>\r\n            <v-layout wrap v-if=\"dialogActionProcess\">\r\n              <!-- <thong-tin-co-ban-ho-so v-if=\"dialogActionProcess\" ref=\"thong-tin-co-ban-ho-so\" :id=\"dossierId\"></thong-tin-co-ban-ho-so> -->\r\n              <!-- showFormBoSungThongTinNgan: {{showFormBoSungThongTinNgan}} <br/> -->\r\n              <phan-cong v-if=\"showPhanCongNguoiThucHien\" v-model=\"assign_items\" :type=\"type_assign\" ></phan-cong>\r\n              <!-- showTaoTaiLieuKetQua: {{showTaoTaiLieuKetQua}} <br/> -->\r\n              <!-- showKyPheDuyetTaiLieu: {{showKyPheDuyetTaiLieu}} <br/> -->\r\n              <tra-ket-qua v-if=\"showTraKetQua\" :resultFiles=\"returnFiles\"></tra-ket-qua>\r\n              <xac-nhan-thu-phi v-if=\"showXacNhanThuPhi\" :payments=\"payments\" :payment_type=\"payment_type\"></xac-nhan-thu-phi>\r\n              <!-- showThucHienThanhToanDienTu: {{showThucHienThanhToanDienTu}} <br/> -->\r\n              <y-kien-can-bo v-if=\"showYkienCanBoThucHien\" :user_note=\"userNote\"></y-kien-can-bo>\r\n              <v-btn color=\"primary\" flat=\"flat\" @click.native=\"processAction(dossierItemDialogPick, itemDialogPick, resultDialogPick, indexDialogPick, false)\" v-if=\"dialogActionProcess\"\r\n              :loading=\"loadingActionProcess\"\r\n              :disabled=\"loadingActionProcess\"\r\n              >\r\n              Xc nhn\r\n              <span slot=\"loader\">Loading...</span>\r\n            </v-btn>\r\n              <v-btn color=\"primary\" v-if=\"rollbackable\" @click=\"rollBack()\">Quay lui</v-btn>\r\n            </v-layout>\r\n          </v-tab-item>\r\n          <v-tab-item id=\"3\" reverse-transition=\"fade-transition\" transition=\"fade-transition\">\r\n            <div>\r\n              <v-data-table :headers=\"headers\" :items=\"dossierActions\" class=\"table-landing table-bordered\"\r\n              hide-actions no-data-text=\"Khng c d liu\"\r\n              >\r\n              <template slot=\"headerCell\" slot-scope=\"props\">\r\n                <v-tooltip bottom>\r\n                  <span slot=\"activator\">\r\n                    {{ props.header.text }}\r\n                  </span>\r\n                  <span>\r\n                    {{ props.header.text }}\r\n                  </span>\r\n                </v-tooltip>\r\n              </template>\r\n              <template slot=\"items\" slot-scope=\"props\">\r\n                <td class=\"text-xs-center\">{{props.item.sequenceRole}}</td>\r\n                <td class=\"text-xs-center\">{{props.item.sequenceName}}</td>\r\n                <td class=\"text-xs-center\">{{props.item.durationCount}} ngy</td>\r\n                <td class=\"text-xs-center\">{{props.item.startDate}}</td>\r\n                <td class=\"text-xs-center\">\r\n                  <div v-for=\"itemUser in props.item.assignUsers\" :key=\"itemUser.userId\">\r\n                    {{itemUser.userName}} <br>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div v-for=\"(itemAction, index) in props.item.actions\" :key=\"index\">\r\n                    {{itemAction.actionName}} : ({{itemAction.createDate}})\r\n                    <div v-if=\"index === props.item.actions.length - 1\">\r\n                      <span v-if=\"itemAction.actionOverdue > 0\" style=\"color: red\">Qu hn {{itemAction.actionOverdue}} ngy</span>\r\n                      <span v-else-if=\"itemAction.state === 0\" style=\"color: blue\">ang ch thc hin</span>\r\n                      <span v-else-if=\"itemAction.state === 1\" style=\"color: blue\"> thc hin</span>\r\n                      <span v-else style=\"color: blue\">Quay li bc trc</span>\r\n                    </div>\r\n                  </div>\r\n                <!--  <span v-if=\"getMaxDueDate(props.item.actions) > 0\" style=\"color: red\">Qu hn {{props.item.actions|getMaxDueDate}} ngy</span>\r\n                  <span v-else style=\"color: blue\">ang thc hin</span> -->\r\n                </td>\r\n              </template>\r\n            </v-data-table>\r\n          </div>\r\n          </v-tab-item>\r\n          <v-tab-item id=\"4\" reverse-transition=\"fade-transition\" transition=\"fade-transition\">\r\n            <div v-for=\"(item, index) in listHistoryProcessing\" v-bind:key=\"item.dossierLogId\" class=\"list_history_style\">\r\n                <td class=\"px-2 pt-2\" :class=\"index % 2 !== 0 ? 'col-tien-trinh-1' : 'col-tien-trinh-2'\">{{ index + 1 }}</td>\r\n                <td class=\"text-xs-left px-2 py-2\">\r\n                  <p class=\"mb-2\"> ng/b <b>{{ item.author }}</b> \r\n                    <span style=\"color: #0b72ba\">( {{ item.payload.stepName }} )</span>\r\n                    <br/>\r\n                    <span style=\"color: #939393\">{{ item.createDate | dateTimeView }}</span>\r\n                  </p>\r\n                   kin: <span v-html=\"item.content\"></span> <br>\r\n                  <p\r\n                  class=\"history__download__link hover-pointer-download\"\r\n                  title=\"Ti file\"\r\n                  v-for=\"file in item.payload.files\"\r\n                  :key=\"file.dossierFileId\"\r\n                  @click.prevent.stop=\"downloadFileLogs(file.dossierFileId)\"\r\n                  >\r\n                  <v-icon>file_download</v-icon> \r\n                  <span>{{file.fileName}}</span>\r\n                </p>\r\n              </td>\r\n            </div>\r\n          </v-tab-item>\r\n          <v-tab-item id=\"5\" reverse-transition=\"fade-transition\" transition=\"fade-transition\">\r\n            <comment :classPK=\"dossierId\" :className=\"className\"></comment>\r\n          </v-tab-item>\r\n          <v-tab-item id=\"6\" reverse-transition=\"fade-transition\" transition=\"fade-transition\">\r\n            <v-layout row wrap>\r\n              <v-flex xs12 sm3>\r\n              </v-flex>\r\n              <v-flex xs12 sm6>\r\n                <v-card>\r\n                  <div style=\"height: 400px; overflow: auto; margin-bottom: 10px;\">\r\n                    <div v-for=\"(item, index) in dossierSyncs\" v-bind:key=\"index\">\r\n                      <div :class=\"{ 'text-xs-left': item.syncType === 1, 'text-xs-right': item.syncType === 2 }\">\r\n                        <v-chip label :color=\"getColorChat(item.syncType)\" text-color=\"white\">\r\n                          {{item.actionUser}}: {{item.actionNote}}\r\n                        </v-chip>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <v-text-field\r\n                  v-model=\"messageChat\"\r\n                  solo\r\n                  label=\"Nhp trao i\"\r\n                  append-icon=\"send\"\r\n                  @change=\"postChat\"\r\n                  ></v-text-field>\r\n                </v-card>\r\n              </v-flex>\r\n              <v-flex xs12 sm3>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-tab-item>\r\n        </v-tabs-items>\r\n      </v-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport router from '@/router'\r\nimport $ from 'jquery'\r\nimport '../store/jquery_comment'\r\nimport Comment from './Comment.vue'\r\nimport ThongTinCoBanHoSo from './form_xu_ly/ThongTinCoBanHoSo.vue'\r\nimport PhanCong from './form_xu_ly/PhanCongNguoiThucHien.vue'\r\nimport TraKetQua from './form_xu_ly/TraKetQua.vue'\r\nimport XacNhanThuPhi from './form_xu_ly/XacNhanThuPhi.vue'\r\nimport YkienCanBoThucHien from './form_xu_ly/YkienCanBoThucHien.vue'\r\nexport default {\r\n  props: ['index', 'id'],\r\n  components: {\r\n    'comment': Comment,\r\n    'thong-tin-co-ban-ho-so': ThongTinCoBanHoSo,\r\n    'phan-cong': PhanCong,\r\n    'tra-ket-qua': TraKetQua,\r\n    'xac-nhan-thu-phi': XacNhanThuPhi,\r\n    'y-kien-can-bo': YkienCanBoThucHien\r\n  },\r\n  data: () => ({\r\n    btnDossierDynamics: [],\r\n    btnStepsDynamics: [],\r\n    loadingAction: false,\r\n    indexAction: -1,\r\n    indexActionStep: -1,\r\n    dossierId: '',\r\n    className: 'org.opencps.dossiermgt.model.Dossier',\r\n    dossierFilesItems: [],\r\n    dossierTemplatesItems: [],\r\n    showContactDetail: false,\r\n    listHistoryProcessing: [],\r\n    dossierTemplatesTN: [],\r\n    dossierTemplatesKQ: [],\r\n    thongTinChiTietHoSo: {\r\n    },\r\n    loadingAlpacajsForm: false,\r\n    nextActions: [],\r\n    processSteps: [],\r\n    documents: [],\r\n    payments: [],\r\n    dossierActions: [],\r\n    itemselect: '',\r\n    dossierSyncs: [],\r\n    stepModel: null,\r\n    actionNote: '',\r\n    actionsSubmitLoading: false,\r\n    showThongTinCoBanHoSo: false,\r\n    showYkienCanBoThucHien: false,\r\n    showFormBoSungThongTinNgan: false,\r\n    showPhanCongNguoiThucHien: false,\r\n    showTaoTaiLieuKetQua: false,\r\n    showKyPheDuyetTaiLieu: false,\r\n    showTraKetQua: false,\r\n    showXacNhanThuPhi: false,\r\n    showThucHienThanhToanDienTu: false,\r\n    dossierItemDialogPick: '',\r\n    itemDialogPick: '',\r\n    resultDialogPick: '',\r\n    indexDialogPick: '',\r\n    userNote: 0,\r\n    payment_type: 0,\r\n    type_assign: 0,\r\n    returnFiles: [],\r\n    assign_items: [],\r\n    btnStateVisible: true,\r\n    dialogActionProcess: false,\r\n    headers: [{\r\n      text: 'Vai tr',\r\n      align: 'center',\r\n      sortable: false,\r\n      class: 'vaitro_column'\r\n    }, {\r\n      text: 'Cng vic',\r\n      align: 'center',\r\n      sortable: false,\r\n      class: 'congviec_column'\r\n    }, {\r\n      text: 'Thi hn quy nh',\r\n      align: 'center',\r\n      sortable: false,\r\n      class: 'thoihanquydinh_column'\r\n    }, {\r\n      text: 'Ngy bt u',\r\n      align: 'center',\r\n      sortable: false,\r\n      class: 'ngaybatdau_column'\r\n    }, {\r\n      text: 'Ngi thc hin',\r\n      align: 'center',\r\n      sortable: false,\r\n      class: 'nguoithuchien_column'\r\n    }, {\r\n      text: 'Kt qu',\r\n      align: 'center',\r\n      sortable: false,\r\n      class: 'ketqua_column'\r\n    }],\r\n    headerSyncs: [{\r\n      text: 'Nht k h s',\r\n      align: 'center',\r\n      sortable: false,\r\n      class: 'nhatki_column'\r\n    }, {\r\n      text: 'Trao i trc tuyn',\r\n      align: 'center',\r\n      sortable: false,\r\n      class: 'traodoitructuyen_column'\r\n    }],\r\n    filterDossierActionItems: [{\r\n      text: 'Tt c',\r\n      value: ''\r\n    }, {\r\n      text: 'C thao tc thc hin',\r\n      value: '1'\r\n    }, {\r\n      text: 'Khng thao tc thc hin',\r\n      value: '2'\r\n    }],\r\n    filterDossierAction: null,\r\n    filterDossierSyncItems: [{\r\n      text: 'Tt c',\r\n      value: '1,2'\r\n    }, {\r\n      text: 'Thng tin trao i',\r\n      value: '2'\r\n    }],\r\n    filterDossierSync: null,\r\n    messageChat: ''\r\n  }),\r\n  computed: {\r\n    loading () {\r\n      return this.$store.getters.loading\r\n    }\r\n  },\r\n  created () {\r\n    var vm = this\r\n    vm.$nextTick(function () {\r\n      vm.initData(vm.id)\r\n    })\r\n  },\r\n  updated () {\r\n    var vm = this\r\n    vm.$nextTick(function () {\r\n      let currentParams = vm.$router.history.current.params\r\n      let currentQuery = vm.$router.history.current.query\r\n      if (currentParams.hasOwnProperty('step') && vm.isCallBack) {\r\n        vm.isCallBack = false\r\n        vm.btnDossierDynamics = []\r\n        vm.btnStepsDynamics = []\r\n      }\r\n    })\r\n  },\r\n  watch: {\r\n    '$route': function (newRoute, oldRoute) {\r\n      let vm = this\r\n      let currentQuery = newRoute.query\r\n      if (currentQuery.hasOwnProperty('step')) {\r\n        vm.btnDossierDynamics = []\r\n        vm.btnStepsDynamics = []\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    initData (data) {\r\n      var vm = this\r\n      vm.dossierId = data\r\n      console.log(data)\r\n      vm.$store.dispatch('getDetailDossier', data).then(resultDossier => {\r\n        vm.thongTinChiTietHoSo = resultDossier\r\n        var arrTemp = []\r\n        console.log(resultDossier.dossierId)\r\n        arrTemp.push(vm.$store.dispatch('loadDossierTemplates', resultDossier))\r\n        arrTemp.push(vm.$store.dispatch('loadDossierFiles', resultDossier.dossierId))\r\n        vm.thongTinHoSo = resultDossier\r\n        Promise.all(arrTemp).then(values => {\r\n          console.log(values)\r\n          let dossierTemplates = values[0]\r\n          let dossierFiles = values[1]\r\n          dossierTemplates.forEach(item => {\r\n            if (item.partType === 1) {\r\n              vm.dossierTemplatesTN.push(item)\r\n            } else {\r\n              vm.dossierTemplatesKQ.push(item)\r\n            }\r\n          })\r\n          vm.dossierFilesItems = dossierFiles\r\n          vm.dossierTemplatesItems = dossierTemplates\r\n          vm.recountFileTemplates()\r\n        }).catch(reject => {\r\n        })\r\n        vm.$store.dispatch('loadDossierDocuments', resultDossier).then(resultDocuments => {\r\n          vm.documents = resultDocuments\r\n        })\r\n        vm.$store.dispatch('loadDossierPayments', resultDossier).then(resultPayments => {\r\n          vm.payments = resultPayments\r\n        })\r\n      })\r\n    },\r\n    recountFileTemplates () {\r\n      var vm = this\r\n      vm.dossierTemplatesItems.forEach(itemTemplate => {\r\n        itemTemplate.count = 0\r\n        vm.dossierFilesItems.forEach(itemFile => {\r\n          if (itemTemplate.partNo === itemFile.dossierPartNo) {\r\n            itemTemplate.count ++\r\n          }\r\n        })\r\n      })\r\n    },\r\n    goBack () {\r\n      window.history.back()\r\n    },\r\n    viewFile (data) {\r\n      var vm = this\r\n      vm.dossierFilesItems.forEach(val => {\r\n        val['dossierId'] = vm.thongTinChiTietHoSo.dossierId\r\n        if (val.dossierPartNo === data.partNo) {\r\n          this.$store.dispatch('viewFile', val)\r\n        }\r\n      })\r\n    },\r\n    downloadFileLogs (data) {\r\n      var vm = this\r\n      let dataCommit = {\r\n        fileAttachId: data,\r\n        dossierId: vm.id\r\n      }\r\n      this.$store.dispatch('downloadFile', dataCommit)\r\n    },\r\n    loadDossierActions (data) {\r\n      var vm = this\r\n      if (vm.thongTinChiTietHoSo.dossierId) {\r\n        let dataParams = {\r\n          dossierId: vm.thongTinChiTietHoSo.dossierId,\r\n          stepType: data\r\n        }\r\n        vm.$store.dispatch('loadDossierActions', dataParams).then(resultActions => {\r\n          vm.dossierActions = resultActions.data\r\n        })\r\n      }\r\n    },\r\n    loadDossierSyncs (data) {\r\n      var vm = this\r\n      if (vm.thongTinChiTietHoSo.dossierId) {\r\n        let dataParams = {\r\n          dossierId: vm.thongTinChiTietHoSo.dossierId,\r\n          info: '1,2'\r\n        }\r\n        vm.$store.dispatch('loadDossierSyncs', dataParams).then(resultSyncs => {\r\n          console.log('resultSyncs++++++++++++++++', resultSyncs)\r\n          vm.dossierSyncs = resultSyncs\r\n        })\r\n      }\r\n    },\r\n    loadDossierLogs (data) {\r\n      var vm = this\r\n      // data.dossierId = vm.thongTinChiTietHoSo.dossierId\r\n      let dataParams = {\r\n        dossierId: vm.thongTinChiTietHoSo.dossierId\r\n      }\r\n      let promiseHisProcessing = vm.$store.dispatch('getListHistoryProcessingItems', dataParams)\r\n      promiseHisProcessing.then(function (result) {\r\n        vm.listHistoryProcessing = []\r\n        vm.listHistoryProcessing = result\r\n      })\r\n    },\r\n    deleteDossierFileVersion (item) {\r\n      var vm = this\r\n      item['dossierId'] = vm.thongTinChiTietHoSo.dossierId\r\n      vm.$store.dispatch('deleteAttackFiles', item).then(res => {\r\n      })\r\n    },\r\n    pickFile (item) {\r\n      document.getElementById('file' + item.partNo).click()\r\n    },\r\n    postChat () {\r\n      var vm = this\r\n      let params = {\r\n        dossierId: vm.thongTinChiTietHoSo.dossierId,\r\n        actionCode: 8200,\r\n        actionNote: vm.messageChat,\r\n        actionUser: ''\r\n      }\r\n      vm.$store.dispatch('postAction', params).then(result => {\r\n        vm.loadDossierSyncs()\r\n      })\r\n      vm.messageChat = ''\r\n    },\r\n    getNextAction (item) {\r\n      var vm = this\r\n      if (item.type === 1) {\r\n        let filter = {\r\n          dossierId: vm.thongTinChiTietHoSo.dossierId,\r\n          actionId: item.processActionId\r\n        }\r\n        vm.$store.dispatch('getNextAction', filter).then(resultAction => {\r\n          vm.stepModel = resultAction\r\n        }).catch(reject => {\r\n          vm.stepModel = null\r\n        })\r\n      } else {\r\n        let filter = {\r\n          dossierId: vm.thongTinChiTietHoSo.dossierId,\r\n          actionId: item.processActionId\r\n        }\r\n        vm.$store.dispatch('loadPlugin', filter).then(resultPlugin => {\r\n          console.log('resultPlugin+++++++++', resultPlugin)\r\n          vm.stepModel = resultPlugin\r\n        }).catch(reject => {\r\n          vm.stepModel = null\r\n        })\r\n      }\r\n    },\r\n    processPullBtnDetailRouter (dossierItem, item, result, index) {\r\n      console.log('result Nextaction', result)\r\n      let vm = this\r\n      let isPopup = false\r\n      vm.dossierId = dossierItem.dossierId\r\n      vm.showYkienCanBoThucHien = false\r\n      vm.showFormBoSungThongTinNgan = false\r\n      vm.showPhanCongNguoiThucHien = false\r\n      vm.showTaoTaiLieuKetQua = false\r\n      vm.showKyPheDuyetTaiLieu = false\r\n      vm.showTraKetQua = false\r\n      vm.showXacNhanThuPhi = false\r\n      vm.showThucHienThanhToanDienTu = false\r\n      vm.dossierItemDialogPick = dossierItem\r\n      vm.itemDialogPick = item\r\n      vm.resultDialogPick = result\r\n      vm.indexDialogPick = index\r\n      vm.userNote = 0\r\n      if (result !== null && result !== undefined && result !== 'undefined' &&\r\n        (result.hasOwnProperty('userNote') || result.hasOwnProperty('extraForm') || result.hasOwnProperty('allowAssignUser') ||\r\n        result.hasOwnProperty('createFiles') || result.hasOwnProperty('eSignature') || result.hasOwnProperty('returnFiles') ||\r\n        result.hasOwnProperty('payment'))) {\r\n        if (result.hasOwnProperty('userNote') && (result.userNote === 1 || result.userNote === '1' || result.userNote === 2 || result.userNote === '2')) {\r\n          isPopup = true\r\n          vm.showYkienCanBoThucHien = true\r\n          vm.userNote = result.userNote\r\n        }\r\n        if (result.hasOwnProperty('extraForm') && result.extraForm) {\r\n          isPopup = true\r\n          vm.showFormBoSungThongTinNgan = true\r\n        }\r\n        if (result.hasOwnProperty('allowAssignUser') && result.allowAssignUser !== 0) {\r\n          vm.assign_items = result.toUsers\r\n          vm.type_assign = result.allowAssignUser\r\n          isPopup = true\r\n          vm.showPhanCongNguoiThucHien = true\r\n        }\r\n        if (result.hasOwnProperty('returnFiles') && result.createFiles !== null && result.createFiles !== undefined && result.createFiles !== 'undefined' && result.createFiles.length > 0) {\r\n          isPopup = true\r\n          vm.showTaoTaiLieuKetQua = true\r\n        }\r\n        if (result.hasOwnProperty('eSignature') && result.eSignature) {\r\n          isPopup = true\r\n          vm.showKyPheDuyetTaiLieu = true\r\n        }\r\n        if (result.hasOwnProperty('returnFiles') && result.returnFiles !== null && result.returnFiles !== undefined && result.returnFiles !== 'undefined' && result.returnFiles.length > 0) {\r\n          isPopup = true\r\n          vm.showTraKetQua = true\r\n          vm.returnFiles = result.returnFiles\r\n        }\r\n        if (result.hasOwnProperty('payment') && result.payment !== null && result.payment !== undefined && result.payment !== 'undefined' && result.payment.requestPayment === 5) {\r\n          isPopup = true\r\n          vm.showXacNhanThuPhi = true\r\n          vm.payments = result.payment\r\n          vm.payment_type = result.payment.requestPayment\r\n        }\r\n      }\r\n      if (isPopup) {\r\n        vm.dialogActionProcess = true\r\n        vm.loadingActionProcess = false\r\n      } else {\r\n        vm.processAction(vm.thongTinChiTietHoSo, item, result, index, true)\r\n      }\r\n    },\r\n    processPullBtnDetail (item, index) {\r\n      let vm = this\r\n      vm.itemAction = item\r\n      let filter = {\r\n        dossierId: vm.thongTinChiTietHoSo.dossierId,\r\n        actionId: item.processActionId\r\n      }\r\n      vm.dossierId = vm.thongTinChiTietHoSo.dossierId\r\n      vm.loadingActionProcess = true\r\n      vm.$store.dispatch('processPullBtnDetail', filter).then(function (result) {\r\n        vm.processPullBtnDetailRouter(vm.thongTinChiTietHoSo, item, result, index)\r\n      })\r\n    },\r\n    btnActionEvent (item, index, isGroup) {\r\n      let vm = this\r\n      vm.itemAction = item\r\n      vm.indexAction = index\r\n      if (String(item.form) === 'NEW') {\r\n        let isOpenDialog = true\r\n        if (vm.dichVuSelected !== null && vm.dichVuSelected !== undefined && vm.dichVuSelected !== 'undefined' && vm.listDichVu !== null && vm.listDichVu !== undefined && vm.listDichVu.length === 1) {\r\n          isOpenDialog = false\r\n        }\r\n        if (isOpenDialog) {\r\n          vm.dialogAction = true\r\n        } else {\r\n          vm.doCreateDossier()\r\n        }\r\n      } else if (String(item.form) === 'UPDATE') {\r\n        router.push({\r\n          path: '/danh-sach-ho-so/' + vm.index + '/ho-so/' + vm.thongTinChiTietHoSo.dossierId + '/' + vm.itemAction.form,\r\n          query: vm.$router.history.current.query\r\n        })\r\n      } else if (String(item.form) === 'ADD') {\r\n        router.push({\r\n          path: '/danh-sach-ho-so/' + vm.index + '/bo-sung-ho-so/' + vm.thongTinChiTietHoSo.dossierId,\r\n          query: vm.$router.history.current.query\r\n        })\r\n      } else if (String(item.form) === 'COPY') {\r\n        vm.doCopy(vm.thongTinChiTietHoSo, item, index, isGroup)\r\n      } else if (String(item.form) === 'CANCEL') {\r\n        vm.doCancel(vm.thongTinChiTietHoSo, item, index, isGroup)\r\n      } else if (String(item.form) === 'PRINT_01') {\r\n        // Xem trc phiu ca mt h s\r\n        vm.doPrint01(vm.thongTinChiTietHoSo, item, index, isGroup)\r\n      } else if (String(item.form) === 'PRINT_02') {\r\n        // Xem trc phiu gp ca nhiu h s\r\n        vm.doPrint02(vm.thongTinChiTietHoSo, item, index, isGroup)\r\n      } else if (String(item.form) === 'PRINT_03') {\r\n        // In vn bn mi nht  ph duyt\r\n        vm.doPrint03(vm.thongTinChiTietHoSo, item, index, isGroup)\r\n      } else if (String(item.form) === 'GUIDE') {\r\n        vm.doGuiding(vm.thongTinChiTietHoSo, item, index, isGroup)\r\n      } else if (String(item.form) === 'PREVIEW') {\r\n        vm.doPreview(vm.thongTinChiTietHoSo, item, index, isGroup)\r\n      } else if (String(item.form) === 'ACTIONS') {\r\n        vm.doActions(vm.thongTinChiTietHoSo, item, index, isGroup)\r\n      } else if (String(item.form) === 'DELETE') {\r\n        vm.doDeleteDossier(vm.thongTinChiTietHoSo, item, index, isGroup)\r\n      } else if (String(item.form) === 'ROLLBACK_01') {\r\n        let result = {\r\n          actionCode: 9000\r\n        }\r\n        vm.processAction(vm.thongTinChiTietHoSo, item, result, index, true)\r\n      } else if (String(item.form) === 'ROLLBACK_02') {\r\n        let result = {\r\n          actionCode: 9000\r\n        }\r\n        vm.processAction(vm.thongTinChiTietHoSo, item, result, index, true)\r\n      } else if (String(item.form) === 'OVERDUE') {\r\n        let result = {\r\n          actionCode: 8500\r\n        }\r\n        vm.processAction(vm.thongTinChiTietHoSo, item, result, index, true)\r\n      } else if (String(item.form) === 'BETIMES') {\r\n        let result = {\r\n          actionCode: 8400\r\n        }\r\n        vm.processAction(vm.thongTinChiTietHoSo, item, result, index, true)\r\n      }\r\n    },\r\n    doCopy (dossierItem, item, index, isGroup) {\r\n      let vm = this\r\n      let filter = {\r\n        dossierId: dossierItem.dossierId\r\n      }\r\n      vm.loadingAction = true\r\n      vm.$store.dispatch('doCopy', filter).then(function (result) {\r\n        vm.loadingAction = false\r\n        vm.indexAction = -1\r\n        router.push({\r\n          path: '/danh-sach-ho-so/' + vm.index + '/ho-so/' + result.dossierId + '/' + vm.itemAction.form,\r\n          query: vm.$router.history.current.query\r\n        })\r\n      })\r\n    },\r\n    doCancel (dossierItem, item, index, isGroup) {\r\n      let vm = this\r\n      vm.loadingAction = true\r\n      if (isGroup) {\r\n        console.log(vm.selected)\r\n      } else {\r\n        let filter = {\r\n          dossierId: dossierItem.dossierId\r\n        }\r\n        vm.$store.dispatch('doCancel', filter).then(function (result) {\r\n          vm.loadingAction = false\r\n          vm.indexAction = -1\r\n          router.push({\r\n            path: '/danh-sach-ho-so/' + vm.index + '/ho-so/' + result.dossierId + '/' + vm.itemAction.form,\r\n            query: vm.$router.history.current.query\r\n          })\r\n        })\r\n      }\r\n    },\r\n    rollBack () {\r\n      var vm = this\r\n      let params = {\r\n        dossierId: vm.thongTinChiTietHoSo.dossierId\r\n      }\r\n      vm.$store.dispatch('rollBack', params).then(resRollBack => {\r\n        vm.getNextActions()\r\n        vm.btnStateVisible = true\r\n      })\r\n    },\r\n    processAction (dossierItem, item, result, index, isConfirm) {\r\n      let vm = this\r\n      let filter = {\r\n        dossierId: dossierItem.dossierId,\r\n        actionCode: result.actionCode\r\n      }\r\n      vm.dossierId = dossierItem.dossierId\r\n      let currentQuery = vm.$router.history.current.query\r\n      vm.loadingActionProcess = true\r\n      if (isConfirm) {\r\n        let x = confirm('Bn c mun thc hin hnh ng ny?')\r\n        if (x) {\r\n          if (vm.showPhanCongNguoiThucHien) {\r\n            filter['toUsers'] = vm.assign_items\r\n          }\r\n          vm.$store.dispatch('processDossierRouter', filter).then(function (result) {\r\n            vm.dialogActionProcess = false\r\n            vm.loadingActionProcess = false\r\n            vm.btnStateVisible = false\r\n            if (result.rollbackable) {\r\n              vm.rollbackable = true\r\n            }\r\n            router.push({\r\n              path: vm.$router.history.current.path,\r\n              query: {\r\n                recount: Math.floor(Math.random() * (100 - 1 + 1)) + 1,\r\n                renew: Math.floor(Math.random() * (100 - 1 + 1)) + 1,\r\n                q: currentQuery['q']\r\n              }\r\n            })\r\n          })\r\n        } else {\r\n          return false\r\n        }\r\n      } else {\r\n        vm.$store.dispatch('processDossierRouter', filter).then(function (result) {\r\n          vm.dialogActionProcess = false\r\n          vm.loadingActionProcess = false\r\n          vm.btnStateVisible = false\r\n          if (result.rollbackable) {\r\n            vm.rollbackable = true\r\n          }\r\n          if (String(item.form) === 'ACTIONS') {\r\n          } else {\r\n            router.push({\r\n              path: vm.$router.history.current.path,\r\n              query: {\r\n                recount: Math.floor(Math.random() * (100 - 1 + 1)) + 1,\r\n                renew: Math.floor(Math.random() * (100 - 1 + 1)) + 1,\r\n                q: currentQuery['q']\r\n              }\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    doPrint02 (dossierItem, item, index, isGroup) {\r\n      let vm = this\r\n      if (vm.thuTucHanhChinhSelected === null || vm.thuTucHanhChinhSelected === undefined || vm.thuTucHanhChinhSelected === 'undefined') {\r\n        alert('Loi th tc bt buc phi chn')\r\n      } else {\r\n        let filter = {\r\n          document: item.document,\r\n          'serviceCode': vm.thuTucHanhChinhSelected.serviceCode,\r\n          'govAgencyCode': vm.thuTucHanhChinhSelected.govAgencyCode,\r\n          dossiers: JSON.stringify(vm.selected)\r\n        }\r\n        vm.dialogPDFLoading = true\r\n        vm.dialogPDF = true\r\n        vm.$store.dispatch('doPrint02', filter).then(function (result) {\r\n          vm.dialogPDFLoading = false\r\n          document.getElementById('dialogPDFPreview').src = result\r\n        })\r\n      }\r\n    },\r\n    doPrint03 (dossierItem, item, index, isGroup) {\r\n      let vm = this\r\n      vm.dialogPDFLoading = true\r\n      vm.dialogPDF = true\r\n      let filter = {\r\n        dossierId: dossierItem.dossierId,\r\n        document: item.document\r\n      }\r\n      vm.$store.dispatch('doPrint03', filter).then(function (result) {\r\n        vm.dialogPDFLoading = false\r\n        document.getElementById('dialogPDFPreview').src = result\r\n      })\r\n    },\r\n    doGuiding (dossierItem, item, index, isGroup) {\r\n      let vm = this\r\n      if (vm.thuTucHanhChinhSelected === null || vm.thuTucHanhChinhSelected === undefined || vm.thuTucHanhChinhSelected === 'undefined') {\r\n        alert('Loi th tc bt buc phi chn')\r\n      } else {\r\n        let filter = {\r\n          serviceConfigId: vm.thuTucHanhChinhSelected.serviceConfigId\r\n        }\r\n        vm.dialogPDFLoading = true\r\n        vm.dialogPDF = true\r\n        vm.$store.dispatch('doGuiding', filter).then(function (result) {\r\n          vm.dialogPDFLoading = false\r\n          document.getElementById('dialogPDFPreview').src = result\r\n        })\r\n      }\r\n    },\r\n    getNextActions () {\r\n      // var vm = this\r\n      // let params = {\r\n      //   dossierId: vm.thongTinChiTietHoSo.dossierId\r\n      // }\r\n      // vm.$store.dispatch('loadProcessStep', params).then(resultNextActions => {\r\n      //   console.log('resultNextActions++++++++++++', resultNextActions)\r\n      //   vm.nextActions = resultNextActions\r\n      // })\r\n      let vm = this\r\n      let query = vm.$router.history.current.query\r\n      let filter = {\r\n        dossierId: vm.thongTinChiTietHoSo.dossierId\r\n      }\r\n      vm.dossierId = vm.thongTinChiTietHoSo.dossierId\r\n      vm.$store.dispatch('pullNextactions', filter).then(function (result) {\r\n        vm.btnDossierDynamics = result\r\n      })\r\n      vm.$store.dispatch('pullProcessSteps', {\r\n        stepCode: vm.thongTinChiTietHoSo.stepCode\r\n      }).then(resProSteps => {\r\n        vm.btnStepsDynamics = resProSteps\r\n      })\r\n    },\r\n    showAlpacaJSFORM (item) {\r\n      var vm = this\r\n      if (item.eform) {\r\n        vm.$store.dispatch('loadFormScript', item).then(resScript => {\r\n          vm.$store.dispatch('loadFormData', item).then(resData => {\r\n            var formScript, formData\r\n            /* eslint-disable */\r\n            if (resScript) {\r\n              formScript = eval('(' + resScript + ')')\r\n            } else {\r\n              formScript = {}\r\n            }\r\n            if (resData) {\r\n              formData = eval('(' + resData + ')')\r\n            } else {\r\n              formData = {}\r\n            }\r\n            /* eslint-disable */\r\n            formScript.data = formData\r\n            $('#formAlpaca' + item.partNo).alpaca(formScript)\r\n          })\r\n        })\r\n      }\r\n    },\r\n    onUploadSingleFile (e, data, i) {\r\n      var vm = this\r\n      e.dataItem = data\r\n      e['dossierId'] = vm.thongTinChiTietHoSo.dossierId\r\n      e['dossierTemplateNo'] = vm.thongTinChiTietHoSo.dossierTemplateNo\r\n      vm.$store.dispatch('uploadSingleFile', e).then(function (result) {\r\n      }).catch(function (xhr) {\r\n      })\r\n    },\r\n    submitAlpacajsForm (item) {\r\n      var vm = this\r\n      let value = {\r\n        dossierId: vm.thongTinChiTietHoSo.dossierId,\r\n        dossierPartNo: item.partNo\r\n      }\r\n      vm.$store.dispatch('putAlpacaForm', value)\r\n    },\r\n    getColorChat (syncType) {\r\n      if (syncType === 1) {\r\n        return 'pink'\r\n      } else {\r\n        return 'cyan lighten-1'\r\n      }\r\n    },\r\n    postNextActions (stepModel) {\r\n      var vm = this\r\n      stepModel['dossierId'] = vm.thongTinChiTietHoSo.dossierId\r\n      if (stepModel.allowAssignUser > 0) {\r\n        vm.$store.dispatch('reassignDossier', stepModel).then(resReassign => {\r\n          console.log(resReassign)\r\n          let params = {\r\n            dossierId: vm.dossierId,\r\n            actionCode: stepModel.actionCode,\r\n            actionNote: vm.actionNote,\r\n            actionUser: '',\r\n            payload: '',\r\n            security: '',\r\n            assignUsers: '',\r\n            payment: '',\r\n            createDossiers: ''\r\n          }\r\n          vm.$store.dispatch('postAction', params).then(resPostAction => {\r\n            console.log(resPostAction)\r\n          })\r\n        })\r\n      } else {\r\n        let params = {\r\n          dossierId: vm.dossierId,\r\n          actionCode: stepModel.actionCode,\r\n          actionNote: vm.actionNote,\r\n          actionUser: '',\r\n          payload: '',\r\n          security: '',\r\n          assignUsers: '',\r\n          payment: '',\r\n          createDossiers: ''\r\n        }\r\n        vm.$store.dispatch('postAction', params).then(resPostAction => {\r\n          console.log(resPostAction)\r\n        })\r\n      }\r\n    }\r\n  },\r\n  filters: {\r\n    dateTimeView (arg) {\r\n      if (arg) {\r\n        let value = new Date(arg)\r\n        return `${value.getDate().toString().padStart(2, '0')}/${(value.getMonth() + 1).toString().padStart(2, '0')}/${value.getFullYear()} | ${value.getHours().toString().padStart(2, '0')}:${value.getMinutes().toString().padStart(2, '0')}`\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n    getMaxDueDate (arr) {\r\n      let maxDue = Math.max.apply(Math, arr.map(function (item) {\r\n        return item.actionOverdue\r\n      }))\r\n      return maxDue\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// XemChiTietHoSoDetailCanBo.vue?2fcda68c","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"form-chitiet\"\n  }, [(_vm.loading) ? _c('content-placeholders', {\n    staticClass: \"mt-3\"\n  }, [_c('content-placeholders-text', {\n    attrs: {\n      \"lines\": 1\n    }\n  })], 1) : _c('div', {\n    staticClass: \"row-header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-big\"\n  }, [_c('span', [_vm._v(\"CHI TIT H S\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"layout row wrap header_tools row-blue\"\n  }, [_c('div', {\n    staticClass: \"flex xs8 sm10 pl-3 text-ellipsis text-bold\",\n    attrs: {\n      \"title\": _vm.thongTinChiTietHoSo.serviceName\n    }\n  }, [_vm._v(\"\\n        \" + _vm._s(_vm.thongTinChiTietHoSo.serviceName) + \"\\n      \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"flex xs4 sm2 text-right\",\n    staticStyle: {\n      \"margin-left\": \"auto\"\n    }\n  }, [_c('v-btn', {\n    staticClass: \"my-0 mx-0 btn-border-left\",\n    attrs: {\n      \"flat\": \"\",\n      \"active-class\": \"temp_active\"\n    },\n    on: {\n      \"click\": _vm.goBack\n    }\n  }, [_vm._v(\"\\n          Quay li \\n          \"), _c('v-icon', {\n    attrs: {\n      \"size\": \"16\"\n    }\n  }, [_vm._v(\"undo\")])], 1)], 1)])]), _vm._v(\" \"), _c('thong-tin-co-ban-ho-so', {\n    ref: \"thong-tin-co-ban-ho-so\",\n    attrs: {\n      \"detailDossier\": _vm.thongTinChiTietHoSo\n    }\n  }), _vm._v(\" \"), _c('div', [_c('v-tabs', {\n    staticClass: \"mb-4\",\n    attrs: {\n      \"icons-and-text\": \"\",\n      \"centered\": \"\"\n    }\n  }, [_c('v-tabs-slider', {\n    attrs: {\n      \"color\": \"primary\"\n    }\n  }), _vm._v(\" \"), _c('v-tab', {\n    key: 1,\n    attrs: {\n      \"href\": \"#1\"\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"\\n          THNH PHN H S\\n        \")])], 1), _vm._v(\" \"), _c('v-tab', {\n    key: 2,\n    attrs: {\n      \"href\": \"#2\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.getNextActions()\n      }\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"\\n          TH L H S\\n        \")])], 1), _vm._v(\" \"), _c('v-tab', {\n    key: 3,\n    attrs: {\n      \"href\": \"#3\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.loadDossierActions()\n      }\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"\\n          TIN TRNH TH L\\n        \")])], 1), _vm._v(\" \"), _c('v-tab', {\n    key: 4,\n    attrs: {\n      \"href\": \"#4\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.loadDossierLogs()\n      }\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"\\n          NHT K H S\\n        \")])], 1), _vm._v(\" \"), _c('v-tab', {\n    key: 5,\n    attrs: {\n      \"href\": \"#5\"\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"\\n          TRAO I THO LUN\\n        \")])], 1), _vm._v(\" \"), _c('v-tab', {\n    key: 6,\n    attrs: {\n      \"href\": \"#6\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.loadDossierSyncs()\n      }\n    }\n  }, [_c('v-btn', {\n    staticClass: \"px-0 py-0 mx-0 my-0\",\n    attrs: {\n      \"flat\": \"\"\n    }\n  }, [_vm._v(\"\\n          TRAO I NI B\\n        \")])], 1), _vm._v(\" \"), _c('v-tabs-items', [_c('v-tab-item', {\n    attrs: {\n      \"id\": \"1\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [_c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\",\n    staticStyle: {\n      \"border\": \"none\"\n    },\n    attrs: {\n      \"expand\": \"\"\n    }\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"value\": true\n    }\n  }, [_c('div', {\n    staticClass: \"text-bold\",\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_vm._v(\" I.\")]), _vm._v(\"\\n                Ti liu np\\n              \")]), _vm._v(\" \"), _vm._l((_vm.dossierTemplatesTN), function(item, index) {\n    return _c('div', {\n      key: item.partNo\n    }, [_c('v-card', [_c('v-layout', {\n      staticClass: \"px-3 py-1 align-center row-list-style\",\n      staticStyle: {\n        \"border-bottom\": \"1px solid #ddd\"\n      },\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      attrs: {\n        \"xs11\": \"\"\n      }\n    }, [_c('span', {\n      staticClass: \"text-bold\",\n      staticStyle: {\n        \"position\": \"absolute\"\n      }\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"margin-left\": \"30px\"\n      }\n    }, [_vm._v(_vm._s(item.partName))])]), _vm._v(\" \"), _c('v-flex', {\n      staticClass: \"text-right\",\n      attrs: {\n        \"xs1\": \"\"\n      }\n    }, [_c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      staticStyle: {\n        \"height\": \"25px\",\n        \"width\": \"25px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"fab\": \"\",\n        \"dark\": \"\",\n        \"small\": \"\",\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.viewFile(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_vm._v(\"\\n                          \" + _vm._s(item.count) + \"\\n                        \")]), _vm._v(\" \"), _c('span', [_vm._v(\"Xem\")])], 1)], 1)], 1)], 1)], 1)\n  })], 2)], 1), _vm._v(\" \"), _c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\",\n    staticStyle: {\n      \"border\": \"none\"\n    },\n    attrs: {\n      \"expand\": \"\"\n    }\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"value\": true\n    }\n  }, [_c('div', {\n    staticClass: \"text-bold\",\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_vm._v(\" II.\")]), _vm._v(\"\\n                Kt qu\\n              \")]), _vm._v(\" \"), _vm._l((_vm.dossierTemplatesKQ), function(item, index) {\n    return _c('div', {\n      key: item.partNo\n    }, [_c('v-card', [_c('v-layout', {\n      staticClass: \"px-3 py-1 align-center row-list-style\",\n      staticStyle: {\n        \"border-bottom\": \"1px solid #ddd\"\n      },\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      attrs: {\n        \"xs11\": \"\"\n      }\n    }, [_c('span', {\n      staticClass: \"text-bold\",\n      staticStyle: {\n        \"position\": \"absolute\"\n      }\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"margin-left\": \"30px\"\n      }\n    }, [_vm._v(_vm._s(item.partName))])]), _vm._v(\" \"), _c('v-flex', {\n      staticClass: \"text-right\",\n      attrs: {\n        \"xs1\": \"\"\n      }\n    }, [_c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      staticStyle: {\n        \"height\": \"25px\",\n        \"width\": \"25px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"fab\": \"\",\n        \"dark\": \"\",\n        \"small\": \"\",\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.viewFile(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_vm._v(\"\\n                          \" + _vm._s(item.count) + \"\\n                        \")]), _vm._v(\" \"), _c('span', [_vm._v(\"Xem\")])], 1)], 1)], 1)], 1)], 1)\n  })], 2)], 1), _vm._v(\" \"), _c('v-expansion-panel', {\n    staticClass: \"expansion-pl ext__form\",\n    staticStyle: {\n      \"border\": \"none\"\n    },\n    attrs: {\n      \"expand\": \"\"\n    }\n  }, [_c('v-expansion-panel-content', {\n    attrs: {\n      \"value\": true\n    }\n  }, [_c('div', {\n    staticClass: \"text-bold\",\n    attrs: {\n      \"slot\": \"header\"\n    },\n    slot: \"header\"\n  }, [_c('div', {\n    staticClass: \"background-triangle-small\"\n  }, [_vm._v(\" III.\")]), _vm._v(\"\\n                Vn bn hnh chnh\\n              \")]), _vm._v(\" \"), _vm._l((_vm.documents), function(item, index) {\n    return _c('div', {\n      key: item.documentCode\n    }, [_c('v-card', [_c('v-layout', {\n      staticClass: \"px-3 py-1 align-center row-list-style\",\n      staticStyle: {\n        \"border-bottom\": \"1px solid #ddd\"\n      },\n      attrs: {\n        \"wrap\": \"\"\n      }\n    }, [_c('v-flex', {\n      attrs: {\n        \"xs11\": \"\"\n      }\n    }, [_c('span', {\n      staticClass: \"text-bold\",\n      staticStyle: {\n        \"position\": \"absolute\"\n      }\n    }, [_vm._v(_vm._s(index + 1) + \".\")]), _vm._v(\" \"), _c('div', {\n      staticStyle: {\n        \"margin-left\": \"30px\"\n      }\n    }, [_vm._v(_vm._s(item.documentName))])]), _vm._v(\" \"), _c('v-flex', {\n      staticClass: \"text-right\",\n      attrs: {\n        \"xs1\": \"\"\n      }\n    }, [_c('v-tooltip', {\n      attrs: {\n        \"top\": \"\"\n      }\n    }, [_c('v-btn', {\n      staticClass: \"mx-0 my-0\",\n      staticStyle: {\n        \"height\": \"25px\",\n        \"width\": \"25px\"\n      },\n      attrs: {\n        \"slot\": \"activator\",\n        \"fab\": \"\",\n        \"dark\": \"\",\n        \"small\": \"\",\n        \"color\": \"primary\"\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.viewFile(item)\n        }\n      },\n      slot: \"activator\"\n    }, [_c('v-icon', [_vm._v(\"visibility\")])], 1), _vm._v(\" \"), _c('span', [_vm._v(\"Xem\")])], 1)], 1)], 1)], 1)], 1)\n  })], 2)], 1)], 1), _vm._v(\" \"), _c('v-tab-item', {\n    attrs: {\n      \"id\": \"2\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [(_vm.btnStateVisible) ? _c('div', {}, [_vm._l((_vm.btnDossierDynamics), function(item, index) {\n    return _c('v-btn', {\n      key: index,\n      attrs: {\n        \"color\": \"primary\",\n        \"loading\": _vm.loadingAction && index === _vm.indexAction,\n        \"disabled\": _vm.loadingAction && index === _vm.indexAction\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.processPullBtnDetail(item, index)\n        }\n      }\n    }, [_vm._v(\"\\n              \" + _vm._s(item.actionName) + \"\\n              \"), _c('span', {\n      attrs: {\n        \"slot\": \"loader\"\n      },\n      slot: \"loader\"\n    }, [_vm._v(\"Loading...\")])])\n  }), _vm._v(\" \"), _vm._l((_vm.btnStepsDynamics), function(item, index) {\n    return (String(item.form) !== 'NEW') ? _c('v-btn', {\n      key: index,\n      attrs: {\n        \"color\": \"primary\",\n        \"loading\": _vm.loadingAction && index === _vm.indexActionStep,\n        \"disabled\": _vm.loadingAction && index === _vm.indexActionStep\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.btnActionEvent(item, index, true)\n        }\n      }\n    }, [_vm._v(\"\\n              \" + _vm._s(item.title) + _vm._s(item.tiltle) + \"\\n              \"), _c('span', {\n      attrs: {\n        \"slot\": \"loader\"\n      },\n      slot: \"loader\"\n    }, [_vm._v(\"Loading...\")])]) : _vm._e()\n  })], 2) : _vm._e(), _vm._v(\" \"), (_vm.dialogActionProcess) ? _c('v-layout', {\n    attrs: {\n      \"wrap\": \"\"\n    }\n  }, [(_vm.showPhanCongNguoiThucHien) ? _c('phan-cong', {\n    attrs: {\n      \"type\": _vm.type_assign\n    },\n    model: {\n      value: (_vm.assign_items),\n      callback: function($$v) {\n        _vm.assign_items = $$v\n      },\n      expression: \"assign_items\"\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showTraKetQua) ? _c('tra-ket-qua', {\n    attrs: {\n      \"resultFiles\": _vm.returnFiles\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showXacNhanThuPhi) ? _c('xac-nhan-thu-phi', {\n    attrs: {\n      \"payments\": _vm.payments,\n      \"payment_type\": _vm.payment_type\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.showYkienCanBoThucHien) ? _c('y-kien-can-bo', {\n    attrs: {\n      \"user_note\": _vm.userNote\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.dialogActionProcess) ? _c('v-btn', {\n    attrs: {\n      \"color\": \"primary\",\n      \"flat\": \"flat\",\n      \"loading\": _vm.loadingActionProcess,\n      \"disabled\": _vm.loadingActionProcess\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.processAction(_vm.dossierItemDialogPick, _vm.itemDialogPick, _vm.resultDialogPick, _vm.indexDialogPick, false)\n      }\n    }\n  }, [_vm._v(\"\\n            Xc nhn\\n            \"), _c('span', {\n    attrs: {\n      \"slot\": \"loader\"\n    },\n    slot: \"loader\"\n  }, [_vm._v(\"Loading...\")])]) : _vm._e(), _vm._v(\" \"), (_vm.rollbackable) ? _c('v-btn', {\n    attrs: {\n      \"color\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.rollBack()\n      }\n    }\n  }, [_vm._v(\"Quay lui\")]) : _vm._e()], 1) : _vm._e()], 1), _vm._v(\" \"), _c('v-tab-item', {\n    attrs: {\n      \"id\": \"3\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [_c('div', [_c('v-data-table', {\n    staticClass: \"table-landing table-bordered\",\n    attrs: {\n      \"headers\": _vm.headers,\n      \"items\": _vm.dossierActions,\n      \"hide-actions\": \"\",\n      \"no-data-text\": \"Khng c d liu\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"headerCell\",\n      fn: function(props) {\n        return [_c('v-tooltip', {\n          attrs: {\n            \"bottom\": \"\"\n          }\n        }, [_c('span', {\n          attrs: {\n            \"slot\": \"activator\"\n          },\n          slot: \"activator\"\n        }, [_vm._v(\"\\n                  \" + _vm._s(props.header.text) + \"\\n                \")]), _vm._v(\" \"), _c('span', [_vm._v(\"\\n                  \" + _vm._s(props.header.text) + \"\\n                \")])])]\n      }\n    }, {\n      key: \"items\",\n      fn: function(props) {\n        return [_c('td', {\n          staticClass: \"text-xs-center\"\n        }, [_vm._v(_vm._s(props.item.sequenceRole))]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-center\"\n        }, [_vm._v(_vm._s(props.item.sequenceName))]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-center\"\n        }, [_vm._v(_vm._s(props.item.durationCount) + \" ngy\")]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-center\"\n        }, [_vm._v(_vm._s(props.item.startDate))]), _vm._v(\" \"), _c('td', {\n          staticClass: \"text-xs-center\"\n        }, _vm._l((props.item.assignUsers), function(itemUser) {\n          return _c('div', {\n            key: itemUser.userId\n          }, [_vm._v(\"\\n                  \" + _vm._s(itemUser.userName) + \" \"), _c('br')])\n        })), _vm._v(\" \"), _c('td', _vm._l((props.item.actions), function(itemAction, index) {\n          return _c('div', {\n            key: index\n          }, [_vm._v(\"\\n                  \" + _vm._s(itemAction.actionName) + \" : (\" + _vm._s(itemAction.createDate) + \")\\n                  \"), (index === props.item.actions.length - 1) ? _c('div', [(itemAction.actionOverdue > 0) ? _c('span', {\n            staticStyle: {\n              \"color\": \"red\"\n            }\n          }, [_vm._v(\"Qu hn \" + _vm._s(itemAction.actionOverdue) + \" ngy\")]) : (itemAction.state === 0) ? _c('span', {\n            staticStyle: {\n              \"color\": \"blue\"\n            }\n          }, [_vm._v(\"ang ch thc hin\")]) : (itemAction.state === 1) ? _c('span', {\n            staticStyle: {\n              \"color\": \"blue\"\n            }\n          }, [_vm._v(\" thc hin\")]) : _c('span', {\n            staticStyle: {\n              \"color\": \"blue\"\n            }\n          }, [_vm._v(\"Quay li bc trc\")])]) : _vm._e()])\n        }))]\n      }\n    }])\n  })], 1)]), _vm._v(\" \"), _c('v-tab-item', {\n    attrs: {\n      \"id\": \"4\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, _vm._l((_vm.listHistoryProcessing), function(item, index) {\n    return _c('div', {\n      key: item.dossierLogId,\n      staticClass: \"list_history_style\"\n    }, [_c('td', {\n      staticClass: \"px-2 pt-2\",\n      class: index % 2 !== 0 ? 'col-tien-trinh-1' : 'col-tien-trinh-2'\n    }, [_vm._v(_vm._s(index + 1))]), _vm._v(\" \"), _c('td', {\n      staticClass: \"text-xs-left px-2 py-2\"\n    }, [_c('p', {\n      staticClass: \"mb-2\"\n    }, [_vm._v(\" ng/b \"), _c('b', [_vm._v(_vm._s(item.author))]), _vm._v(\" \"), _c('span', {\n      staticStyle: {\n        \"color\": \"#0b72ba\"\n      }\n    }, [_vm._v(\"( \" + _vm._s(item.payload.stepName) + \" )\")]), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('span', {\n      staticStyle: {\n        \"color\": \"#939393\"\n      }\n    }, [_vm._v(_vm._s(_vm._f(\"dateTimeView\")(item.createDate)))])]), _vm._v(\"\\n                 kin: \"), _c('span', {\n      domProps: {\n        \"innerHTML\": _vm._s(item.content)\n      }\n    }), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _vm._l((item.payload.files), function(file) {\n      return _c('p', {\n        key: file.dossierFileId,\n        staticClass: \"history__download__link hover-pointer-download\",\n        attrs: {\n          \"title\": \"Ti file\"\n        },\n        on: {\n          \"click\": function($event) {\n            $event.preventDefault();\n            $event.stopPropagation();\n            _vm.downloadFileLogs(file.dossierFileId)\n          }\n        }\n      }, [_c('v-icon', [_vm._v(\"file_download\")]), _vm._v(\" \"), _c('span', [_vm._v(_vm._s(file.fileName))])], 1)\n    })], 2)])\n  })), _vm._v(\" \"), _c('v-tab-item', {\n    attrs: {\n      \"id\": \"5\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [_c('comment', {\n    attrs: {\n      \"classPK\": _vm.dossierId,\n      \"className\": _vm.className\n    }\n  })], 1), _vm._v(\" \"), _c('v-tab-item', {\n    attrs: {\n      \"id\": \"6\",\n      \"reverse-transition\": \"fade-transition\",\n      \"transition\": \"fade-transition\"\n    }\n  }, [_c('v-layout', {\n    attrs: {\n      \"row\": \"\",\n      \"wrap\": \"\"\n    }\n  }, [_c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm3\": \"\"\n    }\n  }), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm6\": \"\"\n    }\n  }, [_c('v-card', [_c('div', {\n    staticStyle: {\n      \"height\": \"400px\",\n      \"overflow\": \"auto\",\n      \"margin-bottom\": \"10px\"\n    }\n  }, _vm._l((_vm.dossierSyncs), function(item, index) {\n    return _c('div', {\n      key: index\n    }, [_c('div', {\n      class: {\n        'text-xs-left': item.syncType === 1, 'text-xs-right': item.syncType === 2\n      }\n    }, [_c('v-chip', {\n      attrs: {\n        \"label\": \"\",\n        \"color\": _vm.getColorChat(item.syncType),\n        \"text-color\": \"white\"\n      }\n    }, [_vm._v(\"\\n                        \" + _vm._s(item.actionUser) + \": \" + _vm._s(item.actionNote) + \"\\n                      \")])], 1)])\n  })), _vm._v(\" \"), _c('v-text-field', {\n    attrs: {\n      \"solo\": \"\",\n      \"label\": \"Nhp trao i\",\n      \"append-icon\": \"send\"\n    },\n    on: {\n      \"change\": _vm.postChat\n    },\n    model: {\n      value: (_vm.messageChat),\n      callback: function($$v) {\n        _vm.messageChat = $$v\n      },\n      expression: \"messageChat\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('v-flex', {\n    attrs: {\n      \"xs12\": \"\",\n      \"sm3\": \"\"\n    }\n  })], 1)], 1)], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-2b6b1f3f\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/XemChiTietHoSoDetailCanBo.vue\n// module id = 576\n// module chunks = 0 1"],"sourceRoot":""}