(function(e){function t(t){for(var s,r,i=t[0],c=t[1],l=t[2],u=0,p=[];u<i.length;u++)r=i[u],n[r]&&p.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(s=!1)}s&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},n={app:0},o=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"146f":function(module,__webpack_exports__,__webpack_require__){"use strict";var _DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fa98"),_AttachedFileTemplate_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2be2"),_AttachedFileAvatar_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("505b"),_AttachedFileForm_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1648"),_AttachedFileJasper_vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("f0b1"),axios__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_5__);__webpack_exports__["a"]={props:["tableConfig","detailData","id","tableName"],components:{DatetimePicker:_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__["a"],AttachedFileTemplate:_AttachedFileTemplate_vue__WEBPACK_IMPORTED_MODULE_1__["a"],AttachedFileAvatar:_AttachedFileAvatar_vue__WEBPACK_IMPORTED_MODULE_2__["a"],AttachedFileForm:_AttachedFileForm_vue__WEBPACK_IMPORTED_MODULE_3__["a"],AttachedFileJasper:_AttachedFileJasper_vue__WEBPACK_IMPORTED_MODULE_4__["a"],trumbowyg:window.VueTrumbowyg.default},data:function(){return{config:{},deactiveAccountFlag:0,deactiveAccountFlagBoolean:!1,snackbarsuccess:!1,pickItem:{},layoutNameDynamic:"",mappingUserIdCurrent:"",screenLogin:"",emailLogin:"",password:"",rightAttached:!1,rightAccount:!1,pullOk:!0,pullCounter:0,valid:!0,valid2:!0,loading:!1,data:{},dataSocket:{},detailForm:[],cmOptions:{tabSize:4,mode:"text/javascript",theme:"base16-light",lineNumbers:!0,line:!0},e1:!0,rules:{required:function(e){return!!e||"Báº¯t buá»™c pháº£i nháº­p."},number:function(e){var t=/^\d+$/;return t.test(e)||"Báº¯t buá»™c pháº£i nháº­p kiá»ƒu sá»‘."},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Sai Ä‘á»‹nh dáº¡ng thÆ° Ä‘iá»‡n tá»­."},passWord:function(e){var t=/^((?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@$!%*#?&])([0-9a-zA-Z@$!%*#?&]{8,}))$/;return t.test(e)||"Ãt nháº¥t 8 kÃ½ tá»± vÃ  cÃ³ chá»¯ hoa, chá»¯ thÆ°á»ng, kÃ½ tá»± Ä‘áº·c biá»‡t @$!%*#?&"}}}},computed:{isConnected:{get:function(){return this.$store.getters.getisConnected},set:function(e){this.$store.commit("setisConnected",e)}}},created:function created(){var vm=this;vm.$nextTick(function(){if(null!==vm.tableConfig&&void 0!==vm.tableConfig){if(""!==vm.tableConfig["detailColumns"])vm.detailForm=eval("( "+vm.tableConfig["detailColumns"]+" )");else{var videoElement=document.getElementById("editor-video-preloader");null!==videoElement&&void 0!==videoElement&&videoElement.play()}null!==vm.detailData&&void 0!==vm.detailData?(vm.data=vm.detailData[0],vm.processDataSourceVerify()):vm.data={},vm.processDataSource()}else{var dataPost=new URLSearchParams,textPost={type:"admin",cmd:"get",config:"true",code:vm.$router.history.current.params.tableName,respone:"tableConfig"};dataPost.append("text",JSON.stringify(textPost)),axios__WEBPACK_IMPORTED_MODULE_5___default.a.post("/o/rest/v2/socket/web",dataPost,{}).then(function(response){var dataObj=response.data;vm.dataSocket[dataObj.respone]=dataObj[dataObj.respone],"tableConfig"===dataObj.respone&&null!==vm.dataSocket["tableConfig"]&&void 0!==vm.dataSocket["tableConfig"]&&(vm.detailForm=eval("( "+vm.dataSocket["tableConfig"]["detailColumns"]+" )"),console.log("load tableConfig"),vm.processDataSource()),textPost={type:"admin",cmd:"get",code:vm.$router.history.current.params.tableName,respone:"detail",responeType:"detail",filter:[{key:"id",value_filter:vm.id,compare:"=",type:"number"}]},dataPost=new URLSearchParams,dataPost.append("text",JSON.stringify(textPost)),axios__WEBPACK_IMPORTED_MODULE_5___default.a.post("/o/rest/v2/socket/web",dataPost,{}).then(function(e){var t=e.data;vm.dataSocket[t.respone]=t[t.respone],"detail"===t.respone?null!==vm.dataSocket["detail"]&&void 0!==vm.dataSocket["detail"]?(0===vm.dataSocket["detail"].length?vm.data={}:vm.data=vm.dataSocket[t.respone][0],vm.processDataSourceVerify()):vm.data={}:"loginUser"===t.respone&&vm.$store.commit("setloginUser",t["loginUser"])}).catch(function(e){})}).catch(function(e){})}})},methods:{clearLoading:function(){this.loading=!1},backToList:function(){var e=this,t=e.$router.history.current,a=t.query,s=t.path,n="?";for(var o in a["state_change"]="0",a["renew"]="",a)""!==a[o]&&"undefined"!==a[o]&&void 0!==a[o]&&(n+=o+"="+a[o]+"&");n+="renew="+Math.floor(100*Math.random())+1,e.$router.push({path:s.substring(0,s.indexOf("/editor/"))+n})},saveToData:function saveToData(cmdText){var vm=this;if(vm.isConnected&&(vm.isConnected=!1),vm.$refs.form.validate()){vm.loading=!0;var current=vm.$router.history.current,newQuery=current.query,dataPOST=Object.assign({},vm.data);delete dataPOST["expandoBridge"],delete dataPOST["modelAttributes"],delete dataPOST["stagedModelType"],newQuery.hasOwnProperty("col")&&newQuery.hasOwnProperty("pk")&&(dataPOST[newQuery["col"]]=newQuery["pk"]);var dataPost=new URLSearchParams,textPost={type:"admin",cmd:cmdText,respone:"detail",id:vm.id,code:vm.$router.history.current.params.tableName,data:dataPOST};dataPost.append("text",JSON.stringify(textPost)),axios__WEBPACK_IMPORTED_MODULE_5___default.a.post("/o/rest/v2/socket/web",dataPost,{}).then(function(response){var dataObj=response.data;if(vm.dataSocket[dataObj.respone]=dataObj[dataObj.respone],vm.dataSocket[dataObj.respone]=dataObj[dataObj.respone],"detail"===dataObj.respone?null!==vm.dataSocket["detail"]&&void 0!==vm.dataSocket["detail"]?(0===vm.dataSocket["detail"].length?vm.data={}:vm.data=vm.dataSocket[dataObj.respone][0],vm.processDataSourceVerify()):vm.data={}:"loginUser"===dataObj.respone&&vm.$store.commit("setloginUser",dataObj["loginUser"]),"tableConfig"===dataObj.respone&&null!==vm.dataSocket["tableConfig"]&&void 0!==vm.dataSocket["tableConfig"]&&(vm.detailForm=eval("( "+vm.dataSocket["tableConfig"]["detailColumns"]+" )"),console.log("load tableConfig"),vm.processDataSource()),vm.loading=!1,"200"===dataObj["status"]&&"get"!==dataObj["cmd"]&&"cmd_ide"!==dataObj["cmd"]){var _current=vm.$router.history.current,_newQuery=_current.query,currentPath=_current.path,queryString="?";for(var key in _newQuery["state_change"]="0",_newQuery["renew"]="",_newQuery)""!==_newQuery[key]&&"undefined"!==_newQuery[key]&&void 0!==_newQuery[key]&&(queryString+=key+"="+_newQuery[key]+"&");queryString+="renew="+Math.floor(100*Math.random())+1,vm.$router.push({path:currentPath.substring(0,currentPath.indexOf("/editor/"))+queryString})}else"200"===dataObj["status"]&&"cmd_ide"===dataObj["cmd"]&&(vm.snackbarsuccess=!0,vm.data={});"api"===dataObj["type"]&&"200"===dataObj["status"]&&(vm.pullCounter=vm.pullCounter-1,0===vm.pullCounter&&(vm.pullOk=!0))}).catch(function(e){})}},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")},processChangeDataSource:function(e,t){var a=this;if(t.hasOwnProperty("concatina")&&(a.pullOk=!1,a.pullCounter=a.pullCounter+1,"loginUser"!==t.concatina["datasource_key"])){var s=new URLSearchParams,n={type:"api",cmd:"get",respone:t.concatina["datasource_key"],api:t.concatina["datasource_api"]+"?"+t.concatina["query"]+"="+e,headers:{Token:a.getAuthToken(),groupId:a.getScopeGroupId(),USER_ID:a.getUserId()}};s.append("text",JSON.stringify(n)),axios__WEBPACK_IMPORTED_MODULE_5___default.a.post("/o/rest/v2/socket/web",s,{}).then(function(e){var t=e.data;if(a.dataSocket[t.respone]=t[t.respone],"200"===t["status"]&&"get"!==t["cmd"]&&"cmd_ide"!==t["cmd"]){var s=a.$router.history.current,n=s.query,o=s.path,r="?";for(var i in n["state_change"]="0",n["renew"]="",n)""!==n[i]&&"undefined"!==n[i]&&void 0!==n[i]&&(r+=i+"="+n[i]+"&");r+="renew="+Math.floor(100*Math.random())+1,a.$router.push({path:o.substring(0,o.indexOf("/editor/"))+r})}else"200"===t["status"]&&"cmd_ide"===t["cmd"]&&(a.snackbarsuccess=!0,a.data={});"api"===t["type"]&&"200"===t["status"]&&(a.pullCounter=a.pullCounter-1,0===a.pullCounter&&(a.pullOk=!0))}).catch(function(e){})}},processDataSourceVerify:function(){var e=this;for(var t in e.detailForm)e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")&&e.data.hasOwnProperty(e.detailForm[t]["model"])&&String(e.data[e.detailForm[t]["model"]]).startsWith("[")&&(e.data[e.detailForm[t]["model"]]=JSON.parse(e.data[e.detailForm[t]["model"]]))},processDataSource:function(){var e=this;for(var t in e.detailForm)if(e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")){e.pullOk=!1,e.pullCounter=e.pullCounter+1;var a=e.detailForm[t]["datasource_api"];if(e.detailForm[t]["dependency"]&&e.detailForm[t].hasOwnProperty("pk")&&(a=a+"?pk="+e.id+"&col="+e.detailForm[t]["pk"]),"loginUser"!==e.detailForm[t]["datasource_key"]){var s=new URLSearchParams,n={type:"api",cmd:"get",respone:e.detailForm[t]["datasource_key"],api:a,headers:{Token:e.getAuthToken(),groupId:e.getScopeGroupId(),USER_ID:e.getUserId()}};s.append("text",JSON.stringify(n)),axios__WEBPACK_IMPORTED_MODULE_5___default.a.post("/o/rest/v2/socket/web",s,{}).then(function(t){var a=t.data;if(e.dataSocket[a.respone]=a[a.respone],"200"===a["status"]&&"get"!==a["cmd"]&&"cmd_ide"!==a["cmd"]){var s=e.$router.history.current,n=s.query,o=s.path,r="?";for(var i in n["state_change"]="0",n["renew"]="",n)""!==n[i]&&"undefined"!==n[i]&&void 0!==n[i]&&(r+=i+"="+n[i]+"&");r+="renew="+Math.floor(100*Math.random())+1,e.$router.push({path:o.substring(0,o.indexOf("/editor/"))+r})}else"200"===a["status"]&&"cmd_ide"===a["cmd"]&&(e.snackbarsuccess=!0,e.data={});"api"===a["type"]&&"200"===a["status"]&&(e.pullCounter=e.pullCounter-1,0===e.pullCounter&&(e.pullOk=!0))}).catch(function(e){})}}},doDeactiveAccount:function(){var e=this,t={id:e.detailData[0]["mappingUserId"],data:{locked:e.password}};e.$store.dispatch("deactiveAccount",t).then(function(t){e.snackbarsuccess=!0,console.log(t)})},doChangePassWord:function(){var e=this;if(e.$refs.form_2.validate()){var t=confirm("Báº¡n cÃ³ muá»‘n Ä‘á»•i máº­t kháº©u?");if(t){var a={id:e.detailData[0]["mappingUserId"]?e.detailData[0]["mappingUserId"]:e.mappingUserIdCurrent,data:{password:e.password}};e.$store.dispatch("changePassUserAccount",a).then(function(t){e.snackbarsuccess=!0,console.log(t)})}}},doChangeStatusAccount:function(e){var t=this,a="Báº¡n cÃ³ muá»‘n khoÃ¡ tÃ i khoáº£n nÃ y?";e&&(a="Báº¡n cÃ³ muá»‘n má»Ÿ khoÃ¡ tÃ i khoáº£n nÃ y?");var s=confirm(a);if(s){var n={id:t.detailData[0]["mappingUserId"]?t.detailData[0]["mappingUserId"]:t.mappingUserIdCurrent,data:{locked:!e}};t.$store.dispatch("doChangeStatusAccount",n).then(function(e){t.snackbarsuccess=!0,console.log(e)})}else setTimeout(function(){t.deactiveAccountFlagBoolean=!e},10)},showAccount:function(e){var t=this;if(0===t.detailData[0]["mappingUserId"]||"org.opencps.usermgt.model.Applicant"===t.detailData[0]["modelClassName"]&&0!==t.detailData[0]["mappingUserId"]&&t.detailData[0]["activationCode"]){var a="org.opencps.usermgt.model.Applicant"===t.detailData[0]["modelClassName"]?t.detailData[0]["contactEmail"]:t.detailData[0]["email"],s="org.opencps.usermgt.model.Applicant"===t.detailData[0]["modelClassName"]?"applicant":"employee",n={type:"org.opencps.usermgt.model.Applicant"===t.detailData[0]["modelClassName"]?"applicant":"employee",id:t.id};t.$store.dispatch("getUserDetail",n).then(function(o){if(!o["mappingUser"]||"org.opencps.usermgt.model.Applicant"===t.detailData[0]["modelClassName"]&&o["mappingUser"]&&t.detailData[0]["activationCode"])if(""===e["email"])alert("Cáº¥p Ä‘á»‹a chá»‰ email trÆ°á»›c khi táº¡o tÃ i khoáº£n.");else{var r="applicant"===s?"Báº¡n cÃ³ muá»‘n cáº¥p tÃ i khoáº£n sá»­ dá»¥ng cho cÃ´ng dÃ¢n, doanh nghiá»‡p nÃ y?":"Báº¡n cÃ³ muá»‘n cáº¥p tÃ i khoáº£n sá»­ dá»¥ng cho nhÃ¢n sá»± nÃ y?",i=confirm(r);if(i){var c={type:s,id:t.id,data:{email:a,screenName:"",exist:!1}};t.$store.dispatch("createUserAccount",c).then(function(s){t.$store.dispatch("getUserDetail",n).then(function(e){t.mappingUserIdCurrent=e["mappingUser"]["userId"],t.screenLogin=e["mappingUser"]["screenName"],t.emailLogin=a}),t.deactiveAccountFlag=s["deactiveAccountFlag"],0===t.deactiveAccountFlag?t.deactiveAccountFlagBoolean=!0:t.deactiveAccountFlagBoolean=!1,t.layoutNameDynamic=e["label"],t.rightAccount=!t.rightAccount})}}else t.screenLogin=o["mappingUser"]["screenName"],t.emailLogin=a,t.deactiveAccountFlagBoolean=!1,t.layoutNameDynamic=e["label"],t.rightAccount=!t.rightAccount})}else t.$store.dispatch("getUserAccount",t.detailData[0]["mappingUserId"]).then(function(a){t.screenLogin=a["screenName"],t.emailLogin=a["email"],t.deactiveAccountFlag=a["deactiveAccountFlag"],0===t.deactiveAccountFlag?t.deactiveAccountFlagBoolean=!0:t.deactiveAccountFlagBoolean=!1,t.layoutNameDynamic=e["label"],t.rightAccount=!t.rightAccount})},showAttached:function(e){var t=this;t.layoutNameDynamic=e["label"],t.pickItem=e,t.rightAttached=!t.rightAttached}}}},1648:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"text-center",staticStyle:{position:"relative"},attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"control-section uploader file-preview py-0",staticStyle:{position:"relative"},attrs:{xs12:""}},[a("div",{staticClass:"control_wrapper"},[a("div",{attrs:{id:"dropAreaForm"}},[a("span",{staticClass:"droparea",staticStyle:{display:"none"},attrs:{id:"drop"}},[e._v(" KÃ©o tháº£ tá»‡p tin hoáº·c "),a("a",{staticStyle:{right:"20px",color:"#0064c7",position:"absolute","text-decoration":"none","font-weight":"700"},attrs:{href:"javascript:;",id:"browseForm"}},[e._v("Chá»n tá»« mÃ¡y tÃ­nh Â  ðŸ“¤")])]),a("ejs-uploader",{ref:"uploadObj",attrs:{name:"UploadFiles",allowedExtensions:e.extensions,asyncSettings:e.path,dropAreaForm:e.dropAreaForm,success:e.onSuccess,removing:e.onFileRemove,uploading:e.addHeaders}})],1),e.fileTotal>0?a("div",{staticClass:"e-upload-done-list"},[a("ul",{staticClass:"e-upload-files"},[a("li",{staticClass:"e-upload-file-list"},[a("div",{staticClass:"container py-2",staticStyle:{position:"relative"}},[a("span",{staticClass:"wrapper layout row wrap",staticStyle:{"line-height":"10px"}},[a("span",{class:["icon sf-icon-txt"]}),a("div",{staticClass:"name file-name",staticStyle:{"line-height":"42px","padding-left":"10px"}},[e._v("\n                File cáº¥u hÃ¬nh FORM\n              ")]),a("v-btn",{staticStyle:{position:"absolute",right:"5px",top:"8px"},attrs:{flat:"",icon:"",color:"primary",href:e.avatarData,target:"_blank",loading:e.loading,disabled:e.loading}},[a("v-icon",{attrs:{size:"14"}},[e._v("link")])],1)],1)])])])]):e._e()])])],1)},n=[],o=a("a026"),r=a("e0e8");o["default"].use(r["a"]);var i={data:function(){return{fileTotal:0,noAvatar:!0,avatarData:"",loadingRemove:!1,loading:!1,fileTemplateData:[],fileTemplateTotal:0,path:{saveUrl:"",removeUrl:""},extensions:".txt",dropAreaForm:"dropAreaForm",rawData:[],className:""}},props:["pickItem","pk","code"],created:function(){var e=this;e.$nextTick(function(){this.loadImageComponent()})},mounted:function(){this.path={saveUrl:this.pickItem["upload_api"]+"FORM/"+this.pk,removeUrl:this.pickItem["remove_api"]+"FORM/"+this.pk},this.className=this.pickItem["class_name"],document.getElementById("browseForm").onclick=function(){return document.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1}},methods:{addHeaders:function(e){var t=this;e.currentRequest.setRequestHeader("Token",t.getAuthToken()),e.currentRequest.setRequestHeader("groupId",t.getScopeGroupId())},loadImageComponent:function(){var e=this;e.fileTotal=0;var t={pk:e.pk,className:e.className};e.noAvatar=!0,e.avatarData="",e.$store.dispatch("getImageComponent",t).then(function(t){if(""!==t&&null!==t){e.noAvatar=!1;var a="";null!==window.themeDisplay&&void 0!==window.themeDisplay&&(a=themeDisplay.getPortalURL()),e.avatarData=a+t,e.fileTotal=1}})},onSuccess:function(){var e=this;setTimeout(function(){document.getElementById("dropAreaForm").querySelectorAll(".e-upload-success").forEach(function(e){return e.parentNode.removeChild(e)}),e.loadImageComponent()},2e3)},onFileRemove:function(e){e.postRawFile=!1}}},c=i,l=a("2877"),d=Object(l["a"])(c,s,n,!1,null,null,null);d.options.__file="AttachedFileForm.vue";t["a"]=d.exports},"1a0d":function(e,t,a){"use strict";var s=a("d593"),n=a.n(s);n.a},"2be2":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"control-section uploader customdroparea",staticStyle:{position:"relative"},attrs:{xs12:""}},[a("div",{staticClass:"control_wrapper"},[a("div",{staticClass:"sample_wrapper"},[a("div",{attrs:{id:"dropArea"}},[a("span",{staticClass:"droparea",staticStyle:{display:"none"},attrs:{id:"drop"}},[e._v(" KÃ©o tháº£ tá»‡p tin hoáº·c "),a("a",{attrs:{href:"javascript:;",id:"browse"}},[e._v("Chá»n tá»« mÃ¡y tÃ­nh Â  ðŸ“¤")])]),a("ejs-uploader",{ref:"uploadObj",attrs:{id:"templateupload",name:"UploadFiles",allowedExtensions:e.extensions,asyncSettings:e.path,dropArea:e.dropArea,success:e.onSuccess,removing:e.onFileRemove,uploading:e.addHeaders}}),e.fileTemplateTotal>0&&"opencps_serviceinfo"===e.code?a("div",{staticClass:"e-upload-done-list"},[a("ul",{staticClass:"e-upload-files"},e._l(e.fileTemplateData,function(t,s){return a("li",{key:s,staticClass:"e-upload-file-list"},[a("div",{staticClass:"container",staticStyle:{position:"relative"}},[a("span",{staticClass:"wrapper",staticStyle:{"line-height":"10px"}},[a("span",{class:["icon sf-icon-"+t["extension"]]}),a("div",{staticClass:"name file-name"},[a("span",[e._v(e._s(t["templateName"]))]),a("p",{staticStyle:{"margin-top":"5px","font-size":"10px","margin-bottom":"0"}},[e._v("\n                          ( "+e._s((t["size"]/1048576).toFixed(2))+" MB )\n                        ")])]),a("v-btn",{staticStyle:{position:"absolute",right:"5px",top:"32px"},attrs:{flat:"",icon:"",color:"primary",loading:e.loading,disabled:e.loading},nativeOn:{click:function(a){e.processDownloadFileAttach(t)}}},[a("v-icon",{attrs:{size:"14"}},[e._v("link")])],1),a("v-btn",{staticStyle:{position:"absolute",right:"5px"},attrs:{flat:"",icon:"",color:"red darken-3",loading:e.loadingRemove,disabled:e.loadingRemove},nativeOn:{click:function(a){e.processDeleteFileAttach(t)}}},[a("v-icon",{attrs:{size:"14"}},[e._v("delete")])],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{label:"Sá»‘ biá»ƒu máº«u"},on:{change:function(a){e.processUpdateDataFileAttach(a,t,s)}},model:{value:t["fileTemplateNo"],callback:function(a){e.$set(t,"fileTemplateNo",a)},expression:"item['fileTemplateNo']"}})],1),a("v-flex",{attrs:{xs12:"",sm8:""}},[a("v-text-field",{attrs:{label:"TÃªn biá»ƒu máº«u"},on:{change:function(a){e.processUpdateDataFileAttach(a,t,s)}},model:{value:t["templateName"],callback:function(a){e.$set(t,"templateName",a)},expression:"item['templateName']"}})],1)],1)],1)])])}))]):e._e(),e.fileTemplateTotal>0&&"opencps_serviceinfo"!==e.code?a("div",{staticClass:"e-upload-done-list"},[a("ul",{staticClass:"e-upload-files"},e._l(e.fileTemplateData,function(t,s){return a("li",{key:s,staticClass:"e-upload-file-list"},[a("div",{staticClass:"container",staticStyle:{position:"relative","min-height":"75px"}},[a("span",{staticClass:"wrapper",staticStyle:{"line-height":"10px"}},[a("span",{class:["icon sf-icon-"+t["extension"]]}),a("div",{staticClass:"name file-name"},[a("span",[e._v(e._s(t["fileName"]))]),a("p",{staticStyle:{"margin-top":"5px","font-size":"10px","margin-bottom":"0"}},[e._v("\n                          ( "+e._s((t["size"]/1048576).toFixed(2))+" MB )\n                        ")])]),a("v-btn",{staticStyle:{position:"absolute",right:"5px",top:"32px"},attrs:{flat:"",icon:"",color:"primary",loading:e.loading,disabled:e.loading},nativeOn:{click:function(a){e.processDownloadFileAttach(t)}}},[a("v-icon",{attrs:{size:"14"}},[e._v("link")])],1),a("v-btn",{staticStyle:{position:"absolute",right:"5px"},attrs:{flat:"",icon:"",color:"red darken-3",loading:e.loadingRemove,disabled:e.loadingRemove},nativeOn:{click:function(a){e.processDeleteFileAttach(t)}}},[a("v-icon",{attrs:{size:"14"}},[e._v("delete")])],1)],1)])])}))]):e._e()],1)])])])],1)},n=[],o=a("a026"),r=a("e0e8"),i=a("fe7b");o["default"].use(r["a"]);var c={data:function(){return{loadingRemove:!1,loading:!1,fileTemplateData:[],fileTemplateTotal:0,path:{saveUrl:"",removeUrl:""},extensions:".pdf, .txt, .rtf, .doc, .docx, .xls, .xlsx, .jpg, .png",dropArea:"dropArea",rawData:[],className:""}},props:["pickItem","pk","code"],created:function(){var e=this;e.$nextTick(function(){e.loadFileTemplate()})},mounted:function(){var e=this;this.path={saveUrl:this.pickItem["upload_api"]+"/"+this.pk,removeUrl:this.pickItem["remove_api"]+"/"+this.pk},this.className=this.pickItem["class_name"],document.getElementById("browse").onclick=function(){return document.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1},document.getElementById("dropArea").onclick=function(t){if(t.target.classList.contains("e-file-delete-btn"))for(var a=0;a<e.$refs.uploadObj.getFilesData().length;a++)t.target.closest("li").getAttribute("data-file-name")===e.$refs.uploadObj.getFilesData()[a].name&&e.$refs.uploadObj.remove(e.$refs.uploadObj.getFilesData()[a]);else t.target.classList.contains("e-file-remove-btn")&&Object(i["f"])(t.target.closest("li"))}},methods:{addHeaders:function(e){var t=this;e.currentRequest.setRequestHeader("Token",t.getAuthToken()),e.currentRequest.setRequestHeader("groupId",t.getScopeGroupId())},loadFileTemplate:function(){var e=this;if("opencps_serviceinfo"===e.code)e.$store.dispatch("getServiceFileTemplate",e.pk).then(function(t){for(var a in e.fileTemplateData=t.data,e.fileTemplateTotal=t.total,e.fileTemplateData)e.rawData.push({fileTemplateNo:e.fileTemplateData[a]["fileTemplateNo"],serviceInfoId:e.fileTemplateData[a]["serviceInfoId"]});var s=document.getElementById("rightAttachedCounter");null!==s&&void 0!==s&&e.fileTemplateTotal>0&&(s.innerHTML="Tá»•ng sá»‘: "+e.fileTemplateTotal+" ")}).catch(function(e){console.log(e)});else{var t={className:e.className,pk:e.pk};e.$store.dispatch("getAttachFileData",t).then(function(t){e.fileTemplateData=t.data,e.fileTemplateTotal=t.total;var a=document.getElementById("rightAttachedCounter");null!==a&&void 0!==a&&e.fileTemplateTotal>0&&(a.innerHTML="Tá»•ng sá»‘: "+e.fileTemplateTotal+" ")}).catch(function(e){console.log(e)})}},onSuccess:function(){var e=this;setTimeout(function(){document.getElementById("dropArea").querySelectorAll(".e-upload-success").forEach(function(e){return e.parentNode.removeChild(e)}),e.loadFileTemplate()},2e3)},onFileRemove:function(e){e.postRawFile=!1},processDeleteFileAttach:function(e){var t=this;confirm("Báº¡n cÃ³ cháº¯c muá»‘n xoÃ¡ báº£n ghi nÃ y?")&&(t.loadingRemove=!0,t.$store.dispatch("removeServiceFileTemplate",e).then(function(){t.loadingRemove=!1,t.loadFileTemplate()}).catch(function(e){t.loadingRemove=!1,alert("XoÃ¡ file xáº£y ra lá»—i."+e)}))},processDownloadFileAttach:function(e){var t=this;t.loading=!0,t.$store.dispatch("downloadServiceFileTemplate",e).then(function(){t.loading=!1}).catch(function(e){t.loading=!1,alert("Táº£i file xáº£y ra lá»—i."+e)})},processUpdateDataFileAttach:function(e,t,a){var s=this;s.loading=!0;var n={item:s.rawData[a],fileTemplateNo:t["fileTemplateNo"],templateName:t["templateName"]};s.$store.dispatch("updateServiceFileTemplate",n).then(function(){s.loading=!1}).catch(function(e){s.loading=!1,alert("Táº£i file xáº£y ra lá»—i."+e)})}}},l=c,d=a("2877"),u=Object(d["a"])(l,s,n,!1,null,null,null);u.options.__file="AttachedFileTemplate.vue";t["a"]=u.exports},"3f3e":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",position:"absolute","line-height":"46px"}},[e._v("Tá»•ng sá»‘ "),a("span",{staticClass:"text-bold primary--text"},[e._v(e._s(e.total))]),e._v(" báº£n ghi. ")]),e.total>0?a("div",{staticClass:"vue-tiny-pagination pagination layout",staticStyle:{"justify-content":"flex-end","-webkit-justify-content":"flex-end"}},[a("div",{staticClass:"px-3 xs2 flex"},[a("v-autocomplete",{attrs:{items:e.totalPagesData,"item-text":"text","item-value":"value",autocomplete:""},on:{input:e.goToPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),a("ul",{staticClass:"tiny-pagination",class:e.customClass},[a("li",{staticClass:"page-item",class:e.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:e.classFirstPage,on:{click:function(t){return t.preventDefault(),e.lastPageLast(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("first_page")])])]),a("li",{staticClass:"page-item",class:e.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:e.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(t){return t.preventDefault(),e.lastPage(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("chevron_left")])])]),a("li",{staticClass:"page-item",class:e.classLastPage,staticStyle:{"margin-right":"0"}},[a("button",{staticClass:"pagination__navigation",class:e.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(t){return t.preventDefault(),e.nextPage(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("chevron_right")])])]),a("li",{staticClass:"page-item",class:e.classLastPage},[a("button",{staticClass:"pagination__navigation",class:e.classLastPage,on:{click:function(t){return t.preventDefault(),e.nextPageLast(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("last_page")])])])])]):e._e()])},n=[],o="TinyPagination",r={name:o,props:{total:{type:Number,required:!0},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},limits:{type:Array,default:function(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0}},data:function(){return{version:"0.2.1",currentPage:1,currentLimit:10,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created:function(){this.currentPage=this.page},watch:{page:function(e){this.currentPage=parseInt(e)}},computed:{translation:function(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages:function(){return Math.ceil(this.total/this.currentLimit)},totalPagesData:function(){for(var e=[],t={},a=1;a<=this.totalPages;++a)t={value:a,text:"Trang "+a},e.push(t);return e},titlePage:function(){return"".concat(this.currentPage)},classFirstPage:function(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage:function(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}}},methods:{nextPage:function(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast:function(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast:function(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage:function(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange:function(){this.currentPage=1}}},i=r,c=a("2877"),l=Object(c["a"])(i,s,n,!1,null,null,null);l.options.__file="TinyPagination.vue";t["a"]=l.exports},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0da","./cs.js":"3c0da","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=o(e);return a(t)}function o(e){var t=s[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}n.keys=function(){return Object.keys(s)},n.resolve=o,e.exports=n,n.id="4678"},"505b":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"control-section uploader file-preview py-0",staticStyle:{position:"relative"},attrs:{xs12:""}},[a("div",{staticClass:"control_wrapper"},[a("div",{staticStyle:{height:"250px",overflow:"auto",position:"relative",border:"1px dashed #949494","text-align":"center",padding:"15px","background-size":"cover"},style:"background-image: url("+e.avatarData+");",attrs:{id:"dropArea"}},[a("span",{staticStyle:{position:"absolute",left:"0",top:"0",height:"100%",width:"100%"},attrs:{id:"dropPreview"}},[a("a",{attrs:{href:"javascript:;",id:"browseAvata"}},[a("i",{staticClass:"v-icon material-icons",staticStyle:{"font-size":"54px",opacity:".2",position:"absolute",top:"0",right:"0"},attrs:{"aria-hidden":"true"}},[e._v("camera_alt")])])]),a("ejs-uploader",{ref:"uploadObj",attrs:{id:"imagePreview",name:"UploadFiles",allowedExtensions:e.extensions,asyncSettings:e.path,dropArea:e.dropArea,success:e.onSuccess,removing:e.onFileRemove,uploading:e.addHeaders}}),e.noAvatar?a("svg",{staticStyle:{width:"125px",margin:"0 auto","margin-top":"45px","enable-background":"new 0 0 563.43 563.43"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 563.43 563.43","xml:space":"preserve"}},[a("path",{attrs:{d:"M280.79,314.559c83.266,0,150.803-67.538,150.803-150.803S364.055,13.415,280.79,13.415S129.987,80.953,129.987,163.756\n            S197.524,314.559,280.79,314.559z M280.79,52.735c61.061,0,111.021,49.959,111.021,111.021S341.851,274.776,280.79,274.776\n            s-111.021-49.959-111.021-111.021S219.728,52.735,280.79,52.735z"}}),a("path",{attrs:{d:"M19.891,550.015h523.648c11.102,0,19.891-8.789,19.891-19.891c0-104.082-84.653-189.198-189.198-189.198H189.198\n            C85.116,340.926,0,425.579,0,530.124C0,541.226,8.789,550.015,19.891,550.015z M189.198,380.708h185.034\n            c75.864,0,138.313,56.436,148.028,129.524H41.17C50.884,437.607,113.334,380.708,189.198,380.708z"}}),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g"),a("g")]):e._e()],1)])])],1)},n=[],o=a("a026"),r=a("e0e8");o["default"].use(r["a"]);var i={data:function(){return{noAvatar:!0,avatarData:"",loadingRemove:!1,loading:!1,fileTemplateData:[],fileTemplateTotal:0,path:{saveUrl:"",removeUrl:""},extensions:".jpg, .png",dropArea:"dropArea",rawData:[],className:""}},props:["pickItem","pk","code"],created:function(){var e=this;e.$nextTick(function(){this.pk&&(this.className=this.pickItem["class_name"],this.loadImageComponent())})},mounted:function(){this.path={saveUrl:this.pickItem["upload_api"]+"/"+this.pk,removeUrl:this.pickItem["remove_api"]+"/"+this.pk},this.className=this.pickItem["class_name"],document.getElementById("browseAvata").onclick=function(){return document.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1}},watch:{pk:function(e){this.path={saveUrl:this.pickItem["upload_api"]+"/"+this.pk,removeUrl:this.pickItem["remove_api"]+"/"+this.pk},this.className=this.pickItem["class_name"],this.loadImageComponent()}},methods:{addHeaders:function(e){var t=this;e.currentRequest.setRequestHeader("Token",t.getAuthToken()),e.currentRequest.setRequestHeader("groupId",t.getScopeGroupId())},loadImageComponent:function(){var e=this;console.log("vm.pk",e.pk);var t={pk:e.pk,className:e.className};e.noAvatar=!0,e.avatarData="",e.$store.dispatch("getImageComponent",t).then(function(t){if(""!==t&&null!==t){e.noAvatar=!1;var a="";null!==window.themeDisplay&&void 0!==window.themeDisplay&&(a=themeDisplay.getPortalURL()),e.avatarData=a+t}})},onSuccess:function(){var e=this;setTimeout(function(){document.getElementById("dropArea").querySelectorAll(".e-upload-success").forEach(function(e){return e.parentNode.removeChild(e)}),e.loadImageComponent()},2e3)},onFileRemove:function(e){e.postRawFile=!1}}},c=i,l=a("2877"),d=Object(l["a"])(c,s,n,!1,null,null,null);d.options.__file="AttachedFileAvatar.vue";t["a"]=d.exports},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("a026"),n=a("ce5b"),o=a.n(n);s["default"].use(o.a,{theme:{primary:"#212121",secondary:"#424242",accent:"#459fed",error:"#ff8e8e",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}});a("ca9a"),a("a51b"),a("c35c"),a("861c");var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{class:{"theme--dark":!0,close__drawer_bbat:!e.drawer},attrs:{id:"app"}},[a("v-content",[a("router-view")],1),a("go-top",{attrs:{size:42,"bg-color":"#0064c7"}})],1)},i=[],c=a("49ec"),l=a.n(c),d={data:function(){return{}},components:{GoTop:l.a},computed:{user:function(){return this.$store.getters.user},drawer:function(){return this.$store.getters.drawer}}},u=d,p=a("2877"),m=Object(p["a"])(u,r,i,!1,null,null,null);m.options.__file="App.vue";var v=m.exports,h=a("8c4f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-navigation-drawer",{attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,fixed:"",app:"",width:"240",dark:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("div",{staticClass:"sidebar-background",staticStyle:{"background-image":'url("/o/vue-admin/images/bg_menu.jpg")'}}),a("v-list",{attrs:{dense:""}},[e._l(e.items,function(t){return[t.heading?a("v-layout",{key:t.heading,attrs:{row:"","align-center":""}},[a("v-flex",{attrs:{xs6:""}},[t.heading?a("v-subheader",[e._v("\n                  "+e._s(t.heading)+"\n                ")]):e._e()],1),a("v-flex",{staticClass:"text-xs-center",attrs:{xs6:""}},[a("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):t.hasOwnProperty("children")?a("v-list-group",{key:t.text,attrs:{"append-icon":t.model?t.icon:t["icon-alt"],"prepend-icon":"folder_open",dark:""},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[a("v-list-tile",{attrs:{slot:"activator"},slot:"activator"},[a("v-list-tile-content",[a("v-list-tile-title",[e._v("\n                    "+e._s(t.text)+"\n                  ")])],1)],1),e._l(t.children,function(s,n){return t.hasOwnProperty("children")?a("v-list-tile",{key:n,class:{list__active:e.tableName===s.code},attrs:{to:s.link+"?state_change="+Math.floor(100*Math.random())+1}},[s.icon?a("v-list-tile-action",[a("v-icon",[e._v(e._s(s.icon))])],1):e._e(),a("v-list-tile-content",[a("v-list-tile-title",[e._v("\n                    "+e._s(s.text)+"\n                  ")])],1)],1):e._e()})],2):a("v-list-tile",{key:t.text},[a("v-list-tile-action",[a("v-icon",[e._v(e._s(t.icon))])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v("\n                  "+e._s(t.text)+"\n                ")])],1)],1)]})],2)],1),a("v-toolbar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,color:"blue darken-3",dark:"",app:"",fixed:"",height:"48"}},[a("v-toolbar-title",{staticClass:"ml-0 pl-1",staticStyle:{width:"240px"}},[a("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),a("span",{staticClass:"hidden-sm-and-down"},[e._v("Quáº£n trá»‹ dá»¯ liá»‡u")])],1),a("v-autocomplete",{staticClass:"hidden-sm-and-down",attrs:{items:e.getItemSearch(),"item-text":"text","item-value":"link",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"search",label:"Search"},on:{change:function(t){e.redirectFilter(t)}}}),a("v-spacer",{staticStyle:{"max-width":"25px"}}),"Administrator"===e.loginUser["role"]?a("v-btn",{staticClass:"mx-0 my-0",attrs:{flat:""},nativeOn:{click:function(t){e.redirectControlPanel()}}},[a("v-avatar",{attrs:{size:"32px",tile:""}},[a("v-icon",[e._v("settings")])],1),e._v("\n        Cáº¥u hÃ¬nh trang\n      ")],1):e._e(),a("v-btn",{staticClass:"my-0 mx-0",attrs:{flat:""}},[a("v-avatar",{attrs:{size:"32px",tile:""}},[a("v-icon",{attrs:{dark:""}},[e._v("account_circle")])],1),e._v("\n          "+e._s(e.loginUser["email"])+"\n      ")],1),a("v-btn",{staticClass:"mr-2 my-0 ml-0",attrs:{icon:""},nativeOn:{click:function(t){e.doLogOut()}}},[a("v-icon",[e._v("exit_to_app")])],1)],1),a("v-container",{attrs:{fluid:""}},[a("router-view")],1),a("v-snackbar",{attrs:{bottom:!1,left:!1,"multi-line":!1,right:!0,timeout:2e3,top:!0,vertical:!1,color:"red darken-3"},model:{value:e.snackbarerror,callback:function(t){e.snackbarerror=t},expression:"snackbarerror"}},[e._v("\n      YÃªu cáº§u thá»±c hiá»‡n tháº¥t báº¡i\n      "),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.closeError()}}},[a("v-icon",[e._v("clear")])],1)],1),a("v-snackbar",{attrs:{bottom:!0,left:!1,"multi-line":!0,right:!1,timeout:0,top:!0,vertical:!1,color:"red darken-3"},model:{value:e.snackbarsocket,callback:function(t){e.snackbarsocket=t},expression:"snackbarsocket"}},[a("v-progress-circular",{attrs:{size:20,width:1,color:"white",indeterminate:""}}),e._v("\n      Â \n      Máº¥t káº¿t ná»‘i, tá»± Ä‘á»™ng káº¿t ná»‘i láº¡i trong giÃ¢y lÃ¡t ... \n      \n      "),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.reloadPage()}}},[a("v-icon",[e._v("replay")])],1)],1)],1)},g=[],b={data:function(){return{dialog:!1,drawer:null,dataSocket:{}}},props:{tableName:String},computed:{items:function(){return this.$store.getters.getlistTableMenu},loginUser:function(){return this.$store.getters.getloginUser},snackbarerror:{get:function(){return this.$store.getters.getsnackbarerror},set:function(e){this.$store.commit("setsnackbarerror",e)}},snackbarsocket:{get:function(){return this.$store.getters.getsnackbarsocket},set:function(e){this.$store.commit("setsnackbarsocket",e)}}},methods:{redirectFilter:function(e){this.$router.push(e+"?state_change="+Math.floor(100*Math.random())+1)},closeError:function(){this.$store.commit("setsnackbarerror",!1)},reloadPage:function(){window.location.reload(!0)},redirectControlPanel:function(){var e="";null!==window.themeDisplay&&void 0!==window.themeDisplay&&(e=window.themeDisplay.getLayoutRelativeControlPanelURL()),window.location.href=e+"?p_p_id=com_liferay_layout_admin_web_portlet_GroupPagesPortlet"},getItemSearch:function(){var e=this;return 2===e.items.length?e.items[1].children:e.items.length>2?e.items[2].children:[]},doLogOut:function(){window.location.href="/o/portal/logout"}}},_=b,x=Object(p["a"])(_,f,g,!1,null,null,null);x.options.__file="Home.vue";var k=x.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[e._v("\n    Not found\n")])},C=[],w={},S=w,P=(a("1a0d"),Object(p["a"])(S,y,C,!1,null,"6c946066",null));P.options.__file="NotFound.vue";var D=P.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("bbat-table",{attrs:{"table-name":e.tableName}})],1)},I=[],N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("chevron_right")]),e._l(e.breadCrumbsitems,function(t){return a("v-breadcrumbs-item",{key:t.text,attrs:{disabled:t.disabled}},[e._v("\n      "+e._s(t.text)+"\n    ")])}),a("a",{staticStyle:{"text-decoration":"none","font-weight":"bold"},attrs:{href:"javascript:;"}},[e._v(e._s(e.tableName))])],2),a("v-card",{staticClass:"px-2 mx-1 mb-5",staticStyle:{overflow:"hidden"}},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",height:"48"}},[a("v-btn",{attrs:{dark:"",icon:""},nativeOn:{click:function(t){return e.addFilterRow(t)}}},[e.showFilter?a("v-icon",[e._v("highlight_off")]):a("v-icon",[e._v("highlight")])],1),a("v-toolbar-title",{staticClass:"ml-0"},[e._v("\n        "+e._s(e.nameScreen)+"\n      ")]),a("v-spacer"),e.depen?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){return e.backToCode(t)}}},[a("v-icon",[e._v("reply")]),e._v(" Â \n        "+e._s(e.backTableName)+"\n      ")],1):e._e(),a("v-btn",{attrs:{dark:"",icon:""},nativeOn:{click:function(t){return e.rePullData(t)}}},[a("v-icon",[e._v("refresh")])],1),a("v-icon",{attrs:{dark:""}},[e._v("more_vert")]),a("v-btn",{attrs:{dark:"",icon:""},nativeOn:{click:function(t){e.toEditor(0)}}},[a("v-icon",[e._v("add_circle")])],1)],1),e.pageTotalCounter>0?a("v-layout",{staticStyle:{position:"fixed",bottom:"0",width:"calc( 100% - 300px )",background:"white","z-index":"2","border-top":"1px solid #dcdcdc"},attrs:{row:"",wrap:""}},[e.showLoadingTable?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0,color:"blue darken-3"}}):e._e(),a("v-flex",{attrs:{xs12:""}},[a("tiny-pagination",{attrs:{total:e.pageTotalCounter,page:e.page,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingData}})],1)],1):e._e(),a("div",{staticStyle:{overflow:"hidden","overflow-x":"scroll","border-left":"1px solid gainsboro"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showFilter,expression:"showFilter"}],staticClass:"table_filter",attrs:{id:"table_filter_"+e.tableName}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.problem,expression:"!problem"}],attrs:{id:"table_database_"+e.tableName}})])],1),a("v-card",{directives:[{name:"show",rawName:"v-show",value:e.problem,expression:"problem"}],staticClass:"px-2 mx-1 mb-5",staticStyle:{overflow:"hidden"}},[a("div",{staticClass:"video-preloader",attrs:{id:"video-preloader"}},[a("video",{attrs:{loop:"",id:"editor-video-preloader",width:"100%",height:"350",muted:"true",src:"https://editorassets.parastorage.com/video-preloader/editor-video-preloader-2-@2x.mp4"},domProps:{muted:!0}})])]),a("v-menu",{attrs:{"position-x":e.x,"position-y":e.y,absolute:"","offset-y":"","content-class":"box_shadow_custom"},model:{value:e.showMenu,callback:function(t){e.showMenu=t},expression:"showMenu"}},[a("v-list",[a("v-list-tile",{nativeOn:{click:function(t){e.toEditor(-1)}}},[a("v-list-tile-action",[a("v-icon",[e._v("edit")])],1),a("v-list-tile-title",[e._v("Sá»­a")])],1),"opencps_serviceprocess"===e.tableName?a("v-list-tile",{nativeOn:{click:function(t){e.toBieuDoQuyTrinh()}}},[a("v-list-tile-action",[a("v-icon",[e._v("merge_type")])],1),a("v-list-tile-title",[e._v("Biá»ƒu Ä‘á»“ quy trÃ¬nh")])],1):e._e(),a("v-list-tile",{nativeOn:{click:function(t){e.deleteRecord()}}},[a("v-list-tile-action",[a("v-icon",{attrs:{color:"red darken-3"}},[e._v("clear")])],1),a("v-list-tile-title",[e._v("XoÃ¡")])],1)],1)],1)],1)},T=[],R=a("ff94"),$=R["a"],L=Object(p["a"])($,N,T,!1,null,null,null);L.options.__file="BbatTable.vue";var O=L.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("chevron_right")]),e._l(e.breadCrumbsitems,function(t){return a("v-breadcrumbs-item",{key:t.text,attrs:{disabled:t.disabled}},[e._v("\n      "+e._s(t.text)+"\n    ")])}),a("a",{staticStyle:{"text-decoration":"none","font-weight":"bold"},attrs:{href:"javascript:;"}},[e._v(e._s(e.tableName))])],2),a("v-card",{staticClass:"px-2 mx-1",staticStyle:{overflow:"hidden"}},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",height:"48"}},[a("v-btn",{attrs:{dark:"",icon:""}},[a("v-icon",[e._v("edit")])],1),a("v-toolbar-title",{staticClass:"ml-0"},[e._v("\n        "+e._s(e.nameScreen)+"\n      ")]),a("v-spacer"),a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){return e.deleteRecord(t)}}},[a("v-icon",[e._v("delete")]),e._v(" Â \n        XoÃ¡ báº£n ghi\n      ")],1),a("v-icon",{attrs:{dark:""}},[e._v("more_vert")]),a("v-btn",{attrs:{dark:"",icon:""},nativeOn:{click:function(t){return e.backToList(t)}}},[a("v-icon",[e._v("reply")])],1)],1),e.showDetailForm?a("div",{staticClass:"grid-list mt-2"},[a("bbat-table-editor-component",{ref:"bbatForm",attrs:{"table-config":e.dataSocket.tableConfig,"detail-data":e.dataSocket.detail,id:e.id,"table-name":e.tableName}})],1):e._e(),e.noDetail?a("v-alert",{attrs:{value:!0,color:"warning",icon:"priority_high",outline:""}},[e._v("\n    KhÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u\n  ")]):e._e()],1)],1)},q=[],F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[null!==e.detailForm&&e.detailForm.length>0?a("v-layout",{staticStyle:{"margin-bottom":"100px"},attrs:{row:"",wrap:""}},[e._l(e.detailForm,function(t,s){return a("v-flex",{key:s,class:t["class"]},["ricktext"===t.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(t["label"]))]):e._e(),"ricktext"===t.type?a("trumbowyg",{attrs:{config:e.config},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"avatar"===t.type?a("attached-file-avatar",{attrs:{pk:e.data[t.model],"pick-item":t,"current-data":e.data}}):e._e(),"date"===t.type?a("datetime-picker",{class:t["class_component"],attrs:{item:t,"data-value":e.data[t.model]},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"button"===t.type&&t["link"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:"",to:t.url+"?pk="+e.data[t.pk]+"&col="+(t.hasOwnProperty("pk_foreign")?t.pk_foreign:t.pk)+"&pk_type="+(t.hasOwnProperty("pk_type")?t.pk_type:"number")}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(t.label)+"\n        ")],1):e._e(),"button"===t.type&&t["account"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAccount(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(t.label)+"\n        ")],1):e._e(),"button"===t.type&&t["attached"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAttached(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(t.label)+"\n        ")],1):e._e(),"button"===t.type&&t["fileform"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAttached(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(t.label)+"\n        ")],1):e._e(),"selects"===t.type&&!e.pullOk&&t.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),"selects"===t.type&&e.pullOk&&t.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:t["class_component"],attrs:{items:e.dataSocket[t["datasource_key"]],"item-text":t.itemText,"item-value":t.itemValue,box:"",rules:e.processRules(t.rules),"no-data-text":"KhÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[a("template",{slot:"label"},[e._v(e._s(t["label"])+" "),t.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2):e._e(),"selects"!==t.type||t.hasOwnProperty("datasource_key")?e._e():a("v-autocomplete",{class:t["class_component"],attrs:{items:t.datasource,"item-text":t.itemText,"item-value":t.itemValue,box:"",rules:e.processRules(t.rules),"no-data-text":"KhÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[a("template",{slot:"label"},[e._v(e._s(t["label"])+" "),t.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2),"text-fields"===t.type?a("v-text-field",{class:t["class_component"],attrs:{rules:e.processRules(t.rules),placeholder:t["placeholder"],box:"",clearable:""},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[a("template",{slot:"label"},[e._v(e._s(t["label"])+" "),t.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2):e._e(),"textarea"===t.type?a("v-textarea",{class:t["class_component"],attrs:{rules:e.processRules(t.rules),placeholder:t["placeholder"],box:"",clearable:""},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[a("template",{slot:"label"},[e._v(e._s(t["label"])+" "),t.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2):e._e(),"codemirror"===t.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(t["label"]))]):e._e(),"codemirror"===t.type?a("codemirror",{attrs:{options:e.cmOptions},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"v-switch"===t.type?a("v-switch",{class:t["class_component"],attrs:{label:t["label"]},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),e._l(t["alongside"],function(s,n){return t.hasOwnProperty("alongside")?a("div",{key:n},["ricktext"===s.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(s["label"]))]):e._e(),"ricktext"===s.type?a("trumbowyg",{attrs:{config:e.config},model:{value:e.data[s.model],callback:function(t){e.$set(e.data,s.model,t)},expression:"data[itemChild.model]"}}):e._e(),"avatar"===s.type?a("attached-file-avatar",{class:s["class_component"],attrs:{pk:e.data[s.model],"pick-item":s}}):e._e(),"date"===s.type?a("datetime-picker",{class:s["class_component"],attrs:{item:s,"data-value":e.data[s.model]},model:{value:e.data[s.model],callback:function(t){e.$set(e.data,s.model,t)},expression:"data[itemChild.model]"}}):e._e(),"button"===s.type&&s["link"]&&(s.dependency&&"0"!==String(e.id)||!s.dependency)?a("v-btn",{class:s["class_component"],attrs:{color:"blue darken-3",dark:"",to:s.url+"?pk="+e.data[s.pk]+"&col="+s.pk}},["link"===s["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===s["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n            "+e._s(s.label)+"\n          ")],1):e._e(),"button"===s.type&&s["account"]&&(s.dependency&&"0"!==String(e.id)||!s.dependency)?a("v-btn",{class:s["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.showAccount(s)}}},["link"===s["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===s["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n            "+e._s(s.label)+"\n          ")],1):e._e(),"button"===s.type&&s["attached"]&&(s.dependency&&"0"!==String(e.id)||!s.dependency)?a("v-btn",{class:s["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.showAttached(s)}}},["link"===s["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===s["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n            "+e._s(s.label)+"\n          ")],1):e._e(),"selects"===s.type&&!e.pullOk&&s.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),"selects"===s.type&&e.pullOk&&s.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:s["class_component"],attrs:{items:e.dataSocket[s["datasource_key"]],"item-text":s.itemText,"item-value":s.itemValue,box:"",rules:e.processRules(s.rules),"no-data-text":"KhÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u "+s["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(t){e.processChangeDataSource(t,s)}},model:{value:e.data[s.model],callback:function(t){e.$set(e.data,s.model,t)},expression:"data[itemChild.model]"}},[a("template",{slot:"label"},[e._v(e._s(s["label"])+" "),s.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2):e._e(),"selects"!==s.type||s.hasOwnProperty("datasource_key")?e._e():a("v-autocomplete",{class:s["class_component"],attrs:{items:s.datasource,"item-text":s.itemText,"item-value":s.itemValue,box:"",rules:e.processRules(s.rules),"no-data-text":"KhÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u "+s["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(t){e.processChangeDataSource(t,s)}},model:{value:e.data[s.model],callback:function(t){e.$set(e.data,s.model,t)},expression:"data[itemChild.model]"}},[a("template",{slot:"label"},[e._v(e._s(s["label"])+" "),s.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2),"text-fields"===s.type?a("v-text-field",{class:s["class_component"],attrs:{rules:e.processRules(s.rules),placeholder:s["placeholder"],box:"",clearable:""},model:{value:e.data[s.model],callback:function(t){e.$set(e.data,s.model,t)},expression:"data[itemChild.model]"}},[a("template",{slot:"label"},[e._v(e._s(s["label"])+" "),s.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2):e._e(),"textarea"===s.type?a("v-textarea",{class:s["class_component"],attrs:{rules:e.processRules(s.rules),placeholder:s["placeholder"],box:"",clearable:""},model:{value:e.data[s.model],callback:function(t){e.$set(e.data,s.model,t)},expression:"data[itemChild.model]"}},[a("template",{slot:"label"},[e._v(e._s(s["label"])+" "),s.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2):e._e(),"codemirror"===s.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(s["label"]))]):e._e(),"codemirror"===s.type?a("codemirror",{attrs:{options:e.cmOptions},model:{value:e.data[s.model],callback:function(t){e.$set(e.data,s.model,t)},expression:"data[itemChild.model]"}}):e._e(),"v-switch"===s.type?a("v-switch",{class:s["class_component"],attrs:{label:s["label"]},model:{value:e.data[s.model],callback:function(t){e.$set(e.data,s.model,t)},expression:"data[itemChild.model]"}}):e._e()],1):e._e()})],2)}),a("v-flex",{staticClass:"text-right pt-0 ml-1 px-0",staticStyle:{position:"fixed",bottom:"0",width:"calc( 100% - 308px )",background:"white","z-index":"4","border-top":"1px solid #dcdcdc"},attrs:{xs12:""}},[e.loading?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0,color:"blue darken-3"}}):e._e(),"0"===String(e.id)?a("v-btn",{staticClass:"mr-0",attrs:{color:"teal darken-3",dark:"",loading:e.loading,disabled:e.loading},nativeOn:{click:function(t){e.saveToData("cmd_ide")}}},[e._v("Ghi láº¡i vÃ  thÃªm má»›i")]):e._e(),a("v-btn",{staticClass:"mr-0",attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},nativeOn:{click:function(t){e.saveToData("cmd")}}},[e._v("Ghi láº¡i")]),a("v-btn",{staticClass:"mr-0",attrs:{color:"red darken-3",dark:""},nativeOn:{click:function(t){return e.backToList(t)}}},[a("v-icon",[e._v("reply")]),e._v(" Â \n          Quay láº¡i\n        ")],1)],1)],2):a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"video-preloader",attrs:{id:"video-preloader"}},[a("video",{attrs:{loop:"",id:"editor-video-preloader",width:"100%",height:"350",muted:"true",src:"https://editorassets.parastorage.com/video-preloader/editor-video-preloader-2-@2x.mp4"},domProps:{muted:!0}})])])],1),a("v-navigation-drawer",{staticStyle:{background:"#fff"},attrs:{right:"",app:"",fixed:"",temporary:"",width:600},model:{value:e.rightAttached,callback:function(t){e.rightAttached=t},expression:"rightAttached"}},[a("v-card",[a("v-card-title",{staticClass:"pb-0",attrs:{"primary-title":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-center title",attrs:{xs12:""}},[a("span",{attrs:{id:"rightAttachedCounter"}}),e._v(" "+e._s(e.layoutNameDynamic)+"\n            ")])],1),a("v-btn",{staticClass:"my-0",staticStyle:{position:"absolute",right:"25px"},attrs:{flat:"",icon:"",color:"primary"},nativeOn:{click:function(t){e.rightAttached=!1}}},[a("v-icon",{attrs:{size:"18"}},[e._v("clear")])],1)],1)],1),a("v-card",[e.pickItem["attached"]?a("v-card-title",{staticClass:"pb-0 pt-2",attrs:{"primary-title":""}},[e.rightAttached?a("attached-file-template",{attrs:{pk:e.id,"pick-item":e.pickItem,code:e.tableName}}):e._e()],1):e._e(),e.pickItem["fileform"]?a("v-card-title",{staticClass:"pb-0 pt-2",attrs:{"primary-title":""}},[a("v-layout",{staticClass:"my-3",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-center title",attrs:{xs12:""}},[e._v("\n              Táº£i file cáº¥u hÃ¬nh máº«u FORM\n            ")]),e.rightAttached?a("attached-file-form",{attrs:{pk:e.id,"pick-item":e.pickItem,code:e.tableName}}):e._e(),a("v-flex",{staticClass:"text-center title mt-3",attrs:{xs12:""}},[e._v("\n              Táº£i file cáº¥u hÃ¬nh máº«u Jasper\n            ")]),e.rightAttached?a("attached-file-jasper",{attrs:{pk:e.id,"pick-item":e.pickItem,code:e.tableName}}):e._e()],1)],1):e._e()],1)],1),a("v-navigation-drawer",{staticStyle:{background:"#fff"},attrs:{right:"",app:"",fixed:"",temporary:""},model:{value:e.rightAccount,callback:function(t){e.rightAccount=t},expression:"rightAccount"}},[a("v-card",[a("v-card-title",{staticClass:"pb-0",attrs:{"primary-title":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-center title",attrs:{xs12:""}},[e._v("\n              "+e._s(e.layoutNameDynamic)+"\n            ")])],1),a("v-btn",{staticClass:"my-0",staticStyle:{position:"absolute",right:"25px"},attrs:{flat:"",icon:"",color:"primary"},nativeOn:{click:function(t){e.rightAccount=!1}}},[a("v-icon",{attrs:{size:"18"}},[e._v("clear")])],1)],1)],1),a("v-card",[a("v-card-title",{staticClass:"pb-0 pt-2",attrs:{"primary-title":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"TÃªn Ä‘Äƒng nháº­p",box:"",readonly:""},model:{value:e.screenLogin,callback:function(t){e.screenLogin=t},expression:"screenLogin"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"TÃ i khoáº£n Ä‘Äƒng nháº­p",box:"",readonly:""},model:{value:e.emailLogin,callback:function(t){e.emailLogin=t},expression:"emailLogin"}})],1)],1)],1)],1),a("v-divider"),a("v-card",[a("v-card-title",{staticClass:"pb-0 pt-2",attrs:{"primary-title":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-center title",attrs:{xs12:""}},[e._v("\n              Äá»•i máº­t kháº©u\n            ")])],1)],1)],1),a("v-card",[a("v-card-title",{staticClass:"pt-2",attrs:{"primary-title":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"px-0",attrs:{xs12:""}},[a("v-form",{ref:"form_2",attrs:{"lazy-validation":""},model:{value:e.valid2,callback:function(t){e.valid2=t},expression:"valid2"}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{box:"","append-icon":e.e1?"visibility":"visibility_off","append-icon-cb":function(){return e.e1=!e.e1},rules:[e.rules.required,e.rules.passWord],type:e.e1?"password":"text",name:"input-10-2",min:"8"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[a("template",{slot:"label"},[e._v("Máº­t kháº©u má»›i "),a("span",{staticClass:"red--text darken-3"},[e._v("*")])])],2)],1),a("v-flex",{attrs:{xs12:""}},[a("v-btn",{attrs:{block:"",color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.doChangePassWord()}}},[e._v("XÃ¡c nháº­n")])],1)],1)],1),a("v-flex",{attrs:{xs12:""}},[a("v-switch",{attrs:{label:"KÃ­ch hoáº¡t tÃ i khoáº£n"},on:{change:function(t){e.doChangeStatusAccount(t)}},model:{value:e.deactiveAccountFlagBoolean,callback:function(t){e.deactiveAccountFlagBoolean=t},expression:"deactiveAccountFlagBoolean"}})],1)],1)],1)],1)],1),a("v-snackbar",{attrs:{bottom:!1,left:!1,"multi-line":!1,right:!0,timeout:2e3,top:!0,vertical:!1,color:"success"},model:{value:e.snackbarsuccess,callback:function(t){e.snackbarsuccess=t},expression:"snackbarsuccess"}},[e._v("\n      YÃªu cáº§u thá»±c hiá»‡n thÃ nh cÃ´ng\n      "),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.snackbarsuccess=!1}}},[a("v-icon",[e._v("clear")])],1)],1)],1)},E=[],M=a("146f"),U=M["a"],B=Object(p["a"])(U,F,E,!1,null,null,null);B.options.__file="BbatTableEditorComponent.vue";var z=B.exports,K=a("bc3a"),Q=a.n(K),W={props:["tableName","id"],components:{BbatTableEditorComponent:z},data:function(){return{breadCrumbsitems:[{text:"Báº£ng dá»¯ liá»‡u",disabled:!1},{text:"",disabled:!1}],nameScreen:"",showDetailForm:!1,noDetail:!1,dataSocket:{}}},computed:{isConnected:{get:function(){return this.$store.getters.getisConnected},set:function(e){this.$store.commit("setisConnected",e)}}},watch:{$route:function(e,t){console.debug(t);var a=this;a.isConnected&&(a.isConnected=!1)}},created:function(){var e=this;e.$nextTick(function(){e.noDetail=!1,setTimeout(function(){var t=new URLSearchParams,a={type:"admin",cmd:"get",config:"true",code:e.$router.history.current.params.tableName,respone:"tableConfig"};t.append("text",JSON.stringify(a)),Q.a.post("/o/rest/v2/socket/web",t,{}).then(function(s){var n=s.data;e.dataSocket[n.respone]=n[n.respone],a={type:"admin",cmd:"get",code:e.$router.history.current.params.tableName,respone:"detail",responeType:"detail",filter:[{key:"id",value_filter:e.id,compare:"=",type:"number"}]},t=new URLSearchParams,t.append("text",JSON.stringify(a)),Q.a.post("/o/rest/v2/socket/web",t,{}).then(function(t){var a=t.data;e.dataSocket[a.respone]=a[a.respone],null===e.dataSocket["tableConfig"]||void 0===e.dataSocket["tableConfig"]||null===e.dataSocket["detail"]||void 0===e.dataSocket["detail"]||"detail"!==a.respone&&"tableConfig"!==a.respone||("[]"!==e.dataSocket["detail"]?(e.nameScreen=e.dataSocket["detail"][0][a.title],e.showDetailForm=!0,e.noDetail=!1):e.noDetail=!0),"listTableMenu"===a.respone?e.$store.commit("setlistTableMenu",e.dataSocket[a.respone]):"loginUser"===a.respone&&e.$store.commit("setloginUser",a["loginUser"]),"0"===String(e.id)&&(e.nameScreen="ThÃªm má»›i dá»¯ liá»‡u",e.showDetailForm=!0,e.noDetail=!1)}).catch(function(e){})}).catch(function(e){})},10)})},methods:{backToList:function(){var e=this,t=e.$router.history.current,a=t.query,s=t.path,n="?";for(var o in a["state_change"]="0",a["renew"]="",a)""!==a[o]&&"undefined"!==a[o]&&void 0!==a[o]&&(n+=o+"="+a[o]+"&");n+="renew="+Math.floor(100*Math.random())+1,e.$router.push({path:s.substring(0,s.indexOf("/editor/"))+n})},deleteRecord:function(){var e=this,t=confirm("Báº¡n cÃ³ muá»‘n xoÃ¡ báº£n ghi nÃ y?");if(t){var a=new URLSearchParams,s={type:"admin",cmd:"delete",respone:"detail",id:e.id,code:e.$router.history.current.params.tableName};a=new URLSearchParams,a.append("text",JSON.stringify(s)),Q.a.post("/o/rest/v2/socket/web",a,{}).then(function(t){var a=t.data;if(e.dataSocket[a.respone]=a[a.respone],"get"!==a["cmd"]){var s=e.$router.history.current,n=s.query,o="?";for(var r in n["state_change"]="0",n["renew"]="",n)""!==n[r]&&"undefined"!==n[r]&&void 0!==n[r]&&(o+=r+"="+n[r]+"&");o+="renew="+Math.floor(100*Math.random())+1,e.$router.push({path:s.path.substring(0,s.path.indexOf("/editor/"))+o})}}).catch(function(e){})}}}},J=W,V=Object(p["a"])(J,j,q,!1,null,null,null);V.options.__file="BbatTableEditor.vue";var H=V.exports,G={props:["tableName"],components:{BbatTable:O},data:function(){return{}}},X=G,Y=Object(p["a"])(X,A,I,!1,null,null,null);Y.options.__file="TableEditor.vue";var Z=Y.exports,ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("bbat-table-editor",{attrs:{"table-name":e.tableName,id:e.id}})],1)},te=[],ae={props:["tableName","id"],components:{BbatTableEditor:H},data:function(){return{}}},se=ae,ne=Object(p["a"])(se,ee,te,!1,null,null,null);ne.options.__file="TableEditorForm.vue";var oe=ne.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("chevron_right")]),e._l(e.breadCrumbsitems,function(t){return a("v-breadcrumbs-item",{key:t.text,attrs:{disabled:t.disabled}},[e._v("\n      "+e._s(t.text)+"\n    ")])}),a("a",{staticStyle:{"text-decoration":"none","font-weight":"bold"},attrs:{href:"javascript:;"}},[e._v("opencps_serviceprocess")])],2),a("v-card",{staticClass:"px-2 mx-1"},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",height:"48"}},[a("v-btn",{attrs:{dark:"",icon:""}},[a("v-icon",[e._v("edit")])],1),a("v-toolbar-title",{staticClass:"ml-0"},[e._v("\n        "+e._s(e.currentProcessName)+"\n      ")]),a("v-spacer"),a("v-icon",{attrs:{dark:""}},[e._v("more_vert")]),a("v-btn",{attrs:{dark:"",icon:""},nativeOn:{click:function(t){return e.backToList(t)}}},[a("v-icon",[e._v("reply")])],1)],1),a("div",{staticClass:"grid-list"},[a("v-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("v-tabs-slider",{attrs:{color:"blue"}}),a("v-tab",{key:"tab-1",attrs:{href:"#tab-1",ripple:""},on:{click:function(t){e.changeTab("process")}}},[e._v("\n          ThÃ´ng tin quy trÃ¬nh\n        ")]),a("v-tab",{key:"tab-2",attrs:{disabled:!(Number(e.id)>0),href:"#tab-2",ripple:""},on:{click:function(t){e.changeTab("step")}}},[e._v("\n          BÆ°á»›c\n        ")]),a("v-tab",{key:"tab-3",attrs:{disabled:!(Number(e.id)>0),href:"#tab-3",ripple:""},on:{click:function(t){e.changeTab("action")}}},[e._v("\n          Thao tÃ¡c\n        ")]),a("v-tab-item",{key:"tab-1",staticClass:"pt-3",attrs:{value:"tab-1",transition:"fade-transition","reverse-transition":"fade-transition"}},[a("v-card",{staticStyle:{"margin-bottom":"40px"}},[a("v-form",{ref:"formAddProcess",staticClass:"px-2",attrs:{"lazy-validation":""},model:{value:e.validAddProcess,callback:function(t){e.validAddProcess=t},expression:"validAddProcess"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{box:"",rules:[e.rules.required],required:""},model:{value:e.currentProcess.processNo,callback:function(t){e.$set(e.currentProcess,"processNo",t)},expression:"currentProcess.processNo"}},[a("template",{slot:"label"},[e._v("Sá»‘ hiá»‡u quy trÃ¬nh "),a("span",{staticClass:"red--text darken-3"},[e._v("*")])])],2)],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{box:"",rules:[e.rules.required],required:""},model:{value:e.currentProcess.processName,callback:function(t){e.$set(e.currentProcess,"processName",t)},expression:"currentProcess.processName"}},[a("template",{slot:"label"},[e._v("TÃªn quy trÃ¬nh "),a("span",{staticClass:"red--text darken-3"},[e._v("*")])])],2)],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{label:"MÃ´ táº£",box:""},model:{value:e.currentProcess.description,callback:function(t){e.$set(e.currentProcess,"description",t)},expression:"currentProcess.description"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pl-0",attrs:{xs12:"",sm7:""}},[a("v-text-field",{attrs:{box:"",rules:[e.rules.required],required:""},model:{value:e.currentProcess.durationCount,callback:function(t){e.$set(e.currentProcess,"durationCount",t)},expression:"currentProcess.durationCount"}},[a("template",{slot:"label"},[e._v("Thá»i gian xá»­ lÃ½ "),a("span",{staticClass:"red--text darken-3"},[e._v("*")])])],2)],1),a("v-flex",{staticClass:"pl-2 pr-0",attrs:{xs12:"",sm5:""}},[a("v-select",{attrs:{box:"",items:[{text:"TÃ­nh theo ngÃ y",value:0},{text:"TÃ­nh theo giá»",value:1}],"item-text":"text","item-value":"value"},model:{value:e.currentProcess.durationUnit,callback:function(t){e.$set(e.currentProcess,"durationUnit",t)},expression:"currentProcess.durationUnit"}})],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pl-0",attrs:{xs12:"",sm4:""}},[a("v-autocomplete",{attrs:{box:"",label:"Vai trÃ² xá»­ lÃ½",items:e.jobposList,"item-text":"title","item-value":"jobPosId","hide-selected":!0,"return-object":"",clearable:""},model:{value:e.processRoleId,callback:function(t){e.processRoleId=t},expression:"processRoleId"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm3:""}},[a("v-select",{attrs:{box:"",items:[{text:"Theo dÃµi",value:0},{text:"Thá»±c hiá»‡n",value:1}],"item-text":"text","item-value":"value",disabled:!e.processRoleId,"return-object":"",cleable:""},model:{value:e.processModerator,callback:function(t){e.processModerator=t},expression:"processModerator"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm3:""}},[a("v-text-field",{attrs:{label:"Äiá»u kiá»‡n phÃ¢n cÃ´ng xá»­ lÃ½",disabled:!e.processRoleId,box:""},model:{value:e.processCondition,callback:function(t){e.processCondition=t},expression:"processCondition"}})],1),a("v-flex",{staticClass:"pl-2 text-xs-right",attrs:{xs12:"",sm2:""}},[a("v-btn",{staticClass:"mr-0",attrs:{color:"blue darken-3",dark:"",disabled:!e.processRoleId},on:{click:e.createItemRole}},[a("v-icon",{attrs:{size:"24"}},[e._v("add")]),e._v("Â \n                        ThÃªm\n                      ")],1)],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[e.processRoleList.length>0?a("v-data-table",{staticClass:"elevation-1 table-bordered",staticStyle:{border:"1px solid #dedede"},attrs:{headers:e.headerProcessRoles,items:e.processRoleList,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-left",attrs:{width:"40%"}},[e._v(e._s(t.item.roleName))]),a("td",{staticClass:"text-xs-left",attrs:{width:"25%"}},[e._v(e._s(e._f("moderatorText")(t.item.moderator)))]),a("td",{staticClass:"text-xs-left",attrs:{width:"25%"}},[e._v(e._s(t.item.condition))]),a("td",{staticClass:"text-xs-center px-0",attrs:{width:"10%"}},[a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(a){e.deleteProcessRoles(t.item,t.index)}}},[e._v("\n                              delete\n                            ")])],1)]}}])}):e._e()],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pl-0",attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{label:"TÃªn tiáº¿n trÃ¬nh",box:""},model:{value:e.sequenceName,callback:function(t){e.sequenceName=t},expression:"sequenceName"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm2:""}},[a("v-text-field",{attrs:{label:"Thá»© tá»± thá»±c hiá»‡n",box:""},model:{value:e.sequenceNo,callback:function(t){e.sequenceNo=t},expression:"sequenceNo"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm2:""}},[a("v-text-field",{attrs:{label:"Vai trÃ² thá»±c hiá»‡n",box:""},model:{value:e.sequenceRole,callback:function(t){e.sequenceRole=t},expression:"sequenceRole"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm2:""}},[a("v-text-field",{attrs:{label:"Thá»i háº¡n",box:"",type:"Number"},model:{value:e.sequenceDurationCount,callback:function(t){e.sequenceDurationCount=t},expression:"sequenceDurationCount"}})],1),a("v-flex",{staticClass:"pl-2 text-xs-right",attrs:{xs12:"",sm2:""}},[a("v-btn",{staticClass:"mr-0",attrs:{color:"blue darken-3",dark:"",disabled:!(e.sequenceName&&e.sequenceRole&&e.sequenceNo&&e.sequenceDurationCount)},on:{click:e.createItemSequence}},[a("v-icon",{attrs:{size:"24"}},[e._v("add")]),e._v("Â \n                        ThÃªm\n                      ")],1)],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[e.processSequenceList.length>0?a("v-data-table",{staticClass:"elevation-1 table-bordered",staticStyle:{border:"1px solid #dedede"},attrs:{headers:e.headerProcessSequence,items:e.processSequenceList,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-left",attrs:{width:"30%"}},[e._v(e._s(t.item.sequenceName))]),a("td",{staticClass:"text-xs-left",attrs:{width:"15%"}},[e._v(e._s(t.item.sequenceNo))]),a("td",{staticClass:"text-xs-left",attrs:{width:"30%"}},[e._v(e._s(t.item.sequenceRole))]),a("td",{staticClass:"text-xs-left",attrs:{width:"15%"}},[e._v(e._s(t.item.durationCount))]),a("td",{staticClass:"text-xs-center px-0",attrs:{width:"10%"}},[a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(a){e.deleteProcessSequence(t.item,t.index)}}},[e._v("\n                              delete\n                            ")])],1)]}}])}):e._e()],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[a("v-switch",{attrs:{label:"Táº¡o sá»‘ tiáº¿p nháº­n há»“ sÆ¡"},model:{value:e.currentProcess.generateDossierNo,callback:function(t){e.$set(e.currentProcess,"generateDossierNo",t)},expression:"currentProcess.generateDossierNo"}}),a("v-text-field",{attrs:{box:"",rules:e.currentProcess.generateDossierNo?[e.rules.required]:[],required:e.currentProcess.generateDossierNo,disabled:!e.currentProcess.generateDossierNo},model:{value:e.currentProcess.dossierNoPattern,callback:function(t){e.$set(e.currentProcess,"dossierNoPattern",t)},expression:"currentProcess.dossierNoPattern"}},[a("template",{slot:"label"},[e._v("Cáº¥u hÃ¬nh sinh mÃ£ sá»‘ há»“ sÆ¡ "),e.currentProcess.generateDossierNo?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2)],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm6:""}},[a("v-switch",{attrs:{label:"Sinh ngÃ y háº¹n tráº£ há»“ sÆ¡"},model:{value:e.currentProcess.generateDueDate,callback:function(t){e.$set(e.currentProcess,"generateDueDate",t)},expression:"currentProcess.generateDueDate"}}),a("v-text-field",{attrs:{box:"",rules:e.currentProcess.generateDueDate?[e.rules.required]:[],required:e.currentProcess.generateDueDate,disabled:!e.currentProcess.generateDueDate},model:{value:e.currentProcess.dueDatePattern,callback:function(t){e.$set(e.currentProcess,"dueDatePattern",t)},expression:"currentProcess.dueDatePattern"}},[a("template",{slot:"label"},[e._v("Cáº¥u hÃ¬nh sinh ngÃ y háº¹n tráº£ "),e.currentProcess.generateDueDate?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2)],1)],1)],1),a("v-flex",{staticClass:"mt-2",attrs:{xs12:"",sm12:""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-switch",{attrs:{label:"Sinh máº­t mÃ£ tra cá»©u há»“ sÆ¡"},model:{value:e.currentProcess.generatePassword,callback:function(t){e.$set(e.currentProcess,"generatePassword",t)},expression:"currentProcess.generatePassword"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-switch",{attrs:{label:"Gá»­i thÃ´ng bÃ¡o cho chá»§ há»“ sÆ¡"},model:{value:e.currentProcess.directNotification,callback:function(t){e.$set(e.currentProcess,"directNotification",t)},expression:"currentProcess.directNotification"}})],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{box:"",rules:[e.rules.required],required:""},model:{value:e.currentProcess.serverNo,callback:function(t){e.$set(e.currentProcess,"serverNo",t)},expression:"currentProcess.serverNo"}},[a("template",{slot:"label"},[e._v("Server Ä‘á»“ng bá»™  "),a("span",{staticClass:"red--text darken-3"},[e._v("*")])])],2)],1)],1),a("v-flex",{staticClass:"text-right pr-3",staticStyle:{position:"fixed",bottom:"0",width:"calc( 100% - 300px )",background:"white","z-index":"2"},attrs:{xs12:""}},[0===e.id||"0"===e.id?a("v-btn",{attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:function(t){e.updateProcess("add")}}},[a("v-icon",[e._v("add_circle_outline")]),e._v("Â \n                  ThÃªm má»›i\n                ")],1):a("v-btn",{attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:function(t){e.updateProcess("update")}}},[a("v-icon",[e._v("save")]),e._v("Â \n                  Cáº­p nháº­t\n                ")],1),a("v-btn",{staticClass:"mr-0",attrs:{color:"red darken-3",dark:""},nativeOn:{click:function(t){return e.backToList(t)}}},[a("v-icon",[e._v("reply")]),e._v("Â \n                  Quay láº¡i\n                ")],1)],1)],1)],1)],1),a("v-tab-item",{key:"tab-2",attrs:{value:"tab-2",transition:"fade-transition","reverse-transition":"fade-transition"}},[e.activeStepDetail?a("v-card",{staticClass:"pt-2",staticStyle:{"margin-bottom":"40px"}},[a("v-form",{ref:"formAddStep",staticClass:"px-2",attrs:{"lazy-validation":""},model:{value:e.validAddStep,callback:function(t){e.validAddStep=t},expression:"validAddStep"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{box:"",rules:[e.rules.required],required:""},model:{value:e.currentStep.stepName,callback:function(t){e.$set(e.currentStep,"stepName",t)},expression:"currentStep.stepName"}},[a("template",{slot:"label"},[e._v("TÃªn bÆ°á»›c  "),a("span",{staticClass:"red--text darken-3"},[e._v("*")])])],2)],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Sá»‘ thá»© tá»±",box:""},model:{value:e.currentStep.sequenceNo,callback:function(t){e.$set(e.currentStep,"sequenceNo",t)},expression:"currentStep.sequenceNo"}})],1),a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{box:"",items:e.dossierStatusList,"item-text":"itemName","item-value":"itemCode","hide-selected":!0,clearable:"",rules:[e.rules.required],required:""},on:{change:e.changeDossierStatus},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-flex",{attrs:{xs12:""}},[e._v(e._s(t.item.itemCode)+" - "+e._s(t.item.itemName))])]}}]),model:{value:e.currentStep.dossierStatus,callback:function(t){e.$set(e.currentStep,"dossierStatus",t)},expression:"currentStep.dossierStatus"}},[a("template",{slot:"label"},[e._v("Tráº¡ng thÃ¡i chÃ­nh  "),a("span",{staticClass:"red--text darken-3"},[e._v("*")])])],2)],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{box:"",rules:[e.rules.required],required:""},model:{value:e.currentStep.stepCode,callback:function(t){e.$set(e.currentStep,"stepCode",t)},expression:"currentStep.stepCode"}},[a("template",{slot:"label"},[e._v("MÃ£ bÆ°á»›c quy trÃ¬nh "),a("span",{staticClass:"red--text darken-3"},[e._v("*")])])],2)],1),a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{box:"",label:"Tráº¡ng thÃ¡i phá»¥",items:e.dossierSubStatusList,"item-text":"itemName","item-value":"itemCode","hide-selected":!0,clearable:""},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-flex",{attrs:{xs12:""}},[e._v(e._s(t.item.itemCode)+" - "+e._s(t.item.itemName))])]}}]),model:{value:e.currentStep.dossierSubStatus,callback:function(t){e.$set(e.currentStep,"dossierSubStatus",t)},expression:"currentStep.dossierSubStatus"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Thá»i gian xá»­ lÃ½",box:""},model:{value:e.currentStep.durationCount,callback:function(t){e.$set(e.currentStep,"durationCount",t)},expression:"currentStep.durationCount"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pl-0",attrs:{xs12:"",sm3:""}},[a("v-autocomplete",{attrs:{label:"Vai trÃ² xá»­ lÃ½",box:"",items:e.jobposList,"item-text":"title","item-value":"jobPosId","hide-selected":!0,"return-object":"",clearable:""},model:{value:e.stepRoleId,callback:function(t){e.stepRoleId=t},expression:"stepRoleId"}})],1),a("v-flex",{staticClass:"px-2",attrs:{xs12:"",sm3:""}},[a("v-select",{attrs:{box:"",items:[{text:"Theo dÃµi",value:0},{text:"Thá»±c hiá»‡n",value:1}],"item-text":"text","item-value":"value",disabled:!e.stepRoleId,"return-object":"",cleable:""},model:{value:e.stepModerator,callback:function(t){e.stepModerator=t},expression:"stepModerator"}})],1),a("v-flex",{staticClass:"pl-1",attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{label:"Äiá»u kiá»‡n phÃ¢n cÃ´ng xá»­ lÃ½",disabled:!e.stepRoleId,box:""},model:{value:e.stepCondition,callback:function(t){e.stepCondition=t},expression:"stepCondition"}})],1),a("v-flex",{staticClass:"pl-2 text-xs-right",attrs:{xs12:"",sm2:""}},[a("v-btn",{staticClass:"mr-0",attrs:{color:"blue darken-3",dark:"",disabled:!e.stepRoleId},on:{click:e.createItemStepRole}},[a("v-icon",{attrs:{size:"24"}},[e._v("add")]),e._v("Â \n                        ThÃªm\n                      ")],1)],1)],1)],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[e.stepRoleList.length>0?a("v-data-table",{staticClass:"elevation-1 table-bordered",staticStyle:{border:"1px solid #dedede"},attrs:{headers:e.headerProcessRoles,items:e.stepRoleList,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-left",attrs:{width:"40%"}},[e._v(e._s(t.item.roleName))]),a("td",{staticClass:"text-xs-left",attrs:{width:"25%"}},[e._v(e._s(e._f("moderatorText")(t.item.moderator)))]),a("td",{staticClass:"text-xs-left",attrs:{width:"25%"}},[e._v(e._s(t.item.condition))]),a("td",{staticClass:"text-xs-center px-0",attrs:{width:"10%"}},[a("v-icon",{attrs:{color:"red",small:""},on:{click:function(a){e.deleteStepRoles(t.item,t.index)}}},[e._v("\n                          delete\n                        ")])],1)]}}])}):e._e()],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{label:"HÆ°á»›ng dáº«n",box:"",row:""},model:{value:e.currentStep.stepInstruction,callback:function(t){e.$set(e.currentStep,"stepInstruction",t)},expression:"currentStep.stepInstruction"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{label:"TÃ³m táº¯t há»“ sÆ¡",box:""},model:{value:e.currentStep.briefNote,callback:function(t){e.$set(e.currentStep,"briefNote",t)},expression:"currentStep.briefNote"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{label:"NhÃºng ajax cá»§a pháº§n nghiá»‡p vá»¥",box:""},model:{value:e.currentStep.customProcessUrl,callback:function(t){e.$set(e.currentStep,"customProcessUrl",t)},expression:"currentStep.customProcessUrl"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{box:"",label:"Hiá»ƒn thá»‹ thÃ nh pháº§n Ä‘áº§u vÃ o",items:[{text:"Kiá»ƒm tra há»“ sÆ¡ Ä‘áº§u vÃ o",value:1},{text:"Bá»• sung, hoÃ n thiá»‡n há»“ sÆ¡ Ä‘áº§u vÃ o",value:2}],"item-text":"text","item-value":"value",clearable:""},model:{value:e.currentStep.checkInput,callback:function(t){e.$set(e.currentStep,"checkInput",t)},expression:"currentStep.checkInput"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm6:""}},[a("v-switch",{attrs:{label:"Cho phÃ©p sá»­a há»“ sÆ¡"},model:{value:e.currentStep.editable,callback:function(t){e.$set(e.currentStep,"editable",t)},expression:"currentStep.editable"}})],1)],1),a("v-flex",{staticClass:"text-right pr-3",staticStyle:{position:"fixed",bottom:"0",width:"calc( 100% - 300px )",background:"white","z-index":"2"},attrs:{xs12:""}},[0===e.currentStepId||"0"===e.currentStepId?a("v-btn",{attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:function(t){e.updateStep("add")}}},[a("v-icon",[e._v("add_circle_outline")]),e._v("Â \n                  ThÃªm má»›i\n                ")],1):a("v-btn",{attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:function(t){e.updateStep("update")}}},[a("v-icon",[e._v("save")]),e._v("Â \n                  Cáº­p nháº­t\n                ")],1),a("v-btn",{attrs:{color:"red darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:e.goBackStepList}},[a("v-icon",[e._v("reply")]),e._v("Â \n                  Quay láº¡i\n                ")],1)],1)],1)],1):a("v-card",{staticClass:"py-2 px-2",staticStyle:{"margin-bottom":"40px"}},[a("v-btn",{staticClass:"mb-3",attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:e.createStep}},[a("v-icon",[e._v("add_circle_outline")]),e._v("Â \n              ThÃªm bÆ°á»›c xá»­ lÃ½\n            ")],1),a("v-data-table",{staticClass:"elevation-1 table-bordered",staticStyle:{border:"1px solid #dedede"},attrs:{headers:e.headerStep,items:e.stepList,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-center",attrs:{width:"5%"}},[a("div",[a("span",[e._v(e._s(10*e.pageStep-10+t.index+1))])])]),a("td",{staticClass:"text-xs-left",attrs:{width:"35%"}},[e._v(e._s(t.item.stepName))]),a("td",{staticClass:"text-xs-left",attrs:{width:"15%"}},[e._v(e._s(t.item.stepCode))]),a("td",{staticClass:"text-xs-left",attrs:{width:"20%"}},[e._v(e._s(t.item.dossierStatusText))]),a("td",{staticClass:"text-xs-center",attrs:{width:"10%"}},[e._v(e._s(t.item.durationCount))]),a("td",{staticClass:"text-xs-center px-0",attrs:{width:"15%"}},[a("v-icon",{staticClass:"mr-3",attrs:{small:"",color:"blue"},on:{click:function(a){e.editStep(t.item)}}},[e._v("\n                    edit\n                  ")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(a){e.deleteStep(t.item)}}},[e._v("\n                    delete\n                  ")])],1)]}}])},[a("template",{slot:"no-data"})],2),a("v-flex",{staticClass:"text-right",staticStyle:{position:"fixed",bottom:"0",width:"calc( 100% - 300px )",background:"white","z-index":"2"},attrs:{xs12:""}},[a("div",{staticClass:"text-xs-right layout wrap mt-2 pr-2",staticStyle:{position:"relative"}},[a("v-flex",{attrs:{xs12:""}},[a("tiny-pagination",{attrs:{total:e.pageTotalStep,page:e.pageStep,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingStepData}})],1)],1)])],1)],1),a("v-tab-item",{key:"tab-3",attrs:{value:"tab-3",transition:"fade-transition","reverse-transition":"fade-transition"}},[e.activeActionDetail?a("v-card",{staticClass:"pt-2",staticStyle:{"margin-bottom":"40px"}},[a("v-form",{ref:"formAddAction",staticClass:"px-2",attrs:{"lazy-validation":""},model:{value:e.validAddAction,callback:function(t){e.validAddAction=t},expression:"validAddAction"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{box:"",rules:[e.rules.required],required:""},model:{value:e.currentAction.actionName,callback:function(t){e.$set(e.currentAction,"actionName",t)},expression:"currentAction.actionName"}},[a("template",{slot:"label"},[e._v("TÃªn thao tÃ¡c "),a("span",{staticClass:"red--text darken-3"},[e._v("*")])])],2)],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{box:""},model:{value:e.currentAction.actionCode,callback:function(t){e.$set(e.currentAction,"actionCode",t)},expression:"currentAction.actionCode"}},[a("template",{slot:"label"},[e._v("MÃ£ thao tÃ¡c "),a("span",{staticClass:"red--text darken-3"},[e._v("*")])])],2)],1),a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Äiá»u kiá»‡n kiá»ƒm tra",box:""},model:{value:e.currentAction.preCondition,callback:function(t){e.$set(e.currentAction,"preCondition",t)},expression:"currentAction.preCondition"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{box:"",label:"KÃ­ch hoáº¡t sá»± kiá»‡n",items:e.autoEventList,"item-text":"text","item-value":"value","hide-selected":!0,clearable:""},model:{value:e.currentAction.autoEvent,callback:function(t){e.$set(e.currentAction,"autoEvent",t)},expression:"currentAction.autoEvent"}})],1),a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{label:"BÆ°á»›c thá»±c hiá»‡n thao tÃ¡c",box:"",items:e.stepListAction,"item-text":"stepName","item-value":"stepCode","hide-selected":!0,clearable:""},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-flex",{attrs:{xs12:""}},[e._v(e._s(t.item.stepCode)+" - "+e._s(t.item.stepName))])]}}]),model:{value:e.currentAction.preStepCode,callback:function(t){e.$set(e.currentAction,"preStepCode",t)},expression:"currentAction.preStepCode"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{box:"",label:"BÆ°á»›c sau thá»±c hiá»‡n thao tÃ¡c",items:e.stepListAction,"item-text":"stepName","item-value":"stepCode","hide-selected":!0,clearable:""},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-flex",{attrs:{xs12:""}},[e._v(e._s(t.item.stepCode)+" - "+e._s(t.item.stepName))])]}}]),model:{value:e.currentAction.postStepCode,callback:function(t){e.$set(e.currentAction,"postStepCode",t)},expression:"currentAction.postStepCode"}})],1),a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{box:"",label:"PhÃ¢n cÃ´ng ngÆ°á»i thá»±c hiá»‡n",items:e.assignTypeList,"item-text":"text","item-value":"value","hide-selected":!0,clearable:""},model:{value:e.currentAction.allowAssignUser,callback:function(t){e.$set(e.currentAction,"allowAssignUser",t)},expression:"currentAction.allowAssignUser"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm6:""}},[a("v-switch",{attrs:{label:"Cho phÃ©p rollback"},model:{value:e.currentAction.rollbackable,callback:function(t){e.$set(e.currentAction,"rollbackable",t)},expression:"currentAction.rollbackable"}})],1),a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{box:"",label:"NgÆ°á»i Ä‘Æ°á»£c chá»n ngáº§m Ä‘á»‹nh",items:e.employeeList,"item-text":"fullName","item-value":"employeeId","hide-selected":!0,clearable:""},model:{value:e.currentAction.assignUserId,callback:function(t){e.$set(e.currentAction,"assignUserId",t)},expression:"currentAction.assignUserId"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-autocomplete",{attrs:{box:"",label:"Máº«u há»“ sÆ¡",items:e.dossierTemplateList,"item-text":"templateName","item-value":"dossierTemplateId","hide-selected":!0,clearable:""},model:{value:e.currentAction.dossierTemplateNo,callback:function(t){e.$set(e.currentAction,"dossierTemplateNo",t)},expression:"currentAction.dossierTemplateNo"}})],1),a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{box:"",label:"TÃ i liá»‡u táº¡o má»›i",items:e.dossierPartList,"item-text":"partName","item-value":"fileTemplateNo",multiple:"",clearable:""},scopedSlots:e._u([{key:"selection",fn:function(t){var s=t.item,n=t.index;return[a("v-flex",{attrs:{xs12:""}},[e._v(e._s(n+1)+". "+e._s(s.partName))])]}}]),model:{value:e.currentAction.createDossierFiles,callback:function(t){e.$set(e.currentAction,"createDossierFiles",t)},expression:"currentAction.createDossierFiles"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm6:""}},[a("v-autocomplete",{attrs:{box:"",label:"Káº¿t quáº£ tráº£ vá»",items:e.dossierPartList,"item-text":"partName","item-value":"fileTemplateNo",multiple:"",clearable:""},scopedSlots:e._u([{key:"selection",fn:function(t){var s=t.item,n=t.index;return[a("v-flex",{attrs:{xs12:""}},[e._v(e._s(n+1)+". "+e._s(s.partName))])]}}]),model:{value:e.currentAction.returnDossierFiles,callback:function(t){e.$set(e.currentAction,"returnDossierFiles",t)},expression:"currentAction.returnDossierFiles"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-select",{attrs:{box:"",label:"YÃªu cáº§u thanh toÃ¡n",items:e.requestPaymentList,"item-text":"text","item-value":"value","hide-selected":!0},model:{value:e.currentAction.requestPayment,callback:function(t){e.$set(e.currentAction,"requestPayment",t)},expression:"currentAction.requestPayment"}})],1),Number(e.currentAction.requestPayment)>0?a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{label:"Chuá»—i cáº¥u hÃ¬nh tÃ­nh phÃ­",box:""},model:{value:e.currentAction.paymentFee,callback:function(t){e.$set(e.currentAction,"paymentFee",t)},expression:"currentAction.paymentFee"}})],1):e._e(),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{label:"MÃ£ Ä‘á»“ng bá»™",box:""},model:{value:e.currentAction.syncActionCode,callback:function(t){e.$set(e.currentAction,"syncActionCode",t)},expression:"currentAction.syncActionCode"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-autocomplete",{attrs:{box:"",label:"Cáº¥u hÃ¬nh cÆ¡ quan",items:e.agencyLists,"item-text":"itemName","item-value":"itemCode",multiple:"",clearable:""},model:{value:e.currentAction.createDossier,callback:function(t){e.$set(e.currentAction,"createDossier",t)},expression:"currentAction.createDossier"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{label:"Cáº¥u hÃ¬nh panel nháº­p Ã½ kiáº¿n",box:""},model:{value:e.currentAction.configNote,callback:function(t){e.$set(e.currentAction,"configNote",t)},expression:"currentAction.configNote"}})],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm3:""}},[a("v-switch",{attrs:{label:"Sinh mÃ£ sá»‘ tiáº¿p nháº­n"},model:{value:e.currentAction.createDossierNo,callback:function(t){e.$set(e.currentAction,"createDossierNo",t)},expression:"currentAction.createDossierNo"}})],1),a("v-flex",{staticClass:"pl-2",attrs:{xs12:"",sm2:""}},[a("v-switch",{attrs:{label:"CÃ³ kÃ½ sá»‘ Ä‘iá»‡n tá»­"},model:{value:e.currentAction.eSignature,callback:function(t){e.$set(e.currentAction,"eSignature",t)},expression:"currentAction.eSignature"}})],1),e.currentAction.eSignature?a("v-select",{staticClass:"pl-2",attrs:{xs12:"",sm3:"",box:"",label:"HÃ¬nh thá»©c xÃ¡c nháº­n",items:e.esignatureTypeList,"item-text":"text","item-value":"value",clearable:""},model:{value:e.currentAction.signatureType,callback:function(t){e.$set(e.currentAction,"signatureType",t)},expression:"currentAction.signatureType"}}):e._e()],1)],1)],1),a("v-flex",{staticClass:"text-right pr-3",staticStyle:{position:"fixed",bottom:"0",width:"calc( 100% - 300px )",background:"white","z-index":"2"},attrs:{xs12:""}},[0===e.currentActionId||"0"===e.currentActionId?a("v-btn",{attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:function(t){e.updateAction("add")}}},[a("v-icon",[e._v("add_circle_outline")]),e._v("Â \n                  ThÃªm má»›i\n                ")],1):a("v-btn",{attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:function(t){e.updateAction("update")}}},[a("v-icon",[e._v("save")]),e._v("Â \n                  Cáº­p nháº­t\n                ")],1),a("v-btn",{attrs:{color:"red darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:e.goBackActionList}},[a("v-icon",[e._v("reply")]),e._v("Â \n                  Quay láº¡i\n                ")],1)],1)],1)],1):a("v-card",{staticClass:"py-2 px-2",staticStyle:{"margin-bottom":"40px"}},[a("v-btn",{staticClass:"mb-3",attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:e.createAction}},[a("v-icon",[e._v("add_circle_outline")]),e._v("Â \n              ThÃªm thao tÃ¡c\n            ")],1),a("v-data-table",{staticClass:"elevation-1 table-bordered",staticStyle:{border:"1px solid #dedede"},attrs:{headers:e.headerAction,items:e.actionList,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-center",attrs:{width:"5%"}},[a("div",[a("span",[e._v(e._s(10*e.pageAction-10+t.index+1))])])]),a("td",{staticClass:"text-xs-left",attrs:{width:"20%"}},[e._v(e._s(t.item.actionName))]),a("td",{staticClass:"text-xs-left",attrs:{width:"10%"}},[e._v(e._s(t.item.actionCode))]),a("td",{staticClass:"text-xs-left",attrs:{width:"25%"}},[e._v(e._s(t.item.preStepName))]),a("td",{staticClass:"text-xs-left",attrs:{width:"25%"}},[e._v(e._s(t.item.postStepName))]),a("td",{staticClass:"text-xs-center px-0",attrs:{width:"15%"}},[a("v-icon",{staticClass:"mr-3",attrs:{small:"",color:"blue"},on:{click:function(a){e.editAction(t.item)}}},[e._v("\n                    edit\n                  ")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(a){e.deleteAction(t.item)}}},[e._v("\n                    delete\n                  ")])],1)]}}])},[a("template",{slot:"no-data"})],2),a("v-flex",{staticClass:"text-right",staticStyle:{position:"fixed",bottom:"0",width:"calc( 100% - 300px )",background:"white","z-index":"2"},attrs:{xs12:""}},[a("div",{staticClass:"text-xs-right layout wrap mt-2 pr-2",staticStyle:{position:"relative"}},[a("v-flex",{attrs:{xs12:""}},[a("tiny-pagination",{attrs:{total:e.pageTotalAction,page:e.pageAction,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingActionData}})],1)],1)])],1)],1)],1)],1)],1)],1)},ie=[],ce=a("3f3e"),le={props:["id"],components:{"tiny-pagination":ce["a"]},data:function(){return{breadCrumbsitems:[{text:"Báº£ng dá»¯ liá»‡u",disabled:!1},{text:"",disabled:!1}],nameScreen:"",currentProcessName:"",processRoleId:"",processModerator:"",processCondition:"",sequenceName:"",sequenceNo:"",sequenceRole:"",sequenceDurationCount:"",stepRoleId:"",stepModerator:"",stepCondition:"",activeStep:!1,activeStepDetail:!1,currentStepId:"",activeAction:!1,activeActionDetail:!1,currentActionId:"",loading:!1,active:null,processRoleList:[],processSequenceList:[],stepRoleList:[],headerProcessRoles:[{text:"TÃªn",align:"center",sortable:!1},{text:"Vai trÃ²",align:"center",sortable:!1},{text:"Äiá»u kiá»‡n",align:"center",sortable:!1},{text:"Thao tÃ¡c",align:"center",sortable:!1}],headerProcessSequence:[{text:"TÃªn tiáº¿n trÃ¬nh",align:"center",sortable:!1},{text:"Thá»© tá»± thá»±c hiá»‡n",align:"center",sortable:!1},{text:"Vai trÃ²",align:"center",sortable:!1},{text:"Háº¡n xá»­ lÃ½",align:"center",sortable:!1},{text:"Thao tÃ¡c",align:"center",sortable:!1}],currentProcess:{processNo:"",processName:"",description:"",durationCount:"",durationUnit:0,roleId:"",condition:"",moderator:0,serverNo:"",generateDossierNo:"",dossierNoPattern:"",generateDueDate:"",dueDatePattern:"",generatePassword:!1,directNotification:!1},validAddProcess:!1,pageTotalStep:0,pageStep:1,headerStep:[{text:"STT",align:"center",sortable:!1},{text:"TÃªn bÆ°á»›c",align:"center",sortable:!1},{text:"MÃ£ bÆ°á»›c",align:"center",sortable:!1},{text:"Tráº¡ng thÃ¡i",align:"center",sortable:!1},{text:"Thá»i gian xá»­ lÃ½",align:"center",sortable:!1},{text:"Thao tÃ¡c",align:"center",sortable:!1}],stepList:[],stepListAction:[],listStepPage:1,listActionPage:1,currentStep:{stepName:"",dossierStatus:"",dossierSubStatus:"",durationCount:"",stepCode:"",roleId:"",moderator:0,condition:"",stepInstruction:"",briefNote:"",customProcessUrl:"",sequenceNo:"",editable:!1,checkInput:""},validAddStep:!1,pageTotalAction:0,pageAction:1,headerAction:[{text:"STT",align:"center",sortable:!1},{text:"TÃªn thao tÃ¡c",align:"center",sortable:!1},{text:"MÃ£ thao tÃ¡c",align:"center",sortable:!1},{text:"BÆ°á»›c thá»±c hiá»‡n thao tÃ¡c",align:"center",sortable:!1},{text:"BÆ°á»›c sau",align:"center",sortable:!1},{text:"Thao tÃ¡c",align:"center",sortable:!1}],actionList:[],stepActionList:[],autoEventList:[{text:"listener",value:"listener"},{text:"timmer",value:"timmer"},{text:"special",value:"special"}],assignTypeList:[{text:"KhÃ´ng phÃ¢n cÃ´ng",value:0},{text:"Chá»‰ phÃ¢n cÃ´ng ngÆ°á»i thá»±c hiá»‡n",value:1},{text:"PhÃ¢n cÃ´ng thá»±c hiá»‡n vÃ  phá»‘i há»£p",value:2},{text:"PhÃ¢n cÃ´ng thá»±c hiá»‡n,phá»‘i há»£p vÃ  theo dÃµi",value:3}],dossierTemplateList:[],dossierPartList:[],agencyLists:[],employeeList:[],requestPaymentList:[{text:"KhÃ´ng thay Ä‘á»•i tráº¡ng thÃ¡i",value:0},{text:"YÃªu cáº§u ná»™p tiá»n táº¡m á»©ng",value:1},{text:"YÃªu cáº§u quyáº¿t toÃ¡n phÃ­",value:2},{text:"BÃ¡o Ä‘Ã£ ná»™p phÃ­ trá»±c tuyáº¿n",value:3},{text:"YÃªu cáº§u ná»™p láº¡i phÃ­ trá»±c tuyáº¿n",value:4},{text:"XÃ¡c nháº­n hoÃ n thÃ nh thu phÃ­",value:5}],currentAction:{actionName:"",actionCode:"",preCondition:"",autoEvent:"",preStepCode:"",postStepCode:"",allowAssignUser:"",rollbackable:!1,dossierTemplateNo:"",createDossierFiles:[],returnDossierFiles:[],requestPayment:0,paymentFee:"",createDossier:[],syncActionCode:"",configNote:"",createDossierNo:!1,eSignature:!1,signatureType:"digital"},esignatureTypeList:[{text:"Sá»­ dá»¥ng chá»¯ kÃ­ sá»‘",value:"digital"},{text:"Sá»­ dá»¥ng captcha",value:"captcha"},{text:"Nháº­p máº­t kháº©u ngÆ°á»i dÃ¹ng",value:"password"},{text:"Nháº­p mÃ£ pin",value:"pin"}],validAddAction:!1,rules:{required:function(e){return!!e||0===e||"TrÆ°á»ng dá»¯ liá»‡u báº¯t buá»™c"}}}},created:function(){var e=this;e.$nextTick(function(){var t=e.$router.history.current.query,a=e.$router.history.current.params;console.log("currentParams",a),e.getJobpos(),e.getDossierStatus(),e.activeStep=t.hasOwnProperty("step")&&"true"===t.step,e.activeStepDetail=e.activeStep&&t.hasOwnProperty("stepCode")&&t.stepCode,e.currentStepId=e.activeStep&&t.hasOwnProperty("stepCode")&&t.stepCode?Number(t.stepCode):0,e.activeAction=t.hasOwnProperty("action")&&"true"===t.action,e.activeActionDetail=e.activeAction&&t.hasOwnProperty("actionCode")&&t.actionCode,e.currentActionId=e.activeAction&&t.hasOwnProperty("actionCode")&&t.actionCode?Number(t.actionCode):0,console.log("currentActionId",e.currentActionId),e.activeStep?e.active="tab-2":e.activeAction&&(e.active="tab-3"),e.doDetailContent()})},computed:{jobposList:function(){return this.$store.getters.getJobPosList},dossierStatusList:function(){return this.$store.getters.getDossierStatusList},dossierSubStatusList:function(){return this.$store.getters.getDossierSubStatusList},templateNoAction:function(){return this.currentAction.dossierTemplateNo}},watch:{$route:function(e){var t=this,a=e.query;t.activeStep=a.hasOwnProperty("step")&&"true"===a.step,t.activeStepDetail=t.activeStep&&a.hasOwnProperty("stepCode")&&a.stepCode,t.currentStepId=t.activeStep&&a.hasOwnProperty("stepCode")&&a.stepCode?Number(a.stepCode):0,t.activeAction=a.hasOwnProperty("action")&&"true"===a.action,t.activeActionDetail=t.activeAction&&a.hasOwnProperty("actionCode")&&a.actionCode,t.currentActionId=t.activeAction&&a.hasOwnProperty("actionCode")&&a.actionCode?Number(a.actionCode):0,t.activeStep?t.active="tab-2":t.activeAction?t.active="tab-3":t.active="tab-1",t.doDetailContent()},templateNoAction:function(e){e?this.getDossierParts():(this.currentAction.createDossierFiles="",this.currentAction.returnDossierFiles="")}},methods:{getJobpos:function(){var e=this;e.$store.dispatch("getJobposList").then(function(t){e.$store.commit("setJobPosList",t)}).catch(function(e){console.log(e)})},getDossierStatus:function(){var e=this;e.$store.dispatch("getDossierStatusList").then(function(t){e.$store.commit("setDossierStatusList",t)}).catch(function(e){console.log(e)})},changeDossierStatus:function(){var e=this,t=e.currentStep.dossierStatus;t?e.getDossierSubStatus(t):e.$store.commit("setDossierSubStatusList",[])},getDossierSubStatus:function(e){var t=this;t.$store.dispatch("getDossierSubStatusList",e).then(function(e){t.$store.commit("setDossierSubStatusList",e)}).catch(function(e){console.log(e)})},getProcessDetail:function(e){var t=this;t.$store.dispatch("getProcessDetail",e).then(function(e){t.currentProcess=e,t.currentProcessName=e.processName,t.getProcessRoles(),t.getProcessSequence()}).catch(function(e){console.log(e)})},getProcessStepsDetail:function(e){var t=this,a={processId:t.id,stepCode:e};t.$store.dispatch("getProcessStepsDetail",a).then(function(e){t.currentStep=e,t.getStepRoles(e.stepCode),t.changeDossierStatus()}).catch(function(e){console.log(e)})},getAgencyLists:function(){var e=this;e.$store.dispatch("getAgencyLists").then(function(t){e.agencyLists=t}).catch(function(e){console.log(e)})},getEmployees:function(){var e=this;e.$store.dispatch("getEmployee").then(function(t){e.employeeList=t}).catch(function(e){console.log(e)})},getDossierTemplates:function(){var e=this;e.$store.dispatch("getDossierTemplate").then(function(t){e.dossierTemplateList=t}).catch(function(e){console.log(e)})},getDossierParts:function(){var e=this;console.log("vm.currentAction.dossierTemplateNo",e.currentAction.dossierTemplateNo),e.currentAction.dossierTemplateNo?e.$store.dispatch("getDossierPart",e.currentAction.dossierTemplateNo).then(function(t){e.dossierPartList=t}).catch(function(e){console.log(e)}):e.dossierPartList=[]},paggingStepData:function(e){var t=this,a=t.$router.history.current,s=a.query,n="?";for(var o in s["page"]="",s)""!==s[o]&&"undefined"!==s[o]&&void 0!==s[o]&&null!==s[o]&&"null"!==s[o]&&(n+=o+"="+s[o]+"&");n+="page="+e.page,t.$router.push({path:a.path+n})},paggingActionData:function(e){var t=this,a=t.$router.history.current,s=a.query,n="?";for(var o in s["page"]="",s)""!==s[o]&&"undefined"!==s[o]&&void 0!==s[o]&&null!==s[o]&&"null"!==s[o]&&(n+=o+"="+s[o]+"&");n+="page="+e.page,t.$router.push({path:a.path+n})},getProcessSteps:function(e){var t=this,a=t.$router.history.current.query,s={processId:e,page:a.page?a.page:1};t.pageStep=a.page?Number(a.page):1,t.pageTotalStep=0,t.$store.dispatch("getProcessStep",s).then(function(e){t.stepList=e.data,t.pageTotalStep=e.total}).catch(function(e){console.log(e)})},getProcessStepAction:function(e){var t=this,a={processId:e};t.$store.dispatch("getProcessStep",a).then(function(e){t.stepListAction=e.data}).catch(function(e){console.log(e)})},getProcessActions:function(){var e=this,t=e.$router.history.current.query,a={processId:e.id,page:t.page?t.page:1};e.pageTotalAction=0,e.pageAction=t.page?Number(t.page):1,e.$store.dispatch("getProcessAction",a).then(function(t){e.actionList=t.data,e.pageTotalAction=t.total}).catch(function(e){console.log(e)})},getProcessActionDetail:function(e){var t=this,a={processId:t.id,actionCode:e};t.$store.dispatch("getProcessActionsDetail",a).then(function(e){t.currentAction=e,t.currentAction["createDossier"]=e.createDossiers?e.createDossiers.split(","):[],t.currentAction["createDossierFiles"]=e.createDossierFiles?e.createDossierFiles.split(","):[],t.currentAction["returnDossierFiles"]=e.returnDossierFiles?e.returnDossierFiles.split(","):[]}).catch(function(e){console.log(e)})},getProcessRoles:function(){var e=this,t={processId:e.id};e.$store.dispatch("getProcessRole",t).then(function(t){e.processRoleList=t}).catch(function(e){console.log(e)})},getProcessSequence:function(){var e=this,t={processId:e.id};e.$store.dispatch("getProcessSequence",t).then(function(t){e.processSequenceList=t}).catch(function(e){console.log(e)})},doDetailContent:function(){var e=this,t=e.$router.history.current.query;e.getAgencyLists(),Number(e.id)>0&&!e.activeStep&&!e.activeAction?e.getProcessDetail(e.id):e.activeStep&&!e.activeStepDetail?e.getProcessSteps(e.id):e.activeStep&&e.activeStepDetail?(e.currentStep={stepName:"",dossierStatus:"",dossierSubStatus:"",durationCount:"",stepCode:"",roleId:"",moderator:0,condition:"",stepInstruction:"",briefNote:"",customProcessUrl:"",sequenceNo:"",editable:!1,checkInput:""},e.stepRoleList=[],Number(t.stepCode)>0&&e.getProcessStepsDetail(t.stepCode)):e.activeAction&&!e.activeActionDetail?e.getProcessActions(e.id):e.activeAction&&e.activeActionDetail&&(e.getProcessStepAction(e.id),e.getDossierTemplates(),e.getEmployees(),e.currentAction={actionName:"",actionCode:"",preCondition:"",autoEvent:"",preStepCode:"",postStepCode:"",allowAssignUser:"",rollbackable:!1,dossierTemplateNo:"",createDossierFiles:[],returnDossierFiles:[],requestPayment:0,syncActionCode:"",configNote:"",createDossierNo:!1,eSignature:!1,signatureType:"digital",createDossier:[]},Number(t.actionCode)>0&&e.getProcessActionDetail(t.actionCode))},updateProcess:function(e){var t=this,a=t.$router.history.current.path;t.$refs.formAddProcess.validate()&&(t.currentProcess["type"]=e,t.$store.dispatch("postProcess",t.currentProcess).then(function(s){if("add"===e){if(t.processRoleList.length>0)for(var n in t.processRoleList)t.createProcessRoles(s.serviceProcessId,t.processRoleList[n]);if(t.processSequenceList.length>0)for(var o in t.processSequenceList)t.createProcessSequence(s.serviceProcessId,t.processSequenceList[o]);t.$router.push({path:a.replace(0,s.serviceProcessId),query:{renew:Math.floor(100*Math.random())+1}})}else t.currentProcess=s}).catch(function(e){console.log(e)}))},createItemRole:function(){var e=this,t={roleId:e.processRoleId.roleId,roleName:e.processRoleId.title,roleCode:e.processRoleId.jobPosCode,moderator:e.processModerator.value,moderatorText:e.processModerator.text,condition:e.processCondition};Number(e.id)>0?e.createProcessRoles(e.id,t):e.processRoleList.unshift(t)},createProcessRoles:function(e,t){var a=this,s={processId:e,processRoles:t};a.$store.dispatch("postProcessRoles",s).then(function(e){console.log(e),a.getProcessRoles()}).catch(function(e){console.log(e)})},createItemSequence:function(){var e=this,t={sequenceName:e.sequenceName,sequenceNo:e.sequenceNo,durationCount:e.sequenceDurationCount,sequenceRole:e.sequenceRole};Number(e.id)>0?e.createProcessSequence(e.id,t):e.processSequenceList.unshift(t)},createProcessSequence:function(e,t){var a=this,s={processId:e,processSequence:t};a.$store.dispatch("postProcessSequence",s).then(function(e){console.log(e),a.getProcessSequence()}).catch(function(e){console.log(e)})},deleteProcessRoles:function(e,t){var a=this;if(Number(a.id)>0){var s=confirm("XÃ¡c nháº­n xÃ³a dá»¯ liá»‡u");if(s){var n={processId:a.id,processRoles:e};a.$store.dispatch("deleteProcessRoles",n).then(function(e){console.log(e),a.getProcessRoles()}).catch(function(e){console.log(e)})}}else a.processRoleList.splice(t,1)},deleteProcessSequence:function(e,t){var a=this;if(Number(a.id)>0){var s=confirm("XÃ¡c nháº­n xÃ³a dá»¯ liá»‡u");if(s){var n={processId:a.id,processSequence:e};a.$store.dispatch("deleteProcessSequence",n).then(function(e){console.log(e),a.getProcessSequence()}).catch(function(e){console.log(e)})}}else a.processSequenceList.splice(t,1)},createStep:function(){var e=this,t=e.$router.history.current.path;e.$router.push({path:t+"?step=true&stepCode=0",query:{renew:Math.floor(100*Math.random())+1}})},updateStep:function(e){var t=this,a=t.$router.history.current.path;t.$refs.formAddStep.validate()&&(t.currentStep["type"]=e,t.currentStep["currentProcess"]=t.id,t.$store.dispatch("postProcessStep",t.currentStep).then(function(s){if("add"===e){if(t.stepRoleList.length>0)for(var n in t.stepRoleList)t.createStepRoles(s.stepCode,t.stepRoleList[n]);t.$router.push({path:a+"?step=true",query:{renew:Math.floor(100*Math.random())+1}})}else t.$router.push({path:a+"?step=true",query:{renew:Math.floor(100*Math.random())+1}})}).catch(function(e){console.log(e)}))},editStep:function(e){var t=this,a=t.$router.history.current.path;t.$router.push({path:a+"?step=true&stepCode="+e.stepCode,query:{renew:Math.floor(100*Math.random())+1}})},createItemStepRole:function(){var e=this,t=e.$router.history.current.query,a=t.hasOwnProperty("stepCode")?t.stepCode:0,s={roleId:e.stepRoleId.roleId,roleName:e.stepRoleId.title,roleCode:e.stepRoleId.jobPosCode,moderatorText:e.stepModerator.text,moderator:e.stepModerator.value,condition:e.stepCondition};a>0?e.createStepRoles(a,s):e.stepRoleList.unshift(s)},createStepRoles:function(e,t){var a=this,s={processId:a.id,stepRoles:t,stepId:e};a.$store.dispatch("postStepRoles",s).then(function(t){console.log(t),a.getStepRoles(e)}).catch(function(e){console.log(e)})},deleteStepRoles:function(e,t){var a=this,s=a.$router.history.current.query,n=s.hasOwnProperty("stepCode")?s.stepCode:0;if(Number(n)>0){var o=confirm("XÃ¡c nháº­n xÃ³a dá»¯ liá»‡u");if(o){var r={processId:a.id,stepRoles:e,stepId:n};a.$store.dispatch("deleteStepRoles",r).then(function(e){console.log(e),a.getStepRoles(n)}).catch(function(e){console.log(e)})}}else a.stepRoleList.splice(t,1)},deleteStep:function(e){var t=confirm("XÃ¡c nháº­n xÃ³a dá»¯ liá»‡u");if(t){var a=this,s={currentProcess:a.id,stepCode:e.stepCode};a.$store.dispatch("deleteProcessStep",s).then(function(){setTimeout(function(){a.getProcessSteps(a.id)},300)}).catch(function(e){console.log(e)})}},getStepRoles:function(e){var t=this,a={processId:t.id,stepId:e};t.$store.dispatch("getStepRole",a).then(function(e){t.stepRoleList=e}).catch(function(e){console.log(e)})},createAction:function(){var e=this,t=e.$router.history.current.path;e.$router.push({path:t+"?action=true&actionCode=0",query:{renew:Math.floor(100*Math.random())+1}})},updateAction:function(e){var t=this;console.log("currentAction",t.currentAction);var a=t.$router.history.current.path;t.$refs.formAddAction.validate()&&(t.currentAction["type"]=e,t.currentAction["currentProcess"]=t.id,t.$store.dispatch("postProcessAction",t.currentAction).then(function(e){t.$router.push({path:a+"?action=true",query:{renew:Math.floor(100*Math.random())+1}}),console.log(e)}).catch(function(e){console.log(e)}))},editAction:function(e){var t=this,a=t.$router.history.current.path;t.$router.push({path:a+"?action=true&actionCode="+e.processActionId,query:{renew:Math.floor(100*Math.random())+1}})},deleteAction:function(e){var t=confirm("XÃ¡c nháº­n xÃ³a dá»¯ liá»‡u");if(t){var a=this,s={currentProcess:a.id,processActionId:e.processActionId};a.$store.dispatch("deleteProcessAction",s).then(function(e){console.log(e),a.getProcessActions(a.id)}).catch(function(e){console.log(e)})}},changeTab:function(e){var t=this,a=t.$router.history.current.path;"process"===e?t.$router.push(a):"step"===e?Number(t.id)>0?t.$router.push({path:a+"?step=true&page=1",query:{renew:Math.floor(100*Math.random())+1}}):t.$router.push(a):t.$router.push({path:a+"?action=true&page=1",query:{renew:Math.floor(100*Math.random())+1}})},goBackStepList:function(){var e=this,t=e.$router.history.current.path;e.$router.push(t+"?step=true")},goBackActionList:function(){var e=this,t=e.$router.history.current.path;e.$router.push(t+"?action=true")},backToList:function(){var e=this,t=e.$router.history.current.path;e.$router.push(t.substring(0,t.indexOf("/ext/editor/")))}},filters:{moderatorText:function(e){return!1===e||"false"===e||0===e||"0"===e?"Theo dÃµi":"Thá»±c hiá»‡n"},parseArray:function(e){return e?e.split(","):[]}}},de=le,ue=Object(p["a"])(de,re,ie,!1,null,null,null);ue.options.__file="QuyTrinhThuTuc.vue";var pe=ue.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("chevron_right")]),e._l(e.breadCrumbsitems,function(t){return a("v-breadcrumbs-item",{key:t.text,attrs:{disabled:t.disabled}},[e._v("\n      "+e._s(t.text)+"\n    ")])}),a("a",{staticStyle:{"text-decoration":"none","font-weight":"bold"},attrs:{href:"javascript:;"}},[e._v("opencps_certnumbers")])],2),a("v-card",{staticClass:"px-2 mx-1"},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",height:"48"}},[a("v-btn",{attrs:{dark:"",icon:""}},[a("v-icon",[e._v("edit")])],1),a("v-toolbar-title",{staticClass:"ml-0"},[e._v("\n        "+e._s(e.activeCertNumberDetail?e.currentCertNumber.pattern:"Danh sÃ¡ch tham sá»‘ há»‡ thá»‘ng")+"\n      ")]),a("v-spacer"),a("v-btn",{attrs:{dark:"",icon:""},nativeOn:{click:function(t){return e.backToList(t)}}},[a("v-icon",[e._v("reply")])],1)],1),a("div",{staticClass:"grid-list mt-3"},[e.activeCertNumberDetail?a("v-form",{ref:"formAddCertNumber",attrs:{"lazy-validation":""},model:{value:e.validAddCertNumber,callback:function(t){e.validAddCertNumber=t},expression:"validAddCertNumber"}},[a("v-layout",{attrs:{wrap:""}},[0!==e.id&&"0"!==e.id?a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{box:"",readonly:"",label:"TÃªn tham sá»‘"},model:{value:e.currentCertNumber.certId,callback:function(t){e.$set(e.currentCertNumber,"certId",t)},expression:"currentCertNumber.certId"}})],1):e._e(),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{box:"",rules:[e.rules.required],required:""},model:{value:e.currentCertNumber.pattern,callback:function(t){e.$set(e.currentCertNumber,"pattern",t)},expression:"currentCertNumber.pattern"}},[a("template",{slot:"label"},[e._v("Pattern "),a("span",{staticClass:"red--text darken-3"},[e._v("*")])])],2)],1),a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-text-field",{attrs:{box:"",type:"number",rules:[e.rules.required],required:""},model:{value:e.currentCertNumber.initNumber,callback:function(t){e.$set(e.currentCertNumber,"initNumber",t)},expression:"currentCertNumber.initNumber"}},[a("template",{slot:"label"},[e._v("Sá»‘ khá»Ÿi táº¡o "),a("span",{staticClass:"red--text darken-3"},[e._v("*")])])],2)],1)],1),a("v-flex",{staticClass:"text-right pr-3",staticStyle:{position:"fixed",bottom:"0",width:"calc( 100% - 300px )",background:"white","z-index":"2"},attrs:{xs12:""}},[0===e.id||"0"===e.id?a("v-btn",{attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:function(t){e.updateCertNumber("add")}}},[a("v-icon",[e._v("add_circle_outline")]),e._v("Â \n            ThÃªm má»›i\n          ")],1):a("v-btn",{attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:function(t){e.updateCertNumber("update")}}},[a("v-icon",[e._v("save")]),e._v("Â \n            Cáº­p nháº­t\n          ")],1),a("v-btn",{staticClass:"mr-0",attrs:{color:"red darken-3",dark:""},nativeOn:{click:function(t){return e.backToList(t)}}},[a("v-icon",[e._v("reply")]),e._v("Â \n            Quay láº¡i\n          ")],1)],1)],1):a("v-card",{staticClass:"py-2",staticStyle:{"margin-bottom":"40px"}},[a("v-btn",{staticClass:"mb-3 mx-0",attrs:{color:"blue darken-3",dark:""},on:{click:e.createCertNumbers}},[a("v-icon",[e._v("add_circle_outline")]),e._v("Â \n          ThÃªm tham sá»‘ há»‡ thá»‘ng\n        ")],1),a("v-data-table",{staticClass:"elevation-1 table-bordered",staticStyle:{border:"1px solid #dedede"},attrs:{headers:e.headerCertNumber,items:e.certNumberList,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticClass:"text-xs-center",attrs:{width:"10%"}},[a("div",[a("span",[e._v(e._s(10*e.pageCertNumber-10+t.index+1))])])]),a("td",{staticClass:"text-xs-left",attrs:{width:"35%"}},[e._v(e._s(t.item.certId))]),a("td",{staticClass:"text-xs-left",attrs:{width:"20%"}},[e._v(e._s(t.item.pattern))]),a("td",{staticClass:"text-xs-left",attrs:{width:"10%"}},[e._v(e._s(t.item.initNumber))]),a("td",{staticClass:"text-xs-center px-0",attrs:{width:"15%"}},[a("v-icon",{staticClass:"mr-3",attrs:{small:"",color:"blue"},on:{click:function(a){e.editCertNumber(t.item)}}},[e._v("\n                edit\n              ")]),a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(a){e.deleteCertNumber(t.item)}}},[e._v("\n                delete\n              ")])],1)]}}])},[a("template",{slot:"no-data"})],2),a("v-flex",{staticClass:"text-right",staticStyle:{position:"fixed",bottom:"0",width:"calc( 100% - 300px )",background:"white","z-index":"2"},attrs:{xs12:""}},[a("div",{staticClass:"text-xs-right layout wrap mt-2 pr-2",staticStyle:{position:"relative"}},[a("v-flex",{attrs:{xs12:""}},[a("tiny-pagination",{attrs:{total:e.pageTotalCertNumber,page:e.pageCertNumber,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingCertData}})],1)],1)])],1)],1)],1)],1)},ve=[],he={components:{"tiny-pagination":ce["a"]},data:function(){return{breadCrumbsitems:[{text:"Báº£ng dá»¯ liá»‡u",disabled:!1},{text:"",disabled:!1}],id:"",activeCertNumberDetail:!1,headerCertNumber:[{text:"STT",align:"center",sortable:!1},{text:"TÃªn tham sá»‘",align:"center",sortable:!1},{text:"Pattern",align:"center",sortable:!1},{text:"Sá»‘ khá»Ÿi táº¡o",align:"center",sortable:!1},{text:"Thao tÃ¡c",align:"center",sortable:!1}],pageTotalCertNumber:0,pageCertNumber:1,certNumberList:[],currentCertNumber:{certId:"",pattern:"",initNumber:""},validAddCertNumber:!1,loading:!1,rules:{required:function(e){return!!e||0===e||"TrÆ°á»ng dá»¯ liá»‡u báº¯t buá»™c"}}}},created:function(){var e=this;e.$nextTick(function(){var t=e.$router.history.current.query;e.activeCertNumberDetail=t.hasOwnProperty("id")&&""!==t.id,e.activeCertNumberDetail?(e.id=t.id,0!==e.id&&"0"!==e.id?e.getCertNumberDetail():e.currentCertNumber={certId:"",pattern:"",initNumber:""}):e.getCertNumberList()})},computed:{},watch:{$route:function(e){var t=this,a=e.query;t.activeCertNumberDetail=a.hasOwnProperty("id")&&""!==a.id,t.activeCertNumberDetail?(t.id=a.id,0!==t.id&&"0"!==t.id?t.getCertNumberDetail():t.currentCertNumber={certId:"",pattern:"",initNumber:""}):t.getCertNumberList()}},methods:{createCertNumbers:function(){var e=this,t=e.$router.history.current.path;e.$router.push({path:t+"?id=0",query:{renew:Math.floor(100*Math.random())+1}})},getCertNumberList:function(){var e=this,t=e.$router.history.current.query,a={page:t.page?t.page:1};e.pageCertNumber=t.page?Number(t.page):1,e.pageTotalCertNumber=0,e.$store.dispatch("getCertNumberList",a).then(function(t){e.pageTotalCertNumber=t.total,e.certNumberList=t.data}).catch(function(e){console.log(e)})},getCertNumberDetail:function(){var e=this,t={certId:e.id};e.$store.dispatch("getCertNumberDetail",t).then(function(t){e.currentCertNumber=t}).catch(function(e){console.log(e)})},paggingCertData:function(e){var t=this,a=t.$router.history.current,s=a.query,n="?";for(var o in s["page"]="",s)""!==s[o]&&"undefined"!==s[o]&&void 0!==s[o]&&null!==s[o]&&"null"!==s[o]&&(n+=o+"="+s[o]+"&");n+="page="+e.page,t.$router.push({path:a.path+n})},editCertNumber:function(e){var t=this,a=t.$router.history.current.path;t.$router.push({path:a+"?id="+e.certId,query:{renew:Math.floor(100*Math.random())+1}})},deleteCertNumber:function(e){var t=confirm("XÃ¡c nháº­n xÃ³a dá»¯ liá»‡u");if(t){var a=this,s={certId:e.certId};a.$store.dispatch("deleteCertNumber",s).then(function(){setTimeout(function(){a.getCertNumberList()},300)}).catch(function(e){console.log(e)})}},updateCertNumber:function(e){var t=this,a=t.$router.history.current.path;t.$refs.formAddCertNumber.validate()&&(t.currentCertNumber["type"]=e,t.loading=!0,t.$store.dispatch("updateCertNumber",t.currentCertNumber).then(function(s){t.loading=!1,"add"===e?t.$router.push({path:a.replace(0,s.certId),query:{renew:Math.floor(100*Math.random())+1}}):t.currentCertNumber=s}).catch(function(e){t.loading=!1,console.log(e)}))},backToList:function(){window.history.back()}},filters:{}},fe=he,ge=Object(p["a"])(fe,me,ve,!1,null,null,null);ge.options.__file="ThamSoHeThong.vue";var be=ge.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("chevron_right")]),e._l(e.breadCrumbsitems,function(t){return a("v-breadcrumbs-item",{key:t.text,attrs:{disabled:t.disabled}},[e._v("\n      "+e._s(t.text)+"\n    ")])}),a("a",{staticStyle:{"text-decoration":"none","font-weight":"bold"},attrs:{href:"javascript:;"}},[e._v("opencps_voting")])],2),a("v-card",{staticClass:"px-2 mx-1"},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",height:"48"}},[a("v-btn",{attrs:{dark:"",icon:""}},[a("v-icon",[e._v("edit")])],1),a("v-toolbar-title",{staticClass:"ml-0"},[e._v("\n        Quáº£n lÃ½ cÃ¢u há»i kháº£o sÃ¡t\n      ")]),a("v-spacer"),a("v-btn",{attrs:{dark:"",icon:""},nativeOn:{click:function(t){return e.backToList(t)}}},[a("v-icon",[e._v("reply")])],1)],1),a("div",{staticClass:"grid-list mt-3"},[a("v-card",{staticClass:"py-2"},[a("v-flex",{staticClass:"pl-0",attrs:{xs12:""}},[a("v-autocomplete",{attrs:{box:"",label:"Äá»‘i tÆ°á»£ng kháº£o sÃ¡t",items:e.classNameItems,"item-text":"text","item-value":"value"},on:{change:e.changeClassName},scopedSlots:e._u([{key:"item",fn:function(t){return[a("v-flex",{attrs:{xs12:""}},[e._v(e._s(t.item.text)+" - "+e._s(t.item.value))])]}}]),model:{value:e.className,callback:function(t){e.className=t},expression:"className"}})],1)],1),a("v-card",[e.className?a("v-btn",{staticClass:"mb-3 mx-2",attrs:{color:"blue darken-3",dark:""},on:{click:e.createQuestion}},[a("v-icon",[e._v("add_circle_outline")]),e._v("Â \n          ThÃªm cÃ¢u há»i\n        ")],1):e._e(),a("div",{staticClass:"px-2 py-2"},[e._l(e.votingItems,function(t,s){return Array.isArray(e.votingItems)&&e.votingItems.length>0?a("div",{key:s,staticClass:"mb-2",staticStyle:{position:"relative"}},[a("div",{staticClass:"text-bold"},[e._v("\n              "+e._s(s+1)+".Â  "+e._s(t.subject)+"\n            ")]),a("div",{staticStyle:{position:"absolute",right:"0px",top:"-5px"},style:Array.isArray(t.choices)&&t.choices.length>1?"width:50px":"width:85px"},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-1",attrs:{slot:"activator",icon:"",ripple:""},on:{click:function(a){e.editVotings(t)}},slot:"activator"},[a("v-icon",{attrs:{color:"blue lighten-1"}},[e._v("edit")])],1),a("span",[e._v("Sá»­a")])],1),a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-1",attrs:{slot:"activator",icon:"",ripple:""},on:{click:function(a){e.deleteVotings(t)}},slot:"activator"},[a("v-icon",{attrs:{color:"red lighten-1"}},[e._v("delete")])],1),a("span",[e._v("XÃ³a")])],1)],1),a("v-radio-group",{staticClass:"ml-3 mt-2",style:Array.isArray(t.choices)&&t.choices.length>1?"width:calc(100% - 50px)":"width:calc(100% - 85px)",attrs:{column:""}},e._l(t.choices,function(e,t){return a("v-radio",{key:t,attrs:{label:e,value:t+1,readonly:""}})})),Array.isArray(e.votingItems)&&s+1<e.votingItems.length?a("v-divider"):e._e()],1):e._e()}),Array.isArray(e.votingItems)&&0===e.votingItems.length?a("div",{},[a("v-alert",{attrs:{outline:"",color:"warning",icon:"priority_high",value:!0}},[e._v("\n              KhÃ´ng cÃ³ cÃ¢u há»i\n            ")])],1):e._e()],2)],1),a("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_addQuestion,callback:function(t){e.dialog_addQuestion=t},expression:"dialog_addQuestion"}},[a("v-card",[a("v-card-title",{staticClass:"headline pb-2"},["add"===e.type?a("span",[e._v("ThÃªm cÃ¢u há»i")]):a("span",[e._v("Sá»­a cÃ¢u há»i")])]),a("v-card-text",{staticClass:"pt-0"},[a("v-form",{ref:"formAddQuestion",attrs:{"lazy-validation":""},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[a("v-layout",{staticClass:"py-1 align-center row-list-style",attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"MÃ£ cÃ¢u há»i",box:"",rules:"add"===e.type?[function(e){return!!e||"TrÆ°á»ng dá»¯ liá»‡u báº¯t buá»™c"}]:[],required:"add"===e.type,disabled:"add"!==e.type},model:{value:e.votingCode,callback:function(t){e.votingCode=t},expression:"votingCode"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{attrs:{label:"Ná»™i dung cÃ¢u há»i",box:"",rows:"2",rules:[function(e){return!!e||"TrÆ°á»ng dá»¯ liá»‡u báº¯t buá»™c"}],required:""},model:{value:e.subject,callback:function(t){e.subject=t},expression:"subject"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm10:""}},[a("v-text-field",{attrs:{label:"CÃ¢u tráº£ lá»i",box:"",clearable:""},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.addChoices(t):null}},model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}})],1),a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:"",sm2:""}},[a("v-btn",{staticClass:"mt-0 mr-0",attrs:{color:"blue darken-3",dark:"",disabled:!e.answer},on:{click:e.addChoices}},[a("v-icon",{attrs:{size:"24"}},[e._v("add")]),e._v("Â \n                        ThÃªm\n                      ")],1)],1)],1),e._l(e.choicesCurrent,function(t,s){return a("v-list-tile",{key:s,staticClass:"mt-2",staticStyle:{border:"1px solid #8fbc8f"}},[a("v-list-tile-content",[a("v-list-tile-title",{staticStyle:{"font-size":"13px"}},[e._v(e._s(t))])],1),a("v-list-tile-action",[a("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(t){e.deleteChoice(s)}}},[a("v-icon",{attrs:{color:"red lighten-1"}},[e._v("clear")])],1)],1)],1)})],2)],1)],1)],1),a("v-card-actions",{staticClass:"px-3"},[a("v-spacer"),"add"===e.type?a("v-btn",{attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:function(t){e.updateQuestion("add")}}},[a("v-icon",[e._v("add_circle_outline")]),e._v("Â \n              ThÃªm má»›i\n            ")],1):a("v-btn",{attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},on:{click:function(t){e.updateQuestion("update")}}},[a("v-icon",[e._v("save")]),e._v("Â \n              Cáº­p nháº­t\n            ")],1),a("v-btn",{staticClass:"mr-0",attrs:{color:"red darken-3",dark:""},on:{click:e.cancelDialog}},[a("v-icon",[e._v("clear")]),e._v("Â \n              Há»§y\n            ")],1)],1)],1)],1)],1)],1)],1)},xe=[],ke={components:{"tiny-pagination":ce["a"]},data:function(){return{breadCrumbsitems:[{text:"Báº£ng dá»¯ liá»‡u",disabled:!1},{text:"",disabled:!1}],classNameItems:[{text:"ÄÆ¡n vá»‹",value:"govagency"},{text:"CÃ¡n bá»™",value:"employee"},{text:"Há»“ sÆ¡",value:"dossier"},{text:"Kháº£o sÃ¡t",value:"survey"}],votingItems:[],className:"",validForm:!1,currentQuestion:{},subject:"",votingCode:"",answer:"",choicesCurrent:[],votingIdCurrent:"",type:"",loading:!1,dialog_addQuestion:!1,rules:{required:function(e){return!!e||0===e||"TrÆ°á»ng dá»¯ liá»‡u báº¯t buá»™c"}}}},created:function(){var e=this;e.$nextTick(function(){e.$router.history.current.query;e.className=e.classNameItems[0]["value"],e.className&&e.getVotingList()})},computed:{},watch:{$route:function(e){e.query}},methods:{getVotingList:function(){var e=this,t=(e.$router.history.current.query,{className:e.className});e.loading=!0,e.$store.dispatch("getVotingList",t).then(function(t){e.loading=!1,e.votingItems=t.data}).catch(function(t){e.loading=!1,console.log(t)})},changeClassName:function(){var e=this;setTimeout(function(){e.className&&e.getVotingList()},300)},createQuestion:function(){var e=this;e.type="add",e.answer="",e.choicesCurrent=[],e.$refs.formAddQuestion.reset(),e.dialog_addQuestion=!0},addChoices:function(){var e=this;e.answer&&e.choicesCurrent.push(e.answer)},deleteChoice:function(e){var t=this;console.log(e),t.choicesCurrent.splice(e,1)},updateQuestion:function(e){var t=this,a="";if(t.choicesCurrent&&t.choicesCurrent.length>0)for(var s in t.choicesCurrent)a+=t.choicesCurrent[s]+"\r\n";var n={className:t.className,classPK:"0",subject:t.subject,choices:a,commentable:"",type:t.type,votingCode:t.votingCode?t.votingCode:"",votingId:t.votingIdCurrent};console.log("filter data",n),t.$refs.formAddQuestion.validate()&&(t.loading=!0,t.$store.dispatch("updateVotings",n).then(function(e){t.loading=!1,setTimeout(function(){t.getVotingList()},300),t.dialog_addQuestion=!1}).catch(function(e){t.loading=!1,console.log(e)}))},cancelDialog:function(){var e=this;e.getVotingList(),e.dialog_addQuestion=!1},editVotings:function(e){var t=this;t.answer="",t.type="update",t.votingCode=e["votingCode"],t.subject=e["subject"],t.choicesCurrent=e["choices"],t.votingIdCurrent=e["votingId"],t.dialog_addQuestion=!0},deleteVotings:function(e){var t=confirm("XÃ¡c nháº­n xÃ³a dá»¯ liá»‡u");if(t){var a=this,s={votingId:e.votingId};a.$store.dispatch("deleteVotings",s).then(function(){setTimeout(function(){a.getVotingList()},300)}).catch(function(e){console.log(e)})}},backToList:function(){window.history.back()}},filters:{}},ye=ke,Ce=Object(p["a"])(ye,_e,xe,!1,null,null,null);Ce.options.__file="Voting.vue";var we=Ce.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("chevron_right")]),e._l(e.breadCrumbsitems,function(t){return a("v-breadcrumbs-item",{key:t.text,attrs:{disabled:t.disabled}},[e._v("\n      "+e._s(t.text)+"\n    ")])})],2),a("v-card",{staticClass:"px-2 mx-1",staticStyle:{overflow:"hidden"}},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",height:"48"}},[a("v-toolbar-title",{staticClass:"ml-2"},[a("v-btn",{staticClass:"mx-0",attrs:{loading:e.importLoading,disabled:e.importLoading,color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.doImportData()}}},[e._v("\n          Upload\n          "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("cloud_upload")])],1)],1),a("v-spacer"),a("v-icon",{attrs:{dark:""}},[e._v("more_vert")]),a("v-btn",{attrs:{dark:"",icon:""}},[a("v-icon",[e._v("refresh")])],1)],1),a("div",{staticStyle:{overflow:"hidden","overflow-x":"auto"}},[a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"importData",attrs:{type:"file",name:"importData",accept:e.accept},on:{change:e.onFilePicked}}),e.importMessage?a("v-alert",{attrs:{value:!0,color:"success",icon:"check_circle",outline:""}},[e._v("\n        Gá»­i yÃªu cáº§u Import dá»¯ liá»‡u thÃ nh cÃ´ng.\n      ")]):e._e(),e.importMessage?a("v-alert",{attrs:{value:!0,color:"success",outline:""}},[e._v("\n        "+e._s(e.responseXMLSuccess)+"\n      ")]):e._e()],1)],1)],1)},Pe=[],De={props:["tableName"],data:function(){return{responseXMLSuccess:"",importMessage:!1,importLoading:!1,showFilter:!1,accept:"text/xml,application/zip",breadCrumbsitems:[{text:"Import",disabled:!1},{text:"XML/ZIP",disabled:!1}]}},methods:{doImportData:function(){this.importLoading=!0,this.importMessage=!1,this.$refs.importData.click()},onFilePicked:function(e){var t=this,a=e.target.files||e.dataTransfer.files;if(a&&a[0]){var s=new FormData;s.append("file",a[0]),Q()({method:"post",url:"/o/rest/v2/dossiers/import/files",data:s,config:{headers:{"Content-Type":"multipart/form-data"}}}).then(function(e){console.log(e),t.responseXMLSuccess=e.data,t.importLoading=!1,t.importMessage=!0}).catch(function(e){console.log(e),t.importLoading=!1,t.importMessage=!1})}}}},Ae=De,Ie=Object(p["a"])(Ae,Se,Pe,!1,null,null,null);Ie.options.__file="import.vue";var Ne=Ie.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("chevron_right")]),e._l(e.breadCrumbsitems,function(t){return a("v-breadcrumbs-item",{key:t.text,attrs:{disabled:t.disabled}},[e._v("\n      "+e._s(t.text)+"\n    ")])})],2),a("v-card",{staticClass:"px-2 mx-1",staticStyle:{overflow:"hidden"}},[e.exportLoading?a("v-card-text",[a("v-flex",{attrs:{xs12:"",sm12:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{color:"blue"}},[a("span",[e._v("Äang thá»±c hiá»‡n export dá»¯ liá»‡u ...")])]),a("v-progress-linear",{attrs:{color:"blue",indeterminate:!0}})],1)],1):a("v-btn",{staticClass:"white--text",attrs:{color:"blue"},on:{click:function(t){e.exportData()}}},[e._v("\n      EXPORT Dá»® LIá»†U Â \n      "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("cloud_download")])],1)],1)],1)},Re=[],$e={props:["tableName"],data:function(){return{exportLoading:!1,breadCrumbsitems:[{text:"Export",disabled:!1},{text:"ZIP",disabled:!1}]}},methods:{exportData:function(){var e=this;e.exportLoading=!0,e.$store.dispatch("doExportData").then(function(t){e.exportLoading=!1,alert("Export dá»¯ liá»‡u thÃ nh cÃ´ng")}).catch(function(){e.exportLoading=!1,alert("Export dá»¯ liá»‡u khÃ´ng thÃ nh cÃ´ng")})}}},Le=$e,Oe=Object(p["a"])(Le,Te,Re,!1,null,null,null);Oe.options.__file="export.vue";var je=Oe.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",[a("v-icon",{attrs:{slot:"divider"},slot:"divider"},[e._v("chevron_right")]),e._l(e.breadCrumbsitems,function(t){return a("v-breadcrumbs-item",{key:t.text,attrs:{disabled:t.disabled}},[e._v("\n      "+e._s(t.text)+"\n    ")])}),a("a",{staticStyle:{"text-decoration":"none","font-weight":"bold"},attrs:{href:"javascript:;"}},[e._v(e._s(e.tableName))])],2),a("v-card",{staticClass:"px-2 mx-1",staticStyle:{overflow:"hidden"}},[a("v-toolbar",{attrs:{color:"blue darken-3",dark:"",height:"48"}},[a("v-btn",{attrs:{dark:"",icon:""}},[a("v-icon",[e._v("merge_type")])],1),a("v-toolbar-title",{staticClass:"ml-0"},[e._v("\n        "+e._s(e.nameScreen)+"\n      ")]),a("v-spacer"),a("v-icon",{attrs:{dark:""}},[e._v("more_vert")]),a("v-btn",{attrs:{dark:"",icon:""},nativeOn:{click:function(t){return e.backToList(t)}}},[a("v-icon",[e._v("reply")])],1)],1),a("div",{staticClass:"grid-list mt-2"},[a("div",{staticClass:"mermaid",attrs:{id:"mermaid_dossier"}})]),e.noDetail?a("v-alert",{attrs:{value:!0,color:"warning",icon:"priority_high",outline:""}},[e._v("\n    KhÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u\n  ")]):e._e()],1)],1)},Fe=[],Ee=a("fbdb"),Me=a.n(Ee);Me.a.initialize({theme:"forest",startOnLoad:!1});var Ue={props:["tableName","id"],data:function(){return{breadCrumbsitems:[{text:"Báº£ng dá»¯ liá»‡u",disabled:!1},{text:"",disabled:!1}],nameScreen:"Chi tiáº¿t biá»ƒu Ä‘á»“ quy trÃ¬nh",showDetailForm:!1,noDetail:!1,dataSocket:{}}},created:function(){var e=this;e.$nextTick(function(){e.noDetail=!1,e.loadMermaidgraph()})},methods:{backToList:function(){var e=this,t=e.$router.history.current,a=t.query,s=t.path,n="?";for(var o in a["state_change"]="0",a["renew"]="",a)""!==a[o]&&"undefined"!==a[o]&&void 0!==a[o]&&(n+=o+"="+a[o]+"&");n+="renew="+Math.floor(100*Math.random())+1,e.$router.push({path:s.substring(0,s.indexOf("/flowchart/"))+n})},loadMermaidgraph:function(){var e=this;e.showDetailForm=!1,document.getElementById("mermaid_dossier").innerHTML="",e.$store.dispatch("loadMermaidgraph",e.id).then(function(t){Me.a.render("theGraph",t,function(t){document.getElementById("mermaid_dossier").innerHTML=t,e.showDetailForm=!0}),setTimeout(function(){window.svgPanZoom("#theGraph",{zoomEnabled:!0,controlIconsEnabled:!0,fit:!0,center:!0,minZoom:.1})},500)})}}},Be=Ue,ze=Object(p["a"])(Be,qe,Fe,!1,null,null,null);ze.options.__file="FlowChartView.vue";var Ke=ze.exports,Qe=[{path:"/table/:tableName",name:"Home",component:k,props:!0,meta:{requiresAuth:!0},children:[{path:"/table/:tableName",name:"TableEditor",component:Z,props:!0,meta:{requiresAuth:!0}},{path:"/table/:tableName/editor/:id",name:"TableEditorForm",component:oe,props:!0,meta:{requiresAuth:!0}},{path:"/table/opencps_serviceprocess/ext/editor/:id",name:"QuyTrinhThuTuc",component:pe,props:!0,meta:{requiresAuth:!0}},{path:"/table/opencps_certnumbers/certnumbers",name:"ThamSoHeThong",component:be,props:!0,meta:{requiresAuth:!0}},{path:"/table/opencps_voting/votings",name:"Voting",component:we,props:!0,meta:{requiresAuth:!0}},{path:"/table/:tableName/tool_import",name:"Import",component:Ne,props:!0,meta:{requiresAuth:!0}},{path:"/table/:tableName/tool_export",name:"Export",component:je,props:!0,meta:{requiresAuth:!0}},{path:"/table/:tableName/flowchart/:id",name:"FlowChartView",component:Ke,props:!0,meta:{requiresAuth:!0}}]},{path:"*",name:"NotFound",component:D}];s["default"].use(h["a"]);var We=new h["a"]({routes:Qe});We.beforeEach(function(e,t,a){e.matched.some(function(e){return e.meta.requiresAuth});a()});var Je=We,Ve=a("2f62"),He=a("21a6"),Ge=a.n(He);s["default"].use(Ve["a"]);var Xe=new Ve["a"].Store({state:{snackbarerror:!1,snackbarsocket:!1,refreshSocket:0,initData:{},tocken:"",loginUser:[{email:"",role:""}],user:null,socket:{isConnected:!1,message:"",reconnectError:!1},isConnected:!1,endPointApi:"/o/rest/v2",listTableMenu:[{icon:"keyboard_arrow_up","icon-alt":"keyboard_arrow_down",text:"Nghiá»‡p vá»¥",model:!0,children:[{icon:"group_add",link:"/table/opencps_employee",code:"opencps_employee",text:"Quáº£n lÃ½ nhÃ¢n sá»±"},{icon:"filter_1",link:"/table/opencps_serviceinfo",code:"opencps_serviceinfo",text:"Thá»§ tá»¥c hÃ nh chÃ­nh"},{icon:"filter_2",link:"/table/opencps_dossiertemplate",code:"opencps_dossiertemplate",text:"Máº«u há»“ sÆ¡"},{icon:"filter_3",link:"/table/opencps_serviceprocess",code:"opencps_serviceprocess",text:"Quy trÃ¬nh thá»§ tá»¥c"},{icon:"filter_4",link:"/table/opencps_serviceconfig",code:"opencps_serviceconfig",text:"Dá»‹ch vá»¥ cÃ´ng"},{icon:"filter_5",link:"/table/opencps_certnumbers/certnumbers",code:"certnumbers",text:"Tham sá»‘ há»‡ thá»‘ng"},{icon:"filter_6",link:"/table/opencps_voting/votings",code:"votings",text:"Voting"},{icon:"import_export",link:"/table/import/tool_import",code:"import",text:"Import"},{icon:"import_export",link:"/table/export/tool_export",code:"export",text:"Export"}]},{icon:"keyboard_arrow_up","icon-alt":"keyboard_arrow_down",text:"Dá»¯ liá»‡u dÃ¹ng chung",model:!1,children:[]},{icon:"keyboard_arrow_up","icon-alt":"keyboard_arrow_down",text:"Báº£ng dá»¯ liá»‡u DB",model:!1,children:[]},{icon:"keyboard_arrow_up","icon-alt":"keyboard_arrow_down",text:"Cáº¥u hÃ¬nh",model:!1,children:[{icon:"apps",link:"/table/opencps_adminconfig",code:"opencps_adminconfig",text:"Danh sÃ¡ch mÃ n hÃ¬nh"}]}],jobPosList:[],dossierStatusList:[],dossierSubStatusList:[],employeesList:[],dossierTemplatesList:[],processStepList:[],processActionList:[],processRoleList:[],problem:!0},actions:{loadInitResource:function(e){var t=e.state;return new Promise(function(e){null!==window.themeDisplay&&void 0!==window.themeDisplay?(t.initData["groupId"]=window.themeDisplay.getScopeGroupId(),t.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(t.initData["groupId"]=0,t.initData["user"]={userName:"",userEmail:"",userId:20103}),e(t.initData)})},loadMermaidgraph:function(e,t){var a=e.state,s={headers:{groupId:a.initData.groupId}},n="/o/rest/v2/serviceprocesses/"+t+"/mermaidgraph";return new Promise(function(e,t){Q.a.get(n,s).then(function(t){e(t.data)}).catch(function(e){t(e)})})},doExportData:function(e){e.commit,e.state;return new Promise(function(e,t){Xe.dispatch("loadInitResource").then(function(a){var s={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():""},responseType:"blob"},n=new URLSearchParams;Q.a.post("/o/rest/v2/backupDatas/backup",n,s).then(function(t){var a=t.data;a&&Ge()(a,"DataExport.zip");var s=window.URL.createObjectURL(a);e(s)}).catch(function(e){t(e)})})})},doChangeStatusAccount:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.put("/o/v1/opencps/user/"+t["id"]+"/deactive",t["data"],o).then(function(){e({status:200})}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},deactiveAccount:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.put("/o/v1/opencps/user/"+t["id"]+"/deactive",t["data"],o).then(function(){e({statu:200})}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},changePassUserAccount:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.put("/o/v1/opencps/user/"+t["id"]+"/changepass",t["data"],o).then(function(){e({statu:200})}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},createUserAccount:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}},r="applicant"===t["type"]?"/o/rest/v2/applicants/":"/o/rest/v2/employees/",i=new URLSearchParams;i.append("email",t["data"]["email"]),i.append("screenName",""),i.append("exist",!1),Q.a.post(r+t["id"]+"/account",i,o).then(function(t){var a=t.data;e(a)}).catch(function(e){n(e),e.response["status"]&&409===e.response["status"]?alert("Äá»‹a chá»‰ email Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng trÃªn há»‡ thá»‘ng"):a("setsnackbarerror",!0)})})})},getUserAccount:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get("/o/v1/opencps/user/"+t,o).then(function(t){var a=t.data;e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getUserDetail:function(e,t){e.commit;var a=e.state;return new Promise(function(e,s){Xe.dispatch("loadInitResource").then(function(){var n={headers:{groupId:a.initData.groupId,Accept:"application/json"}},o="applicant"===t["type"]?"/o/rest/v2/applicants/":"/o/rest/v2/employees/";Q.a.get(o+t["id"],n).then(function(t){var a=t.data;e(a)}).catch(function(e){s(e)})})})},getImageComponent:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get("/o/v1/opencps/users/avatar/"+t["className"]+"/"+t["pk"],o).then(function(t){var a=t.data;e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},downloadServiceFileTemplate:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,"Content-Type":"application/octet-stream"},responseType:"blob"};Q.a.get("/o/v1/opencps/filetemplate/"+t["serviceInfoId"]+"/"+t["fileTemplateNo"],o).then(function(a){Ge()(a.data,t["uuid"]+"."+t["extension"]),e({status:!0})}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},updateServiceFileTemplate:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.put("/o/v1/opencps/filetemplate/"+t["item"]["serviceInfoId"]+"/"+t["item"]["fileTemplateNo"],{fileTemplateNo:t["fileTemplateNo"],templateName:t["templateName"]},o).then(function(){e({status:!0})}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},removeServiceFileTemplate:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.delete("/o/v1/opencps/filetemplate/"+t["serviceInfoId"]+"/"+t["fileTemplateNo"],o).then(function(){e({status:!0})}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getServiceFileTemplate:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get("/o/v1/opencps/filetemplate/"+t,o).then(function(t){var a=t.data;a.data&&e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getAttachFileData:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get("/o/v1/opencps/fileattach/"+t["className"]+"/"+t["pk"],o).then(function(t){var a=t.data;a.data&&e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getJobposList:function(e){var t=e.commit,a=e.state;return new Promise(function(e,s){Xe.dispatch("loadInitResource").then(function(){var n={headers:{groupId:a.initData.groupId}};Q.a.get(a.endPointApi+"/jobpos",n).then(function(t){var a=t.data;a&&e(a.data)}).catch(function(e){s(e),t("setsnackbarerror",!0)})})})},getDossierStatusList:function(e){var t=e.commit,a=e.state;return new Promise(function(e,s){Xe.dispatch("loadInitResource").then(function(){var n={headers:{groupId:a.initData.groupId}};Q.a.get(a.endPointApi+"/dictcollections/DOSSIER_STATUS/dictitems",n).then(function(t){var a=t.data;a&&e(a.data)}).catch(function(e){s(e),t("setsnackbarerror",!0)})})})},getDossierSubStatusList:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get(s.endPointApi+"/dictcollections/DOSSIER_STATUS/dictitems?parent="+t,o).then(function(t){var a=t.data;a.data&&e(a.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getAgencyLists:function(e){var t=e.state;return new Promise(function(e,a){Xe.dispatch("loadInitResource").then(function(){var s={headers:{groupId:t.initData.groupId,Accept:"application/json"}};Q.a.get(t.endPointApi+"/dictcollections/GOVERNMENT_AGENCY/dictitems",s).then(function(t){var a=t.data;if(a.data){var s=a.data;e(s)}else e([])}).catch(function(e){a(e)})})})},getDossierTemplate:function(e){var t=e.state;return new Promise(function(e,a){Xe.dispatch("loadInitResource").then(function(){var s={headers:{groupId:t.initData.groupId}};Q.a.get(t.endPointApi+"/dossiertemplates",s).then(function(t){var a=t.data;a.data&&e(a.data)}).catch(function(e){a(e)})})})},getEmployee:function(e){var t=e.commit,a=e.state;return new Promise(function(e,s){Xe.dispatch("loadInitResource").then(function(){var n={headers:{groupId:a.initData.groupId}};Q.a.get(a.endPointApi+"/employees",n).then(function(t){var a=t.data;a.data&&e(a.data)}).catch(function(e){s(e),t("setsnackbarerror",!0)})})})},getDossierPart:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get(s.endPointApi+"/dossiertemplates/"+t+"/parts",o).then(function(t){var a=t.data;a.data&&e(a.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getProcessDetail:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get(s.endPointApi+"/serviceprocesses/"+t,o).then(function(t){var a=t.data;a&&e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getProcessStepsDetail:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get(s.endPointApi+"/serviceprocesses/"+t.processId+"/steps/"+t.stepCode,o).then(function(t){var a=t.data;a&&e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getProcessStep:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o=t.page?{start:10*t.page-10,end:10*t.page}:{},r={headers:{groupId:s.initData.groupId},params:o};Q.a.get(s.endPointApi+"/serviceprocesses/"+t.processId+"/steps",r).then(function(t){var a=t.data;a&&e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getProcessAction:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId},params:{start:10*t.page-10,end:10*t.page}};Q.a.get(s.endPointApi+"/serviceprocesses/"+t.processId+"/actions",o).then(function(t){var a=t.data;a&&e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getProcessRole:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get(s.endPointApi+"/serviceprocesses/"+t.processId+"/roles",o).then(function(t){var a=t.data;a.data?e(a.data):e([])}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getProcessSequence:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get(s.endPointApi+"/serviceprocesses/"+t.processId+"/sequences",o).then(function(t){var a=t.data;a.data?e(a.data):e([])}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getProcessActionsDetail:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get(s.endPointApi+"/serviceprocesses/"+t.processId+"/actions/"+t.actionCode,o).then(function(t){var a=t.data;a&&e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},deleteProcessAction:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.delete(s.endPointApi+"/serviceprocesses/"+t.currentProcess+"/actions/"+t.processActionId,o).then(function(t){var a=t.data;a&&e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},postProcess:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}},r=new URLSearchParams;r.append("processNo",t.processNo?t.processNo:""),r.append("processName",t.processName?t.processName:""),r.append("description",t.description?t.description:""),r.append("durationCount",t.durationCount),r.append("durationUnit",t.durationUnit),r.append("generateDossierNo",t.generateDossierNo),r.append("dossierNoPattern",t.dossierNoPattern),r.append("generateDueDate",t.generateDueDate),r.append("dueDatePattern",t.dueDatePattern),r.append("generatePassword",t.generatePassword),r.append("directNotification",t.directNotification),r.append("serverNo",t.serverNo),"add"===t.type?Q.a.post(s.endPointApi+"/serviceprocesses",r,o).then(function(t){e(t.data)}).catch(function(e){n(e)}):Q.a.put(s.endPointApi+"/serviceprocesses/"+t.serviceProcessId,r,o).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},postProcessRoles:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}},r=new URLSearchParams,i=t.processRoles.moderator;r.append("roleId",t.processRoles.roleId),!1!==t.processRoles.moderator&&"false"!==t.processRoles.moderator||(i=0),!0!==t.processRoles.moderator&&"true"!==t.processRoles.moderator||(i=1),r.append("moderator",i),r.append("roleName",t.processRoles.roleName?t.processRoles.roleName:""),r.append("roleCode",t.processRoles.roleCode?t.processRoles.roleCode:""),r.append("condition",t.processRoles.condition?t.processRoles.condition:""),Q.a.post(s.endPointApi+"/serviceprocesses/"+t.processId+"/roles",r,o).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},putProcessRoles:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}},r=new URLSearchParams;r.append("moderator",t.processRoles.moderator),r.append("condition",t.processRoles.condition?t.processRoles.condition:""),Q.a.put(s.endPointApi+"/serviceprocesses/"+t.processId+"/roles/"+t.processRoles.roleId,r,o).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},deleteProcessRoles:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}};Q.a.delete(s.endPointApi+"/serviceprocesses/"+t.processId+"/roles/"+t.processRoles.roleId,o).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},postProcessSequence:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}},r=new URLSearchParams;r.append("sequenceName",t.processSequence.sequenceName?t.processSequence.sequenceName:""),r.append("sequenceNo",t.processSequence.sequenceNo?t.processSequence.sequenceNo:""),r.append("durationCount",t.processSequence.durationCount),r.append("sequenceRole",t.processSequence.sequenceRole?t.processSequence.sequenceRole:""),Q.a.post(s.endPointApi+"/serviceprocesses/"+t.processId+"/sequences",r,o).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},deleteProcessSequence:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}};Q.a.delete(s.endPointApi+"/serviceprocesses/"+t.processId+"/sequences/"+t.processSequence.sequenceNo,o).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},postProcessStep:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}},r=new URLSearchParams;r.append("stepCode",t.stepCode),r.append("stepName",t.stepName),r.append("sequenceNo",t.sequenceNo),r.append("dossierStatus",t.dossierStatus?t.dossierStatus:""),r.append("dossierSubStatus",t.dossierSubStatus?t.dossierSubStatus:""),r.append("durationCount",t.durationCount),r.append("customProcessUrl",t.customProcessUrl),r.append("briefNote",t.briefNote),r.append("stepInstruction",t.stepInstruction),r.append("editable",t.editable),r.append("checkInput",t.checkInput?t.checkInput:""),"add"===t.type?Q.a.post(s.endPointApi+"/serviceprocesses/"+t.currentProcess+"/steps",r,o).then(function(t){e(t.data)}).catch(function(e){n(e)}):Q.a.put(s.endPointApi+"/serviceprocesses/"+t.currentProcess+"/steps/"+t.stepCode,r,o).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},deleteProcessStep:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.delete(s.endPointApi+"/serviceprocesses/"+t.currentProcess+"/steps/"+t.stepCode,o).then(function(t){var a=t.data;a&&e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getStepRole:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get(s.endPointApi+"/serviceprocesses/"+t.processId+"/steps/"+t.stepId+"/roles",o).then(function(t){var a=t.data;a.data?e(a.data):e([])}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},postStepRoles:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}},r=new URLSearchParams,i=t.stepRoles.moderator;!1!==t.stepRoles.moderator&&"false"!==t.stepRoles.moderator||(i=0),!0!==t.stepRoles.moderator&&"true"!==t.stepRoles.moderator||(i=1),r.append("roleId",t.stepRoles.roleId?t.stepRoles.roleId:""),r.append("roleName",t.stepRoles.roleName?t.stepRoles.roleName:""),r.append("roleCode",t.stepRoles.roleCode?t.stepRoles.roleCode:""),r.append("moderator",i),r.append("condition",t.stepRoles.condition?t.stepRoles.condition:""),Q.a.post(s.endPointApi+"/serviceprocesses/"+t.processId+"/steps/"+t.stepId+"/roles",r,o).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},deleteStepRoles:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}};Q.a.delete(s.endPointApi+"/serviceprocesses/"+t.processId+"/steps/"+t.stepId+"/roles/"+t.stepRoles.roleId,o).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},postProcessAction:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}},r=new URLSearchParams;r.append("actionCode",t.actionCode?t.actionCode:""),r.append("actionName",t.actionName?t.actionName:""),r.append("preStepCode",t.preStepCode?t.preStepCode:""),r.append("postStepCode",t.postStepCode?t.postStepCode:""),r.append("autoEvent",t.autoEvent?t.autoEvent:""),r.append("preCondition",t.preCondition?t.preCondition:""),r.append("allowAssignUser",t.allowAssignUser),r.append("assignUserId",t.assignUserId?t.assignUserId:""),r.append("requestPayment",t.requestPayment?t.requestPayment:0),r.append("paymentFee",t.paymentFee?t.paymentFee:""),r.append("syncActionCode",t.syncActionCode?t.syncActionCode:""),r.append("rollbackable",t.rollbackable),r.append("createDossierFiles",t.createDossierFiles?t.createDossierFiles.join():""),r.append("returnDossierFiles",t.returnDossierFiles?t.returnDossierFiles.join():""),r.append("createDossierNo",t.createDossierNo?t.createDossierNo:""),r.append("eSignature",t.eSignature),r.append("signatureType",t.eSignature&&t.signatureType?t.signatureType:""),r.append("configNote",(t.configNote,t.configNote)),r.append("dossierTemplateNo",t.dossierTemplateNo?t.dossierTemplateNo:""),r.append("createDossiers",t.createDossier?t.createDossier.join():""),"add"===t.type?(console.log("dataPostAction",r),Q.a.post(s.endPointApi+"/serviceprocesses/"+t.currentProcess+"/actions",r,o).then(function(t){e(t.data)}).catch(function(e){n(e)})):Q.a.put(s.endPointApi+"/serviceprocesses/"+t.currentProcess+"/actions/"+t.processActionId,r,o).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getCertNumberList:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o=t.page?{start:10*t.page-10,end:10*t.page}:{},r={headers:{groupId:s.initData.groupId},params:o};Q.a.get(s.endPointApi+"/vr-app/certnumbers",r).then(function(t){var a=t.data;a&&e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getCertNumberDetail:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get(s.endPointApi+"/vr-app/certnumbers/"+t.certId,o).then(function(t){var a=t.data;a&&e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},updateCertNumber:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}},r=new URLSearchParams;r.append("pattern",t.pattern?t.pattern:""),r.append("initNumber",t.initNumber?t.initNumber:""),"add"===t.type?Q.a.post(s.endPointApi+"/vr-app/certnumbers",r,o).then(function(t){e(t.data)}).catch(function(e){n(e)}):Q.a.put(s.endPointApi+"/vr-app/certnumbers/"+t.certId,r,o).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},deleteCertNumber:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){s.initData.groupId;Q.a.delete(s.endPointApi+"/vr-app/certnumbers/"+t.certId).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},getVotingList:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId}};Q.a.get(s.endPointApi+"/postal/votings/"+t.className+"/0",o).then(function(t){var a=t.data;a&&e(a)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},updateVotings:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){var o={headers:{groupId:s.initData.groupId,Accept:"application/json"}},r=new URLSearchParams;r.append("className",t.className?t.className:""),r.append("classPK",t.classPK?t.classPK:""),r.append("votingCode",t.votingCode?t.votingCode:""),r.append("subject",t.subject?t.subject:""),r.append("choices",t.choices?t.choices:""),r.append("commentable",t.commentable?t.commentable:""),"add"===t.type?Q.a.post(s.endPointApi+"/postal/votings",r,o).then(function(t){e(t.data)}).catch(function(e){n(e)}):Q.a.put(s.endPointApi+"/postal/votings/"+t.votingId,r,o).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})},deleteVotings:function(e,t){var a=e.commit,s=e.state;return new Promise(function(e,n){Xe.dispatch("loadInitResource").then(function(){s.initData.groupId;Q.a.delete(s.endPointApi+"/postal/votings/"+t.votingId).then(function(t){e(t.data)}).catch(function(e){n(e),a("setsnackbarerror",!0)})})})}},mutations:{SOCKET_ONOPEN:function(e,t){s["default"].prototype.$socket=t.currentTarget,e.socket.isConnected=!0},SOCKET_ONCLOSE:function(e,t){e.socket.isConnected=!1,e.isConnected=!1},SOCKET_ONERROR:function(e,t){console.error(e,t)},SOCKET_ONMESSAGE:function(e,t){e.socket.message=t},SOCKET_RECONNECT:function(e,t){console.info(e,t),e.isConnected=!0},SOCKET_RECONNECT_ERROR:function(e){e.socket.reconnectError=!0},setlistTableMenu:function(e,t){var a=e.listTableMenu;for(var s in t)t[s][4]&&a.length>1?a[1].children.push({icon:"arrow_right",link:"/table/"+t[s][1],code:t[s][1],text:t[s][2]}):!t[s][4]&&a.length>2&&a[2].children.push({icon:"arrow_right",link:"/table/"+t[s][1],code:t[s][1],text:t[s][2]});e.listTableMenu=a},setInitData:function(e,t){e.initData=t},setJobPosList:function(e,t){e.jobPosList=t},setDossierStatusList:function(e,t){e.dossierStatusList=t},setDossierSubStatusList:function(e,t){e.dossierSubStatusList=t},setEmployeesList:function(e,t){e.employeesList=t},setDossierTemplatesList:function(e,t){e.dossierTemplatesList=t},setProcessStepList:function(e,t){e.processStepList=t},setProcessActionList:function(e,t){e.processActionList=t},setProcessRoleList:function(e,t){e.processRoleList=t},setsnackbarerror:function(e,t){e.snackbarerror=t},setsnackbarsocket:function(e,t){e.snackbarsocket=t},setloginUser:function(e,t){if(null!==t&&void 0!==t){var a=t[0];"Administrator"===a["role"]?console.log("admin login"):"Administrator_data"===a["role"]?e.listTableMenu.splice(3,1):(a["role"],e.listTableMenu.splice(2,1),e.listTableMenu.splice(2,1)),e.loginUser=t}},setproblem:function(e,t){e.problem=t},setisConnected:function(e,t){e.isConnected=t}},getters:{getlistTableMenu:function(e){return e.listTableMenu},getJobPosList:function(e){return e.jobPosList},getDossierStatusList:function(e){return e.dossierStatusList},getDossierSubStatusList:function(e){return e.dossierSubStatusList},getEmployeesList:function(e){return e.employeesList},getDossierTemplatesList:function(e){return e.dossierTemplatesList},getProcessStepList:function(e){return e.processStepList},getProcessActionList:function(e){return e.processActionList},getProcessRoleList:function(e){return e.processRoleList},getsnackbarerror:function(e){return e.snackbarerror},getsnackbarsocket:function(e){return e.snackbarsocket},getloginUser:function(e){return e.loginUser[0]},getisConnected:function(e){return e.isConnected},getproblem:function(e){return e.problem}}}),Ye=a("8f94"),Ze=a.n(Ye),et=(a("a7be"),a("cc10"),a("f9d4"),a("b408"),a("967d")),tt=a("e0e8");s["default"].use(tt["a"]),s["default"].use(et["default"]);var at=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,st=(void 0!==window.themeDisplay&&window.themeDisplay.getCompanyId(),void 0!==window.themeDisplay&&window.themeDisplay.getUserId(),void 0!==window.themeDisplay&&window.themeDisplay.getUserName(),void 0!==window.themeDisplay?window.themeDisplay.getPortalURL().replace("http://",""):"localhost:8080");void 0!==window.themeDisplay&&window.Liferay.authToken,st.indexOf(":")>0&&st.substr(0,st.indexOf(":")),window.themeDisplay.getPortalURL().replace("https://","").replace("http://","");Q.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",Q.a.defaults.headers.common["groupId"]=at,s["default"].config.productionTip=!0,s["default"].use(Ze.a,{mode:"text/javascript",theme:"base16-light",lineNumbers:!0,line:!0}),s["default"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new s["default"]({el:"#app",router:Je,store:Xe,render:function(e){return e(v)},created:function(){var e=this;e.$nextTick(function(){setTimeout(function(){e.dataSocket={};var t=new URLSearchParams,a={type:"api",cmd:"get",respone:"loginUser",api:"/o/v1/opencps/users/login",headers:{Token:e.getAuthToken(),groupId:e.getScopeGroupId(),USER_ID:e.getUserId()}};t=new URLSearchParams,t.append("text",JSON.stringify(a)),Q.a.post("/o/rest/v2/socket/web",t,{}).then(function(s){var n=s.data;e.dataSocket[n.respone]=n[n.respone],"loginUser"===n.respone&&e.$store.commit("setloginUser",n["loginUser"]),t=new URLSearchParams,a={type:"admin",cmd:"get",responeType:"menu",code:"opencps_adminconfig",respone:"listTableMenu",start:-1,end:-1},t.append("text",JSON.stringify(a)),Q.a.post("/o/rest/v2/socket/web",t,{}).then(function(t){var a=t.data;e.dataSocket[a.respone]=a[a.respone],"listTableMenu"===a.respone&&e.$store.commit("setlistTableMenu",e.dataSocket[a.respone])}).catch(function(e){})}).catch(function(e){}),window.location.href.endsWith("#/")&&e.$router.push("/table/opencps_employee")},100)})},computed:{problem:{get:function(){return this.$store.getters.getproblem},set:function(e){this.$store.commit("setproblem",e)}},isConnected:{get:function(){return this.$store.getters.getisConnected},set:function(e){this.$store.commit("setisConnected",e)}}},watch:{$route:function(e,t){var a=this;console.log("getisConnected: ",a.isConnected),console.debug(e),console.debug(t),a.problem=!0}}})},"861c":function(e,t,a){},a51b:function(e,t,a){},c35c:function(e,t,a){},ca9a:function(e,t,a){},d593:function(e,t,a){},f04e:function(module,__webpack_exports__,__webpack_require__){"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],s=!0,n=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(s=(r=i.next()).done);s=!0)if(a.push(r.value),t&&a.length===t)break}catch(e){n=!0,o=e}finally{try{s||null==i["return"]||i["return"]()}finally{if(n)throw o}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}__webpack_exports__["a"]={data:function(){return{toDateFormatted:null,toDate:null}},props:["value","item","dataValue"],watch:{toDate:function(e){this.toDateFormatted=this.formatDate(e),this.$emit("input",new Date(e).getTime())}},methods:{formatDate:function(e){if(!e)return null;var t=new Date(e);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=_slicedToArray(t,3),s=a[0],n=a[1],o=a[2];return"".concat(o,"-").concat(n.padStart(2,"0"),"-").concat(s.padStart(2,"0"))},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")}}}},f0b1:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"text-center",staticStyle:{position:"relative"},attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"control-section uploader file-preview py-0",staticStyle:{position:"relative"},attrs:{xs12:""}},[a("div",{staticClass:"control_wrapper"},[a("div",{attrs:{id:"dropAreaJasper"}},[a("span",{staticClass:"droparea",staticStyle:{display:"none"},attrs:{id:"drop"}},[e._v(" KÃ©o tháº£ tá»‡p tin hoáº·c "),a("a",{staticStyle:{right:"20px",color:"#0064c7",position:"absolute","text-decoration":"none","font-weight":"700"},attrs:{href:"javascript:;",id:"browseJasper"}},[e._v("Chá»n tá»« mÃ¡y tÃ­nh Â  ðŸ“¤")])]),a("ejs-uploader",{ref:"uploadObj",attrs:{name:"UploadFiles",allowedExtensions:e.extensions,asyncSettings:e.path,dropAreaJasper:e.dropAreaJasper,success:e.onSuccess,removing:e.onFileRemove,uploading:e.addHeaders}})],1),e.fileTotal>0?a("div",{staticClass:"e-upload-done-list"},[a("ul",{staticClass:"e-upload-files"},[a("li",{staticClass:"e-upload-file-list"},[a("div",{staticClass:"container py-2",staticStyle:{position:"relative"}},[a("span",{staticClass:"wrapper layout row wrap",staticStyle:{"line-height":"10px"}},[a("span",{class:["icon sf-icon-txt"]}),a("div",{staticClass:"name file-name",staticStyle:{"line-height":"42px","padding-left":"10px"}},[e._v("\n                File cáº¥u hÃ¬nh JASPER\n              ")]),a("v-btn",{staticStyle:{position:"absolute",right:"5px",top:"8px"},attrs:{flat:"",icon:"",color:"primary",href:e.avatarData,target:"_blank",loading:e.loading,disabled:e.loading}},[a("v-icon",{attrs:{size:"14"}},[e._v("link")])],1)],1)])])])]):e._e()])])],1)},n=[],o=a("a026"),r=a("e0e8");o["default"].use(r["a"]);var i={data:function(){return{fileTotal:0,noAvatar:!0,avatarData:"",loadingRemove:!1,loading:!1,fileTemplateData:[],fileTemplateTotal:0,path:{saveUrl:"",removeUrl:""},extensions:".txt",dropAreaJasper:"dropAreaJasper",rawData:[],className:""}},props:["pickItem","pk","code"],created:function(){var e=this;e.$nextTick(function(){this.loadImageComponent()})},mounted:function(){this.path={saveUrl:this.pickItem["upload_api"]+"JASPER/"+this.pk,removeUrl:this.pickItem["remove_api"]+"JASPER/"+this.pk},this.className=this.pickItem["class_name"],document.getElementById("browseJasper").onclick=function(){return document.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1}},methods:{addHeaders:function(e){var t=this;e.currentRequest.setRequestHeader("Token",t.getAuthToken()),e.currentRequest.setRequestHeader("groupId",t.getScopeGroupId())},loadImageComponent:function(){var e=this;e.fileTotal=0;var t={pk:e.pk,className:e.className};e.noAvatar=!0,e.avatarData="",e.$store.dispatch("getImageComponent",t).then(function(t){if(""!==t&&null!==t){e.noAvatar=!1;var a="";null!==window.themeDisplay&&void 0!==window.themeDisplay&&(a=themeDisplay.getPortalURL()),e.avatarData=a+t,e.fileTotal=1}})},onSuccess:function(){var e=this;setTimeout(function(){document.getElementById("dropAreaJasper").querySelectorAll(".e-upload-success").forEach(function(e){return e.parentNode.removeChild(e)}),e.loadImageComponent()},2e3)},onFileRemove:function(e){e.postRawFile=!1},processDownloadFileAttach:function(e){var t=this;t.loading=!0,t.$store.dispatch("downloadServiceFileTemplate",e).then(function(){t.loading=!1}).catch(function(e){t.loading=!1,alert("Táº£i file xáº£y ra lá»—i."+e)})}}},c=i,l=a("2877"),d=Object(l["a"])(c,s,n,!1,null,null,null);d.options.__file="AttachedFileJasper.vue";t["a"]=d.exports},fa98:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!0,lazy:"",transition:"fade-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"}},[a("v-text-field",{attrs:{slot:"activator",box:"","append-icon":"event",rules:e.processRules(e.item.rules),value:e.formatDate(e.dataValue)},on:{blur:function(t){e.toDate=e.parseDate(e.toDateFormatted)}},slot:"activator"},[a("template",{slot:"label"},[e._v(e._s(e.item["label"])+" "),e.item.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2),a("v-date-picker",{attrs:{"no-title":""},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1)},n=[],o=a("f04e"),r=o["a"],i=a("2877"),c=Object(i["a"])(r,s,n,!1,null,null,null);c.options.__file="DatetimePicker.vue";t["a"]=c.exports},ff94:function(module,__webpack_exports__,__webpack_require__){"use strict";var _TinyPagination_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("3f3e"),axios__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);__webpack_exports__["a"]={props:["tableName"],components:{TinyPagination:_TinyPagination_vue__WEBPACK_IMPORTED_MODULE_0__["a"]},data:function(){return{backTableName:"",depen:!1,showLoadingTable:!0,nameScreen:"",showFilter:!1,breadCrumbsitems:[{text:"Báº£ng dá»¯ liá»‡u",disabled:!1},{text:"",disabled:!1}],showMenu:!1,x:0,y:0,items:[],tableData:[],tableConfig:{},dataSocket:{},currentIndex:-1,filterData:{},columnsDataFilter:[],page:1,pageTotalCounter:0}},computed:{problem:{get:function(){return this.$store.getters.getproblem},set:function(e){this.$store.commit("setproblem",e)}},isConnected:{get:function(){return this.$store.getters.getisConnected},set:function(e){this.$store.commit("setisConnected",e)}}},watch:{$route:function(e,t){console.debug(t);var a=this;a.dataSocket={},console.log("vm.problem",a.problem);var s=e.query;s.hasOwnProperty("state_change")&&"0"!==String(s["state_change"])&&(a.showFilter=!1),s.hasOwnProperty("page")?a.page=parseInt(s.page):a.page=1,a.showLoadingTable=!0,a.isConnected&&(a.isConnected=!1),setTimeout(function(){a.getData()},10)}},created:function(){var e=this;e.$nextTick(function(){var t=e.$router.history.current.query;t.hasOwnProperty("page")&&"1"!==t["page"]?e.page=parseInt(t["page"]):e.page=1;var a=document.getElementById("editor-video-preloader");null!==a&&void 0!==a&&a.play(),setTimeout(function(){e.getData()},10)})},methods:{rePullData:function(){var e=this,t=e.$router.history.current,a=t.query,s="?";for(var n in a["state_change"]="0",a["renew"]="",a)""!==a[n]&&"undefined"!==a[n]&&void 0!==a[n]&&(s+=n+"="+a[n]+"&");s+="renew="+Math.floor(100*Math.random())+1,e.$router.push({path:t.path+s})},paggingData:function(e){var t=this,a=t.$router.history.current,s=a.query,n="?";for(var o in s["state_change"]="0",s["page"]="",s)""!==s[o]&&"undefined"!==s[o]&&void 0!==s[o]&&(n+=o+"="+s[o]+"&");n+="page="+e.page,t.$router.push({path:a.path+n})},getData:function(){var e=this;if(e.showFilter)for(var t in e.filterData)e.columnsDataFilter[t]["value_filter"]=e.filterData[t],delete e.columnsDataFilter[t]["source"],delete e.columnsDataFilter[t]["options"];else e.columnsDataFilter=[];var a=e.$router.history.current.query;if(a.hasOwnProperty("pk")){var s="number";a.hasOwnProperty("pk_type")&&(s=a["pk_type"]),e.columnsDataFilter.push({key:a["col"],value_filter:a["pk"],compare:"=",type:s})}var n=new URLSearchParams,o={type:"admin",cmd:"get",config:"true",code:e.$router.history.current.params.tableName,respone:"tableConfig"};n.append("text",JSON.stringify(o)),axios__WEBPACK_IMPORTED_MODULE_1___default.a.post("/o/rest/v2/socket/web",n,{}).then(function(t){var a=t.data;e.dataSocket[a.respone]=a[a.respone],null!==e.dataSocket["tableConfig"]&&void 0!==e.dataSocket["tableConfig"]&&"tableConfig"===a.respone&&(e.nameScreen=e.dataSocket["tableConfig"]["name"],e.backTableName=e.dataSocket["tableConfig"]["dependency_title"],e.dataSocket["tableConfig"].hasOwnProperty("dependency_title")?e.depen=!0:e.depen=!1,o={type:"admin",cmd:"get",code:e.$router.history.current.params.tableName,respone:"tableData",filter:e.columnsDataFilter,start:10*e.page-10,end:10*e.page},n=new URLSearchParams,n.append("text",JSON.stringify(o)),axios__WEBPACK_IMPORTED_MODULE_1___default.a.post("/o/rest/v2/socket/web",n,{}).then(function(t){var a=t.data;e.dataSocket[a.respone]=a[a.respone],null===e.dataSocket["tableConfig"]||void 0===e.dataSocket["tableConfig"]||null===e.dataSocket["tableData"]||void 0===e.dataSocket["tableData"]||"tableData"!==a.respone&&"tableConfig"!==a.respone||(e.nameScreen=e.dataSocket["tableConfig"]["name"],e.backTableName=e.dataSocket["tableConfig"]["dependency_title"],e.dataSocket["tableConfig"].hasOwnProperty("dependency_title")?e.depen=!0:e.depen=!1,e.generateTable(),e.showLoadingTable=!1)}).catch(function(e){}),o={type:"admin",cmd:"get",counter:"true",code:e.$router.history.current.params.tableName,respone:"pageTotalCounter",filter:e.columnsDataFilter},n=new URLSearchParams,n.append("text",JSON.stringify(o)),axios__WEBPACK_IMPORTED_MODULE_1___default.a.post("/o/rest/v2/socket/web",n,{}).then(function(t){var a=t.data;if(e.dataSocket[a.respone]=a[a.respone],"pageTotalCounter"===a.respone?(e.pageTotalCounter=parseInt(e.dataSocket["pageTotalCounter"]),e.showLoadingTable=!1):"loginUser"===a.respone?e.$store.commit("setloginUser",a["loginUser"]):"listTableMenu"===a.respone&&e.$store.commit("setlistTableMenu",e.dataSocket[a.respone]),"get"!==a["cmd"]){var s=e.$router.history.current,n=s.query,o="?";for(var r in n["state_change"]="0",n["renew"]="",n)""!==n[r]&&"undefined"!==n[r]&&void 0!==n[r]&&(o+=r+"="+n[r]+"&");o+="renew="+Math.floor(100*Math.random())+1,e.$router.push({path:s.path.substring(0,s.path.indexOf("/editor/"))+o})}}).catch(function(e){}))}).catch(function(e){}),e.problem=!0},show:function(e){var t=this;void 0!==e&&null!==e?(e.preventDefault(),this.showMenu=!1,this.x=e.clientX,this.y=e.clientY,this.$nextTick(function(){t.showMenu=!0})):(this.showMenu=!1,this.$nextTick(function(){t.showMenu=!0}))},addFilterRow:function addFilterRow(){var vm=this;if(vm.showFilter=!vm.showFilter,vm.showFilter){var dataFilter=[],objectConfig=vm.dataSocket["tableConfig"],columns=eval("( "+objectConfig.columns+" )"),colWidths=[],colAlignments=[];for(var key in columns)"checkbox"===columns[key]["type"]?dataFilter.push(!1):dataFilter.push(""),colWidths.push(columns[key]["width"]),colAlignments.push(columns[key]["colAlignments"]);window.$("#table_filter_"+vm.tableName).jexcel({data:[dataFilter],colHeaders:objectConfig.headersName,colWidths:colWidths,colAlignments:colAlignments,allowInsertRow:!1,allowManualInsertRow:!1,allowInsertColumn:!1,allowManualInsertColumn:!1,allowDeleteRow:!1,allowDeleteColumn:!1,contextMenu:function(){vm.show(window.event)},onchange:function(e,t,a){var s=t[0].cellIndex-1;vm.filterData[s]=a;var n=vm.$router.history.current,o=n.query,r="?";for(var i in o["page"]=1,o["state_change"]="0",o["renew"]="",o)""!==o[i]&&"undefined"!==o[i]&&void 0!==o[i]&&(r+=i+"="+o[i]+"&");r+="renew="+Math.floor(100*Math.random())+1,vm.$router.push({path:n.path+r})},columns:columns})}else window.$("#table_filter_"+vm.tableName).jexcel("destroy")},generateTable:function generateTable(){var vm=this,objectConfig=vm.dataSocket["tableConfig"],columns=eval("( "+objectConfig.columns+" )"),colWidths=[],colAlignments=[];for(var key in columns)colWidths.push(columns[key]["width"]),colAlignments.push(columns[key]["colAlignments"]);vm.columnsDataFilter=columns,window.$("#table_database_"+vm.tableName).jexcel({data:vm.dataSocket["tableData"],colHeaders:objectConfig.headersName,colWidths:colWidths,colAlignments:colAlignments,updateSelection:function(){return!1},onselection:function(e,t){var a=window.$(e).jexcel("getColumnNameFromId",window.$(t).prop("id"));vm.currentIndex=a.substring(1)-1},contextMenu:function(){vm.show(window.event)},onsort:function(e){window.$("#table_database_"+vm.tableName).jexcel("orderBy",window.$(e).next().val())},columns:columns}),vm.problem=!1},toEditor:function(e){var t=this,a=0;if(-1===e){var s=t.dataSocket["tableData"];a=s[t.currentIndex][0]}else a=e;var n=t.$router.history.current,o=n.query;t.dataSocket["tableConfig"]["extForm"]?t.$router.push({path:"/table/"+t.tableName+"/ext/editor/"+a,query:o}):t.$router.push({path:"/table/"+t.tableName+"/editor/"+a,query:o})},backToCode:function(){var e=this,t=e.$router.history.current.query;e.$router.push({path:e.dataSocket["tableConfig"]["dependency_link"]+"/"+t["pk"]})},deleteRecord:function(){var e=this,t=confirm("Báº¡n cÃ³ muá»‘n xoÃ¡ báº£n ghi nÃ y?");if(t){var a=0,s=e.dataSocket["tableData"];a=s[e.currentIndex][0];var n=new URLSearchParams,o={type:"admin",cmd:"delete",respone:"detail",id:a,code:e.$router.history.current.params.tableName};n=new URLSearchParams,n.append("text",JSON.stringify(o)),axios__WEBPACK_IMPORTED_MODULE_1___default.a.post("/o/rest/v2/socket/web",n,{}).then(function(t){var a=t.data;if(e.dataSocket[a.respone]=a[a.respone],"get"!==a["cmd"]){var s=e.$router.history.current,n=s.query,o="?";for(var r in n["state_change"]="0",n["renew"]="",n)""!==n[r]&&"undefined"!==n[r]&&void 0!==n[r]&&(o+=r+"="+n[r]+"&");o+="renew="+Math.floor(100*Math.random())+1,e.$router.push({path:s.path.substring(0,s.path.indexOf("/editor/"))+o})}}).catch(function(e){})}},toBieuDoQuyTrinh:function(){var e=this,t=0,a=e.dataSocket["tableData"];t=a[e.currentIndex][0];var s=e.$router.history.current,n=s.query;e.$router.push({path:"/table/"+e.tableName+"/flowchart/"+t,query:n})}}}}});
//# sourceMappingURL=app.js.map