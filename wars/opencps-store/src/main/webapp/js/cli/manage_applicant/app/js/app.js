(function(t){function a(a){for(var i,l,s=a[0],c=a[1],r=a[2],p=0,u=[];p<s.length;p++)l=s[p],n[l]&&u.push(n[l][0]),n[l]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(a);while(u.length)u.shift()();return o.push.apply(o,r||[]),e()}function e(){for(var t,a=0;a<o.length;a++){for(var e=o[a],i=!0,l=1;l<e.length;l++){var c=e[l];0!==n[c]&&(i=!1)}i&&(o.splice(a--,1),t=s(s.s=e[0]))}return t}var i={},n={app:0},o=[];function l(t){return s.p+"../../docs/o/opencps-frontend-cli/manage_applicant/app/js/"+({HoanThienBoSungHoSoDetail:"HoanThienBoSungHoSoDetail",Landing:"Landing",TiepNhanHoSoDetail:"TiepNhanHoSoDetail"}[t]||t)+".js"}function s(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.e=function(t){var a=[],e=n[t];if(0!==e)if(e)a.push(e[2]);else{var i=new Promise((function(a,i){e=n[t]=[a,i]}));a.push(e[2]=i);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=l(t),o=function(a){c.onerror=c.onload=null,clearTimeout(r);var e=n[t];if(0!==e){if(e){var i=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src,l=new Error("Loading chunk "+t+" failed.\n("+i+": "+o+")");l.type=i,l.request=o,e[1](l)}n[t]=void 0}};var r=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(a)},s.m=t,s.c=i,s.d=function(t,a,e){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)s.d(e,i,function(a){return t[a]}.bind(null,i));return e},s.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="/",s.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=a,c=c.slice();for(var p=0;p<c.length;p++)a(c[p]);var d=r;o.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"56d7":function(t,a,e){"use strict";e.r(a);e("0f18");var i=e("a026"),n=e("bb71");e("74ef");i["a"].use(n["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-app",{staticStyle:{"max-width":"1300px",margin:"0 auto"},attrs:{id:"app_manage_applicant"}},[e("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"",width:"0"}}),e("v-content",[e("router-view")],1)],1)},l=[],s=e("bc3a"),c=e.n(s),r={data:function(){return{}},components:{},computed:{},beforeDestroy:function(){},mounted:function(){},beforeCreate:function(){},created:function(){},watch:{$route:function(t,a){t.params,t.query}},methods:{}},p=r,d=e("2877"),u=e("6544"),m=e.n(u),f=e("7496"),h=e("549c"),v=e("f774"),g=Object(d["a"])(p,o,l,!1,null,null,null),y=g.exports;m()(g,{VApp:f["a"],VContent:h["a"],VNavigationDrawer:v["a"]});var x=e("8c4f"),b=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-container",{attrs:{fluid:""}},[e("v-layout",{attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[e("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},_=[],C={},w=C,T=e("a523"),k=e("0e8f"),S=e("a722"),N=e("490a"),D=Object(d["a"])(w,b,_,!1,null,null,null),I=D.exports;m()(D,{VContainer:T["a"],VFlex:k["a"],VLayout:S["a"],VProgressCircular:N["a"]});var P=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-card",[e("div",{staticClass:"row-header no__hidden_class"},[e("div",{staticClass:"background-triangle-big"},[e("span",[t._v("QUẢN LÝ THÔNG TIN CÔNG DÂN, CƠ QUAN TỔ CHỨC, DOANH NGHIỆP")])])]),e("v-card-text",{staticClass:"px-0 pt-0"},[e("v-layout",{attrs:{wrap:""}},[e("v-flex",{staticClass:"pr-2 mt-3",attrs:{xs12:""}},[e("div",{staticClass:"text-bold d-inline-block mr-3",staticStyle:{color:"#903938","line-height":"24px","vertical-align":"top"}},[t._v("Loại thông tin người dùng: ")]),e("v-radio-group",{staticClass:"pt-0 d-inline-block ml-3 mt-0",attrs:{row:""},on:{change:t.changeTypeSearch},model:{value:t.typeSearch,callback:function(a){t.typeSearch=a},expression:"typeSearch"}},[e("v-radio",{attrs:{label:"Công dân",value:"citizen"}}),e("v-radio",{attrs:{label:"Doanh nghiệp",value:"business"}}),e("v-radio",{attrs:{label:"Cơ quan, tổ chức",value:"organization"}}),e("v-radio",{attrs:{label:"Tất cả",value:""}})],1)],1),e("v-flex",{staticClass:"pr-2 input-group--text-field-box mt-1",attrs:{xs12:"",sm6:""}},[e("v-text-field",{attrs:{label:"Tìm kiếm theo tên người dùng","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(a){return!("button"in a)&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.searchKeyword(a)},"click:clear":function(a){t.clearKeySearch("keyword")},"click:append":t.searchKeyword},model:{value:t.keySearch,callback:function(a){t.keySearch=a},expression:"keySearch"}})],1),e("v-flex",{staticClass:"input-group--text-field-box mt-1 pl-2",attrs:{xs12:"",sm6:""}},[e("v-text-field",{attrs:{label:"Số CMND/ căn cước, mã tổ chức, doanh nghiệp","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(a){return!("button"in a)&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.searchKeyword(a)},"click:clear":function(a){t.clearKeySearch("idNo")},"click:append":t.searchKeyword},model:{value:t.idNoSearch,callback:function(a){t.idNoSearch=a},expression:"idNoSearch"}})],1)],1),e("v-data-table",{staticClass:"table-landing table-bordered mt-3",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.applicantListHeader,items:t.applicantLists,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(a){return[e("tr",{class:{active:a.index%2==1},staticStyle:{cursor:"pointer"}},[e("td",{staticClass:"text-xs-center",staticStyle:{width:"50px",height:"36px"}},[t.loadingTable?e("content-placeholders",[e("content-placeholders-text",{attrs:{lines:1}})],1):e("div",[e("span",[t._v(t._s(t.applicantPage*t.numberPerPage-t.numberPerPage+a.index+1))])])],1),e("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"}},[t.loadingTable?e("content-placeholders",[e("content-placeholders-text",{attrs:{lines:1}})],1):e("div",[e("span",[t._v(t._s(a.item.applicantName))])])],1),e("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"}},[t.loadingTable?e("content-placeholders",[e("content-placeholders-text",{attrs:{lines:1}})],1):e("div",[e("span",[t._v(t._s("citizen"===a.item.applicantIdType?"Công dân":"business"===a.item.applicantIdType?"Doanh nghiệp":"Cơ quan, tổ chức"))])])],1),e("td",{staticClass:"text-xs-left",staticStyle:{height:"36px"}},[t.loadingTable?e("content-placeholders",[e("content-placeholders-text",{attrs:{lines:1}})],1):e("div",[e("span",[t._v(t._s(a.item.applicantIdNo))])])],1),e("td",{staticClass:"text-xs-left",staticStyle:{height:"36px","min-width":"200px"}},[t.loadingTable?e("content-placeholders",[e("content-placeholders-text",{attrs:{lines:1}})],1):e("div",[e("span",[t._v(t._s(t.fullAddress(a.item["address"],a.item["cityName"],a.item["districtName"],a.item["wardName"])))])])],1),e("td",{staticClass:"text-xs-center",staticStyle:{height:"36px",width:"100px"}},[t.loadingTable?e("content-placeholders",[e("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loadingTable?t._e():e("v-tooltip",{attrs:{top:""}},[e("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(e){t.showEditApplicant(a.item)}},slot:"activator"},[e("v-icon",[t._v("edit")])],1),e("span",[t._v("Sửa thông tin")])],1),t.loadingTable?t._e():e("v-tooltip",{staticClass:"ml-2",attrs:{top:""}},[e("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(e){t.documentManage(a.item)}},slot:"activator"},[e("v-icon",[t._v("fas fa fa-folder-open")])],1),e("span",[t._v("Quản lý tài liệu")])],1)],1)])]}}])},[e("template",{slot:"no-data"},[e("div",{staticClass:"text-xs-center mt-2"},[t._v("\n            Không có công dân, cơ quan tổ chức, doanh nghiệp\n          ")])])],2),t.totalApplicantSearch>t.numberPerPage?e("div",{staticClass:"my-2"},[e("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[e("div",{staticClass:"flex pagging-table"},[e("tiny-pagination",{attrs:{total:t.totalApplicantSearch,page:t.applicantPage,numberPerPage:t.numberPerPage,nameRecord:"người dùng","custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.changePage}})],1)])]):t._e()],1)],1),e("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"900px"},model:{value:t.dialog_editApplicant,callback:function(a){t.dialog_editApplicant=a},expression:"dialog_editApplicant"}},[e("v-card",[e("v-toolbar",{attrs:{dark:"",color:"primary"}},[e("v-toolbar-title",[t._v(t._s(t.titleEdit))]),e("v-spacer"),e("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(a){t.dialog_editApplicant=!1}}},[e("v-icon",[t._v("close")])],1)],1),e("v-card-text",{staticClass:"py-1"},[e("v-form",{ref:"form",staticClass:"py-3 px-0 grid-list",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[e("v-layout",{staticClass:"px-0 py-3",attrs:{row:"",wrap:""}},[e("v-flex",{attrs:{xs12:"",sm12:""}},[e("v-text-field",{attrs:{box:"",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:""},model:{value:t.applicantEdit["applicantName"],callback:function(a){t.$set(t.applicantEdit,"applicantName",a)},expression:"applicantEdit['applicantName']"}},[e("template",{slot:"label"},["business"===t.applicantEdit["applicantIdType"]?e("span",[t._v("Tên doanh nghiệp")]):t._e(),"citizen"===t.applicantEdit["applicantIdType"]?e("span",[t._v("Họ tên")]):t._e(),"organization"===t.applicantEdit["applicantIdType"]?e("span",[t._v("Tên cơ quan, tổ chức")]):t._e(),e("span",{staticClass:"red--text darken-3"},[t._v(" *")])])],2)],1),e("v-flex",{attrs:{xs12:"",sm6:""}},[e("v-text-field",{staticStyle:{"pointer-events":"none"},attrs:{box:"",rules:[function(t){return!!t||"Trường dữ liệu bắt buộc"}],required:"",disabled:""},model:{value:t.applicantEdit["applicantIdNo"],callback:function(a){t.$set(t.applicantEdit,"applicantIdNo",a)},expression:"applicantEdit['applicantIdNo']"}},[e("template",{slot:"label"},["business"===t.applicantEdit["applicantIdType"]?e("span",[t._v("Mã số thuế")]):t._e(),"citizen"===t.applicantEdit["applicantIdType"]?e("span",[t._v("Số CMND/ Căn cước")]):t._e(),"organization"===t.applicantEdit["applicantIdType"]?e("span",[t._v("Mã cơ quan, tổ chức")]):t._e(),e("span",{staticClass:"red--text darken-3"},[t._v(" *")])])],2)],1),e("v-flex",{attrs:{xs12:"",sm6:""}},[e("v-menu",{ref:"menuBirthDate",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"fade-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"},model:{value:t.menuBirthDate,callback:function(a){t.menuBirthDate=a},expression:"menuBirthDate"}},[e("v-text-field",{attrs:{slot:"activator",box:"","append-icon":"event",label:"Ngày cấp"},on:{blur:function(a){t.ngayCap=t.parseDate(t.applicantEdit["applicantIdDate"])}},slot:"activator",model:{value:t.applicantEdit["applicantIdDate"],callback:function(a){t.$set(t.applicantEdit,"applicantIdDate",a)},expression:"applicantEdit['applicantIdDate']"}}),e("v-date-picker",{ref:"picker",attrs:{min:"1950-01-01",max:t.getMaxdate(),"first-day-of-week":1,locale:"vi","no-title":""},on:{input:t.changeBirthDate},model:{value:t.ngayCap,callback:function(a){t.ngayCap=a},expression:"ngayCap"}})],1)],1),e("v-flex",{attrs:{xs12:"",sm6:""}},[e("v-text-field",{attrs:{label:"Số điện thoại",box:""},model:{value:t.applicantEdit["contactTelNo"],callback:function(a){t.$set(t.applicantEdit,"contactTelNo",a)},expression:"applicantEdit['contactTelNo']"}})],1),e("v-flex",{attrs:{xs12:"",sm6:""}},[e("v-text-field",{attrs:{label:"Thư điện tử",box:"",disabled:""},model:{value:t.applicantEdit["contactEmail"],callback:function(a){t.$set(t.applicantEdit,"contactEmail",a)},expression:"applicantEdit['contactEmail']"}})],1),e("v-flex",{attrs:{xs12:"",sm12:""}},[e("v-text-field",{attrs:{label:"Địa chỉ",box:"",clearable:""},model:{value:t.applicantEdit["address"],callback:function(a){t.$set(t.applicantEdit,"address",a)},expression:"applicantEdit['address']"}})],1),e("v-flex",{attrs:{xs12:"",sm4:""}},[e("v-autocomplete",{attrs:{items:t.cityItems,label:"Tỉnh/thành phố","item-text":"itemName","item-value":"itemCode","hide-selected":!0,box:""},on:{change:function(a){t.onChangeCityEditApplicant(a)}},model:{value:t.applicantEdit["cityCode"],callback:function(a){t.$set(t.applicantEdit,"cityCode",a)},expression:"applicantEdit['cityCode']"}})],1),e("v-flex",{attrs:{xs12:"",sm4:""}},[e("v-autocomplete",{attrs:{items:t.districtItems,label:"Quận/huyện","item-text":"itemName","item-value":"itemCode","hide-selected":!0,box:""},on:{change:function(a){t.onChangeDistrictEditApplicant(a)}},model:{value:t.applicantEdit["districtCode"],callback:function(a){t.$set(t.applicantEdit,"districtCode",a)},expression:"applicantEdit['districtCode']"}})],1),e("v-flex",{attrs:{xs12:"",sm4:""}},[e("v-autocomplete",{attrs:{label:"Xã/phường",items:t.wardItems,"item-text":"itemName","item-value":"itemCode","hide-selected":!0,box:""},on:{change:function(a){t.onChangeWardEditApplicant(a)}},model:{value:t.applicantEdit["wardCode"],callback:function(a){t.$set(t.applicantEdit,"wardCode",a)},expression:"applicantEdit['wardCode']"}})],1)],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},nativeOn:{click:function(a){return t.exitDialogEditApplicant(a)}}},[e("v-icon",[t._v("clear")]),t._v("  \n          Thoát\n        ")],1),e("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},nativeOn:{click:function(a){return t.updateApplicant(a)}}},[e("v-icon",[t._v("save")]),t._v("  \n          Cập nhật\n        ")],1)],1)],1)],1)],1)},A=[],F=e("1157"),E=e.n(F),V=e("854a"),L=e.n(V),O=(e("bbd0"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.isMobile?t._e():e("div",{staticStyle:{"text-align":"left",position:"absolute","line-height":"46px"}},[t._v("Tổng số "),e("span",{staticClass:"text-bold primary--text"},[t._v(t._s(t.total))]),t._v(" "+t._s(t.nameRecord)+" ")]),t.total>0?e("div",{staticClass:"vue-tiny-pagination pagination layout",style:t.isMobile?"":"justify-content: flex-end; -webkit-justify-content: flex-end;"},[e("div",{class:t.isMobile?"pr-3 xs4 flex":"px-3 xs4 flex"},[e("v-select",{attrs:{items:t.totalPagesData,"item-text":"text","item-value":"value",autocomplete:""},on:{input:t.goToPage},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],1),e("ul",{staticClass:"tiny-pagination",class:t.customClass},[e("li",{staticClass:"page-item",class:t.classFirstPage},[e("button",{staticClass:"pagination__navigation",class:t.classFirstPage,on:{click:function(a){return a.preventDefault(),t.lastPageLast(a)}}},[e("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("first_page")])])]),e("li",{staticClass:"page-item",class:t.classFirstPage},[e("button",{staticClass:"pagination__navigation",class:t.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(a){return a.preventDefault(),t.lastPage(a)}}},[e("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_left")])])]),e("li",{staticClass:"page-item",staticStyle:{"margin-right":"0"}},[e("button",{staticClass:"pagination__navigation pagination__navigation--disabled text-bold primary--text",staticStyle:{"border-right":"0","border-left":"0"}},[t._v("\n          "+t._s(t.titlePage)+"\n        ")])]),e("li",{staticClass:"page-item",class:t.classLastPage,staticStyle:{"margin-right":"0"}},[e("button",{staticClass:"pagination__navigation",class:t.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(a){return a.preventDefault(),t.nextPage(a)}}},[e("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_right")])])]),e("li",{staticClass:"page-item",class:t.classLastPage},[e("button",{staticClass:"pagination__navigation",class:t.classLastPage,on:{click:function(a){return a.preventDefault(),t.nextPageLast(a)}}},[e("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("last_page")])])])])]):t._e()])}),$=[],z="TinyPagination",M={name:z,props:{total:{type:Number,required:!0},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},limits:{type:Array,default:function(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0},nameRecord:{type:String,default:"bản ghi"}},data:function(){return{version:"0.2.1",currentPage:1,currentLimit:15,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created:function(){this.currentPage=this.page},watch:{page:function(t){this.currentPage=parseInt(t)}},computed:{translation:function(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages:function(){return Math.ceil(this.total/this.currentLimit)},totalPagesData:function(){for(var t=[],a={},e=1;e<=this.totalPages;++e)a={value:e,text:"Trang "+e},t.push(a);return t},titlePage:function(){return"".concat(this.currentPage)},classFirstPage:function(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage:function(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}},isMobile:function(){return this.$store.getters.getIsMobile}},methods:{nextPage:function(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast:function(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast:function(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage:function(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange:function(){this.currentPage=1}}},H=M,B=e("b56d"),U=Object(d["a"])(H,O,$,!1,null,null,null),G=U.exports;function q(t,a){return K(t)||R(t,a)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function R(t,a){var e=[],i=!0,n=!1,o=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0)if(e.push(l.value),a&&e.length===a)break}catch(c){n=!0,o=c}finally{try{i||null==s["return"]||s["return"]()}finally{if(n)throw o}}return e}function K(t){if(Array.isArray(t))return t}m()(U,{VSelect:B["a"]}),i["a"].use(L.a);var Q={props:[],components:{"tiny-pagination":G},data:function(){return{keySearch:"",idNoSearch:"",typeSearch:"",applicantListHeader:[{text:"STT",align:"center",sortable:!1},{text:"Tên công dân, tổ chức, doanh nghiệp",align:"center",sortable:!1},{text:"Loại thông tin người dùng",align:"center",sortable:!1},{text:"Số CMND/ căn cước, mã tổ chức, doanh nghiệp",align:"center",sortable:!1},{text:"Địa chỉ",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}],applicantLists:"",loadingTable:!1,numberPerPage:10,applicantPage:1,totalApplicantSearch:0,menuBirthDate:!1,toDateFormatted:null,dialog_editApplicant:!1,valid:!0,applicantEdit:"",ngayCap:null,cityItems:[],districtItems:[],wardItems:[]}},computed:{},created:function(){var t=this;t.$nextTick((function(){var a=t.$router.history.current;a.query;t.getApplicantList().then((function(a){t.totalApplicantSearch=a["total"],t.applicantLists=a["data"]})).catch((function(){}))}))},updated:function(){var t=this;t.$nextTick((function(){}))},mounted:function(){},watch:{$route:function(t,a){t.params,t.query},typeSearch:function(t){var a=this;""===t?(a.applicantListHeader[1].text="Tên công dân, tổ chức, doanh nghiệp",a.applicantListHeader[3].text="Số CMND/ căn cước, mã số thuế doanh nghiệp"):"citizen"===t?(a.applicantListHeader[1].text="Tên công dân",a.applicantListHeader[3].text="Số CMND/ căn cước"):"business"===t?(a.applicantListHeader[1].text="Tên doanh nghiệp",a.applicantListHeader[3].text="Mã số thuế doanh nghiệp"):(a.applicantListHeader[1].text="Tên cơ quan, tổ chức",a.applicantListHeader[3].text="Mã cơ quan, tổ chức")},ngayCap:function(t){this.toDateFormatted=this.formatDate(t),this.applicantEdit["applicantIdDate"]=this.toDateFormatted}},methods:{getApplicantList:function(){var t=this;return t.loadingTable=!0,new Promise((function(a){t.$store.dispatch("loadInitResource").then((function(e){var i={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():""}},n={start:t.applicantPage*t.numberPerPage-t.numberPerPage,end:t.applicantPage*t.numberPerPage,type:t.typeSearch,applicantName:t.keySearch,idNo:t.idNoSearch},o=new URLSearchParams;o.append("method","GET"),o.append("url","/applicants"),o.append("data",JSON.stringify(n)),c.a.post("/o/rest/v2/proxy",o,i).then((function(e){var i=[];e.data.hasOwnProperty("data")&&(i=e.data.data);var n={data:i,total:e.data["total"]};t.loadingTable=!1,a(n)})).catch((function(){t.loadingTable=!1}))}))}))},showEditApplicant:function(t){var a=this;if(a.applicantEdit=t,0===a.cityItems.length){var e={collectionCode:"ADMINISTRATIVE_REGION",level:0,parent:0,commit:""};a.$store.dispatch("loadDictItems",e).then((function(t){a.cityItems=t.data}))}a.applicantEdit["cityCode"]&&a.$store.dispatch("loadDictItems",{collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:a.applicantEdit["cityCode"]}).then((function(t){a.districtItems=t.data})),a.applicantEdit["districtCode"]&&a.$store.dispatch("loadDictItems",{collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:a.applicantEdit["districtCode"]}).then((function(t){a.wardItems=t.data})),"citizen"===a.applicantEdit["applicantIdType"]?a.titleEdit="Thông tin công dân":"business"===a.applicantEdit["applicantIdType"]&&(a.titleEdit="Thông tin tổ chức, doanh nghiệp"),a.dialog_editApplicant=!0,a.$refs.form.resetValidation()},documentManage:function(t){var a=this;a.$store.commit("setApplicantInfos",t),a.$router.push({path:"/"+t.applicantIdNo+"/quan-ly-giay-to",query:{renew:Math.floor(100*Math.random())+1}})},searchKeyword:function(){var t=this;setTimeout((function(){t.applicantPage=1,t.getApplicantList().then((function(a){t.totalApplicantSearch=a["total"],t.applicantLists=a["data"]})).catch((function(){}))}),200)},clearKeySearch:function(t){var a=this;"keyword"===t?a.keySearch="":a.idNoSearch="",setTimeout((function(){a.applicantPage=1,a.getApplicantList().then((function(t){a.totalApplicantSearch=t["total"],a.applicantLists=t["data"]})).catch((function(){}))}),200)},changeTypeSearch:function(){var t=this;setTimeout((function(){t.applicantPage=1,t.getApplicantList().then((function(a){t.totalApplicantSearch=a["total"],t.applicantLists=a["data"]})).catch((function(){}))}),200)},changePage:function(t){var a=this;a.applicantPage=t.page,a.getApplicantList().then((function(t){a.totalApplicantSearch=t["total"],a.applicantLists=t["data"]})).catch((function(){}))},updateApplicant:function(){var t=this;t.$refs.form.validate()&&(t.loading=!0,t.$store.dispatch("putUser",t.applicantEdit).then((function(){L.a.clear(),L.a.success("Yêu cầu thực hiện thành công"),t.dialog_editApplicant=!1})).catch((function(){L.a.clear(),L.a.error("Yêu cầu thực hiện thất bại")})))},exitDialogEditApplicant:function(){var t=this;t.dialog_editApplicant=!1,t.getApplicantList().then((function(a){t.totalApplicantSearch=a["total"],t.applicantLists=a["data"]})).catch((function(){L.a.error("Không lấy được danh sách công dân, tổ chức, doanh nghiệp")}))},fullAddress:function(t,a,e,i){var n="";return t&&(n+=t+", "),i&&(n+=i+" - "),e&&(n+=e+" - "),a&&(n+=a),n},changeBirthDate:function(){var t=this;t.menuBirthDate=!1,t.applicantEdit["applicantIdDate"]=t.formatDate(t.ngayCap)},formatDate:function(t){if(!t)return null;var a=t.split("-"),e=q(a,3),i=e[0],n=e[1],o=e[2];return"".concat(o,"/").concat(n,"/").concat(i)},onChangeCityEditApplicant:function(t){var a=this;a.applicantEdit["cityName"]=a.cityItems.filter((function(a){return a["itemCode"]===t}))[0]["itemName"];var e={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t};a.$store.dispatch("loadDictItems",e).then((function(t){a.districtItems=t.data,a.wardItems=[]}))},onChangeDistrictEditApplicant:function(t){var a=this;a.applicantEdit["districtName"]=a.districtItems.filter((function(a){return a["itemCode"]===t}))[0]["itemName"];var e={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:t};a.$store.dispatch("loadDictItems",e).then((function(t){a.wardItems=t.data}))},onChangeWardEditApplicant:function(t){var a=this;a.applicantEdit["wardName"]=a.wardItems.filter((function(a){return a["itemCode"]===t}))[0]["itemName"]},parseDate:function(t){if(!t)return null;var a=t.split("/"),e=q(a,3),i=e[0],n=e[1],o=e[2];return"".concat(o,"-").concat(n.padStart(2,"0"),"-").concat(i.padStart(2,"0"))},getMaxdate:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0"))},goBack:function(){window.history.back()}}},J=Q,X=e("c6a6"),Y=e("8336"),W=e("b0af"),Z=e("99d9"),tt=e("8fea"),at=e("2e4b"),et=e("169a"),it=e("4bd4"),nt=e("132d"),ot=e("e449"),lt=e("67b6"),st=e("43a6"),ct=e("9910"),rt=e("2677"),pt=e("71d9"),dt=e("2a7f"),ut=e("3a2f"),mt=Object(d["a"])(J,P,A,!1,null,null,null),ft=mt.exports;m()(mt,{VAutocomplete:X["a"],VBtn:Y["a"],VCard:W["a"],VCardActions:Z["a"],VCardText:Z["b"],VDataTable:tt["a"],VDatePicker:at["a"],VDialog:et["a"],VFlex:k["a"],VForm:it["a"],VIcon:nt["a"],VLayout:S["a"],VMenu:ot["a"],VRadio:lt["a"],VRadioGroup:st["a"],VSpacer:ct["a"],VTextField:rt["a"],VToolbar:pt["a"],VToolbarTitle:dt["a"],VTooltip:ut["a"]});var ht,vt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-card",[e("div",{staticClass:"row-header no__hidden_class"},[e("div",{staticClass:"background-triangle-big"},[e("span",[t._v("QUẢN LÝ TÀI LIỆU CÔNG DÂN, CƠ QUAN TỔ CHỨC, DOANH NGHIỆP")])]),e("div",{staticClass:"layout row wrap header_tools row-blue"},[e("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[e("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:t.goBack}},[e("v-icon",{attrs:{size:"18"}},[t._v("reply")]),t._v("  \n            Quay lại\n          ")],1)],1)])]),e("v-card-text",{staticClass:"px-0 pt-0"},[e("v-card-text",{staticClass:"py-0 px-0"},[e("v-layout",{staticClass:"px-0 py-3",attrs:{wrap:""}},[e("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm5:""}},[e("div",{staticClass:"xs12 sm12 pb-1 mb-1"},[e("span",{staticClass:"pr-2"},[t._v(t._s(t.nameTitle)+": ")]),e("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.applicantInfos.applicantName))])])]),e("v-flex",{staticClass:"mb-1",attrs:{xs12:"",sm7:""}},[e("div",{staticClass:"xs12 sm12 pb-1"},[e("span",{staticClass:"pr-2"},[t._v(t._s(t.creditTitle)+": ")]),e("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.applicantInfos.applicantIdNo))])])]),e("v-flex",{staticClass:"pr-2 mb-1",attrs:{xs12:"",sm5:""}},[e("div",{staticClass:"xs12 sm12 pb-1"},[e("span",{staticClass:"pr-2"},[t._v("Điện thoại: ")]),e("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.applicantInfos.contactTelNo)+" ")])])]),e("v-flex",{staticClass:"mb-1",attrs:{xs12:"",sm7:""}},[e("div",{staticClass:"xs12 sm12 pb-1"},[e("span",{staticClass:"pl-0"},[t._v("Thư điện tử: ")]),e("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.applicantInfos.contactEmail)+" ")])])]),e("v-flex",{attrs:{xs12:""}},[e("div",{staticClass:"xs12 sm12 pb-1"},[e("span",{staticClass:"pr-2"},[t._v("Địa chỉ: ")]),e("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(String(t.applicantInfos.address).replace(/\./g,""))+" "+t._s(t.applicantInfos.wardName)),t.applicantInfos.wardName?e("span",[t._v(", "+t._s(t.applicantInfos.districtName)+", "+t._s(t.applicantInfos.cityName))]):t._e()])])])],1)],1),e("v-layout",{staticClass:"mt-0",attrs:{wrap:""}},[e("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[e("v-autocomplete",{attrs:{items:t.fileTemplateList,label:"Chọn loại tài liệu","item-text":"name","item-value":"fileTemplateNo","hide-selected":!0,clearable:"",box:""},on:{change:t.changeFilterSearch},model:{value:t.fileTemplateNo,callback:function(a){t.fileTemplateNo=a},expression:"fileTemplateNo"}})],1),e("v-flex",{staticClass:"pr-0",attrs:{xs12:"",sm6:""}},[e("v-autocomplete",{attrs:{items:t.statusList,label:"Chọn tình trạng","item-text":"text","item-value":"value","hide-selected":!0,clearable:"",box:""},on:{change:t.changeFilterSearch},model:{value:t.status,callback:function(a){t.status=a},expression:"status"}})],1),e("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[e("v-text-field",{attrs:{label:"Tìm theo tên tài liệu","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(a){return!("button"in a)&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.changeFilterSearch(a)},"click:clear":t.changeFilterSearch,"click:append":t.changeFilterSearch},model:{value:t.keySearch,callback:function(a){t.keySearch=a},expression:"keySearch"}})],1),e("v-flex",{attrs:{xs12:"",sm6:""}},[e("v-text-field",{attrs:{label:"Tìm theo mã tài liệu","append-icon":"search",box:"","clear-icon":"clear",clearable:""},on:{keyup:function(a){return!("button"in a)&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.changeFilterSearch(a)},"click:clear":t.changeFilterSearch,"click:append":t.changeFilterSearch},model:{value:t.fileNoSearch,callback:function(a){t.fileNoSearch=a},expression:"fileNoSearch"}})],1)],1),e("v-flex",{staticStyle:{width:"100%",height:"32px"}},[e("v-btn",{staticClass:"mx-0 my-0 right",attrs:{color:"primary",dark:""},nativeOn:{click:function(a){return t.showCreatedocument(a)}}},[e("v-icon",{attrs:{size:"18"}},[t._v("add")]),t._v("   Thêm tài liệu\n        ")],1)],1),e("v-data-table",{staticClass:"table-landing table-bordered mt-2",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:t.documentListHeader,items:t.documentApplicantList,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(a){return[e("tr",{class:{active:a.index%2==1},staticStyle:{cursor:"pointer"}},[e("td",{staticClass:"text-xs-center",staticStyle:{width:"50px",height:"36px"}},[t.loadingTable?e("content-placeholders",[e("content-placeholders-text",{attrs:{lines:1}})],1):e("div",[e("span",[t._v(t._s(t.documentPage*t.numberPerPage-t.numberPerPage+a.index+1))])])],1),e("td",{staticClass:"text-xs-left",staticStyle:{height:"36px","min-width":"450px"}},[t.loadingTable?e("content-placeholders",[e("content-placeholders-text",{attrs:{lines:1}})],1):e("div",[e("span",[t._v(t._s(a.item.hasOwnProperty("fileName")?a.item.fileName:""))])])],1),e("td",{staticClass:"text-xs-left",staticStyle:{height:"36px","min-width":"150px"}},[t.loadingTable?e("content-placeholders",[e("content-placeholders-text",{attrs:{lines:1}})],1):e("div",[e("span",[t._v(t._s(a.item.hasOwnProperty("fileNo")?a.item.fileNo:""))])])],1),e("td",{staticClass:"text-xs-left",staticStyle:{height:"36px","min-width":"200px"}},[t.loadingTable?e("content-placeholders",[e("content-placeholders-text",{attrs:{lines:1}})],1):e("div",[e("span",[t._v(t._s(a.item.hasOwnProperty("dossierNo")?a.item.dossierNo:""))])])],1),e("td",{staticClass:"text-xs-center",staticStyle:{height:"36px",width:"135px"}},[t.loadingTable?e("content-placeholders",[e("content-placeholders-text",{attrs:{lines:1}})],1):e("div",[e("span",{style:1===a.item.status?"color: green":2===a.item.status?"color: red":"color: orange"},[t._v("\n                  "+t._s(a.item.hasOwnProperty("status")?t.getStatus(a.item.status):"")+"\n                ")])])],1),e("td",{staticClass:"text-xs-center",staticStyle:{height:"36px",width:"150px"}},[t.loadingTable?e("content-placeholders",[e("content-placeholders-text",{attrs:{lines:1}})],1):t._e(),t.loadingTable?t._e():e("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[e("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(e){t.viewDocument(a.item)}},slot:"activator"},[e("v-icon",[t._v("visibility")])],1),e("span",[t._v("Xem trước")])],1),t.loadingTable?t._e():e("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[e("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"blue",flat:"",icon:""},on:{click:function(e){t.downloadDocument(a.item)}},slot:"activator"},[e("v-icon",[t._v("fas fa fa-download")])],1),e("span",[t._v("Tải xuống")])],1),t.loadingTable?t._e():e("v-tooltip",{staticClass:"mr-2",attrs:{top:""}},[e("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",color:"green",flat:"",icon:""},on:{click:function(e){t.showEditDocument(a.item)}},slot:"activator"},[e("v-icon",[t._v("edit")])],1),e("span",[t._v("Chỉnh sửa")])],1)],1)])]}}])},[e("template",{slot:"no-data"},[e("div",{staticClass:"text-xs-center mt-2"},[t._v("\n            Không có tài liệu\n          ")])])],2),t.totalDocument>t.numberPerPage?e("div",{staticClass:"my-2"},[e("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[e("div",{staticClass:"flex pagging-table"},[e("tiny-pagination",{attrs:{total:t.totalDocument,page:t.documentPage,numberPerPage:t.numberPerPage,nameRecord:"tài liệu","custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.changePage}})],1)])]):t._e()],1)],1),e("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"900px"},model:{value:t.dialog_createDocument,callback:function(a){t.dialog_createDocument=a},expression:"dialog_createDocument"}},[e("v-card",[e("v-toolbar",{attrs:{dark:"",color:"primary"}},[e("v-toolbar-title",[t._v(t._s("create"===t.typeCreate?"Thêm mới tài liệu":"Cập nhật tài liệu"))]),e("v-spacer"),e("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(a){t.dialog_createDocument=!1}}},[e("v-icon",[t._v("close")])],1)],1),e("v-card-text",{staticClass:"py-1"},[e("v-form",{ref:"form",staticClass:"px-0 grid-list",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[e("v-layout",{staticClass:"px-0 py-3",attrs:{row:"",wrap:""}},[e("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[e("v-autocomplete",{attrs:{items:t.fileTemplateList,label:"Chọn loại tài liệu","item-text":"name","item-value":"fileTemplateNo","return-object":"","hide-selected":!0,box:"",rules:[function(t){return!!t||"Loại tài liệu là bắt buộc"}],required:""},model:{value:t.fileTemplateNoCreate,callback:function(a){t.fileTemplateNoCreate=a},expression:"fileTemplateNoCreate"}})],1),e("v-flex",{staticClass:"pr-2",attrs:{xs12:"",sm6:""}},[e("v-autocomplete",{attrs:{items:t.statusList,label:"Chọn tình trạng","item-text":"text","item-value":"value","hide-selected":!0,box:"",rules:[function(t){return""!==t&&null!==t||"Tình trạng là bắt buộc"}],required:""},model:{value:t.statusCreate,callback:function(a){t.statusCreate=a},expression:"statusCreate"}})],1),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Tên tài liệu",box:"",clearable:"",rules:[function(t){return!!t||"Tên tài liệu là bắt buộc"}],required:""},model:{value:t.fileName,callback:function(a){t.fileName=a},expression:"fileName"}})],1),e("v-flex",{attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Mã tài liệu",box:"",clearable:"",rules:[function(t){return!!t||"Mã tài liệu là bắt buộc"}],required:""},model:{value:t.fileNo,callback:function(a){t.fileNo=a},expression:"fileNo"}})],1),e("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[t.fileNameView?e("div",{staticClass:"mb-3"},[e("v-icon",{attrs:{size:"18",color:"#004b94"}},[t._v("attach_file")]),e("span",{staticClass:"ml-2",staticStyle:{"font-style":"italic"}},[t._v(t._s(t.fileNameView))])],1):t._e(),e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"documentFile"},on:{input:function(a){t.uploadDocumentFile(a)}}}),e("v-btn",{staticClass:"mx-0",staticStyle:{height:"42px"},attrs:{block:"",color:"primary",dark:""},nativeOn:{click:function(a){return t.uploadFile(a)}}},[e("v-icon",{attrs:{size:"20"}},[t._v("fas fa fa-upload")]),t._v("    \n                Chọn file tải lên\n              ")],1),e("div",[e("span",{staticStyle:{color:"red"}},[t._v("(*) ")]),t.fileTemplateNoCreate&&t.fileTemplateNoCreate.fileType?e("span",[t._v("File tải lên chấp nhận các định dạng: "+t._s(t.fileTemplateNoCreate.fileType)+" .")]):t._e(),e("span",[t._v("Dung lượng tải lên tối đa "+t._s(t.fileTemplateNoCreate&&t.fileTemplateNoCreate.size?t.fileTemplateNoCreate.size:t.maxFileSize)+"MB.")])])],1)],1)],1)],1),e("v-card-actions",{staticClass:"mx-3"},[e("v-spacer"),e("v-btn",{staticClass:"mr-2",attrs:{color:"primary",disabled:t.loadingAction},nativeOn:{click:function(a){t.dialog_createDocument=!1}}},[e("v-icon",[t._v("clear")]),t._v("  \n          Thoát\n        ")],1),"create"===t.typeCreate?e("v-btn",{staticClass:"mr-0",attrs:{color:"primary",disabled:t.loadingAction},nativeOn:{click:function(a){return t.createDocument(a)}}},[e("v-icon",[t._v("save")]),t._v("  \n          "),e("span",[t._v("Thêm tài liệu")])],1):e("v-btn",{staticClass:"mr-0",attrs:{disabled:t.loadingAction,color:"primary"},nativeOn:{click:function(a){return t.updateDocument(a)}}},[e("v-icon",[t._v("save")]),t._v("  \n          "),e("span",[t._v("Cập nhật tài liệu")])],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(a){t.dialogPDF=a},expression:"dialogPDF"}},[e("v-card",[e("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[e("v-toolbar-title",[t._v("Tài liệu đính kèm")]),e("v-spacer"),e("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(a){t.dialogPDF=!1}}},[e("v-icon",[t._v("close")])],1)],1),e("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),e("div",{staticStyle:{display:"none"}},[e("a",{attrs:{id:"downloadFile",href:t.srcDownload,download:""}})])],1)},gt=[];function yt(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}i["a"].use(L.a);var xt=(ht={props:["index"],components:{"tiny-pagination":G},data:function(){return{applicantInfos:"",nameTitle:"",creditTitle:"",documentApplicantList:"",totalDocument:0,documentPage:1,numberPerPage:15,statusList:[{text:"Chưa duyệt",value:0},{text:"Có hiệu lực",value:1},{text:"Hết hiệu lực",value:2}],status:"",statusCreate:"",fileTemplateNoCreate:"",fileTemplateList:[],fileTemplateNo:"",fileName:"",fileNo:"",fileUpdate:"",fileNameUpdate:"",fileNoSearch:"",keySearch:"",dialog_createDocument:!1,updateFile:!1,loadingAction:!1,loadingTable:!1,dialogPDF:!1,valid:!1,documentListHeader:[{text:"STT",align:"center",sortable:!1},{text:"Tên tài liệu",align:"center",sortable:!1},{text:"Mã số",align:"center",sortable:!1},{text:"Hồ sơ gốc",align:"center",sortable:!1},{text:"Tình trạng",align:"center",sortable:!1},{text:"Thao tác",align:"center",sortable:!1}],maxFileSize:100,typeCreate:"create",documentSelect:"",fileNameView:"",srcDownload:""}},computed:{},watch:{$route:function(t,a){t.params,t.query}},created:function(){var t=this;t.$nextTick((function(){t.$router.history.current,t.$router.history.current.query;var a=t.$store.getters.getApplicantInfos;a?(t.applicantInfos=a,t.getApplicantType(t.applicantInfos),t.getApplicantDocument()):t.getApplicantList(),t.getFileItems()}))},mounted:function(){}},yt(ht,"watch",{}),yt(ht,"methods",{getApplicantInfos:function(){var t=this,a={applicantId:t.index};t.$store.dispatch("getApplicantInfos",a).then((function(a){t.applicantInfos=a,t.getApplicantType(t.applicantInfos)})).catch((function(){}))},getApplicantList:function(){var t=this,a="/o/rest/v2/applicants",e={headers:{},params:{start:0,end:1,idNo:t.index}};c.a.get(a,e).then((function(a){a.data.hasOwnProperty("data")&&(t.applicantInfos=a.data.data[0],t.getApplicantType(t.applicantInfos),t.getApplicantDocument())})).catch((function(){}))},getApplicantDocument:function(){var t=this,a={start:t.documentPage*t.numberPerPage-t.numberPerPage,end:t.documentPage*t.numberPerPage,applicantIdNo:t.applicantInfos.applicantIdNo,fileTemplateNo:t.fileTemplateNo,status:t.status,keywordSearch:t.keySearch,fileNoSearch:t.fileNoSearch,applicantDataType:""};t.loadingTable=!0,t.$store.dispatch("getApplicantDocument",a).then((function(a){a.hasOwnProperty("data")?t.documentApplicantList=a.data:t.documentApplicantList=[],t.totalDocument=a["total"],t.loadingTable=!1})).catch((function(){t.loadingTable=!1,t.documentApplicantList=[],t.totalDocument=0}))},uploadFile:function(){document.getElementById("documentFile").value="",document.getElementById("documentFile").click()},uploadDocumentFile:function(t){var a=this,e=E()("#documentFile")[0].files,i=e[0],n="",o=a.validFileUpload(i);o&&(a.updateFile=!0,i["name"]&&(n=i["name"].replace(/\%/g,""),n=n.replace(/\//g,""),n=n.replace(/\\/g,""),n=n.replace(/\s/g,"")),a.fileUpdate=i,a.fileNameUpdate=n,a.fileNameView=n)},getFileItems:function(){var t=this,a={status:1};t.$store.dispatch("getFileItems",a).then((function(a){a.hasOwnProperty("data")?t.fileTemplateList=a.data:t.fileTemplateList=[]})).catch((function(){}))},showCreatedocument:function(){var t=this;t.typeCreate="create",t.dialog_createDocument=!0,t.$refs.form.reset(),t.$refs.form.resetValidation(),t.fileNameView=""},createDocument:function(){var t=this,a=!0;if(t.updateFile){var e=E()("#documentFile")[0].files,i=e[0];a=t.validFileUpload(i)}if(a&&t.$refs.form.validate())if(t.fileNameView){t.loadingAction=!0;var n={fileTemplateNo:t.fileTemplateNoCreate.fileTemplateNo,status:t.statusCreate,fileNo:t.fileNo,fileName:t.fileName,applicantIdNo:t.applicantInfos.applicantIdNo},o={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},l=new FormData;l.append("method","POST"),l.append("url","/applicantdatas"),l.append("data",JSON.stringify(n)),l.append("file",t.fileUpdate),c.a.post("/o/rest/v2/proxy/multipart",l,o).then((function(a){t.loadingAction=!1,L.a.success("Thêm mới tài liệu thành công"),t.dialog_createDocument=!1,t.getApplicantDocument()})).catch((function(a){t.loadingAction=!1,L.a.error("Thêm mới thất bại. Vui lòng thử lại.")}))}else L.a.clear(),L.a.error("Vui lòng đính kèm tài liệu")},updateDocument:function(){var t=this,a=!0;if(t.updateFile){var e=E()("#documentFile")[0].files,i=e[0];a=t.validFileUpload(i)}if(a&&t.$refs.form.validate()){t.loadingAction=!0;var n={fileTemplateNo:t.fileTemplateNoCreate.fileTemplateNo,status:t.statusCreate,fileNo:t.fileNo,fileName:t.fileName,applicantIdNo:t.applicantInfos.applicantIdNo},o={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},l=new FormData;l.append("method","PUT"),l.append("url","/applicantdatas/"+t.documentSelect.applicantDataId),l.append("data",JSON.stringify(n)),t.updateFile&&l.append("file",t.fileUpdate),c.a.post("/o/rest/v2/proxy/multipart",l,o).then((function(a){t.loadingAction=!1,L.a.success("Cập nhật tài liệu thành công"),t.dialog_createDocument=!1,t.getApplicantDocument()})).catch((function(a){t.loadingAction=!1,L.a.error("Cập nhật thất bại. Vui lòng thử lại.")}))}},getDocumentTypeIcon:function(t){var a="doc,docx",e="xls,xlsx",i="png,jpg,jpeg";return t?a.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:e.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===t.toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:i.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:""},changeFilterSearch:function(){var t=this;t.documentPage=1,setTimeout((function(){t.getApplicantDocument()}),200)},changePage:function(t){var a=this;a.documentPage=t.page,a.getApplicantDocument()},showEditDocument:function(t){var a=this;a.documentSelect=t,a.typeCreate="update",a.fileNameView=t.filePath,a.fileTemplateNoCreate=a.fileTemplateList.filter((function(a){return a.fileTemplateNo===t.fileTemplateNo}))[0],a.statusCreate=t.status,a.fileName=t.fileName,a.fileNo=t.fileNo,a.dialog_createDocument=!0},validFileUpload:function(t){var a=this,e=!0,i=t.name?t.name.split("."):"",n=i?i[i.length-1]:"",o=a.fileTemplateNoCreate&&a.fileTemplateNoCreate.fileType?a.fileTemplateNoCreate.fileType.toUpperCase().split(","):"",l=a.fileTemplateNoCreate&&a.fileTemplateNoCreate.size?a.fileTemplateNoCreate.size:a.maxFileSize,s=o?o.filter((function(t){return t===n.toUpperCase()})):"";return s&&s.length>0||!o?Number(t.size)<=1048576*l||!l?e=!0:(e=!1,L.a.clear(),L.a.error("Tài liệu tải lên dung lượng tối đa là "+l+"MB")):(e=!1,L.a.clear(),L.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+a.fileTemplateNoCreate.fileType)),e},downloadDocument:function(t){var a=this;a.srcDownload="";t.filePath;var e={applicantDataId:t.applicantDataId};a.$store.dispatch("getFileAttach",e).then((function(t){a.srcDownload=t,setTimeout((function(){document.getElementById("downloadFile").click()}),100)})).catch((function(){}))},viewDocument:function(t){var a=this;a.srcDownload="";t.filePath;var e={applicantDataId:t.applicantDataId};a.$store.dispatch("getFileAttach",e).then((function(e){var i=t.fileExtension.toLowerCase();"png"===i||"jpg"===i||"jpeg"===i||"pdf"===i||"gif"===i||"tif"===i||"tiff"===i?(a.dialogPDF=!0,document.getElementById("dialogPDFPreview").src=e):(a.srcDownload=e,setTimeout((function(){document.getElementById("downloadFile").click()}),100))})).catch((function(){}))},getApplicantType:function(t){var a=this;""===t.applicantIdType?(a.nameTitle="Tên công dân, tổ chức, doanh nghiệp",a.creditTitle="Số CMND/ căn cước, mã số thuế doanh nghiệp"):"citizen"===t.applicantIdType?(a.nameTitle="Tên công dân",a.creditTitle="Số CMND/ căn cước"):"business"===t.applicantIdType?(a.nameTitle="Tên doanh nghiệp",a.creditTitle="Mã số thuế doanh nghiệp"):(a.nameTitle="Tên cơ quan, tổ chức",a.creditTitle="Mã cơ quan, tổ chức")},getStatus:function(t){return"1"===String(t)?"Có hiệu lực":"2"===String(t)?"Hết hiệu lực":"Chưa duyệt"},goBack:function(){window.history.back()}}),ht),bt=xt,_t=Object(d["a"])(bt,vt,gt,!1,null,null,null),Ct=_t.exports;m()(_t,{VAutocomplete:X["a"],VBtn:Y["a"],VCard:W["a"],VCardActions:Z["a"],VCardText:Z["b"],VDataTable:tt["a"],VDialog:et["a"],VFlex:k["a"],VForm:it["a"],VIcon:nt["a"],VLayout:S["a"],VSpacer:ct["a"],VTextField:rt["a"],VToolbar:pt["a"],VToolbarTitle:dt["a"],VTooltip:ut["a"]});var wt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t._v("\n  13123\n")])},Tt=[],kt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-chitiet"},[e("div",[e("v-tabs",{attrs:{"icons-and-text":""},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[e("v-tabs-slider",{attrs:{color:"primary"}}),e("v-tab",{key:1,attrs:{href:"#tabs-1"},on:{click:function(a){t.getNextActions()}}},[e("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[3===t.originality?e("span",[t._v("XỬ LÝ HỒ SƠ")]):e("span",[t._v("CHUẨN BỊ HỒ SƠ")])])],1),e("v-tabs-items",{staticStyle:{overflow:"visible!important"},attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"},model:{value:t.activeTab,callback:function(a){t.activeTab=a},expression:"activeTab"}},[e("v-tab-item",{key:1,attrs:{value:"tabs-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[0!==t.checkInput&&t.filterNextActionEnable(t.btnDossierDynamics)?e("div",{staticStyle:{position:"relative"}},[e("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[e("v-expansion-panel-content",{key:1,attrs:{"hide-actions":""}},[t._v("\n                123\n              ")])],1)],1):t._e(),t.btnStateVisible?e("div",{staticClass:"px-4 py-3",staticStyle:{"border-bottom":"1px solid #dddddd"}},[t._l(t.btnPlugins,(function(a,i){return e("v-btn",{key:i,staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:t.loadingPlugin,disabled:t.loadingPlugin},nativeOn:{click:function(e){t.processPullBtnplugin(a,i)}}},[t._v("\n              "+t._s(a.pluginName)+"\n              "),e("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])})),t.btnStepsDynamics.length>0&&t.thongTinChiTietHoSo["permission"].indexOf("write")>=0?e("v-menu",{staticStyle:{display:"inline-block",position:"relative !important"},attrs:{bottom:"","offset-y":""}},[e("v-btn",{staticClass:"deactive__btn",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[t._v("Khác   "),e("v-icon",{attrs:{size:"18"}},[t._v("arrow_drop_down")])],1),e("v-list",t._l(t.btnStepsDynamics,(function(a,i){return e("v-list-tile",{key:i,on:{click:function(e){t.btnActionEvent(a,i)}}},[e("v-list-tile-title",[t._v(t._s(a.title))])],1)})),1)],1):t._e()],2):t._e()])],1)],1)],1)])},St=[],Nt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-card",[t._l(t.dossierTemplateItems,(function(a,i){return t.partTypes.includes(a.partType)&&t.checkVisibleTemp(a,i)?e("div",{key:a.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[e("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{expand:"",value:[t.currentFormView==="formAlpaca"+a.partNo+t.id]}},[e("v-expansion-panel-content",{attrs:{"hide-actions":""}},[e("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(a){t.stateView=!1}},slot:"header"},[e("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(a)}},[e("div",{staticClass:"mr-2",staticStyle:{"min-width":"18px",display:"flex"},on:{click:function(e){t.onlyView&&a.hasForm?t.viewFile2(a):t.loadAlpcaForm(a)}}},[e("div",{staticClass:"header__tphs"},[e("span",{staticClass:"text-bold"},[t._v(t._s(i+1)+".")]),t._v("  ")]),e("div",{staticClass:"header__tphs"},[e("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[e("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                      "+t._s(a.partName)+"  \n                      "),a.required?e("span",{staticStyle:{color:"red"}},[t._v(" (*) ")]):t._e(),t._v("\n                        \n                    ")]),a.partTip["tip"]?e("span",[t._v(t._s(a.partTip["tip"]))]):t._e()]),a.hasForm&&a.daKhai&&(1===t.originality&&2!==a.partType||1!==t.originality)?e("v-tooltip",{attrs:{top:""}},[e("i",{staticClass:"fa fa-file-text-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator","aria-hidden":"true"},slot:"activator"}),e("span",[t._v("Biểu mẫu trực tuyến (Đã khai)")])]):t._e(),a.hasForm&&!a.daKhai&&(1===t.originality&&2!==a.partType||1!==t.originality)?e("v-tooltip",{attrs:{top:""}},[e("i",{staticClass:"fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator"},slot:"activator"}),e("span",[t._v("Biểu mẫu trực tuyến (Chưa khai)")])]):t._e(),t._v("\n                    \n                  "),!a.hasForm&&a.hasFileTemp?e("v-tooltip",{attrs:{top:""}},[e("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(e){e.stopPropagation(),t.downloadFileTemplate(a,i)}},slot:"activator"},[t._v("save_alt")]),e("span",[t._v("Biểu mẫu điền thủ công")])],1):t._e()],1)]),e("div",{staticStyle:{display:"flex"}},[1===t.checkInput&&2===a.fileCheck&&a.stateEditFileCheck?e("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(t){return!!t||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.changeFileComment(a,i)}},model:{value:a.fileComment,callback:function(e){t.$set(a,"fileComment",e)},expression:"item.fileComment"}}):t._e(),1===t.checkInput&&2===a.fileCheck&&a.stateEditFileCheck?e("v-tooltip",{attrs:{top:""}},[e("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){e.stopPropagation(),t.changeFileComment(a,i)}},slot:"activator"},[e("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("send")])],1),e("span",[t._v("Gửi")])],1):t._e()],1),a.fileComment&&!a.stateEditFileCheck?e("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[t._v(t._s(a.fileComment))]):t._e(),a.fileComment&&!a.stateEditFileCheck&&1===t.checkInput?e("v-tooltip",{attrs:{top:""}},[e("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),a.stateEditFileCheck=!a.stateEditFileCheck}},slot:"activator"},[t._v("edit")]),e("span",[t._v("Chỉnh sửa ý kiến")])],1):t._e(),t._l(t.dossierFilesItems,(function(i,n){return a.partNo!==i.dossierPartNo||i.eForm?t._e():e("div",{key:n},[e("div",{style:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[e("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(a){a.stopPropagation(),t.viewFile2(i)}}},[0!==i.fileSize?e("v-icon",[t._v("attach_file")]):t._e(),t._v("\n                    "+t._s(i.displayName)+" - \n                    "),e("i",[t._v(t._s(i.modifiedDate))])],1),t.onlyView||1===t.checkInput?t._e():e("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(a){a.stopPropagation(),t.deleteSingleFile(i,n)}}},[e("v-icon",{staticStyle:{color:"red"}},[t._v("delete_outline")])],1)],1)])})),e("div",{staticClass:"mr-3 my-1 py-2",staticStyle:{display:"none",border:"1px solid #f3ae75"},attrs:{id:"fileApplicant-"+a.partNo}},t._l(t.dossierFilesApplicant,(function(i,n){return i.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&a.partNo===i.dossierPartNo?e("div",{key:n},[i.eForm?e("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[e("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[e("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(a){a.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[e("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),t._v("  \n                        "+t._s(i.referenceUid)+"."+t._s(i.fileType)+" - \n                        "),e("i",[t._v(t._s(i.modifiedDate))])]),e("span",[t._v("Bản khai trực tuyến")])])],1):e("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[e("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[e("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(a){a.stopPropagation(),t.viewGiayToDaNop(i)}},slot:"activator"},[0!==i.fileSize?e("v-icon",{staticStyle:{color:"#0d71bb"}},[t._v("attach_file")]):t._e(),t._v("\n                        "+t._s(i.displayName)+" - \n                        "),e("i",[t._v(t._s(i.modifiedDate))])],1),e("span",[t._v("Đính kèm")])])],1)]):t._e()})),0)],2)]),a.hasForm&&!t.onlyView?e("v-card",[e("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[e("v-layout",{attrs:{wrap:""}},[t.stateView?t._e():e("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[e("div",{style:t.pstFixed>t.pstEl&&t.pstFixed<t.endEl+t.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+a.partNo+t.id}},[a.hasForm&&!t.onlyView&&1!==t.checkInput?e("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.saveAlpacaForm(a,i)}}},[t._v("Lưu lại")]):t._e(),a.daKhai&&a.hasForm&&!t.onlyView&&1!==t.checkInput?e("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.deleteSingleFileEform(a,i)}}},[t._v("Xóa")]):t._e(),a.daKhai&&a.hasForm?e("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.previewFileEfom(a,i)}}},[t._v("In")]):t._e()],1),!t.onlyView||a.daKhai?e("div",{class:{no_acction__event:t.onlyView},attrs:{id:"formAlpaca"+a.partNo+t.id}}):t._e()])],1)],1)],1):t._e()],1)],1),e("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[t.loading?e("content-placeholders",{staticClass:"mt-1"},[e("content-placeholders-text",{attrs:{lines:1}})],1):e("v-layout",{attrs:{row:"",wrap:""}},[1===t.originality||1!==a.partType||t.thongTinHoSo.online||1===t.checkInput?t._e():e("v-flex",{staticClass:"layout wrap",staticStyle:{width:"110px"}},[e("v-select",{attrs:{items:t.fileMarkItems,disabled:t.onlyView},on:{change:function(a){t.changeFileMark(a,i)}},model:{value:t.dossierTemplateItems[i].fileMark,callback:function(a){t.$set(t.dossierTemplateItems[i],"fileMark",a)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===t.checkInput?e("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[e("v-select",{attrs:{items:t.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(a){t.changeFileCheck(a,i)}},model:{value:t.dossierTemplateItems[i].fileCheck,callback:function(a){t.$set(t.dossierTemplateItems[i],"fileCheck",a)},expression:"dossierTemplateItems[index].fileCheck"}})],1):a.fileCheck>0?e("v-flex",{staticClass:"layout wrap",style:{width:"20px","align-items":"center","margin-left":"10px","margin-top":t.thongTinHoSo.online?"10px":"0px"}},[1===a.fileCheck?e("v-tooltip",{attrs:{top:""}},[e("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("done")]),e("span",[t._v("Đạt")])],1):2===a.fileCheck?e("v-tooltip",{attrs:{top:""}},[e("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[t._v("close")]),e("span",[t._v("Không đạt")])],1):t._e()],1):t._e(),1!==t.checkInput?e("v-flex",{class:{"text-xs-right":t.onlyView},style:{width:t.onlyView?"auto":"90px"}},[e("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+a.partNo},on:{change:function(e){t.onUploadSingleFile(e,a,i)}}}),3!==a.partType||3!==t.originality||t.onlyView?t._e():e("v-tooltip",{attrs:{top:""}},[e("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){t.addFileOther(a)}},slot:"activator"},[e("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("add")])],1),e("span",[t._v("Thêm giấy tờ khác")])],1),t.progressUploadPart===a.partNo?e("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t.progressUploadPart===a.partNo||t.onlyView?t._e():e("v-tooltip",{attrs:{left:""}},[e("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){t.pickFile(a)}},slot:"activator"},[e("v-badge",[e("v-icon",{attrs:{size:"16",color:"primary"}},[t._v("cloud_upload")])],1)],1),a.partTip["extensions"]||a.partTip["maxSize"]?e("span",[t._v("Chấp nhận tải lên các định dạng: "+t._s(a.partTip["extensions"])+". Tối đa "+t._s(a.partTip["maxSize"])+" MB ")]):e("span",[t._v("Tải file lên")])],1),t.partNoApplicantHasFile(a.partNo)&&!t.onlyView?e("v-tooltip",{attrs:{top:""}},[e("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){t.showFilesApplicant(a.partNo)}},slot:"activator"},[e("v-badge",[e("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[t._v("warning")])],1)],1),e("span",[t._v("Giấy tờ đã nộp")])],1):t._e()],1):t._e()],1)],1)],1):t._e()})),t.partTypes.includes(2)?t._e():e("div",[e("v-layout",{staticClass:"mx-4",attrs:{wrap:""}},[!t.onlyView||t.onlyView&&t.applicantNoteDossier?e("v-flex",{staticClass:"my-0 py-2 text-bold",staticStyle:{width:"60px"}},[t._v("Ghi chú:")]):t._e(),e("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[t.onlyView?t._e():e("div",{staticClass:"pl-2"},[e("v-text-field",{staticClass:"py-0",attrs:{"multi-line":"",rows:"3"},on:{input:t.changeApplicantNote},model:{value:t.applicantNoteDossier,callback:function(a){t.applicantNoteDossier=a},expression:"applicantNoteDossier"}})],1),t.onlyView&&t.applicantNoteDossier?e("p",{staticClass:"my-0 py-2"},[t._v("\n            "+t._s(t.applicantNoteDossier)+" \n          ")]):t._e()])],1)],1),e("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:t.dialogAddOtherTemp,callback:function(a){t.dialogAddOtherTemp=a},expression:"dialogAddOtherTemp"}},[e("v-card",[e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[e("v-card-title",{staticClass:"headline"},[t._v("Tên giấy tờ")]),e("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(a){return t.cancelDialog(a)}}},[e("v-icon",[t._v("clear")])],1),t.loadingAddOther?e("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):t._e(),e("v-card-text",{staticClass:"pb-0 pt-4"},[e("v-layout",{attrs:{wrap:""}},[e("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[e("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(t){return!!t||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:t.otherDossierTemplate,callback:function(a){t.otherDossierTemplate=a},expression:"otherDossierTemplate"}})],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"red darken-3",flat:"flat"},nativeOn:{click:function(a){return t.cancelDialog(a)}}},[t._v("\n              Quay lại\n            ")]),e("v-btn",{attrs:{color:"primary",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(a){return t.addOtherTemplate(a)}}},[t._v("\n              Đồng ý\n              "),e("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])],1)],1)],1)],1)],2),e("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(a){t.dialogPDF=a},expression:"dialogPDF"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t.pdfEform?e("span",[t._v("Bản khai trực tuyến")]):e("span",[t._v("File đính kèm")])]),e("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(a){t.dialogPDF=!1}}},[e("v-icon",[t._v("clear")])],1),t.dialogPDFLoading?e("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[e("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),e("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},Dt=[],It={data:function(){return{}}},Pt=It,At=e("4ca6"),Ft=e("12b2"),Et=e("cd55"),Vt=e("49e2"),Lt=e("8e36"),Ot=Object(d["a"])(Pt,Nt,Dt,!1,null,null,null),$t=Ot.exports;m()(Ot,{VBadge:At["a"],VBtn:Y["a"],VCard:W["a"],VCardActions:Z["a"],VCardText:Z["b"],VCardTitle:Ft["a"],VDialog:et["a"],VExpansionPanel:Et["a"],VExpansionPanelContent:Vt["a"],VFlex:k["a"],VForm:it["a"],VIcon:nt["a"],VLayout:S["a"],VProgressCircular:N["a"],VProgressLinear:Lt["a"],VSelect:B["a"],VSpacer:ct["a"],VTextField:rt["a"],VTooltip:ut["a"]});var zt={props:["index","id"],components:{"thanh-phan-ho-so":$t},data:function(){return{}}},Mt=zt,Ht=e("8860"),Bt=e("ba95"),Ut=e("5d23"),Gt=e("71a3"),qt=e("c671"),jt=e("fe57"),Rt=e("aac8"),Kt=e("9a96"),Qt=Object(d["a"])(Mt,kt,St,!1,null,null,null),Jt=Qt.exports;m()(Qt,{VBtn:Y["a"],VExpansionPanel:Et["a"],VExpansionPanelContent:Vt["a"],VIcon:nt["a"],VList:Ht["a"],VListTile:Bt["a"],VListTileTitle:Ut["b"],VMenu:ot["a"],VTab:Gt["a"],VTabItem:qt["a"],VTabs:jt["a"],VTabsItems:Rt["a"],VTabsSlider:Kt["a"]});var Xt={props:["id","formCode"],components:{"xem-chi-tiet-ho-so-detail-can-bo":Jt},data:function(){return{initData:null,step:""}}},Yt=Xt,Wt=Object(d["a"])(Yt,wt,Tt,!1,null,null,null),Zt=Wt.exports,ta=[{path:"/",name:"DanhSachNguoiDung",component:ft,props:!0},{path:"/:index/quan-ly-giay-to",name:"QuanLyGiayTo",component:Ct,props:!0},{path:"/danh-sach-ho-so/:index",name:"Landing",component:function(){return e.e("Landing").then(e.bind(null,"306c"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/tiep-nhan-ho-so/:id/:formCode",name:"TiepNhanHoSoDetail",component:function(){return e.e("TiepNhanHoSoDetail").then(e.bind(null,"d129"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/bo-sung-ho-so/:id",name:"HoanThienBoSungHoSoDetail",component:function(){return e.e("HoanThienBoSungHoSoDetail").then(e.bind(null,"a35c"))},props:!0,meta:{requiresAuth:!1}},{path:"/danh-sach-ho-so/:index/ho-so/:id/:formCode",name:"DetailForward",component:Zt,props:!0},{path:"*",name:"NotFound",component:I}];i["a"].use(x["a"]);var aa=new x["a"]({routes:ta}),ea=aa,ia=e("2f62");i["a"].use(L.a),i["a"].use(ia["a"]);var na=new ia["a"].Store({state:{initData:{},endPoint:"/o/rest/v2",loading:!1,isMobile:!1,userLogin:"",applicantInfos:""},actions:{loadInitResource:function(t){t.commit;var a=t.state;return new Promise((function(t,e){null!==window.themeDisplay&&void 0!==window.themeDisplay?(a.initData["groupId"]=window.themeDisplay.getScopeGroupId(),a.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(a.initData["groupId"]=0,a.initData["user"]={userName:"",userEmail:"",userId:20103}),t(a.initData)}))},loadDictItems:function(t,a){t.commit,t.state;return new Promise((function(t,e){na.dispatch("loadInitResource").then((function(i){var n={headers:{groupId:window.themeDisplay.getScopeGroupId()},params:{parent:a.parent}};c.a.get("/o/rest/v2/dictcollections/"+a.collectionCode+"/dictitems",n).then((function(a){t(a.data)}),(function(t){e(t)}))})).catch((function(){}))}))},putUser:function(t,a){t.commit,t.state;return new Promise((function(t,e){var i={headers:{groupId:window.themeDisplay.getScopeGroupId()}},n={applicantName:a["applicantName"],applicantIdType:a["applicantIdType"],contactTelNo:a["contactTelNo"],address:a["address"],contactEmail:a["contactEmail"],cityCode:a["cityCode"],cityName:a["cityName"],districtCode:a["districtCode"],districtName:a["districtName"],wardCode:a["wardCode"],wardName:a["wardName"],applicantIdDate:a["applicantIdDate"]},o=new URLSearchParams;o.append("method","PUT"),o.append("url","/applicants/"+a["applicantId"]),o.append("data",JSON.stringify(n)),c.a.post("/o/rest/v2/proxy",o,i).then((function(a){t(a)})).catch((function(t){e(t)}))}))},getApplicantInfos:function(t,a){t.commit,t.state;return new Promise((function(t,e){na.dispatch("loadInitResource").then((function(i){var n={headers:{groupId:window.themeDisplay.getScopeGroupId()}};c.a.get("/o/rest/v2/applicants/"+a["applicantId"],n).then((function(a){t(a.data)}),(function(t){e(t)}))})).catch((function(){}))}))},getApplicantDocument:function(t,a){t.commit,t.state;return new Promise((function(t,e){na.dispatch("loadInitResource").then((function(i){var n={headers:{groupId:window.themeDisplay.getScopeGroupId()}},o={start:a.start?a.start:0,end:a.end?a.end:15,applicantIdNo:a.applicantIdNo?a.applicantIdNo:"",fileTemplateNo:a.fileTemplateNo?a.fileTemplateNo:"",status:a.status,keyword:a.keywordSearch?a.keywordSearch:"",applicantDataType:a.applicantDataType?a.applicantDataType:"",fileNo:a.fileNoSearch},l=new URLSearchParams,s=o;l.append("method","GET"),l.append("url","/applicantdatas"),l.append("data",JSON.stringify(s)),c.a.post("/o/rest/v2/proxy",l,n).then((function(a){a["data"].hasOwnProperty("data")?Array.isArray(a["data"]["data"])?t(a.data):t({data:[a["data"]["data"]],total:a["data"]["total"]}):e(a)}),(function(t){e(t)}))})).catch((function(){}))}))},getFileItems:function(t,a){t.commit,t.state;return new Promise((function(t,e){na.dispatch("loadInitResource").then((function(i){var n={headers:{groupId:window.themeDisplay.getScopeGroupId()}},o={status:a.status?a.status:""},l=new URLSearchParams,s=o;l.append("method","GET"),l.append("url","/fileitems"),l.append("data",JSON.stringify(s)),c.a.post("/o/rest/v2/proxy",l,n).then((function(a){t(a.data)}),(function(t){e(t)}))})).catch((function(){}))}))},getFileAttach:function(t,a){t.commit,t.state;return new Promise((function(t,e){var i={headers:{groupId:window.themeDisplay.getScopeGroupId()},responseType:"blob"},n=new URLSearchParams;n.append("method","GET"),n.append("url","/applicantdatas/"+a.applicantDataId+"/preview"),n.append("dataType","binary"),n.append("data",""),c.a.post("/o/rest/v2/proxy",n,i).then((function(a){var e=window.URL.createObjectURL(a.data);t(e)})).catch((function(t){e(t)}))}))}},mutations:{setLoading:function(t,a){t.loading=a},setApplicantInfos:function(t,a){t.applicantInfos=a}},getters:{loading:function(t){return t.loading},getApplicantInfos:function(t){return t.applicantInfos}}}),oa=e("967d");i["a"].use(oa["default"]),c.a.defaults.withCredentials=!0,c.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",i["a"].config.productionTip=!0,i["a"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new i["a"]({router:ea,store:na,created:function(){var t=this;t.$nextTick((function(){}))},render:function(t){return t(y)}}).$mount("#app_manage_applicant")},"74ef":function(t,a,e){},bbd0:function(t){t.exports={}}});