(function(e){function t(t){for(var i,s,r=t[0],c=t[1],l=t[2],_=0,u=[];_<r.length;_++)s=r[_],a[s]&&u.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(u.length)u.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],i=!0,r=1;r<o.length;r++){var c=o[r];0!==a[c]&&(i=!1)}i&&(n.splice(t--,1),e=s(s.s=o[0]))}return e}var i={},a={app:0},n=[];function s(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=i,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(o,i,function(t){return e[t]}.bind(null,i));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;n.push(["cade","chunk-vendors"]),o()})({"000e":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{style:e.viewMobile?"":"text-align: left;position: absolute;line-height: 46px;"},[e._v("Tổng số "),o("span",{staticClass:"text-bold primary--text"},[e._v(e._s(e.total))]),e._v(" "+e._s(e.nameRecord)+". ")]),e.total>0?o("div",{staticClass:"vue-tiny-pagination pagination layout",style:e.viewMobile?"":"justify-content: flex-end; -webkit-justify-content: flex-end;"},[o("div",{staticClass:"pr-3 xs4 sm2 flex"},[o("v-autocomplete",{attrs:{items:e.totalPagesData,"item-text":"text","item-value":"value"},on:{input:e.goToPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),o("ul",{staticClass:"tiny-pagination",class:e.customClass},[o("li",{staticClass:"page-item",class:e.classFirstPage},[o("button",{staticClass:"pagination__navigation",class:e.classFirstPage,on:{click:function(t){return t.preventDefault(),e.lastPageLast(t)}}},[o("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("first_page")])])]),o("li",{staticClass:"page-item",class:e.classFirstPage},[o("button",{staticClass:"pagination__navigation",class:e.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(t){return t.preventDefault(),e.lastPage(t)}}},[o("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("chevron_left")])])]),o("li",{staticClass:"page-item",staticStyle:{"margin-right":"0"}},[o("button",{staticClass:"pagination__navigation pagination__navigation--disabled text-bold primary--text",staticStyle:{"border-right":"0","border-left":"0"}},[e._v("\n          "+e._s(e.titlePage)+"\n        ")])]),o("li",{staticClass:"page-item",class:e.classLastPage,staticStyle:{"margin-right":"0"}},[o("button",{staticClass:"pagination__navigation",class:e.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(t){return t.preventDefault(),e.nextPage(t)}}},[o("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("chevron_right")])])]),o("li",{staticClass:"page-item",class:e.classLastPage},[o("button",{staticClass:"pagination__navigation",class:e.classLastPage,on:{click:function(t){return t.preventDefault(),e.nextPageLast(t)}}},[o("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("last_page")])])])])]):e._e()])},a=[],n=(o("6762"),o("2fdb"),o("e814")),s=o.n(n),r=(o("c5f6"),o("cadf"),o("551c"),o("097d"),o("9029")),c="TinyPagination",l={name:c,props:{total:{type:Number,required:!0},nameRecord:{type:String,default:"hồ sơ"},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},currentLimit:{type:Number,default:15},limits:{type:Array,default:function(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0}},data:function(){return{version:"0.2.1",currentPage:1,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created:function(){this.currentPage=this.page},watch:{page:function(e){this.currentPage=s()(e)}},computed:{translation:function(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages:function(){return Math.ceil(this.total/this.currentLimit)},totalPagesData:function(){for(var e=[],t={},o=1;o<=this.totalPages;++o)t={value:o,text:"Trang "+o},e.push(t);return e},titlePage:function(){return"".concat(this.currentPage)},classFirstPage:function(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage:function(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}},viewMobile:function(){return r["isMobile"]}},methods:{nextPage:function(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast:function(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast:function(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage:function(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange:function(){this.currentPage=1}}},d=l,_=o("2877"),u=o("6544"),p=o.n(u),h=o("c6a6"),m=Object(_["a"])(d,i,a,!1,null,null,null);t["a"]=m.exports;p()(m,{VAutocomplete:h["a"]})},"0838":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"phancong",staticStyle:{"background-color":"white",width:"100%"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("Ngày hẹn trả\n      ")]),o("v-card",[o("v-card-text",[o("v-layout",{staticClass:"pl-2",attrs:{wrap:""}},[o("v-icon",{staticClass:"hover-pointer",attrs:{color:"primary"},on:{click:e.showDatePicker}},[e._v("event")]),o("vue-ctk-date-time-picker",{ref:"datepicker",staticClass:"ml-2",staticStyle:{width:"auto!important"},attrs:{format:"YYYY-MM-DDTHH:mm","time-format":"HH:mm","without-header":!0,formatted:"DD/MM/YYYY HH:mm",label:e.dueDateInput?"":"Chọn ngày","min-date":e.minDate},model:{value:e.dueDateInput,callback:function(t){e.dueDateInput=t},expression:"dueDateInput"}})],1)],1)],1)],1)],1)],1)},a=[],n=(o("6b54"),o("f576"),o("cadf"),o("551c"),o("097d"),{components:{"vue-ctk-date-time-picker":window["vue-ctk-date-time-picker"]},props:["dueDateEdit"],data:function(){return{dueDateInput:"",minDate:null}},created:function(){var e=this;e.dueDateInput=e.dueDateEdit?e.formatDateInput(e.dueDateEdit):"",console.log("dueDateInput",e.dueDateInput)},watch:{},mounted:function(){this.dueDateInput=this.dueDateEdit?this.formatDateInput(this.dueDateEdit):"",console.log("dueDateInput",this.dueDateInput),this.minDate=this.getCurentDateTime("date")},methods:{getDateInput:function(){var e=this;console.log("vm.dueDateInput",e.dueDateInput);var t=e.dueDateInput?new Date(e.dueDateInput).getTime():"";return t},getCurentDateTime:function(e){var t=new Date;return"datetime"===e?"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," | ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0")):"date"===e?"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0")):void 0},formatDateInput:function(e){return"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))},showDatePicker:function(){this.$refs.datepicker.showDatePicker()}}}),s=n,r=o("2877"),c=o("6544"),l=o.n(c),d=o("b0af"),_=o("99d9"),u=o("cd55"),p=o("49e2"),h=o("132d"),m=o("a722"),g=Object(r["a"])(s,i,a,!1,null,null,null);t["a"]=g.exports;l()(g,{VCard:d["a"],VCardText:_["b"],VExpansionPanel:u["a"],VExpansionPanelContent:p["a"],VIcon:h["a"],VLayout:m["a"]})},1136:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-expansion-panel",{attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("Thông tin chung hồ sơ")]),o("v-card",[o("v-card-text",{staticClass:"py-0"},[o("v-layout",{staticClass:"px-2 py-2",attrs:{wrap:""}},[1!==e.originality?o("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Chủ hồ sơ: ")]),o("span",{staticClass:"pl-0 text-bold"},[e._v(" "+e._s(e.thongTinChiTietHoSo.applicantName))])]),o("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[o("span",{staticClass:"pr-2"},[e._v("Địa chỉ: ")]),o("v-tooltip",{attrs:{top:""}},[o("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(e.thongTinChiTietHoSo.address)+" "+e._s(e.thongTinChiTietHoSo.wardName)),e.thongTinChiTietHoSo.wardName?o("span",[e._v(", "+e._s(e.thongTinChiTietHoSo.districtName)+", "+e._s(e.thongTinChiTietHoSo.cityName))]):e._e()]),o("span",{staticClass:"pl-0"},[e._v(" "+e._s(e.thongTinChiTietHoSo.address)+" "+e._s(e.thongTinChiTietHoSo.wardName)),e.thongTinChiTietHoSo.wardName?o("span",[e._v(", "+e._s(e.thongTinChiTietHoSo.districtName)+", "+e._s(e.thongTinChiTietHoSo.cityName))]):e._e()])])],1),o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pl-0"},[e._v("Thư điện tử: ")]),o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.contactEmail)+" ")])]),o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Điện thoại: ")]),o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.contactTelNo)+" ")])]),o("div",{staticClass:"xs12 sm12 pb-1"},[o("v-menu",{staticStyle:{position:"relative !important"},attrs:{"offset-y":""}},[o("span",{staticClass:"pr-2",attrs:{slot:"activator"},slot:"activator"},[e._v("\n                  Thông tin người nộp\n                  "),o("v-icon",{staticStyle:{position:"absolute",right:"-12px",top:"-2px"},attrs:{color:"blue",size:"22"}},[e._v("arrow_drop_down")])],1),o("v-list",{staticClass:"px-3 py-2"},[o("div",{staticClass:"xs12 sm12 py-1"},[o("span",{staticClass:"pr-2"},[e._v("Tên người nộp:")]),e.thongTinChiTietHoSo.online?o("span",{staticClass:"pl-0 text-bold"},[e._v(" \n                      "+e._s(e.thongTinChiTietHoSo.applicantName)+"\n                    ")]):o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.delegateName)+" ")])]),o("div",{staticClass:"xs12 sm12 py-1"},[o("span",{staticClass:"pr-2"},[e._v("Địa chỉ:")]),e.thongTinChiTietHoSo.online?o("span",{staticClass:"pl-0 text-bold"},[e._v(" \n                      "+e._s(e.thongTinChiTietHoSo.address)+" "+e._s(e.thongTinChiTietHoSo.wardName)+"\n                      "),e.thongTinChiTietHoSo.wardName?o("span",[e._v(", "+e._s(e.thongTinChiTietHoSo.districtName)+", "+e._s(e.thongTinChiTietHoSo.cityName))]):e._e()]):o("span",{staticClass:"pl-0 text-bold"},[e._v(" \n                      "+e._s(e.thongTinChiTietHoSo.delegateAddress)+" "+e._s(e.thongTinChiTietHoSo.delegateWardName)+"\n                      "),e.thongTinChiTietHoSo.delegateWardName?o("span",[e._v(", "+e._s(e.thongTinChiTietHoSo.delegateDistrictName)+", "+e._s(e.thongTinChiTietHoSo.delegateCityName))]):e._e()])]),o("div",{staticClass:"xs12 sm12 py-1"},[o("span",{staticClass:"pr-2"},[e._v("Thư điện tử:")]),e.thongTinChiTietHoSo.online?o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.contactEmail)+" ")]):o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.delegateEmail)+" ")])]),o("div",{staticClass:"xs12 sm12 py-1"},[o("span",{staticClass:"pr-2"},[e._v("Số điện thoại:")]),e.thongTinChiTietHoSo.online?o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.contactTelNo)+" ")]):o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.delegateTelNo)+" ")])])])],1)],1)]):e._e(),1===e.originality?o("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Mã hồ sơ: ")]),o("span",{staticClass:"pl-0 text-bold "},[e._v("  "+e._s(e.thongTinChiTietHoSo.dossierNo)+" ")])]),o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Cơ quan: ")]),o("span",{staticClass:"pl-0 text-bold "},[e._v("  "+e._s(e.thongTinChiTietHoSo.govAgencyName)+" ")])]),o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Trạng thái: ")]),o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.dossierStatusText)+" ")])])]):e._e(),1!==e.originality?o("v-flex",{attrs:{xs12:"",sm4:""}},[o("div",{staticClass:"xs12 sm12 pb-1"},[e.thongTinChiTietHoSo.online?o("span",{staticClass:"pr-2"},[e._v("Ngày gửi trực tuyến: ")]):o("span",{staticClass:"pr-2"},[e._v("Ngày nộp hồ sơ: ")]),e.thongTinChiTietHoSo.online?o("span",{staticClass:"pl-0 text-bold"},[e._v(" "+e._s(e.thongTinChiTietHoSo.submitDate)+" ")]):o("span",{staticClass:"pl-0 text-bold"},[e._v(" "+e._s(e.thongTinChiTietHoSo.receiveDate)+" ")])]),o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Ngày tiếp nhận: ")]),o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.receiveDate))])]),o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Thời hạn giải quyết: ")]),e.thongTinChiTietHoSo.durationCount>0?o("span",{staticClass:"pl-0 text-bold "},[e._v(" \n                "+e._s(e.durationText(e.thongTinChiTietHoSo.durationUnit,e.thongTinChiTietHoSo.durationCount))+" làm việc \n              ")]):o("span",{staticClass:"pl-0 text-bold "},[e._v("\n                Không quy định\n              ")])]),o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Ngày hẹn trả: ")]),o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.dueDate))])])]):o("v-flex",{attrs:{xs12:"",sm4:""}},[o("div",{staticClass:"xs12 sm12 pb-1"},[e.thongTinChiTietHoSo.online?o("span",{staticClass:"pr-2"},[e._v("Ngày gửi trực tuyến: ")]):o("span",{staticClass:"pr-2"},[e._v("Ngày nộp hồ sơ: ")]),e.thongTinChiTietHoSo.online?o("span",{staticClass:"pl-0 text-bold"},[e._v(" "+e._s(e.thongTinChiTietHoSo.submitDate)+" ")]):o("span",{staticClass:"pl-0 text-bold"},[e._v(" "+e._s(e.thongTinChiTietHoSo.receiveDate)+" ")])]),o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Ngày tiếp nhận: ")]),o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.receiveDate))])]),o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Ngày hẹn trả: ")]),o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.dueDate))])])]),1!==e.originality?o("v-flex",{attrs:{xs12:"",sm4:""}},[o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Mã hồ sơ: ")]),o("span",{staticClass:"pl-0 text-bold "},[e._v("  "+e._s(e.thongTinChiTietHoSo.dossierNo)+" ")])]),e.thongTinChiTietHoSo.originDossierNo?o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Hồ sơ gốc: ")]),o("span",{staticClass:"pl-0 text-bold "},[e._v("  "+e._s(e.thongTinChiTietHoSo.originDossierNo)+" ")])]):e._e(),o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Trạng thái: ")]),o("span",{staticClass:"pl-0 text-bold "},[e._v(" "+e._s(e.thongTinChiTietHoSo.dossierStatusText)+" ")])]),e.thongTinChiTietHoSo.dossierNote&&"null"!==e.thongTinChiTietHoSo.dossierNote&&e.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&e.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?o("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[e._v("\n              Ghi chú:\n            ")]):e._e(),e.thongTinChiTietHoSo.dossierNote&&"null"!==e.thongTinChiTietHoSo.dossierNote&&e.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&e.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?o("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[o("v-tooltip",{attrs:{top:""}},[o("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(e.thongTinChiTietHoSo.dossierNote)+" ")]),o("span",{staticClass:"pl-0"},[e._v(" "+e._s(e.thongTinChiTietHoSo.dossierNote)+" ")])])],1):e._e(),e.thongTinChiTietHoSo["groupDossierId"]?o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pr-2"},[e._v("Nhóm hồ sơ: ")]),o("span",{staticClass:"pl-0 text-bold",style:e.thongTinChiTietHoSo["permission"].indexOf("write")>=0?"cursor: pointer; color: #0072bc":"",attrs:{title:e.thongTinChiTietHoSo["permission"].indexOf("write")>=0?"Chi tiết nhóm hồ sơ":""},on:{click:e.detailGroup}},[e._v("\n                "+e._s(e.groupDossierName)+"\n              ")])]):e._e(),e.thongTinChiTietHoSo.dossierNote&&"null"!==e.thongTinChiTietHoSo.dossierNote&&e.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&e.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?o("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[e._v("\n              Ghi chú:\n            ")]):e._e()]):o("v-flex",{attrs:{xs12:"",sm4:""}},[e.thongTinChiTietHoSo.dossierNote&&"null"!==e.thongTinChiTietHoSo.dossierNote&&e.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&e.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?o("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[e._v("\n              Ghi chú:\n            ")]):e._e(),e.thongTinChiTietHoSo.dossierNote&&"null"!==e.thongTinChiTietHoSo.dossierNote&&e.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&e.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?o("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[o("v-tooltip",{attrs:{top:""}},[o("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(e.thongTinChiTietHoSo.dossierNote)+" ")]),o("span",{staticClass:"pl-0"},[e._v(" "+e._s(e.thongTinChiTietHoSo.dossierNote)+" ")])])],1):e._e(),e.thongTinChiTietHoSo.extendDate?o("div",{staticClass:"xs12 sm12 pb-1"},[o("span",{staticClass:"pl-0 text-bold"},[e._v("Hẹn lại: "+e._s(e.thongTinChiTietHoSo.extendDate))])]):e._e()])],1)],1)],1)],1)],1)},a=[],n=(o("6b54"),o("f576"),{props:{detailDossier:{type:Object,default:function(){}}},watch:{detailDossier:function(e){var t=this;t.thongTinChiTietHoSo=e,t.thongTinChiTietHoSo["groupDossierId"]&&t.$store.dispatch("getDetailDossier",t.thongTinChiTietHoSo["groupDossierId"]).then(function(e){t.groupDossierNo=e["dossierNo"],t.groupDossierName=e["dossierName"]})}},components:{},data:function(){return{thongTinChiTietHoSo:{},groupDossierNo:"",groupDossierName:"",showContactDetail:!1}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()}},created:function(){var e=this;e.thongTinChiTietHoSo=e.detailDossier,e.thongTinChiTietHoSo["groupDossierId"]&&e.$store.dispatch("getDetailDossier",e.thongTinChiTietHoSo["groupDossierId"]).then(function(t){e.groupDossierNo=t["dossierNo"],e.groupDossierName=t["dossierName"]})},mounted:function(){var e=this;e.thongTinChiTietHoSo=e.detailDossier},methods:{initData:function(e){var t=this;t.$store.dispatch("getDetailDossier",e).then(function(e){t.thongTinChiTietHoSo=e,console.log("thongTinChiTietHoSo",t.thongTinChiTietHoSo)})},goBack:function(){window.history.back()},durationText:function(e,t){var o;if(1===e&&t>8){var i,a=Math.floor(t/8)+" ngày";i=t%8!==0?8*(t/8-Math.floor(t/8))+" giờ":"",o="".concat(a," ").concat(i)}else 0===e?o=t+" ngày":1===e&&t<=8&&(o=t+" giờ");return o},detailGroup:function(){var e=this;e.thongTinChiTietHoSo["permission"].indexOf("write")>=0&&e.$router.push("/danh-sach-ho-so/0/nhom-ho-so/"+e.thongTinChiTietHoSo["groupDossierId"])}},filters:{dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," | ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}return""}}}),s=n,r=o("2877"),c=o("6544"),l=o.n(c),d=o("b0af"),_=o("99d9"),u=o("cd55"),p=o("49e2"),h=o("0e8f"),m=o("132d"),g=o("a722"),f=o("8860"),v=o("e449"),y=o("3a2f"),C=Object(r["a"])(s,i,a,!1,null,null,null);t["a"]=C.exports;l()(C,{VCard:d["a"],VCardText:_["b"],VExpansionPanel:u["a"],VExpansionPanelContent:p["a"],VFlex:h["a"],VIcon:m["a"],VLayout:g["a"],VList:f["a"],VMenu:v["a"],VTooltip:y["a"]})},"24fb":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"taotailieuketqua",staticStyle:{"background-color":"white",width:"100%"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v(" Kết quả xử lý\n      ")]),o("v-card",e._l(e.createFiles,function(t,i){return o("div",{key:t.partNo+"cr",staticClass:"form_alpaca",staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{expand:"",value:e.currentFormView==="formAlpaca"+t.partNo+e.id?[!0]:[!1]}},[o("v-expansion-panel-content",{attrs:{"hide-actions":""}},[o("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(t){e.stateView=!1}},slot:"header"},[o("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:e.checkStyle(t)}},[o("div",{staticClass:"mr-2",staticStyle:{"min-width":"20px",display:"flex"},on:{click:function(o){e.loadAlpcaFormClick(t)}}},[o("div",{staticClass:"header__tphs",staticStyle:{"min-width":"20px"}},[o("span",{staticClass:"text-bold"},[e._v(e._s(i+1)+".")]),e._v("  ")]),o("div",{staticClass:"header__tphs"},[e._v("\n                      "+e._s(t.partName)+" "),t.required?o("span",{staticStyle:{color:"red"}},[e._v(" (*)")]):e._e(),e._v("\n                        \n                      "),t.hasForm?o("span",{staticStyle:{color:"#004b94"}},[e._v("(Bản khai trực tuyến)")]):e._e(),e._v("\n                        \n                      ")])]),e._l(e.dossierFilesItems,function(i,a){return t.partNo+e.id!==i.dossierPartNo+e.id||i.eForm?e._e():o("div",{key:a+"cr"},[o("div",{staticStyle:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"25px","font-size":"12px"}},[o("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile2(i)}}},[o("v-icon",{staticClass:"mr-1",attrs:{color:e.getDocumentTypeIcon(i.fileType)["color"],size:e.getDocumentTypeIcon(i.fileType)["size"]}},[e._v("\n                          "+e._s(e.getDocumentTypeIcon(i.fileType)["icon"])+"\n                        ")]),e._v("\n                        "+e._s(i.displayName)+" - \n                        "),o("i",[e._v(e._s(i.modifiedDate))])],1),o("v-btn",{staticClass:"mx-0 my-0",attrs:{title:"Xóa",icon:"",ripple:""},on:{click:function(t){t.stopPropagation(),e.deleteSingleFile(i,a)}}},[o("v-icon",{staticStyle:{color:"red"}},[e._v("delete_outline")])],1),7===i["dossierPartType"]?o("v-btn",{staticClass:"mx-0 my-0",attrs:{title:"Đính kèm cho hồ sơ khác",icon:"",ripple:""},on:{click:function(t){t.stopPropagation(),e.attachOtherDossier(i)}}},[o("v-icon",{attrs:{color:"primary",size:"13"}},[e._v("fas fa fa-clone")])],1):e._e()],1)])})],2)]),t.eForm?o("v-card",[o("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[o("div",{style:e.pstFixed>e.pstEl&&e.pstFixed<e.endEl+e.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+t.partNo+e.id}},[t.eForm?o("v-btn",{attrs:{color:"primary",id:"saveBtn"+t.partNo+t.templateFileNo},on:{click:function(o){o.stopPropagation(),e.saveAlpacaForm(t,i)}}},[o("v-icon",{attrs:{color:"white"}},[e._v("save")]),e._v(" \n                          Lưu lại\n                        ")],1):e._e(),t.daKhai&&t.eForm?o("v-btn",{attrs:{color:"primary"},on:{click:function(o){o.stopPropagation(),e.previewFileEfom(t,i)}}},[o("v-icon",{attrs:{color:"white"}},[e._v("print")]),e._v(" \n                          In\n                        ")],1):e._e(),t.daKhai&&t.eForm?o("v-btn",{attrs:{color:"primary"},on:{click:function(o){o.stopPropagation(),e.deleteSingleFileEform(t,i)}}},[o("v-icon",{attrs:{color:"white"}},[e._v("delete")]),e._v(" \n                          Xóa\n                        ")],1):e._e()],1),o("div",{attrs:{id:"formAlpaca"+t.partNo+e.id}})])],1)],1)],1):e._e()],1)],1),o("div",{staticClass:"absolute__btn group__thanh_phan pr-3 mr-1"},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{staticStyle:{width:"100px"}},[o("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+t.partNo},on:{change:function(o){e.onUploadSingleFile(o,t)}}}),e.progressUploadPart+e.id===t.partNo+e.id?o("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e._e(),e.progressUploadPart+e.id!==t.partNo+e.id&t.eForm?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){o.stopPropagation(),e.loadAlpcaFormClick(t)}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"24",color:"#004b94"}},[e._v("edit")])],1)],1),o("span",[e._v("Khai trực tuyến")])],1):e._e(),e.progressUploadPart+e.id!==t.partNo+e.id?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){e.pickFile(t)}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"24",color:"#004b94"}},[e._v("cloud_upload")])],1)],1),t.partTip["extensions"]||t.partTip["maxSize"]?o("span",[e._v("Tải giấy tờ lên (Chấp nhận tải lên các định dạng: "+e._s(t.partTip["extensions"])+". Tối đa "+e._s(t.partTip["maxSize"])+" MB)")]):o("span",[e._v("Tải giấy tờ lên")])],1):e._e()],1)],1)],1)],1)}),0),o("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"1000",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[o("v-toolbar-title",[e._v(e._s(e.documentType))]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[o("v-icon",[e._v("close")])],1)],1),e.dialogPDFLoading?o("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[o("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),o("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+e.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)],1),o("v-dialog",{attrs:{"hide-overlay":"",persistent:"","max-width":"350",transition:"fade-transition"},model:{value:e.dialogConfirm,callback:function(t){e.dialogConfirm=t},expression:"dialogConfirm"}},[o("v-card",{attrs:{flat:""}},[o("v-toolbar",{attrs:{flat:"",dark:"",color:"#1867c0"}},[o("v-toolbar-title",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.labelConfirm))]),o("v-spacer")],1),o("v-card-actions",{staticClass:"mt-3"},[o("v-flex",{staticClass:"text-xs-center"},[o("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},nativeOn:{click:function(t){return e.confirmAction(t)}}},[o("v-icon",[e._v("send")]),e._v(" \n            Đồng ý\n          ")],1),o("v-btn",{staticClass:"ml-2",staticStyle:{color:"#fff"},attrs:{color:"red"},nativeOn:{click:function(t){e.dialogConfirm=!1}}},[o("v-icon",[e._v("close")]),e._v(" \n            Bỏ qua\n          ")],1)],1)],1)],1)],1),o("v-dialog",{attrs:{"max-width":"1000",transition:"fade-transition"},model:{value:e.dialogSelectDosier,callback:function(t){e.dialogSelectDosier=t},expression:"dialogSelectDosier"}},[o("v-card",{attrs:{flat:""}},[o("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("Chọn hồ sơ")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.cancelAddFile(t)}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",{staticClass:"pt-0 pb-0 px-0"},[o("ho-so-nhom",{attrs:{dossiersgroup:e.dossierIntoGroup}})],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){e.addFileToDossier()}}},[o("v-icon",[e._v("send")]),e._v(" \n          Xác nhận\n        ")],1),o("v-btn",{staticStyle:{color:"#fff"},attrs:{color:"red"},nativeOn:{click:function(t){return e.cancelAddFile(t)}}},[o("v-icon",[e._v("close")]),e._v(" \n          Bỏ qua\n        ")],1)],1)],1)],1)],1)},a=[],n=o("e211"),s=n["a"],r=o("2877"),c=o("6544"),l=o.n(c),d=o("4ca6"),_=o("8336"),u=o("b0af"),p=o("99d9"),h=o("169a"),m=o("cd55"),g=o("49e2"),f=o("0e8f"),v=o("132d"),y=o("a722"),C=o("490a"),D=o("9910"),T=o("71d9"),S=o("2a7f"),P=o("3a2f"),b=Object(r["a"])(s,i,a,!1,null,null,null);t["a"]=b.exports;l()(b,{VBadge:d["a"],VBtn:_["a"],VCard:u["a"],VCardActions:p["a"],VCardText:p["b"],VDialog:h["a"],VExpansionPanel:m["a"],VExpansionPanelContent:g["a"],VFlex:f["a"],VIcon:v["a"],VLayout:y["a"],VProgressCircular:C["a"],VSpacer:D["a"],VToolbar:T["a"],VToolbarTitle:S["b"],VTooltip:P["a"]})},"26ed":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"background-color":"white",width:"100%"}},["overdue"===e.type||"preoverdue"===e.type?o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",["overdue"===e.type?o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),o("span",[e._v("Lý do chậm hạn trả")]),o("span",{staticStyle:{color:"red"}},[e._v(" *")])]):o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),o("span",[e._v("Lý do")]),o("span",{staticStyle:{color:"red"}},[e._v(" *")])]),o("v-card",[o("v-card-text",{staticClass:"py-2 px-2"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"mx-3",attrs:{xs12:""}},[o("v-form",{ref:"delayNoteForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-text-field",{attrs:{box:"","multi-line":"",rows:3,rules:function(){return""!==e.delayNote||"Trường dữ liệu bắt buộc"}},model:{value:e.delayNote,callback:function(t){e.delayNote=t},expression:"delayNote"}})],1)],1)],1)],1)],1)],1)],1):e._e(),o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),"overdue"===e.type||"preoverdue"===e.type?o("span",[e._v("Ngày hẹn lại")]):e._e(),"betimes"===e.type?o("span",[e._v("Ngày hẹn trả sớm")]):e._e()]),o("v-card",[o("v-card-text",[o("v-layout",{staticClass:"pl-2",attrs:{wrap:""}},[o("v-icon",{staticClass:"hover-pointer",attrs:{color:"blue"},on:{click:e.showDatePicker}},[e._v("event")]),o("vue-ctk-date-time-picker",{ref:"datepicker",staticClass:"ml-2",staticStyle:{width:"auto!important"},attrs:{format:"YYYY-MM-DDTHH:mm","time-format":"HH:mm","without-header":!0,formatted:"DD/MM/YYYY HH:mm",label:e.extendDateInput?"":"Chọn ngày","min-date":e.minDate},model:{value:e.extendDateInput,callback:function(t){e.extendDateInput=t},expression:"extendDateInput"}})],1)],1)],1)],1)],1)],1)},a=[],n=(o("28a5"),o("768b")),s=(o("6b54"),o("f576"),o("cadf"),o("551c"),o("097d"),{components:{"vue-ctk-date-time-picker":window["vue-ctk-date-time-picker"]},props:["extendDateEdit","type"],data:function(){return{extendDateInput:"",minDate:null,delayNote:""}},created:function(){},watch:{},mounted:function(){this.extendDateInput=this.extendDateEdit?this.parseCurrentDate(this.extendDateEdit):this.formatDateInput(new Date),console.log("extendDateInput",this.extendDateInput),this.minDate=this.getCurentDateTime("date")},methods:{doExport:function(){var e,t=this,o=t.extendDateInput?new Date(t.extendDateInput).getTime():"";return e="overdue"===t.type||"preoverdue"===t.type?{text:t.delayNote,extendDate:o,valid:t.$refs.delayNoteForm.validate()}:{text:t.delayNote,extendDate:o,valid:!0},e},getCurentDateTime:function(e){var t=new Date;return"datetime"===e?"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," | ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0")):"date"===e?"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0")):void 0},formatDateInput:function(e){return"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))},showDatePicker:function(){this.$refs.datepicker.showDatePicker()},parseCurrentDate:function(e){if(!e)return null;var t=e.split(" "),o=Object(n["a"])(t,2),i=o[0],a=o[1],s="".concat(i).split("/"),r=Object(n["a"])(s,3),c=r[0],l=r[1],d=r[2],_="".concat(a).split(":"),u=Object(n["a"])(_,3),p=u[0],h=u[1];u[2];return"".concat(d,"-").concat(l.padStart(2,"0"),"-").concat(c.padStart(2,"0")," ").concat(p,":").concat(h)}}}),r=s,c=o("2877"),l=o("6544"),d=o.n(l),_=o("b0af"),u=o("99d9"),p=o("cd55"),h=o("49e2"),m=o("0e8f"),g=o("4bd4"),f=o("132d"),v=o("a722"),y=o("2677"),C=Object(c["a"])(r,i,a,!1,null,null,null);t["a"]=C.exports;d()(C,{VCard:_["a"],VCardText:u["b"],VExpansionPanel:p["a"],VExpansionPanelContent:h["a"],VFlex:m["a"],VForm:g["a"],VIcon:f["a"],VLayout:v["a"],VTextField:y["a"]})},"335e":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.dossiersgroup.length>0?o("div",{staticClass:"mb-3"},[o("v-data-table",{staticClass:"table-landing table-bordered",attrs:{"select-all":"",headers:e.headers,items:e.dossiersgroup,pagination:e.pagination,"hide-actions":"","item-key":"dossierId"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"headers",fn:function(t){return[o("tr",[o("th",{staticClass:"v_data_table_check_all",staticStyle:{"padding-left":"14px !important"},attrs:{width:"32px"}},[o("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(t){return e.toggleAllSelectDialog(t)}}})],1),e._l(e.headers,function(t){return o("th",{key:t.text,class:t["class"]?t["class"]:"",attrs:{width:t["width"]?t["width"]+"px":""}},[o("v-tooltip",{attrs:{bottom:""}},[o("span",{attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(t.text))]),o("span",[e._v(e._s(t.text))])])],1)})],2)]}},{key:"items",fn:function(t){return[o("tr",{staticStyle:{cursor:"pointer"}},[o("td",{staticClass:"text-xs-center pl-3",staticStyle:{height:"40px !important"},attrs:{width:"32px"}},[o("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:t.selected,callback:function(o){e.$set(t,"selected",o)},expression:"props.selected"}})],1),o("td",{staticClass:"text-xs-center",staticStyle:{height:"40px !important"},attrs:{width:"50px"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[o("span",[e._v(e._s(e.pagination.page*e.pagination.rowsPerPage-e.pagination.rowsPerPage+t.index+1))])]),o("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"250px"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n            "+e._s(t.item.dossierNo)+"\n          ")]),o("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n            "+e._s(t.item.applicantName)+"\n          ")]),o("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"200px"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n            "+e._s(t.item.dossierSubStatusText?t.item.dossierSubStatusText:t.item.dossierStatusText)+"\n          ")])])]}}]),model:{value:e.selectedAttach,callback:function(t){e.selectedAttach=t},expression:"selectedAttach"}}),e.dossiersgroup.length>10?o("div",{staticClass:"text-xs-center layout wrap mt-2 pr-1",staticStyle:{position:"relative"}},[o("div",{staticClass:"flex pagging-table px-2"},[o("tiny-pagination",{attrs:{total:e.dossiersgroup.length,currentLimit:15,page:e.pagination.page,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingData}})],1)]):e._e()],1):e._e()])},a=[],n=(o("6b54"),o("bd86")),s=o("854a"),r=o.n(s),c=(o("1157"),o("000e"));r.a.options={closeButton:!0,timeOut:"5000"};var l={props:["index","id","dossiersgroup"],components:{"tiny-pagination":c["a"]},data:function(){var e;return e={detailGroup:!1,dialogImportDosier:!1,dialogSelectDosier:!1,groupDossierList:[],groupDossierSelected:"",dossiersgroup:[]},Object(n["a"])(e,"dossiersgroup",[]),Object(n["a"])(e,"selected",[]),Object(n["a"])(e,"selectedAttach",[]),Object(n["a"])(e,"stepList",[]),Object(n["a"])(e,"stepSelected",""),Object(n["a"])(e,"btnDynamics",[]),Object(n["a"])(e,"processOptionSelected",""),Object(n["a"])(e,"inputTypes",[6]),Object(n["a"])(e,"outputTypesGroup",[7]),Object(n["a"])(e,"inputTypesIntoGroup",[1,3,6]),Object(n["a"])(e,"outputTypes",[2]),Object(n["a"])(e,"loadingAction",!1),Object(n["a"])(e,"dialogAddGroup",!1),Object(n["a"])(e,"activeAddDossierIntoGroup",!1),Object(n["a"])(e,"headers",[{text:"STT",align:"center",sortable:!1,class:"text-xs-center"},{text:"Mã hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Tên chủ hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Trạng thái",align:"center",sortable:!1,class:"text-xs-center"}]),Object(n["a"])(e,"filesGroupDossier",[]),Object(n["a"])(e,"progressUploadFile",!1),Object(n["a"])(e,"totalDossier",0),Object(n["a"])(e,"valueProgress",0),Object(n["a"])(e,"countDossierSuccess",0),Object(n["a"])(e,"pagination",{rowsPerPage:15,page:1}),e},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()},filesAdd:function(){return this.$store.getters.getFilesAdd},activeAddFileGroup:function(){return this.$store.getters.activeAddFileGroup}},created:function(){var e=this;e.$nextTick(function(){e.$router.history.current.query})},mounted:function(){},watch:{$route:function(e,t){e.query},selectedAttach:function(e){var t=this;t.$store.commit("setSelectDossierGroup",e)},selected:function(e){},activeAddFileGroup:function(e){var t=this;console.log("val activeAddFileGroup",e),t.stepSelected="",t.dialogSelectDosier=e}},methods:{paggingData:function(e){var t=this;t.pagination.page=e.page},changeStep:function(){var e=this;setTimeout(function(){e.stepSelected?(e.dossiersgroup=e.dossiersgroup.filter(function(t){return String(t["stepCode"])===String(e.stepSelected["stepCode"])}),e.$store.dispatch("pullProcessSteps",e.stepSelected).then(function(t){t.hasOwnProperty("menuGroup")&&t.menuGroup?e.$store.dispatch("getDetailMenuConfig",t).then(function(t){if(t.hasOwnProperty("buttonConfig")&&t.buttonConfig)try{e.btnDynamics=JSON.parse(t["buttonConfig"])["buttons"],e.btnDynamics=e.btnDynamics.filter(function(e){return"ACTIONS"===e["form"]}),e.btnDynamics=e.btnDynamics.filter(function(t){return!t.hasOwnProperty("onlySteps")||t.hasOwnProperty("onlySteps")&&t["onlySteps"].filter(function(t){return String(t)===String(e.stepSelected["stepCode"])})>0})}catch(o){e.btnDynamics=[]}else e.btnDynamics=[]}):e.btnDynamics=[]})):(e.dossiersgroup=e.dossiersgroup,e.btnDynamics=[])},200)},viewDetail:function(e,t){var o=this;o.$router.history.current.query;o.$router.push("/danh-sach-ho-so/0/chi-tiet-ho-so/"+e["dossierId"])},addFileToDossier:function(){var e=this,t=e.selectedAttach.map(function(e){return e.dossierId}).toString(),o=e.filesAdd.map(function(e){return e.dossierFileId}).toString(),i={dossierIds:t,dossierFileId:o};e.$store.dispatch("uploadFileDossierGroup",i).then(function(t){r.a.success("Đính kèm tài liệu thành công"),e.$store.commit("setActiveAddFileGroup",!1)})},cancelAddFile:function(){var e=this;e.$store.commit("setActiveAddFileGroup",!1)},toggleAll:function(){var e=this;e.selected.length?e.selected=[]:e.selected=e.dossiersgroup},toggleAllSelectDialog:function(){var e=this;console.log("toggleAllSelectDialog",e.dossiersgroup,e.selectedAttach),e.selectedAttach.length?e.selectedAttach=[]:e.selectedAttach=e.dossiersgroup,console.log("toggleAllSelectDialog 2",e.selectedAttach)},goBack:function(){var e=this,t=e.$router.history.current.params,o=e.$router.history.current.query;e.activeAddDossierIntoGroup?(e.activeAddDossierIntoGroup=!1,e.getDetaiGroup(e.id)):e.$router.push({path:"/danh-sach-ho-so/"+t.index,query:o})}}},d=l,_=o("2877"),u=o("6544"),p=o.n(u),h=o("ac7c"),m=o("8fea"),g=o("3a2f"),f=Object(_["a"])(d,i,a,!1,null,null,null);t["a"]=f.exports;p()(f,{VCheckbox:h["a"],VDataTable:m["a"],VTooltip:g["a"]})},3677:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e.detailView?o("span",[e._v(e._s(e.currentHoSoLienThong?e.currentHoSoLienThong.dossierName:""))]):o("span",[e._v("Danh sách hồ sơ liên thông")])]),o("v-card",{},[o("v-card-text",{staticClass:"px-0 py-0"},[e.detailView?o("div",[o("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{attrs:{value:!0}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[e._v(" I.")]),e._v("\n                  Tài liệu nộp     \n                ")]),o("thanh-phan-ho-so",{ref:"thanhphanhoso1",attrs:{onlyView:!0,id:"nm",partTypes:e.inputTypes}})],1)],1),o("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{attrs:{value:!0}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[e._v(" II.")]),e._v("\n                  Tài liệu kết quả\n                ")]),o("thanh-phan-ho-so",{ref:"thanhphanhoso2",attrs:{onlyView:!0,id:"kq",partTypes:e.outputTypes}})],1)],1),o("v-flex",{staticClass:"mt-3 mb-2 text-right",attrs:{xs12:""}},[o("v-btn",{staticClass:"my-0 mx-0",attrs:{color:"primary"},on:{click:function(t){e.detailView=!1}}},[o("v-icon",{attrs:{size:"16"}},[e._v("undo")]),e._v("  \n                Quay lại danh sách \n              ")],1)],1)],1):o("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:e.headers,items:e.listLienThong,"hide-actions":"","item-key":"dossierId"},scopedSlots:e._u([{key:"items",fn:function(t){return[o("tr",[o("td",{staticClass:"text-xs-center",attrs:{width:"5%"}},[o("span",[e._v(e._s(t.index+1))])]),o("td",{staticClass:"text-xs-left",attrs:{width:"30%"}},[e._v("\n                  "+e._s(t.item.dossierName)+"\n                ")]),o("td",{staticClass:"text-xs-left",attrs:{width:"10%"}},[e._v("\n                  "+e._s(t.item.dossierNo)+"\n                ")]),o("td",{staticClass:"text-xs-left",attrs:{width:"25%"}},[e._v("\n                  "+e._s(t.item.govAgencyName)+"\n                ")]),o("td",{staticClass:"text-xs-left",attrs:{width:"15%"}},[e._v("\n                  "+e._s(t.item.createDate)+"\n                ")]),o("td",{staticClass:"text-xs-left",attrs:{width:"15%"}},[e._v("\n                  "+e._s(t.item.dossierSubStatusText?t.item.dossierSubStatusText:t.item.dossierStatusText)+"\n                ")])])]}}])})],1)],1)],1)],1)],1)},a=[],n=(o("6b54"),o("f576"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-card",[o("v-card-text",{staticClass:"pb-0"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Thủ tục: ")])],1),o("v-flex",{attrs:{xs12:"",sm10:""}},[o("v-subheader",{staticClass:"pl-0 header-text-field text-header"},[e._v("  "+e._s(e.thongTinChiTietHoSo.serviceName)+" ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Mã số hồ sơ: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[o("v-subheader",{staticClass:"pl-0 text-header header-text-field"},[e._v("  "+e._s(e.thongTinChiTietHoSo.dossierNo)+" ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Thời hạn giải quyết: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[o("v-subheader",{staticClass:"pl-0 text-header header-text-field"},[e._v("  "+e._s(e.durationText(e.thongTinChiTietHoSo.durationUnit,e.thongTinChiTietHoSo.durationCount))+" làm việc  ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Ngày tiếp nhận: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[o("v-subheader",{staticClass:"pl-0 text-header header-text-field"},[e._v("  "+e._s(e.thongTinChiTietHoSo.receiveDate)+" ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Ngày hẹn trả: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[o("v-subheader",{staticClass:"pl-0 text-header header-text-field"},[e._v("  "+e._s(e.thongTinChiTietHoSo.dueDate)+" ")])],1)],1)],1)],1)}),s=[],r={data:function(){return{thongTinChiTietHoSo:{}}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){},methods:{initData:function(e){this.thongTinChiTietHoSo=e},durationText:function(e,t){var o;if(1===e&&t>8){var i,a=Math.floor(t/8)+" ngày";i=t%8!==0?8*(t/8-Math.floor(t/8))+" giờ":"",o="".concat(a," ").concat(i)}else 0===e?o=t+" ngày":1===e&&t<=8&&(o=t+" giờ");return o}},filters:{dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear(),"  ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}return""}}},c=r,l=o("2877"),d=o("6544"),_=o.n(d),u=o("b0af"),p=o("99d9"),h=o("0e8f"),m=o("a722"),g=o("e0c7"),f=Object(l["a"])(c,n,s,!1,null,null,null),v=f.exports;_()(f,{VCard:u["a"],VCardText:p["b"],VFlex:h["a"],VLayout:m["a"],VSubheader:g["a"]});var y=o("6e92"),C={components:{thongtinchunghoso:v,"thanh-phan-ho-so":y["a"]},props:{listLienThong:{type:Array,default:function(){return[]}},dossierDetail:{type:Object,default:function(){}}},data:function(){return{loading:!1,inputTypes:[1,3],outputTypes:[2],detailView:!1,thongTinLienThong:{},hoSoLienThongItems:[],currentHoSoLienThong:"",lienthongPage:1,headers:[{text:"STT",align:"center",sortable:!1},{text:"Tên hồ sơ",align:"center",sortable:!1},{text:"Mã hồ sơ",align:"center",sortable:!1},{text:"Cơ quan liên thông",align:"center",sortable:!1},{text:"Ngày gửi liên thông",align:"center",sortable:!1},{text:"Trạng thái",align:"center",sortable:!1}]}},computed:{},created:function(){var e=this;e.$nextTick(function(){})},methods:{getDossierLogs:function(e){var t=this,o={dossierId:e.dossierId,type:""};t.$store.dispatch("loadDossierLogs",o).then(function(t){t.length>0&&(e.dossierLog=t)}).catch(function(e){console.log(e)})},viewDetail:function(e){var t=this;console.log("item",e),t.detailView=!0,t.currentHoSoLienThong=e,setTimeout(function(){t.$refs.thanhphanhoso1&&t.$refs.thanhphanhoso1.initData(e),t.$refs.thanhphanhoso2&&t.$refs.thanhphanhoso2.initData(e)},300)},goBack:function(){window.history.back()}},filters:{dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear(),"  ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}return""}}},D=C,T=o("8336"),S=o("8fea"),P=o("cd55"),b=o("49e2"),x=o("132d"),E=Object(l["a"])(D,i,a,!1,null,null,null);t["a"]=E.exports;_()(E,{VBtn:T["a"],VCard:u["a"],VCardText:p["b"],VDataTable:S["a"],VExpansionPanel:P["a"],VExpansionPanelContent:b["a"],VFlex:h["a"],VIcon:x["a"]})},4360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return store});var d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5176"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_1__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("f499"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("4917"),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_from__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("774e"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_from__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_from__WEBPACK_IMPORTED_MODULE_8__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("a745"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_9__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("e814"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("795b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_15__),vue__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("a026"),vuex__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("2f62"),toastr__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_18__),axios__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_19__),_support_json__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("bbd0"),_support_json__WEBPACK_IMPORTED_MODULE_20___namespace=__webpack_require__.t("bbd0",1),jquery__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_21__),file_saver__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("21a6"),file_saver__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_22__);vue__WEBPACK_IMPORTED_MODULE_16__["a"].use(toastr__WEBPACK_IMPORTED_MODULE_18___default.a),vue__WEBPACK_IMPORTED_MODULE_16__["a"].use(vuex__WEBPACK_IMPORTED_MODULE_17__["a"]),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.options={closeButton:!0,timeOut:"15000"};var store=new vuex__WEBPACK_IMPORTED_MODULE_17__["a"].Store({state:{initData:_support_json__WEBPACK_IMPORTED_MODULE_20__.initData,endPointApi:"/o/rest/v2",loading:!1,loadingTable:!1,loadingDynamicBtn:!1,loadingGov:!1,validFileUpload:!1,fileTypeAllowDefault:"pdf,doc,docx,xls,xlsx,png,jpg,jpeg,txt,rtf",fileTypePAYMENT:["png","jpg","jpeg"],error:null,user:{role:""},index:0,kysoSuccess:!1,activeGetCounter:!1,activeLoadingDataHoSo:!1,trangThaiHoSoList:null,listThuTucHanhChinh:null,checkInput:0,stepOverdueNextAction:"",usersNextAction:[],lePhi:{fee:"",feeNote:"",request:""},dossier:{applicantIdNo:"ccc"},dossierSelected:[],actionActive:{},serviceConfigObj:{},dossierTemplateName:"",thongTinChungHoSo:{serviceName:"",dossierTemplateName:"",serviceConfig:"",serviceOption:"",dossierNo:"",receiveDate:new Date,dueDate:(new Date).toString(),durationDate:"",dossierId:"",dossierIdCTN:"",dossierStatus:"",dossierStatusText:""},vnpostCodeItems:[],serviceConfigItems:null,serviceOptionItems:[],citys:null,cityVal:null,districtVal:null,wardVal:null,resultServices:null,dossierFiles:[],listHistoryProcessingItems:[],thanhPhanHoSo:{dossierTemplates:_support_json__WEBPACK_IMPORTED_MODULE_20__.dossierTemplates},dossierTemplates:_support_json__WEBPACK_IMPORTED_MODULE_20__.dossierTemplates,applicantId:"",applicantBussinessExit:!1,applicantNote:"",thongTinChuHoSo:{userType:!0,cityCode:"",districtCode:"",wardCode:"",applicantIdNo:"",contactEmail:"",contactName:"",address:"",applicantName:""},thongTinChuHoSoBindChuyenPhat:{cityCode:"",districtCode:"",wardCode:"",address:"",contactTelNo:""},thongTinNguoiNopHoSo:{sameUser:!0,delegateName:"",delegateCityCode:"",delegateAddress:"",delegateDistrictCode:"",delegateWardCode:"",delegateEmail:"",delegateTelNo:"",delegateIdNo:""},dichVuChuyenPhatKetQua:{viaPostal:0,postalServiceCode:"",postalAddress:"",postalCityCode:"",postalDistrictCode:"",postalWardCode:"",postalTelNo:""},viaPostal:0,data_phancong:[],dataCreateDossier:{},dataCreateFile:[],paymentProfile:"",paymentFileName:"",forGroupDossier:!1,dossierIntoGroup:[],filesAdd:[],activeAddFileGroup:!1},actions:{clearError:function(e){var t=e.commit;t("clearError")},loadInitResource:function(e){var t=e.commit,o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){null!==window.themeDisplay&&void 0!==window.themeDisplay?(o.initData["groupId"]=window.themeDisplay.getScopeGroupId(),o.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(o.initData["groupId"]=0,o.initData["user"]={userName:"",userEmail:"",userId:20164}),""===o["user"].role&&store.dispatch("getRoleUser").then(function(e){o["user"].role=e}).catch(function(e){o["user"].role=["default"],console.log(e)}),t("setInitData",o.initData),e(o.initData)})},getRoleUser:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){var i={headers:{groupId:window.themeDisplay.getScopeGroupId()?window.themeDisplay.getScopeGroupId():""}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.endPointApi+"/users/login",i).then(function(t){var o=t.data;if(o&&o.length>0){var i=[];for(var a in o)o[a]["role"]&&i.push(o[a]["role"]);e(i)}else e(["default"])}).catch(function(e){console.log(e),t("default")})})},loadMenuConfigToDo:function loadMenuConfigToDo(_ref4){var commit=_ref4.commit,state=_ref4.state;return commit("setLoadingDynamicBtn",!0),null===state.trangThaiHoSoList?new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(resolve,reject){store.dispatch("loadInitResource").then(function(result){var param={headers:{groupId:state.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(state.initData.menuConfigToDo,param).then(function(response){var serializable=response.data,menuData=[],index=0;for(var key in serializable.data){var current=serializable.data[key],menuDetail={index:index,active:!1,title:current["menuName"],id:current["menuGroup"],icon:current["icon"]?current["icon"]:"",action:"description",action_active:"play_arrow",counter:-1,menuType:d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_parse_int__WEBPACK_IMPORTED_MODULE_10___default()(current["menuType"]),queryParams:current["queryParams"]};index+=1;var tableConfig=current["tableConfig"],buttonConfig=current["buttonConfig"];if(""!==tableConfig&&void 0!==tableConfig&&"undefined"!==tableConfig&&-1!==String(tableConfig).indexOf("{")&&-1!==String(tableConfig).indexOf("}")&&(menuDetail["tableConfig"]=eval("("+tableConfig+")")),""!==buttonConfig&&void 0!==buttonConfig&&"undefined"!==buttonConfig&&-1!==String(buttonConfig).indexOf("{")&&-1!==String(buttonConfig).indexOf("}")&&(menuDetail["buttonConfig"]=eval("("+buttonConfig+")")),current.hasOwnProperty("steps")&&(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(current.steps)&&current.steps.length>1&&(menuDetail["items"]=current.steps),current.steps&&!d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(current.steps))){var stepsItems=[];stepsItems.push(current.steps),menuDetail["items"]=stepsItems}menuData.push(menuDetail)}commit("setLoadingDynamicBtn",!1),commit("setMenuConfigToDo",menuData),resolve(menuData)}).catch(function(e){commit("setLoadingDynamicBtn",!1),console.log(e),reject(e)})})}):new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){commit("setLoadingDynamicBtn",!1),e(state.trangThaiHoSoList)})},loadListThuTucHanhChinh:function(e){var t=e.commit,o=e.state;return null===o.listThuTucHanhChinh?new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.getListThuTucHanhChinh,n).then(function(o){var i=o.data,a=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_from__WEBPACK_IMPORTED_MODULE_8___default()(i.data);t("setListThuTucHanhChinh",a),e(a)}).catch(function(e){console.log(e),i(e)})})}):new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){var i=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_from__WEBPACK_IMPORTED_MODULE_8___default()(o.listThuTucHanhChinh);e(i)})},loadingDataHoSo:function(e,t){var o=e.commit,i=e.state;return o("setLoadingTable",!0),new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){store.dispatch("loadInitResource").then(function(n){var s={start:15*t.page-15,end:15*t.page,order:t.order?t.order:"",agency:t.agency?t.agency:"",service:t.service?t.service:"",template:t.template?t.template:"",status:t.status?t.status:"",register:t.register?t.register:"",keyword:t.keyword?t.keyword:"",domain:t.domain?t.domain:"",substatus:t.substatus?t.substatus:"",year:t.year?t.year:0,month:t.month?t.month:0,day:t.day?t.day:0,top:t.top?t.top:"",dossierNo:t.dossierNo?t.dossierNo:"",paymentStatus:t.paymentStatus?t.paymentStatus:""};t["follow"]&&(s.follow=t.follow,s.originality=0),t["originality"]&&(s.originality=t.originality);var r={headers:{groupId:i.initData.groupId},params:s};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(t.queryParams,r).then(function(t){var i=t.data;o("setLoadingTable",!1),o("setUserNextAction",[]),e(i)}).catch(function(e){o("setLoadingTable",!1),o("setUserNextAction",[]),console.log(e),a(e)})})})},getGroupDossier:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){store.dispatch("loadInitResource").then(function(i){var a={originality:9},n={headers:{groupId:o.initData.groupId},params:a};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get("/o/rest/v2/dossiers/todo",n).then(function(t){var o=t.data;o.data?e(o.data):e([])}).catch(function(e){t(e)})})})},loadingCounterNotStep:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={start:0,end:1,agency:t.agency?t.agency:"",service:t.service?t.service:"",template:t.template?t.template:"",status:t.status?t.status:"",register:t.register?t.register:"",keyword:t.keyword?t.keyword:"",domain:t.domain?t.domain:"",substatus:t.substatus?t.substatus:"",year:t.year?t.year:0,month:t.month?t.month:0,day:t.day?t.day:0,top:t.top?t.top:"",dossierNo:t.dossierNo?t.dossierNo:""};t["originality"]&&(n["originality"]=t.originality);var s={headers:{groupId:o.initData.groupId},params:n};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(t.queryParams,s).then(function(t){var o=t.data;e(o)}).catch(function(e){i(e)})})})},loadingCounterHoSo:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};t.hasOwnProperty("originality")&&1===t.originality&&(n["params"]={owner:!0}),axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.counterMenuStep,n).then(function(t){var o=t.data;e(o)}).catch(function(e){console.log(e),i(e)})})})},loadDossierSelected:function(e,t){var o=e.commit;e.state;o("dossierSelected",t)},loadActionActive:function(e,t){var o=e.commit;e.state;o("actionActive",t)},loadDictItems:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){store.dispatch("loadInitResource").then(function(n){var s={headers:{groupId:i.initData.groupId},params:{parent:t.parent}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(i.initData.regionApi+"/"+t.collectionCode+"/dictitems",s).then(function(i){var a=i.data;"ADMINISTRATIVE_REGION"===t.collectionCode&&0===t.level&&o("setCitys",a.data),e(i.data)},function(e){a(e)})})})},resetThongTinChungHoSo:function(e){var t=e.commit,o={serviceConfig:{},serviceOption:"",receiveDate:new Date,dueDate:(new Date).toString(),durationDate:"",dossierId:"",dossierNo:"",govAgencyName:"",dossierIdCTN:"",processBlock:"",processUnit:"",dossierStatus:"",dossierStatusText:"",submitDate:""};t("setThongTinChungHoSo",o)},resetThongTinChuHoSo:function(e){var t=e.commit,o={userType:!0,cityCode:25,districtCode:"",wardCode:"",applicantIdNo:"",contactEmail:"",contactName:"",address:"",applicantName:""};t("setThongTinChuHoSo",o)},resetThongTinNguoiNopHoSo:function(e){var t=e.commit,o={sameUser:"",delegateName:"",delegateCityCode:25,delegateAddress:"",delegateDistrictCode:"",delegateWardCode:"",delegateEmail:"",delegateTelNo:"",delegateIdNo:""};t("setThongTinNguoiNopHoSo",o)},resetThanhPhanHoSo:function(e){var t=e.commit;t("setDossierTemplates",[])},loadDossierMark:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId},params:{type:1}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t.dossierId+"/marks",a).then(function(t){var o=t.data;if(o.data){var i=o.data;e(i)}else e([])},function(e){i(e)})})},loadDossierTemplates:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierTemplatesApi+"/"+t.dossierTemplateNo,n).then(function(t){var i=t.data,a=function(e){try{return JSON.parse(e),JSON.parse(e)}catch(i){var t={tip:e,maxSize:10,extensions:o.fileTypeAllowDefault};return t}};if(i&&i["dossierParts"])for(var n in i["dossierParts"]){var s=i["dossierParts"][n]["partTip"];i["dossierParts"][n]["partTip"]=a(s)}e(i.dossierParts)},function(e){i(e)})})})},loadAllDossierTemplates:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierTemplatesApi+"/"+t.dossierTemplateNo,n).then(function(t){var i=t.data,a=function(e){try{return JSON.parse(e),JSON.parse(e)}catch(i){var t={tip:e,maxSize:10,extensions:o.fileTypeAllowDefault};return t}};if(i&&i["dossierParts"])for(var n in i["dossierParts"]){var s=i["dossierParts"][n]["partTip"];i["dossierParts"][n]["partTip"]=a(s)}e(i.dossierParts)},function(e){i(e)})})})},copyFile:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}},n=new URLSearchParams;n.append("dossierTemplateNo",t.dossierTemplateNo?t.dossierTemplateNo:""),n.append("dossierPartNo",t.dossierPartNo?t.dossierPartNo:""),n.append("dossierFileId",t.dossierFileId?t.dossierFileId:""),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(o.initData.dossierApi+"/"+t.dossierId+"/files/copyfile",n,a).then(function(t){e(t)}).catch(function(e){console.log(e),i(e)})})},deleteAttackFiles:function(e,t){e.commit;var o=e.state;e.dispatch;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}},n=new URLSearchParams;t.hasForm||t.eform?axios__WEBPACK_IMPORTED_MODULE_19___default.a.put(o.initData.dossierApi+"/"+t.dossierId+"/files/"+t.referenceUid+"/resetformdata",n,a).then(function(t){console.log("success"),e(t)}).catch(function(e){console.log(e),i(e)}):axios__WEBPACK_IMPORTED_MODULE_19___default.a.delete(o.initData.dossierApi+"/"+t.dossierId+"/files/"+t.fileTemplateNo+"/all",a).then(function(t){console.log("success!"),e(t)}).catch(function(e){console.log(e),i(e)})})},deleteDossierFile:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.delete(o.initData.dossierApi+"/"+t.dossierId+"/files/"+t.referenceUid,a).then(function(t){console.log("success!"),e(t)}).catch(function(e){console.log(e),i(e)})})},resetCounterTemplate:function(e,t){e.commit;var o=e.state;o.dossierTemplates.forEach(function(e){e.partNo===t.partNo&&(e.hasForm?e.count=1:e.count=0)})},deleteSingleFile:function(e,t){e.commit;var o=e.state,i={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.delete(o.initData.dossierApi+"/"+o.thonTinChungHoSo.dossierId+"/files/"+t.referenceUid,i).then(function(e){console.log("success")}).catch(function(e){console.log(e)})},uploadSingleFile:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a=[],n=jquery__WEBPACK_IMPORTED_MODULE_21___default()('input[id="file'+t.partNo+'"]')[0].files,s=n.length,r=0;if(n)for(var c=0;c<s;c++){var l=n[c],d=l["name"];l["name"]&&(d=l["name"].replace(/\%/g,""),d=d.replace(/\//g,""),d=d.replace(/\\/g,""));var _=new FormData;3===t.partType?(t["displayName"]&&(d=t["displayName"].replace(/\%/g,""),d=d.replace(/\//g,""),d=d.replace(/\\/g,"")),_.append("displayName",d)):_.append("displayName",d),_.append("fileType",l.type),_.append("fileSize",l.size),_.append("isSync","false"),_.append("file",l,d),_.append("dossierPartNo",t.partNo),_.append("dossierTemplateNo",t.dossierTemplateNo),_.append("fileTemplateNo",t.fileTemplateNo),_.append("formData",""),_.append("referenceUid","");var u={partTip:t.partTip,file:l};store.dispatch("validFileUpload",u),l&&o.validFileUpload?axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(o.initData.dossierApi+"/"+t.dossierId+"/files",_,{headers:{groupId:o.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(t){r+=1,a.push(t.data),r===s&&e(a)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),r+=1,r===s&&i(a)}):(r+=1,r===s&&i(a))}})},uploadFileDossierGroup:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}},n=new URLSearchParams;n.append("dossierIds",t.dossierIds?t.dossierIds:""),n.append("dossierFileId",t.dossierFileId?t.dossierFileId:""),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(o.initData.dossierApi+"/dossierfiles",n,a).then(function(t){e(t)}).catch(function(e){console.log(e),i(e)})})},uploadSingleOtherFile:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a=new FormData,n=t["displayName"];t["displayName"]&&(n=t["displayName"].replace(/\%/g,""),n=n.replace(/\//g,""),n=n.replace(/\\/g,"")),a.append("displayName",t.displayName?n:""),a.append("dossierPartNo",t.partNo?t.partNo:""),a.append("file",""),a.append("fileType",""),a.append("fileSize",""),a.append("isSync","false"),a.append("dossierTemplateNo",""),a.append("fileTemplateNo",""),a.append("formData",""),a.append("referenceUid",""),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(o.initData.dossierApi+"/"+t.dossierId+"/files",a,{headers:{groupId:o.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(t){e(t.data),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),console.log("upload file success!")}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})},uploadPaymentFile:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a=jquery__WEBPACK_IMPORTED_MODULE_21___default()("#"+t.selector)[0].files,n=a[0],s=n["name"];n["name"]&&(s=n["name"].replace(/\%/g,""),s=s.replace(/\//g,""),s=s.replace(/\\/g,""));var r=new FormData;r.append("file",n,s);var c={partTip:t["partTip"],file:n};store.dispatch("validFileUpload",c),n&&o.validFileUpload?axios__WEBPACK_IMPORTED_MODULE_19___default.a.put(o.initData.dossierApi+"/"+t.dossierId+"/payments/"+t.referenceUid+"/confirmfile",r,{headers:{groupId:o.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(t){e(t.data)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Tải file lên thất bại"),i(e)}):i("error")})},uploadDossierFileImport:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a=jquery__WEBPACK_IMPORTED_MODULE_21___default()("#"+t.selector)[0].files,n=a[0],s=n["name"],r=new FormData;r.append("file",n,s);var c={partTip:t["partTip"],file:n};store.dispatch("validFileUpload",c),n&&o.validFileUpload?axios__WEBPACK_IMPORTED_MODULE_19___default.a.post("/o/rest/v2/dossiers/createMutiplite/files",r,{headers:{groupId:o.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(t){e(t.data),console.log("Tải file lên thành công")}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Tải file lên thất bại"),i(e)}):i("error")})},getDetailDossier:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){store.dispatch("loadInitResource").then(function(n){var s={headers:{groupId:i.initData.groupId}};o("setLoading",!0),axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(i.initData.postDossierApi+"/"+t,s).then(function(t){var i={delegateName:t.data.delegateName,delegateCityCode:t.data.delegateCityCode,delegateAddress:t.data.delegateAddress,delegateDistrictCode:t.data.delegateDistrictCode,delegateWardCode:t.data.delegateWardCode,delegateEmail:t.data.delegateEmail,delegateTelNo:t.data.delegateTelNo,delegateIdNo:t.data.delegateIdNo};e(t.data),o("setLoading",!1),o("setDossier",t.data),o("setThongTinChuHoSo",t.data),o("setLePhi",t.data),o("setThongTinNguoiNopHoSo",i),o("setThongTinChungHoSo",t.data),o("setDichVuChuyenPhatKetQua",t.data)},function(e){o("setLoading",!1),a(e)}).catch(function(e){console.log(e)})})})},getGovAgency:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){var i={headers:{groupId:o.initData.groupId},params:{sort:"sibling"}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.regionApi+"/GOVERNMENT_AGENCY/dictitems",i).then(function(t){e(t.data.data)}).catch(function(e){console.log(e)})})},getDocumentType:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){var i={headers:{groupId:o.initData.groupId},params:{sort:"sibling"}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.regionApi+"/DOCUMENT_TYPE/dictitems",i).then(function(t){t.data&&t.data.data?e(t.data.data):e(null)}).catch(function(){t(null)})})},loadDossierFiles:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){var n={headers:{groupId:i.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(i.initData.dossierApi+"/"+t+"/files",n).then(function(t){o("setDossierFiles",t.data.data),t.data.data?e(t.data.data):e([])}).catch(function(t){console.log(t),e([])})})},getPaymentFiles:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){var n={headers:{groupId:i.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(i.initData.dossierApi+"/"+t.dossierId+"/payments/"+t.referenceUid+"/confirmfile",n).then(function(t){200===t.status||"200"===t.status?e("hasPayment"):e(""),t.headers["content-disposition"]?o("setPaymentFileName",t.headers["content-disposition"].split(";")[1].split("=")[1].replace(/\"/g,"")):o("setPaymentFileName","payment_file")}).catch(function(e){console.log(e),a(e)})})},putPayments:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}},n=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_19___default.a.put(o.initData.dossierApi+"/keypay/"+t.referenceUid+"/"+t.referenceUid,n,a).then(function(t){store.dispatch("getActiveGetCounter",!o.activeGetCounter),t.data?e(t.data):e([])}).catch(function(e){console.log(e),i(e)})})},viewFile:function(e,t){e.commit;var o=e.state;e.dispatch;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t.dossierId+"/files/"+t.referenceUid,a).then(function(t){var o=window.URL.createObjectURL(t.data);e(o)}).catch(function(e){console.log(e)})})},viewPaymentFile:function(e,t){e.commit;var o=e.state;e.dispatch;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t.dossierId+"/payments/"+t.referenceUid+"/confirmfile",a).then(function(t){var o=window.URL.createObjectURL(t.data);e(o)}).catch(function(e){console.log(e)})})},viewDocument:function(e,t){e.commit;var o=e.state;e.dispatch;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t.dossierId+"/documents/"+t.referenceUid,a).then(function(t){var o=window.URL.createObjectURL(t.data);e(o)}).catch(function(e){console.log(e)})})},downloadFileDocument:function(e,t){e.commit;var o=e.state;e.dispatch;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t.dossierId+"/documents/"+t.referenceUid,a).then(function(t){var o=window.URL.createObjectURL(t.data),i=decodeURI(t.headers["content-disposition"].match(/filename="(.*)"/)[1].split(".")[1]),a=decodeURI(t.headers["content-disposition"].match(/filename="(.*)"/)[1]);if("pdf,png,jpg,jpeg".indexOf(i.toLowerCase())>=0)e(o);else{var n=t.data;file_saver__WEBPACK_IMPORTED_MODULE_22___default()(n,a)}}).catch(function(e){console.log(e)})})},postDossier:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){o("setLoading",!0);var n={headers:{groupId:i.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},s=new URLSearchParams;s.append("serviceCode",t.serviceCode),s.append("govAgencyCode",t.govAgencyCode),s.append("dossierTemplateNo",t.templateNo),s.append("originality",t.originality),t.j_captcha_response&&s.append("j_captcha_response",t.j_captcha_response),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(i.initData.postDossierApi,s,n).then(function(a){a.data.serviceConfig=i.serviceConfigObj,o("setLoading",!1),o("setDossier",a.data),o("setThongTinChuHoSo",a.data),o("setLePhi",a.data),o("setThongTinChungHoSo",a.data),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),t.j_captcha_response?e(a):e(a.data)}).catch(function(e){a(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),o("setLoading",!1)})})},postDossierIntoGroup:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){o("setLoading",!0);var n={headers:{groupId:i.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},s=new URLSearchParams;s.append("dossierId",t.dossierId),axios__WEBPACK_IMPORTED_MODULE_19___default.a.put("/o/rest/v2/dossiers/"+t.groupDossierId+"/groupDossier",s,n).then(function(t){o("setLoading",!1),e(t.data)}).catch(function(e){o("setLoading",!1),a(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại")})})},postDossierNewVersion:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){o("setLoading",!0);var n={headers:{groupId:i.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},s=new URLSearchParams;s.append("serviceCode",t.serviceCode),s.append("govAgencyCode",t.govAgencyCode),s.append("dossierTemplateNo",t.templateNo),s.append("originality",t.originality),s.append("dossiers",t.dossiers),s.append("dossierFileArr",t.dossierFileArr),s.append("dossierMarkArr",t.dossierMarkArr),s.append("payment",t.payment),t.j_captcha_response&&s.append("j_captcha_response",t.j_captcha_response),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post("/o/rest/v2/dossiers/create/all",s,n).then(function(a){a.data.serviceConfig=i.serviceConfigObj,o("setLoading",!1),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),t.j_captcha_response?e(a):e(a.data)}).catch(function(e){a(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),o("setLoading",!1)})})},getDossiersIntoGroup:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId},params:{groupDossierId:t.groupDossierId?t.groupDossierId:""}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get("/o/rest/v2/dossiers",a).then(function(t){t.data&&t.data["data"]&&e(t.data["data"])}).catch(function(e){console.log(e),i(e)})})},doCopy:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){o("setLoading",!0);var n={headers:{groupId:i.initData.groupId,Accept:"application/json"}},s=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(i.initData.postDossierApi+"/"+t.dossierId+"/cloning",s,n).then(function(t){toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),e(t.data)}).catch(function(e){a(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),o("setLoading",!1)})})},doCancel:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){o("setLoading",!0);var n={headers:{groupId:i.initData.groupId,Accept:"application/json"}},s=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(i.initData.postDossierApi+"/"+t.dossierId+"/cancel",s,n).then(function(t){toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),e(t.data)}).catch(function(e){a(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),o("setLoading",!1)})})},putDossier:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){o("setLoading",!1);var n={headers:{groupId:i.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},s="";s=t.userType?"citizen":"business";var r=!1;null!==t["sameUser"]&&void 0!==t["sameUser"]&&"undefined"!==t["sameUser"]&&(r=t["sameUser"]);var c=new URLSearchParams;c.append("applicantName",t.applicantName?t.applicantName:""),c.append("dossierNo",t.dossierNo?t.dossierNo:""),c.append("applicantIdType",s),c.append("applicantIdNo",t.applicantIdNo?t.applicantIdNo:""),c.append("address",t.address?t.address:""),c.append("cityCode",t.cityCode?t.cityCode:""),c.append("districtCode",t.districtCode?t.districtCode:""),c.append("wardCode",t.wardCode?t.wardCode:""),c.append("contactTelNo",t.contactTelNo?t.contactTelNo:""),c.append("contactEmail",t.contactEmail?t.contactEmail:""),c.append("delegateName",t.delegateName?t.delegateName:""),c.append("delegateIdNo",t.delegateIdNo?t.delegateIdNo:""),c.append("delegateTelNo",t.delegateTelNo?t.delegateTelNo:""),c.append("delegateEmail",t.delegateEmail?t.delegateEmail:""),c.append("delegateAddress",t.delegateAddress?t.delegateAddress:""),c.append("delegateCityCode",t.delegateCityCode?t.delegateCityCode:""),c.append("delegateDistrictCode",t.delegateDistrictCode?t.delegateDistrictCode:""),c.append("delegateWardCode",t.delegateWardCode?t.delegateWardCode:""),c.append("applicantNote",i.applicantNote),1!==t.originality&&c.append("dossierName",t.dossierName?t.dossierName:""),c.append("isSameAsApplicant",r),t.editable&&c.append("dueDate",t.dueDate?t.dueDate:""),t.viaPostal&&(c.append("viaPostal",t.viaPostal),c.append("postalServiceCode",t.postalServiceCode?t.postalServiceCode:""),c.append("postalAddress",t.postalAddress?t.postalAddress:""),c.append("postalCityCode",t.postalCityCode?t.postalCityCode:""),c.append("postalTelNo",t.postalTelNo?t.postalTelNo:"")),c.append("sampleCount",t.sampleCount?t.sampleCount:0),axios__WEBPACK_IMPORTED_MODULE_19___default.a.put(i.initData.postDossierApi+"/"+t.dossierId,c,n).then(function(t){e(t.data),o("setLoading",!1),o("setDossier",t.data),o("setThongTinChuHoSo",t.data),o("setThongTinChungHoSo",t.data),o("setLePhi",t.data),o("setDichVuChuyenPhatKetQua",t.data)}).catch(function(e){a(e)})})},importDossier:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){o("setLoading",!1);var n={headers:{groupId:i.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},s=new URLSearchParams;s.append("serviceCode",t["serviceCode"]),s.append("govAgencyCode",t["govAgencyCode"]),s.append("dossierTemplateNo",t["dossierTemplateNo"]),s.append("originality",t["originality"]),s.append("dossiers",t["dossiers"]),s.append("dossierFileArr",t["dossierFiles"]),s.append("dossierMarkArr",t["dossierMarks"]),s.append("payment",t["payment"]),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(i.initData.postDossierApi+"/import/all",s,n).then(function(t){e(t.data)}).catch(function(e){a(e)})})},updateApplicantNote:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},n=new URLSearchParams;n.append("applicantNote",o.applicantNote),axios__WEBPACK_IMPORTED_MODULE_19___default.a.put(o.initData.postDossierApi+"/"+t.dossierId,n,a).then(function(t){e(t.data)}).catch(function(e){i(e)})})},getApplicantInfos:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.endPointApi+"/applicants/ngsp/"+t.applicantIdNo,a).then(function(t){t.data&&t.data["Data"]&&e(t.data["Data"])}).catch(function(e){console.log(e),i(e)})})},checkApplicantInfos:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId?o.initData.groupId:"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},n=o.endPointApi+"/applicants/ngsp/verify",s=new URLSearchParams;s.append("applicantIdNo",t.applicantIdNo?t.applicantIdNo:""),s.append("applicantName",t.applicantName?t.applicantName:""),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(n,s,a).then(function(t){e(t.data)}).catch(function(e){i(e)})})},getDossierFilesApplicants:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t.dossierId+"/applicant/"+t.applicantIdNo+"/files/"+t.fileTemplateNo+"/search",a).then(function(t){t.data.data?e(t.data.data):e([])}).catch(function(e){console.log(e),i(e)})})},putDuedateDossier:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){o("setLoading",!1);var n={headers:{groupId:i.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},s=new URLSearchParams;s.append("dueDate",t),axios__WEBPACK_IMPORTED_MODULE_19___default.a.put(i.initData.postDossierApi+"/"+i.thongTinChungHoSo.dossierId,s,n).then(function(t){e(t.data)}).catch(function(e){a(e)})})},submitDossier:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){var i={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+o.thongTinChungHoSo.dossierId+"/submitting",i).then(function(t){e(t.data)}).catch(function(e){t(e),console.log(e)})})},postDossierMark:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},n=new URLSearchParams;1===t["checkInput"]?(void 0!==t.fileCheck&&"undefined"!==t.fileCheck&&null!==t.fileCheck&&n.append("fileCheck",t.fileCheck),void 0!==t.fileComment&&"undefined"!==t.fileComment&&null!==t.fileComment&&n.append("fileComment",t.fileComment)):void 0!==t.fileMark&&"undefined"!==t.fileMark&&n.append("fileMark",t.fileMark),isNaN(t.recordCount)||void 0===t.recordCount||"undefined"===t.recordCount||null===t.recordCount||n.append("recordCount",t.recordCount);var s=o.initData.dossierApi+"/"+t.dossierId+"/marks/"+t.partNo;axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(s,n,a).then(function(t){e(t.data)}).catch(function(e){i(e)})})},postAction:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){o("setLoading",!0);var n={headers:{groupId:i.initData.groupId}},s=new URLSearchParams;s.append("actionCode",t.actionCode?t.actionCode:""),s.append("actionNote",t.actionNote?t.actionNote:""),s.append("actionUser",t.actionUser?t.actionUser:""),s.append("payload",t.payload?d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(t.payload):""),s.append("security",t.security?t.security:""),s.append("assignUsers",t.assignUsers?d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(t.assignUsers):""),s.append("payment",t.payment?d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(t.payment):""),s.append("createDossiers",t.createDossiers?t.createDossiers:"");var r=i.initData.dossierApi+"/"+t.dossierId+"/actions";axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(r,s,n).then(function(t){e(t.data),o("setLoading",!1),store.dispatch("getActiveGetCounter",!i.activeGetCounter)}).catch(function(e){a(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),store.commit("setLoading",!1)})})},getUserInfoFromApplicantIdNo:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId},params:{start:0,end:5,idNo:t.idNo}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.applicantApi,n).then(function(t){e(t.data.data)}).catch(function(e){console.log(e),i(e)})})})},loadAlpcaForm:function loadAlpcaForm(_ref57,data){var commit=_ref57.commit,state=_ref57.state,dispatch=_ref57.dispatch,id=data["id"]?data["id"]:"nm",formScript,formData;window.$('div[id="formAlpaca'+data.dossierPartNo+id+'"]').empty(),formScript=data.formScript?eval("("+data.formScript+")"):{},formData=data.formData?eval("("+data.formData+")"):{},formScript.data=formData,window.$('div[id="formAlpaca'+data.dossierPartNo+id+'"]').alpaca(formScript)},putAlpacaForm:function(e,t){e.commit;var o=e.state;e.dispatch;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId,cps_auth:""}},n=t["id"]?t["id"]:"nm";try{var s=window.$('div[id="formAlpaca'+t.dossierPartNo+n+'"]').alpaca("get"),r=s.getValue(),c=window.$('div[id="formAlpaca'+t.dossierPartNo+n+'"]').alpaca("get").childrenByPropertyId;if(c)for(var l in c)if(c[l].isRequired()&&""===c[l].getValue())return toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),void toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error(c[l].options.title?c[l].options.title+" là trường dữ liệu bắt buộc":c[l].options["name"]+" là trường dữ liệu bắt buộc");var d=new URLSearchParams;d.append("formdata",d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(r));var _=o.initData.dossierApi+"/"+t.dossierId+"/files/"+t.referenceUid+"/formdata";axios__WEBPACK_IMPORTED_MODULE_19___default.a.put(_,d,a).then(function(t){e(t.data)}).catch(function(e){i(t)})}catch(u){console.log(u),i(t)}})},rollBack:function(e,t){var o=e.state;e.commit;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}};try{var n=new URLSearchParams,s=o.initData.dossierApi+"/"+t.dossierId+"/rollback";axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(s,n,a).then(function(t){e(t.data),store.dispatch("getActiveGetCounter",!o.activeGetCounter)}).catch(function(e){i(t)})}catch(r){console.log(r),i(t)}})},goToStep:function(e,t){var o=e.state;e.commit;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}};try{var n=new URLSearchParams,s=o.initData.dossierApi+"/"+t.dossierId+"/goto/"+t.stepCode;axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(s,n,a).then(function(t){e(t.data),store.dispatch("getActiveGetCounter",!o.activeGetCounter)}).catch(function(e){i(t)})}catch(r){console.log(r),i(t)}})},postEform:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId,"Content-Type":"multipart/form-data"}};try{var n=t["id"]?t["id"]:"nm",s=new FormData,r=window.$('div[id="formAlpaca'+t.partNo+n+'"]').alpaca("get"),c=r.getValue();s.append("formData",d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(c)),s.append("file","");var l=window.$('div[id="formAlpaca'+t.partNo+n+'"]').alpaca("get").childrenByPropertyId;if(l)for(var d in l)if(l[d].isRequired()&&""===l[d].getValue())return toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),void toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error(l[d].options.title?l[d].options.title+" là trường dữ liệu bắt buộc":l[d].options["name"]+" là trường dữ liệu bắt buộc");var _=o.initData.dossierApi+"/"+t.dossierId+"/eforms/"+t.partNo;axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(_,s,a).then(function(t){e(t.data)}).catch(function(e){i(t)})}catch(u){console.log(u),i(t)}})},postEformEsignature:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId,"Content-Type":"multipart/form-data"}};try{var n=new FormData;n.append("formData",d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(JSON.parse(t.formData))),n.append("file","");var s=o.initData.dossierApi+"/"+t.dossierId+"/eforms/"+t.partNo;axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(s,n,a).then(function(t){e(t.data)}).catch(function(e){i(t)})}catch(r){console.log(r),i(t)}})},postVNPOST:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){o("setLoading",!0);var n={headers:{groupId:i.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},s=new URLSearchParams;s.append("customerCode","ccth"),s.append("orderNumber",i.thongTinChungHoSo.dossierId),s.append("senderProvince",t.senderProvince),s.append("senderAddress",t.senderAddress),s.append("senderName",t.senderName),s.append("senderTel",t.senderTel),s.append("receiverName",t.receiverName),s.append("receiverAddress",t.receiverAddress),s.append("receiverTel",t.receiverTel),s.append("receiverProvince",t.receiverProvince);var r="/o/rest/v2/postal/vnpost";axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(r,s,n).then(function(t){e(t.data),o("setLoading",!1)}).catch(function(e){a(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),o("setLoading",!1)})})},getDossierTemplateEdit:function(e){e.commit;var t=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,o){var i=t.dossierTemplates,a=[];try{0===t.dossierFiles.length?dispatch("loadDossierFiles").then(function(t){t.forEach(function(e){i.forEach(function(t){e.dossierPartNo===t.partNo&&a.push({partName:t.partName,partNo:t.partNo,displayName:e.displayName,dossierFileId:e.dossierFileId,partType:t.partType,hasForm:t.hasForm,fileType:e.fileType,referenceUid:e.referenceUid})})}),e(a)}).catch(function(t){console.log(t),e([])}):t.dossierFiles.forEach(function(e){i.forEach(function(t){e.dossierPartNo===t.partNo&&a.push({partName:t.partName,partNo:t.partNo,displayName:e.displayName,dossierFileId:e.dossierFileId,partType:t.partType,hasForm:t.hasForm,fileType:e.fileType,referenceUid:e.referenceUid})})}),e(a),console.log(a)}catch(n){console.log(n),o([])}})},loadPlugin:function loadPlugin(_ref65,item){var commit=_ref65.commit,state=_ref65.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(resolve,reject){item.plugin=!0;var urlPluginFormData=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/formdata",urlPluginFormScript=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/formscript",config_plugins={headers:{groupId:state.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text"};axios__WEBPACK_IMPORTED_MODULE_19___default.a.all([axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(urlPluginFormScript,config_plugins),axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(urlPluginFormData,config_plugins)]).then(axios__WEBPACK_IMPORTED_MODULE_19___default.a.spread(function(urlResponesFormScript,urlResponesFormData){var responseScript=urlResponesFormScript.data,responseData=urlResponesFormData.data;if(item.plugin=!0,-1!==responseScript.indexOf("#preview@pdf")){var url=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/preview",config_blob={headers:{groupId:state.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(url,config_blob).then(function(e){var t=window.URL.createObjectURL(e.data);item.pdf=!0,item.url=t,item.no_pdf="",resolve(item)}).catch(function(e){console.log(e),item.pdf=!0,item.url="",item.no_pdf="Tài liệu đính kèm không tồn tại!",resolve(item)})}if(-1!==responseScript.indexOf("#preview@html")){console.log("view html");var config_view={headers:{groupId:state.initData.groupId},dataType:"json"};item.html=!0,item.no_html="";var _url=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/previewhtml";axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(_url,config_view).then(function(response){item.no_html="",vm.stepModel=item;var serializable=response.data,partNo=serializable.partNo,dossierFileId=serializable.dossierFileId,formReport=eval("("+serializable.formReport+")"),formData=eval("("+serializable.formData+")");formReport.data=formData,window.$("#alpacajs_form_plugin").alpaca(formReport),window.$(".dossierFilePartNo").val(""),window.$(".dossierFilePartNo").attr("id","dossierFileId"+partNo),window.$(".dossierFilePartNo").val(dossierFileId)}).catch(function(e){console.log(e),item.html=!0,item.no_html="Tài liệu đính kèm không tồn tại!",resolve(item)})}})).catch(function(e){console.log(e),reject(e)})})},getActiveGetCounter:function(e,t){var o=e.commit;e.state;o("setActiveGetCounter",t)},getActiveLoadingDataHoSo:function(e,t){var o=e.commit;e.state;o("setActiveLoadingDataHoSo",t)},setDefaultCityCode:function(e,t){e.commit;var o=e.state;o.thongTinChuHoSo.cityCode=t},getListHistoryProcessingItems:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}},s=[];axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierlogsApi+"/"+t.dossierId+"/logs",n).then(function(t){var o=t.data;for(var i in o.data)"PROCESS_TYPE"===o.data[i].notificationType&&s.push(o.data[i]);e(s)}).catch(function(e){i(e)})})})},loadDossierLogs:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId},params:{notificationType:t.type}},n=o.initData.dossierApi+"/"+t.dossierId+"/logs";axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(n,a).then(function(t){e(t.data.data)}).catch(function(e){i(e)})})},loadPlugins:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}},n=o.initData.dossierApi+"/"+t.dossierId+"/plugins";axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(n,a).then(function(t){e(t.data.data)}).catch(function(e){i(e)})})},downloadFile:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t.dossierId+"/files/"+t.fileAttachId,a).then(function(t){var o=window.URL.createObjectURL(t.data),i=decodeURI(t.headers["content-disposition"].match(/filename="(.*)"/)[1].split(".")[1]),a=decodeURI(t.headers["content-disposition"].match(/filename="(.*)"/)[1]);if("pdf,png,jpg,jpeg".indexOf(i.toLowerCase())>=0)e(o);else{var n=t.data;file_saver__WEBPACK_IMPORTED_MODULE_22___default()(n,a)}}).catch(function(e){i(e)})})},getCpsAuthen:function(e){e.commit;var t=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,o){var i={headers:{groupId:t.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get("http://127.0.0.1:8080/api/onegate/token",i).then(function(t){e(t.data)}).catch(function(e){o(e)})})},loadUsersComment:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a=[],n={headers:{groupId:o.initData.groupId},params:{userMapping:!0}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t+"/contacts",n).then(function(t){if(null!=t&&t.hasOwnProperty("data")){var o=t.data;jquery__WEBPACK_IMPORTED_MODULE_21___default.a.each(o,function(e,t){var o={};o.id=t.userId,o.fullname=t.userName,o.email=t.email,o.profilePictureURL=t.profileUrl,a.push(o)})}else a=[];e(a)}).catch(function(e){a=[],i(a)})})},loadCommentItems:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.commentApi+"/"+t.className+"/"+t.classPK,a).then(function(t){e(t.data.data)}).catch(function(e){i(e)})})},postComment:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}},n=t.pings.join(),s=new URLSearchParams;s.append("className",t.className),s.append("classPK",t.classPK),s.append("parent",null!=t.parent?t.parent:0),s.append("pings",n),s.append("content",t.content),s.append("upvoteCount",null!=t.upvoteCount?t.upvoteCount:0),s.append("opinion",t.opinion),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(o.initData.commentApi,s,a).then(function(t){var o={};null!=t&&(o=t.data,console.log("resPostCmt",o)),e(o)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),console.log(e)})})},putComment:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}},n=t.pings.join(),s=new URLSearchParams;s.append("pings",n),s.append("content",t.content),axios__WEBPACK_IMPORTED_MODULE_19___default.a.put(o.initData.commentApi+"/"+t.commentId,s,a).then(function(t){var o={};null!=t&&(o=t.data),e(o)}).catch(function(e){console.log(e)})})},deleteComment:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.delete(o.initData.commentApi+"/"+t.commentId,a).then(function(t){e(t)}).catch(function(e){i(e)})})},upvoteComment:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}};if(t.userHasUpvoted){var n=new URLSearchParams;n.append("className",t.className),n.append("classPK",t.classPK),n.append("commentId",t.commentId),n.append("upvoteCount",null!=t.upvoteCount?t.upvoteCount:0),axios__WEBPACK_IMPORTED_MODULE_19___default.a.put(o.initData.commentApi+"/"+t.commentId+"/upvotes",n,a).then(function(t){var o={};null!=t&&(o=t.data),e(o)}).catch(function(e){console.log(e)})}else axios__WEBPACK_IMPORTED_MODULE_19___default.a.delete(o.initData.commentApi+"/"+t.commentId+"/upvotes",a).then(function(t){var o={};null!=t&&(o=t.data),e(o)}).catch(function(e){console.log(e)})})},loadProcessStep:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}},s=o.initData.dossierApi+"/"+t.dossierId+"/nextactions",r=o.initData.dossierApi+"/"+t.dossierId+"/plugins";axios__WEBPACK_IMPORTED_MODULE_19___default.a.all([axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(s,n),axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(r,n)]).then(axios__WEBPACK_IMPORTED_MODULE_19___default.a.spread(function(t,o){var i=t.data.data,a=o.data.data,n=[],s=[];if(i)for(var r=0;r<i.length;r++){if(i[r].type=1,i[r].configNote){var c=JSON.parse(i[r].configNote);i[r].configNote=c}s.push(i[r])}else i=[],s=[];if(a)for(var l=0;l<a.length;l++){var d={type:2,processActionId:a[l].processPluginId,actionName:a[l].pluginName};n.push(d)}var _=s,u=n;_.push.apply(_,u),e(_)})).catch(function(e){i(e)})})})},pullNextactions:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){store.dispatch("loadInitResource").then(function(n){console.log("result",n);var s={headers:{groupId:i.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(i.initData.getNextAction+"/"+t.dossierId+"/nextactions",s).then(function(t){var i=t.data;o("setUserNextAction",[]),o("setCheckInput",i["checkInput"]),o("setStepOverdueNextAction",i["stepOverdue"]),i["users"]&&(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(i["users"])?o("setUserNextAction",i["users"]):o("setUserNextAction",[i["users"]])),e(i.data)}).catch(function(e){console.log(e),a(e),o("setUserNextAction",[])})})})},pullBtnConfigStep:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}};new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.stepConfigApi+"/status/"+t.dossierStatus+"/"+t.dossierSubStatus,a).then(function(t){var o,i=t.data.data;o=i[0].buttonConfig&&i[0].buttonConfig.indexOf("{")>=0&&JSON.parse(i[0].buttonConfig)["buttons"]?JSON.parse(i[0].buttonConfig)["buttons"]:[],e(o)}).catch(function(e){console.log(e),i(e)})})},loadDossierDocuments:function(e,t){e.commit;var o=e.state,i={headers:{groupId:o.initData.groupId},params:{}},a=o.initData.documentApi+"/"+t.dossierId+"/documents";return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(a,i).then(function(t){t.data.data?e(t.data.data):e([])}).catch(function(e){t(e)})})},loadDossierPayments:function(e,t){e.commit;var o=e.state,i={headers:{groupId:o.initData.groupId},params:{}},a=o.initData.dossierApi+"/"+t.dossierId+"/payment";return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(a,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},postDossierPayments:function(e,t){e.commit;var o=e.state,i={headers:{groupId:o.initData.groupId}},a=new URLSearchParams;a.append("paymentFee",t.paymentFee),a.append("paymentNote",t.paymentNote);var n=o.initData.dossierApi+"/"+t.dossierId+"/payment";return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(n,a,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},loadDossierActions:function(e,t){e.commit;var o=e.state,i={headers:{groupId:o.initData.groupId},params:{stepType:t.stepType}},a=o.initData.dossierApi+"/"+t.dossierId+"/sequences";return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(a,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},loadMermaidgraph:function(e,t){e.commit;var o=e.state,i={headers:{groupId:o.initData.groupId},params:{stepType:t.stepType}},a=o.initData.dossierApi+"/"+t.dossierId+"/mermaidgraph";return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(a,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},loadDossierLienThong:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId},params:{originDossierId:t}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi,n).then(function(t){var o=t.data;o.data?e(o.data):e([])}).catch(function(e){i(e)})})})},getDossierUserAsign:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t+"/users",n).then(function(t){var o=t.data;o["data"]?d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_9___default()(o["data"])?e(o.data):e([o["data"]]):e([])}).catch(function(e){i(e)})})})},postDossierUserAsign:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}},s=new URLSearchParams;s.append("assignUsers",t.users?d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(t.users):""),s.append("delegacy",t.delegacy),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(o.initData.dossierApi+"/"+t.dossierId+"/users",s,n).then(function(t){e(t)}).catch(function(e){i(e)})})})},loadDossierSyncs:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}},n=o.endPointApi+"/dossiers/"+t.dossierId+"/syncs";axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(n,a).then(function(t){e(t.data.data)}).catch(function(e){i(e)})})},processDossierRouter:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},s=new URLSearchParams;s.append("actionCode",t.actionCode?t.actionCode:""),s.append("payment",t.payment?d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(t.payment):""),s.append("assignUsers",t.toUsers?d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(t.toUsers):""),s.append("actionNote",t.userNote?d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(t.userNote):""),s.append("payload",t.payload?d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(t.payload):""),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(o.initData.getNextAction+"/"+t.dossierId+"/actions",s,n).then(function(t){store.dispatch("getActiveGetCounter",!o.activeGetCounter);var i=t.data;e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},deleteDossier:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId,Accept:"application/json"}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.delete(o.initData.getNextAction+"/"+t.dossierId,n).then(function(t){var i=t.data;store.dispatch("getActiveGetCounter",!o.activeGetCounter),e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},restoreDossier:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId,Accept:"application/json"}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.post("/o/rest/v2/dossiers/"+t.dossierId+"/restore",n).then(function(t){var o=t.data;e(o)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},getListDossierFiles:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t+"/files",a).then(function(t){t.data.data?e(t.data.data):e([])}).catch(function(e){console.log(e),i(e)})})},deleteDossierPatch:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId,Accept:"application/json"}},s=0,r=t["dossierId"].length;for(var c in t.dossierId)axios__WEBPACK_IMPORTED_MODULE_19___default.a.delete(o.initData.getNextAction+"/"+t.dossierId[c],n).then(function(t){var i=t.data;s+=1,s===r&&(store.dispatch("getActiveGetCounter",!o.activeGetCounter),store.dispatch("getActiveLoadingDataHoSo",!o.activeLoadingDataHoSo)),e(i)}).catch(function(e){console.log(e),s+=1,s===r&&(store.dispatch("getActiveGetCounter",!o.activeGetCounter),store.dispatch("getActiveLoadingDataHoSo",!o.activeLoadingDataHoSo)),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},doPrint01:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId},responseType:"blob",params:{payload:t.payload}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.getNextAction+"/"+t.dossierId+"/documents/preview/"+t.document,n).then(function(t){var o=t.data,i=window.URL.createObjectURL(o);e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},doPrint03:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId},responseType:"blob",params:{payload:t.payload}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.getNextAction+"/"+t.dossierId+"/documents/print",n).then(function(t){var o=t.data,i=window.URL.createObjectURL(o);e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},doGuiding:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={serviceCode:t.serviceCode?t.serviceCode:"",serviceName:t.serviceName?t.serviceName:"",typeCode:t.typeCode?t.typeCode:"",templateNo:t.templateNo?t.templateNo:"",applicantName:t.applicantName?t.applicantName:"",applicantAddress:t.applicantAddress?t.applicantAddress:"",applicantEmail:t.applicantEmail?t.applicantEmail:"",applicantTelNo:t.applicantTelNo?t.applicantTelNo:"",govAgencyCode:t.govAgencyCode?t.govAgencyCode:"",govAgencyName:t.govAgencyName?t.govAgencyName:"",applicantNote:t.applicantNote?t.applicantNote:"",type:t.type?t.type:"",applicantIdType:t.applicantType?t.applicantType:""};"denied"!==t.type&&(n["partNo"]=t.partNo?t.partNo:""),t.reportType&&(n["reportType"]=t.reportType);var s={headers:{groupId:o.initData.groupId},responseType:"blob",params:n};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.getServiceConfigs+"/"+t.serviceConfigId+"/guide",s).then(function(o){var i=o.data;t.reportType&&file_saver__WEBPACK_IMPORTED_MODULE_22___default()(i,"denied"===t.type?"tuchoitiepnhan":"huongdanthutuc"+(new Date).getTime()+".doc");var a=window.URL.createObjectURL(i);e(a)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},doPrint02:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId},responseType:"blob"},s=new URLSearchParams;s.append("serviceCode",t.serviceCode),s.append("govAgencyCode",t.govAgencyCode),s.append("dossiers",t.dossiers),s.append("payload",t.payload),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post(o.initData.getNextAction+"/preview/"+t.document,s,n).then(function(t){var o=t.data,i=window.URL.createObjectURL(o);e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},printPay:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.getNextAction+"/"+t.dossierId+"/payments/"+t.referenceUid+"/invoicefile/preview",n).then(function(t){var o=t.data,i=window.URL.createObjectURL(o);e(i)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},processPullBtnDetail:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.getNextAction+"/"+t.dossierId+"/nextactions/"+t.actionId,n).then(function(t){var o=t.data;e(o)}).catch(function(e){console.log(e),i(e)})})})},getNextAction:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t.dossierId+"/nextactions/"+t.actionId,n).then(function(t){var o=t.data;e(o)}).catch(function(t){console.log(t),e([]),i(t)})})})},loadFormScript:function(e,t){var o=e.state;e.commit;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){jquery__WEBPACK_IMPORTED_MODULE_21___default.a.ajax({url:o.initData.dossierTemplatesApi+"/"+t.templateFileNo+"/parts/"+t.partNo+"/formscript",type:"GET",headers:{groupId:o.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text",success:function(t){var o=t;e(o)},error:function(t){console.log(t),e(t),i(t)}})})})},loadFormData:function(e,t){var o=e.state;e.commit;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){jquery__WEBPACK_IMPORTED_MODULE_21___default.a.ajax({url:o.initData.dossierApi+"/"+t.dossierId+"/eforms/"+t.partNo+"/formdata",type:"GET",headers:{groupId:o.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text",success:function(t){var o=t;e(o)},error:function(t){console.log(t),e(t),i(t)}})})})},loadDossierCounting:function(e,t){var o=e.state,i=(e.commit,{headers:{groupId:o.initData.groupId}}),a="/o/rest/v2/statistics/dossiers/counting";return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(a,i).then(function(t){e(t.data)}).catch(function(e){t(e)})})},reassignDossier:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}},s=new URLSearchParams;s.append("toUsers",d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(t.toUsers)),axios__WEBPACK_IMPORTED_MODULE_19___default.a.put(o.initData.dossierApi+"/"+t.dossierId+"/reassign",s,n).then(function(t){var o=t.data;e(o)}).catch(function(e){console.log(e),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Yêu cầu của bạn thực hiện thất bại."),i(e)})})})},pullProcessSteps:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.stepConfigApi+"/"+t.stepCode,n).then(function(t){var o=t.data;e(o)}).catch(function(e){console.log(e),i(e)})})})},loadServiceConfigsGov:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:i.initData.groupId},params:{}};o("setLoadingGov",!0),axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(i.initData.serviceConfigByGovApi,n).then(function(t){o("setLoadingGov",!1);var i=t.data;i.govAgencies?e(i.govAgencies):e([])}).catch(function(e){console.log(e),o("setLoadingGov",!1),t(e)})})})},processCheckNextActions:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}},s=t.actionCode.split(",");axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t.dossierId+"/nextactions",n).then(function(o){var i=o.data,a=i.data,n=t,r=!1;for(var c in s)if(!r)for(var l in a)if(String(s[c])===String(a[l].actionCode)){n.actionCode=a[l].actionCode,r=!0;break}e(n)}).catch(function(e){console.log(e),i(e)})})})},getServiceOpionByProcess:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.getServiceConfigs+"/"+t.serviceConfigId+"/processes",n).then(function(t){var o=t.data;o.data?e(o.data):e({})}).catch(function(e){console.log(e),i(e)})})})},getStatusLists:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){store.dispatch("loadInitResource").then(function(i){var a={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.endPointApi+"/dictcollections/DOSSIER_STATUS/dictitems?parent=0",a).then(function(t){var o=t.data;if(o.data){var i=o.data;null!==i&&void 0!==i&&"undefined"!==i&&i.unshift({itemCode:"",itemName:"toàn bộ"}),e(i)}else e([])}).catch(function(e){console.log(e),t(e)})})})},getVNPOSTcode:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){store.dispatch("loadInitResource").then(function(i){var a={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get("/o/rest/v2/dictcollections/VNPOST_CITY_CODE/dictitems",a).then(function(t){var o=t.data;if(o.data){var i=o.data;e(i)}else e([])}).catch(function(e){console.log(e),t(e)})})})},getSubstatusLists:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get("/o/rest/v2/dictcollections/DOSSIER_STATUS/dictitems?parent="+t.itemCode,n).then(function(t){var o=t.data;if(o.data){var i=o.data;null!==i&&void 0!==i&&"undefined"!==i&&i.unshift({itemCode:"",itemName:"toàn bộ"}),e(i)}else e([])}).catch(function(e){console.log(e),i(e)})})})},getAgencyLists:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){store.dispatch("loadInitResource").then(function(i){var a={headers:{groupId:o.initData.groupId},params:{sort:"siblingSearch"}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get("/o/rest/v2/serviceinfos/statistics/agencies",a).then(function(t){var o=t.data;if(o.data){var i=o.data;null!==i&&void 0!==i&&"undefined"!==i&&i.unshift({administrationCode:"",administrationName:"toàn bộ"}),e(i)}else e([])}).catch(function(e){console.log(e),t(e)})})})},getServiceLists:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){store.dispatch("loadInitResource").then(function(i){var a={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.endPointApi+"/serviceinfos",a).then(function(t){var o=t.data;if(o.data){var i=o.data;null!==i&&void 0!==i&&"undefined"!==i&&i.unshift({serviceCode:"",serviceName:"toàn bộ"}),e(i)}else e([])}).catch(function(e){console.log(e),t(e)})})})},getServiceinfoFilter:function(e,t){var o=e.commit,i=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,a){store.dispatch("loadInitResource").then(function(n){var s={headers:{groupId:i.initData.groupId},params:{domain:t.domain}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(i.initData.getListThuTucHanhChinh,s).then(function(t){var i=t.data,a=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_from__WEBPACK_IMPORTED_MODULE_8___default()(i.data);o("setListThuTucHanhChinh",a),e(a)}).catch(function(e){console.log(e),a(e)})})})},getDomainLists:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){store.dispatch("loadInitResource").then(function(i){var a={headers:{groupId:o.initData.groupId},params:{sort:"siblingSearch"}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.endPointApi+"/serviceinfos/statistics/domains",a).then(function(t){var o=t.data;if(o.data){var i=o.data;e(i)}else e([])}).catch(function(e){console.log(e),t(e)})})})},getExtraForm:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierApi+"/"+t.dossierId+"/nextactions/"+t.actionId+"/payload",n).then(function(t){var o=t.data;o.data?e(o.data):e([])}).catch(function(e){console.log(e),i(e)})})})},getServiceInfo:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.serviceInfoApi+"/"+t.serviceInfoId,n).then(function(t){var o=t.data;e(o)}).catch(function(e){console.log(e),i(e)})})})},changeDisplayNameFile:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}},s=new URLSearchParams;s.append("displayName",t.displayName),axios__WEBPACK_IMPORTED_MODULE_19___default.a.put(o.initData.serviceInfoApi+"/"+t.dossierId+"/files/"+t.dossierFileId,s,n).then(function(t){var o=t.data;e(o)}).catch(function(e){console.log(e),i(e)})})})},loadingDossierCounting:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){store.dispatch("loadInitResource").then(function(i){var a={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.endPointApi+"/statistics/dossiers/counting",a).then(function(t){var o=t.data;o.hasOwnProperty("data")?e(o.data):e(null)}).catch(function(e){console.log(e),t(e)})})})},loadVoting:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get("/o/rest/v2/postal/votings/"+t.className+"/"+t.classPk,n).then(function(t){var o=t.data;o&&o.data?e(o.data):e([])}).catch(function(e){i(e)})})})},loadVotingMC:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadDetailDossierMC",t["dossierDetail"]).then(function(a){var n={headers:{groupId:o.initData.groupId}},s=new URLSearchParams;s.append("method","GET"),s.append("url","/postal/votings/"+t.className+"/"+a["dossierId"]),s.append("data",""),s.append("serverCode","SERVER_"+a["govAgencyCode"]),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post("/o/rest/v2/proxy",s,n).then(function(t){t.data?e(t.data.data):e([])}).catch(function(e){i(e)})}).catch(function(e){})})},loadDetailDossierMC:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){var a={headers:{groupId:o.initData.groupId}},n=new URLSearchParams;n.append("method","GET"),n.append("url","/dossiers/"+t["referenceUid"]),n.append("data",""),n.append("serverCode","SERVER_"+t["govAgencyCode"]),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post("/o/rest/v2/proxy",n,a).then(function(t){e(t.data)}).catch(function(e){i(e)})})},submitVoting:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}},s={className:t.className,classPk:t.classPk,selected:t.selected,votingCode:t.votingCode?t.votingCode:""},r=new URLSearchParams;r.append("method","POST"),r.append("url","/postal/votings/"+t.votingId+"/results"),r.append("data",d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_2___default()(s)),r.append("serverCode",t.serverCode),axios__WEBPACK_IMPORTED_MODULE_19___default.a.post("/o/rest/v2/proxy",r,n).then(function(t){e(t.data)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Gửi đánh giá thất bại"),i(e)})})})},validFileUpload:function(e,t){e.commit,e.state;var o=t.file.name?t.file.name.split("."):"",i=o?o[o.length-1]:"",a=t.partTip["extensions"]?(t.partTip["extensions"]+","+t.partTip["extensions"].toUpperCase()).split(","):"",n=(t.partTip["maxSize"],a?a.filter(function(e){return e===i}):"");store.commit("setValidFileUpload",!1),n&&n.length>0?Number(t.file.size)<=1048576*t.partTip["maxSize"]||!t.partTip["maxSize"]?store.commit("setValidFileUpload",!0):(toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Tài liệu tải lên dung lượng tối đa là "+t.partTip["maxSize"]+" MB"),store.commit("setValidFileUpload",!1)):t.partTip["extensions"]?(toastr__WEBPACK_IMPORTED_MODULE_18___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_18___default.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+t.partTip["extensions"]),store.commit("setValidFileUpload",!1)):store.commit("setValidFileUpload",!0)},makeImageCap:function(e){e.commit,e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){var o={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json"},responseType:"blob"},i="/o/rest/v2/applicants/jcaptcha";axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(i,o).then(function(t){var o=window.URL.createObjectURL(t.data);e(o)}).catch(function(e){t(e)})})},getServiceRecently:function(e){e.commit;var t=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,o){store.dispatch("loadInitResource").then(function(i){var a={headers:{groupId:t.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get("/o/rest/v2/serviceinfos/statistic/recently?top=recently",a).then(function(t){var o=t.data;o&&o.data?e(o.data):e([])}).catch(function(e){o(e)})})})},loadDossierFormTemplates:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get(o.initData.dossierTemplatesApi+"/"+t.dossierTemplateNo,n).then(function(t){var o=t.data;e(o)},function(e){i(e)})})})},getServiceConfigDetail:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get("/o/rest/v2/serviceconfigs/"+t.serviceConfigId,n).then(function(t){var o=t.data;e(o||"")}).catch(function(e){i(e)})})})},getScriptViewDetail:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get("/o/rest/v2/serviceconfigs/"+t.menuGroup,n).then(function(t){var o=t.data;e(o||"")}).catch(function(e){i(e)})})})},getDetailMenuConfig:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get("/o/rest/v2_1/menuconfigs/"+t.menuGroup,n).then(function(t){var o=t.data;e(o||"")}).catch(function(e){i(e)})})})},getPreAction:function(e,t){e.commit;var o=e.state;return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,i){store.dispatch("loadInitResource").then(function(a){var n={headers:{groupId:o.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_19___default.a.get("/o/rest/v2/dossiers/"+t.dossierId+"/delegacy",n).then(function(t){var o=t.data;e(o)}).catch(function(e){i(e)})})})}},mutations:{setLoading:function(e,t){e.loading=t},setLoadingTable:function(e,t){e.loadingTable=t},setLoadingGov:function(e,t){e.loadingGov=t},setValidFileUpload:function(e,t){e.validFileUpload=t},setError:function(e,t){e.error=t},clearError:function(e){e.error=null},setIndex:function(e,t){e.index=t},setInitData:function(e,t){e.initData=t},setMenuConfigToDo:function(e,t){e.trangThaiHoSoList=t},setDataPhanCong:function(e,t){e.data_phancong=t},setLoadingDynamicBtn:function(e,t){e.loadingDynamicBtn=t},setListThuTucHanhChinh:function(e,t){e.listThuTucHanhChinh=t},setDossierTemplateName:function(e,t){e.dossierTemplateName=t},setIsDetail:function(e,t){e.isDetail=t},setLePhi:function(e,t){e.lePhi.fee=t.paymentFee,e.lePhi.feeNote=t.paymentFeeNote},setThanhPhanHoso:function(e,t){e.thanhPhanHoSo=t},setThanhPhanHosoTemplates:function(e,t){e.thanhPhanHoSo.dossierTemplates=t},setDataCreateFile:function(e,t){e.dataCreateFile=t},setCheckInput:function(e,t){e.checkInput=t},setUserNextAction:function(e,t){e.usersNextAction=t||[]},setStepOverdueNextAction:function(e,t){e.stepOverdueNextAction=t},setThongTinChuHoSo:function(e,t){var o=!0;"business"===t.applicantIdType&&(o=!1);var i={applicantIdNo:t.applicantIdNo,applicantName:t.applicantName,address:t.address,cityCode:t.cityCode,districtCode:t.districtCode,wardCode:t.wardCode,contactEmail:t.contactEmail,contactTelNo:t.contactTelNo,userType:o};e.thongTinChuHoSo=i},setThongTinChuHoSoBindChuyenPhat:function(e,t){e.thongTinChuHoSoBindChuyenPhat={cityCode:t.cityCode,districtCode:t.districtCode,wardCode:t.wardCode,address:t.address,contactTelNo:t.contactTelNo}},setThongTinNguoiNopHoSo:function(e,t){e.thongTinNguoiNopHoSo=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()(e.thongTinNguoiNopHoSo,t)},setDichVuChuyenPhatKetQua:function(e,t){var o={viaPostal:t.viaPostal,postalServiceCode:t.postalServiceCode?t.postalServiceCode:"",postalAddress:t.postalAddress?t.postalAddress:"",postalCityCode:t.postalCityCode?t.postalCityCode:"",postalDistrictCode:t.postalDistrictCode?t.postalDistrictCode:"",postalWardCode:t.postalWardCode?t.postalWardCode:"",postalTelNo:t.postalTelNo?t.postalTelNo:""};e.dichVuChuyenPhatKetQua=o},setViaPostal:function(e,t){e.viaPostal=t},setServiceConfigObj:function(e,t){e.serviceConfigObj=t},setThongTinChungHoSo:function(e,t){var o;if(1===t.processUnit&&t.processBlock>8){var i,a=Math.floor(t.processBlock/8)+" ngày";i=t.processBlock%8!==0?8*(t.processBlock/8-Math.floor(t.processBlock/8))+" giờ":"",o="".concat(a," ").concat(i)}else 0===t.processUnit?o=t.processBlock+" ngày":1===t.processUnit&&t.processBlock<=8&&(o=t.processBlock+" giờ");var n={dossierTemplateNo:t.dossierTemplateNo,dossierTemplateName:t.dossierTemplateName,serviceName:t.serviceName,serviceConfig:t.serviceConfig,serviceOption:t.dossierTemplateNo,receiveDate:new Date(t.receiveDate),dueDate:new Date(t.dueDate).toString(),durationDate:o,dossierId:t.dossierId,dossierIdCTN:t.dossierIdCTN,dossierStatus:t.dossierStatus,dossierNo:t.dossierNo,govAgencyName:t.govAgencyName,dossierStatusText:t.dossierStatusText,submitDate:t.submitDate};e.thongTinChungHoSo=n},setThongTinChungHoSoDueDate:function(e,t){e.thongTinChungHoSo.dueDate=t},setThongTinChungHoSoDurationDate:function(e,t){e.thongTinChungHoSo.durationDate=t},setThongTinChungHoSoReceiveDate:function(e,t){e.thongTinChungHoSo.receiveDate=t},setserviceConfigItems:function(e,t){e.serviceConfigItems=t},setServiceOptionItems:function(e,t){e.serviceOptionItems=t},setServiceOptionThongTinChungHoSo:function(e,t){e.thongTinChungHoSo.serviceOption=t},setCitys:function(e,t){e.citys=t},dossierSelected:function(e,t){e.dossierSelected=t},actionActive:function(e,t){e.actionActive=t},setResultServices:function(e,t){e.resultServices=t},setDossierTemplates:function(e,t){e.dossierTemplates=t},setDossier:function(e,t){e.dossier=t},setDanhSachHoSo:function(e,t){e.danhSachHoSo=t},setCityVal:function(e,t){e.cityVal=t},setDistrictVal:function(e,t){e.districtVal=t},setWardVal:function(e,t){e.wardVal=t},setDossierFiles:function(e,t){e.dossierFiles=t},setSameUser:function(e,t){e.thongTinNguoiNopHoSo.sameUser=t},setSameUser2:function(e,t){e.sameUser2=t},setPrintPH:function(e,t){e.printPH=t},setlistHistoryProcessingItems:function(e,t){e.listHistoryProcessingItems=t},setUsersComment:function(e,t){e.usersComment=t},setCommentItems:function(e,t){e.commentItems=t},setKysoSuccess:function(e,t){e.kysoSuccess=t},setActiveGetCounter:function(e,t){e.activeGetCounter=t},setActiveLoadingDataHoSo:function(e,t){e.activeLoadingDataHoSo=t},setDataCreateDossier:function(e,t){e.dataCreateDossier=t},setPaymentProfile:function(e,t){e.paymentProfile=t},setPaymentFileName:function(e,t){e.paymentFileName=t},setApplicantBussinessExit:function(e,t){e.applicantBussinessExit=t},setApplicantNote:function(e,t){e.applicantNote=t},setApplicantId:function(e,t){e.applicantId=t},setForGroupDossier:function(e,t){e.forGroupDossier=t},setSelectDossierGroup:function(e,t){e.dossierIntoGroup=t},setFilesAdd:function(e,t){e.filesAdd=t},setActiveAddFileGroup:function(e,t){e.activeAddFileGroup=t}},getters:{loading:function(e){return e.loading},loadingTable:function(e){return e.loadingTable},loadingGov:function(e){return e.loadingGov},error:function(e){return e.error},index:function(e){return e.index},dossierSelected:function(e){return e.dossierSelected},actionActive:function(e){return e.actionActive},loadingMenuConfigToDo:function(e){return new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(e,t){store.dispatch("loadMenuConfigToDo").then(function(t){e(t)})})},loadingInitData:function(e){return e.initData},loadingDynamicBtn:function(e){return e.loadingDynamicBtn},loadingListThuTucHanhChinh:function(e){store.dispatch("loadListThuTucHanhChinh")},lePhi:function(e){return e.lePhi},isDetail:function(e){return e.isDetail},dossierTemplateName:function(e){return e.dossierTemplateName},thongTinChungHoSo:function(e,t){return e.thongTinChungHoSo},thongTinChuHoSo:function(e){return e.thongTinChuHoSo},thongTinChuHoSoBindChuyenPhat:function(e){return e.thongTinChuHoSoBindChuyenPhat},kysoSuccess:function(e){return e.kysoSuccess},activeGetCounter:function(e){return e.activeGetCounter},activeLoadingDataHoSo:function(e){return e.activeLoadingDataHoSo},thanhPhanHoSo:function(e){return e.thanhPhanHoSo},thongTinNguoiNopHoSo:function(e){return e.thongTinNguoiNopHoSo},dichVuChuyenPhatKetQua:function(e){return e.dichVuChuyenPhatKetQua},viaPostal:function(e){return e.viaPostal},serviceOptionItems:function(e){return e.serviceOptionItems},getDictItems:function(e){return function(t){return"ADMINISTRATIVE_REGION"===t.collectionCode&&0===t.level?null==e.citys?store.dispatch("loadDictItems",t):new d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_11___default.a(function(t,o){t({total:e.citys.length,data:e.citys})}):store.dispatch("loadDictItems",t)}},getDataCreateFile:function(e){return e.dataCreateFile},getCheckInput:function(e){return e.checkInput},getUsersNextAction:function(e){return e.usersNextAction},getStepOverdueNextAction:function(e){return e.stepOverdueNextAction},resultServices:function(e){return e.resultServices},dossierTemplates:function(e){return e.dossierTemplates},dataDetailDossier:function(e){return e.dossier},dossier:function(e){return e.dossier},getCityVal:function(e){return e.cityVal},getDistrictVal:function(e){return e.districtVal},getWardVal:function(e){return e.wardVal},dossierFiles:function(e){return e.dossierFiles},sameUser2:function(e){return e.sameUser2},getVnpostCodeItems:function(e){return e.vnpostCodeItems},listHistoryProcessingItems:function(e){return e.listHistoryProcessingItems},subStatusNew:function(e){return e.subStatusNew},usersComment:function(e){return e.usersComment},commentItems:function(e){return e.commentItems},dataPhanCong:function(e){return e.data_phancong},getDataCreateDossier:function(e){return e.dataCreateDossier},getPaymentProfile:function(e){return e.paymentProfile},getPaymentFileName:function(e){return e.paymentFileName},getUser:function(e){return e.user},getApplicantIdNo:function(e){return e.applicantId},getApplicantNote:function(e){return e.applicantNote},getApplicantBussinessExit:function(e){return e.applicantBussinessExit},getForGroupDossier:function(e){return e.forGroupDossier},getDossierIntoGroup:function(e){return e.dossierIntoGroup},getFilesAdd:function(e){return e.filesAdd},activeAddFileGroup:function(e){return e.activeAddFileGroup},getMenuConfigsTodo:function(e){return e.trangThaiHoSoList}}})},"4a3a":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"phancong",staticStyle:{"background-color":"white",width:"100%"}},[o("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{key:1},[""!==e.esignType&&"digital"!==e.esignType&&"plugin"!==e.esignType?o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),o("span",[e._v("Duyệt hồ sơ")])]):e._e(),"plugin"===e.esignType?o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),o("span",[e._v("Tài liệu ký duyệt, đóng dấu")]),o("v-btn",{staticClass:"ml-2 my-0",attrs:{flat:"",icon:"",color:"indigo",title:"Cấu hình hệ thống ký số"},on:{click:function(t){return t.stopPropagation(),e.showConfigSignService(t)}}},[o("v-icon",{attrs:{size:"16"}},[e._v("fa fa-cog")])],1)],1):e._e(),o("v-card",[o("v-card-text",{staticClass:"px-0 py-0"},["plugin"===e.esignType?o("v-flex",{staticClass:"pl-5 py-2",attrs:{xs12:"",sm12:""}},e._l(e.filesPdfSignPlugin,function(t,i){return o("div",{key:i},[o("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(o){e.viewFileKySo(t,i)}}},[t.fileSigned?o("v-icon",{staticClass:"mr-1",attrs:{color:"green",size:"16"}},[e._v("\n                  fa-check-square-o\n                ")]):o("v-icon",{staticClass:"mr-1",attrs:{color:"red",size:"14"}},[e._v("\n                  fa fa-file-pdf-o\n                ")]),e._v("\n                "+e._s(t.fileName)+" - \n                "),o("i",[e._v(e._s(t.time))])],1),o("v-btn",{staticClass:"ml-2 my-0",attrs:{flat:"",icon:"",color:"indigo",title:"Ký duyệt, đóng dấu"},on:{click:function(o){o.stopPropagation(),e.signAction(t,i)}}},[o("v-icon",{attrs:{size:"18"}},[e._v("fa fa-pencil-square-o")])],1)],1)}),0):e._e(),"captcha"===e.esignType?o("v-flex",{staticClass:"my-3",attrs:{xs12:"",sm12:""}},[o("span",{staticClass:"ml-3",staticStyle:{color:"#ec0f0f"}},[e._v("(*) Xác thực ký duyệt hồ sơ")]),o("v-captcha",{ref:"captcha"})],1):e._e(),"password"===e.esignType?o("v-flex",{staticClass:"my-3 pl-3",attrs:{xs12:"",sm4:""}},[o("span",{staticClass:"ml-3",staticStyle:{color:"#ec0f0f"}},[e._v("(*) Xác thực ký duyệt hồ sơ")]),o("v-text-field",{attrs:{box:"",label:"Nhập mật khẩu xác thực","append-icon":e.e1?"visibility":"visibility_off","append-icon-cb":function(){return e.e1=!e.e1},rules:[function(e){return!!e||"Yêu cầu nhập mật khẩu"}],type:e.e1?"password":"text",name:"input-10-2",required:""},model:{value:e.passWord,callback:function(t){e.passWord=t},expression:"passWord"}})],1):e._e()],1)],1)],1)],1)],1)},a=[],n=o("f499"),s=o.n(n),r=o("a745"),c=o.n(r),l=o("1157"),d=o.n(l),_=o("854a"),u=o.n(_),p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm12:""}},[o("span",[e._v("Kéo thả các ô vuông đúng thứ tự của từ")]),o("br"),o("v-chip",{staticStyle:{"background-color":"#81D4FA"},attrs:{label:"","text-color":"white"}},[e._v("\n      "+e._s(e.captcha)+"\n    ")])],1),o("div",{directives:[{name:"drag-and-drop",rawName:"v-drag-and-drop:options",value:e.options,expression:"options",arg:"options"}],staticClass:"drag-wrapper text-xs-center mt-3"},[o("ul",{staticClass:"captcha-wrap",attrs:{id:"captcha"}},e._l(e.arrCaptcha,function(t,i){return o("li",{key:i,staticClass:"item-captcha",staticStyle:{padding:"10px 15px","background-color":"#81D4FA","margin-right":"2px",color:"#fff","font-weight":"bold"}},[e._v(e._s(t))])}),0)])],1)},h=[],m=(o("6b54"),o("f576"),o("28a5"),o("a026")),g=o("d8c5"),f=o.n(g);m["a"].use(f.a);var v={props:["index"],components:{},data:function(){return{options:{dropzoneSelector:"ul.captcha-wrap"},arrCaptcha:[],captcha:"",currentlyDragging:null,loggedEvent:"",images:[{name:"Image 1",src:"http://placehold.it/100/000000/ffffff"},{name:"Image 2",src:"http://placehold.it/100/C93742/ffffff"},{name:"Image 3",src:"http://placehold.it/100/6894D1/ffffff"}]}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){var e=this;e.makeRandomString(),e.shuffleArrCaptcha(e.arrCaptcha)},watch:{},methods:{makeRandomString:function(){for(var e=this,t="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<4;i++)t+=o.charAt(Math.floor(Math.random()*o.length));t&&(e.arrCaptcha=e.shuffleArrCaptcha(t.split(""))),e.captcha=t},shuffleArrCaptcha:function(e){var t=e.length,o=null,i=0;while(t>0)i=Math.floor(Math.random()*t),t--,o=e[t],e[t]=e[i],e[i]=o;return e},checkValidCatcha:function(){var e=this,t="",o=d()("#captcha").children();console.log(o);for(var i=0;i<o.length;i++)t+=o[i].innerHTML;return e.captcha===t}},filters:{dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear())}return""}}},y=v,C=o("2877"),D=o("6544"),T=o.n(D),S=o("cc20"),P=o("0e8f"),b=Object(C["a"])(y,p,h,!1,null,null,null),x=b.exports;function E(){return document.getElementById("plugin0")}T()(b,{VChip:S["a"],VFlex:P["a"]}),u.a.options={closeButton:!0,timeOut:"5000"};var I=E,A={props:{detailDossier:{},dataEsign:{},filesPdfSignPlugin:{type:Array,default:function(){return[]}}},components:{"v-captcha":x},data:function(){return{tabActive:"tabs-1",filesSign:[],activeKS:!1,noteReason:"",thongTinHoSo:{},passWord:"",e1:!0}},created:function(){""!==this.esignType&&"digital"!==this.esignType||(this.activeKS=!0)},computed:{kysoSuccess:function(){return this.$store.getters.kysoSuccess},esignType:function(){return this.dataEsign.signatureType}},watch:{},mounted:function(){""!==this.esignType&&"digital"!==this.esignType||(this.activeKS=!0)},methods:{changeActive:function(){var e=this;console.log("tabActive",e.tabActive)},doExport:function(){var e=this,t={textValue:e.noteReason,required:"password"===e.esignType?e.passWord:"digital"===e.esignType||""===e.esignType?e.activeKS:e.$refs.captcha.checkValidCatcha()};return console.log("exportData",t),t},checkCreateFile:function(e){var t;t=c()(e.createFiles)?e.createFiles:[e.createFiles];var o=!1;if(t.length>0)for(var i=t.length,a=0;a<i;a++){var n=t[a];0===n.counter&&(o=!0)}else o=!0;return o},showConfigSignService:function(){vgca_show_config()},viewFileKySo:function(e,t){},signAction:function(e,t){var o=function(e){var t=JSON.parse(e);console.log(t),t.Status},i={FileUploadHandler:"",SessionId:""};i["FileName"]=e["url"];var a=s()(i);vgca_sign_approved(a,o)},kySo:function(e){console.log("run ky so data payload",e);var t,o=this;t=c()(e.createFiles)?e.createFiles:[e.createFiles];var i=[],a=!1;if(t.length>0)for(var n=t.length,s=0;s<n;s++){var r=t[s];if(0===r.counter){a=!0;break}var l=r.dossierFileId,d=r.dossierPartId;if(l&&d&&"digital"===o.esignType){var _=l+","+d;i.push(_)}else if(l&&"digital"!==o.esignType){var u=l;i.push(u)}}else alert("Không tồn tại tệp điện tử. Vui lòng kiểm tra lại");console.log("idArr",i);var p=e.eSignature;if(p){if(a)return void alert("Tệp điện tử chưa sẵn sàng. Xin vui lòng chờ trong giây lát");if(i){var h,m={};m.actionCode=e.actionCode,m.actionUser=window.themeDisplay.getUserName()?window.themeDisplay.getUserName():"",m.actionNote="",m.postStepCode=e.postStepCode?e.postStepCode:"",m.payload=e.payload?e.payload:"",m.assignUsers=e.assignUsers?e.assignUsers:"",m.payment=e.payment?e.payment:"",m.userNote=e.userNote?e.userNote:"",h=i.join(",");var g=e.actionName;if(console.log("strIdArr",h),console.log("paramObj",m),"digital"===o.esignType){if(!I().valid)return p=!1,void alert("Plugin ký số không hoạt động");o.kyDuyetYCGiamDinh(h,m,g)}else"captcha"!==o.esignType&&"password"!==o.esignType&&""!==o.esignType||o.completeKyDuyetCaptchaSignature(h,m,g)}}},kyDuyetYCGiamDinh:function(e,t,o){var i=this,a="/o/rest/v2/defaultsignature/digitalSignature/"+i.detailDossier.dossierId+"/hashComputed";console.log(i.detailDossier.dossierId),d.a.ajax({type:"POST",url:a,async:!1,dataType:"json",headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay.authToken},data:{strIdArr:e,actionCode:t.actionCode,postStepCode:t.postStepCode},success:function(e){console.log(e);var a=e.msg;if("fileEntryId"!==a){var n=e.hashComputers,s=e.signFieldNames,r=e.fileNames,c=e.fileEntryId;console.log("hashComputers: "+n),console.log("signFieldNames: "+s),console.log("fileNames: "+r),console.log("msgs: "+a);var l=[];if(I().valid){for(var d=0;d<n.length;d++){var _=n[d],u=I().Sign(_);if(0===u||7===u){var p=I().Signature,h=s[d],m=r[d];console.log("sign: "+p),console.log("signFieldName: "+h),console.log("fileName: "+m),l.push(p)}else alert(I().ErrorMessage)}i.completeKyDuyetManyYCGiamDinh(l.join(","),s.join(","),r.join(","),c.join(","),t,o)}else alert("Plugin ký số không hoạt động")}else alert("Không tìm thấy file bản thảo. Tạm dừng tiến trình ký số")},error:function(e){}})},completeKyDuyetManyYCGiamDinh:function(e,t,o,i,a,n){var r=this,c="/o/rest/v2/defaultsignature/digitalSignature/"+r.detailDossier.dossierId+"/dossierFiles";d.a.ajax({type:"PUT",url:c,async:!1,dataType:"json",headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay.authToken},data:{actionCode:a["actionCode"],actionUser:a["actionUser"],actionNote:a["actionNote"],assignUserId:a["assignUserId"],postStepCode:a["postStepCode"],subUsers:a["subUsers"],payload:a["payload"]?s()(a["payload"]):"",assignUsers:a["assignUsers"],payment:a["payment"]?s()(a["payment"]):"",userNote:a["userNote"],sign:e,signFieldName:t,fileName:o,fileEntryId:i},success:function(e){console.log(e);var t=e.msg;"success"===t?(r.$store.commit("setKysoSuccess",!0),u.a.success("Thực hiện ký số thành công")):"fileEntryId"===t?alert("Không tìm thấy file bản thảo. Tạm dừng tiến trình ký số"):alert(t)},error:function(){alert("Thực hiện ký số thất bại")}})},completeKyDuyetCaptchaSignature:function(e,t,o){var i=this,a="/o/rest/v2/defaultsignature/"+i.detailDossier.dossierId+"/dossierFiles";d.a.ajax({type:"PUT",url:a,async:!1,dataType:"json",headers:{groupId:window.themeDisplay.getScopeGroupId()?window.themeDisplay.getScopeGroupId():"",Token:window.Liferay.authToken?window.Liferay.authToken:""},data:{actionCode:t["actionCode"],actionUser:t["actionUser"],actionNote:t["actionNote"],assignUserId:t["assignUserId"],postStepCode:t["postStepCode"],subUsers:t["subUsers"],payload:t["payload"]?s()(t["payload"]):"",assignUsers:t["assignUsers"],payment:t["payment"]?s()(t["payment"]):"",userNote:t["userNote"],fileEntryId:e},success:function(e){i.$store.commit("setKysoSuccess",!0),u.a.success("Thực hiện ký số thành công.")},error:function(){u.a.error("Thực hiện ký số thất bại")}})},completeKyDuyetYCGiamDinh:function(e,t,o,i,a,n){var s=this,r="/o/rest/v2/defaultsignature/digitalSignature/"+s.detailDossier.dossierId+"/dossierFile";d.a.ajax({type:"PUT",url:r,async:!1,dataType:"json",headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:"","Cache-Control":"no-cache"},data:{actionCode:a["actionCode"],actionUser:a["actionUser"],actionNote:a["actionNote"],assignUserId:a["assignUserId"],postStepCode:a["postStepCode"],subUsers:a["subUsers"],sign:e,signFieldName:t,fileName:o,fileEntryId:i},success:function(e){console.log(e);var t=e.msg;"success"===t?u.a.success("Yêu cầu của bạn được thực hiện thành công."):"fileEntryId"===t?alert("Cảnh báo: Không tìm thấy file bản thảo. Tạm dừng tiến trình đóng dấu số"):alert(t)},error:function(){alert("ky so false")}})}}},O=A,N=o("8336"),w=o("b0af"),k=o("99d9"),F=o("cd55"),M=o("49e2"),L=o("132d"),H=o("2677"),U=Object(C["a"])(O,i,a,!1,null,null,null);t["a"]=U.exports;T()(U,{VBtn:N["a"],VCard:w["a"],VCardText:k["b"],VExpansionPanel:F["a"],VExpansionPanelContent:M["a"],VFlex:P["a"],VIcon:L["a"],VTextField:H["a"]})},"4ea3":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"comment-temp"},[o("div",[o("v-expansion-panel",{staticClass:"expansion-pl-transparent",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("v-card",{staticClass:"comments__container"},[o("v-card-text",{staticClass:"pl-4"},[o("div",{attrs:{id:"comments-container-el"}})])],1)],1)],1)],1)])},a=[],n=o("a4bb"),s=o.n(n),r=(o("f576"),o("6b54"),o("c5f6"),o("28a5"),o("7f7f"),o("854a")),c=o.n(r);c.a.options={closeButton:!0,timeOut:"10000"};var l={props:["classPK","className"],data:function(){return{usersComment:[],comment:[],argShowMore:!0,checkOpinion:!0,validFileUpload:!0,fileTypeAllow:["png","jpg","jpeg","pdf","docx","doc","xls","xlsx","txt","rtf"]}},computed:{loading:function(){return this.$store.getters.loading},initData:function(){return this.$store.getters.loadingInitData}},watch:{classPK:function(e){var t=this;t.$store.dispatch("loadUsersComment",e).then(function(e){t.usersComment=e,t.initComment()}).catch(function(e){t.initComment()})}},created:function(){},mounted:function(){},methods:{runComment:function(){var e=this;e.classPK&&e.initComment()},validateFile:function(e){var t=this,o=e.file.name?e.file.name.split("."):"",i=o?o[o.length-1]:"",a=t.fileTypeAllow,n=10,s=a?a.filter(function(e){return e===i}):"";t.validFileUpload=!1,s&&s.length>0?Number(e.file.size)<=1048576*n?t.validFileUpload=!0:(c.a.error("Tài liệu tải lên dung lượng tối đa là "+n+" MB"),t.validFileUpload=!1):(c.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+a.toString()),t.validFileUpload=!1)},initComment:function(){var e=this;window.$("#comments-container-el").comments({profilePictureURL:"https://png.icons8.com/material/50/000000/guest-male.png",textareaRows:2,enableAttachments:!0,enableHashtags:!0,enablePinging:!1,postCommentOnEnter:!1,forceResponsive:!1,readOnly:!1,textareaPlaceholderText:"Thêm bình luận mới",newestText:"Mới nhất",oldestText:"Cũ nhất",popularText:"Phổ biến",attachmentsText:"Đính kèm",sendText:"Gửi",replyText:"Trả lời",editText:"Sửa",editedText:"Đã sửa",youText:"Bạn",saveText:"Ghi lại",deleteText:"Xóa",hideRepliesText:"Ẩn câu trả lời",noCommentsText:"Không có bình luận nào",noAttachmentsText:"Không có tệp đính kèm",attachmentDropText:"Kéo thả tệp đính kèm",fieldMappings:{id:"commentId",parent:"parent",userId:"userId",created:"createdDate",modified:"modifiedDate",content:"content",fileURL:"fileUrl",fileMimeType:"fileType",fileName:"fileName",pings:"pings",creator:"userId",fullname:"fullname",profileURL:"profileUrl",profilePictureURL:"pictureUrl",isNew:"isNew",createdByAdmin:"isAdmin",createdByCurrentUser:"createdByCurrentUser",upvoteCount:"upvoteCount",userHasUpvoted:"userHasUpvoted",email:"email",opinion:"opinion",className:"className",classPK:"classPK"},timeFormatter:function(e){if(e){var t=new Date(e);return t.setHours(t.getHours()-7),"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}return""},getUsers:function(t,o){t(e.usersComment)},getComments:function(t,o){var i={classPK:e.classPK,className:e.className},a=e.$store.dispatch("loadCommentItems",i);a.then(function(o){var i=[];window.$.each(o,function(t,o){e.comment=o,e.formatComment(e.comment),i.push(e.comment)}),t(i)}).catch(function(e){t([]),o()})},postComment:function(t,o,i){t.classPK=e.classPK,t.className=e.className,t.opinion=document.getElementById("opinion").checked,e.$store.dispatch("postComment",t).then(function(t){t.opinion&&window.$(".opinion").hide(),document.getElementById("opinion").checked=!1,e.comment=t,e.formatComment(e.comment),o(e.comment)})},putComment:function(t,o,i){t.classPK=e.classPK,t.className=e.className,e.$store.dispatch("putComment",t).then(function(t){e.comment=t,e.formatComment(e.comment),o(e.comment)})},deleteComment:function(t,o,i){t.classPK=e.classPK,t.className=e.className,e.$store.dispatch("deleteComment",t).then(function(e){o()}).catch(function(e){i(),console.log(e)})},upvoteComment:function(t,o,i){t.classPK=e.classPK,t.className=e.className,e.$store.dispatch("upvoteComment",t).then(function(t){e.comment=t,e.formatComment(e.comment),o(e.comment)}).catch(function(e){console.log(e)})},uploadAttachments:function(t,o,i){var a=0,n=[],r=function(){a++,a===t.length&&(0===n.length?i():o(n))};window.$(t).each(function(t,o){var i=new FormData;window.$(s()(o)).each(function(e,t){var a=o[t];a&&i.append(t,a)}),i.append("file",o.file),i.append("className",e.className),i.append("classPK",e.classPK),i.append("parent",null!=o.parent?o.parent:0),i.append("fileName",o.file.name),i.append("fileType",o.file.type),i.append("fileSize",o.file.size),i.append("pings",o.pings.join()),i.append("opinion",document.getElementById("opinion").checked),i.append("email",""),i.append("fullname",e.initData.user.userName),i.append("opinion",document.getElementById("opinion").checked);var a={file:o.file};e.validateFile(a),e.validFileUpload?window.$.ajax({url:e.initData.commentApi+"/uploads",dataType:"json",type:"POST",headers:{groupId:e.initData.groupId},data:i,cache:!1,contentType:!1,processData:!1,success:function(t){t.opinion&&window.$(".opinion").hide(),document.getElementById("opinion").checked=!1,e.formatComment(t),n.push(e.comment),r(),t.opinion&&window.$(".opinion").hide(),document.getElementById("opinion").checked=!1},error:function(e,t){r()}}):r()})}})},formatComment:function(e){var t=this;t.comment=e,0===e.parent&&(t.comment.parent=null),""===e.fileName&&(t.comment.fileName=null),""===e.fileType&&(t.comment.fileType=null),""===e.fileUrl&&(t.comment.fileUrl=null),""===e.pictureUrl&&(t.comment.pictureUrl="https://png.icons8.com/material/50/000000/guest-male.png"),t.comment.fullname=e.fullname,t.comment.opinion=e.opinion,t.comment.pings=e.pings.toString().split(","),t.comment.createdDate=t.comment.createDate,t.comment.modifiedDate=t.comment.modifiedDate},dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}return""}},filters:{dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear(),"  ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}return""}}},d=l,_=o("2877"),u=o("6544"),p=o.n(u),h=o("b0af"),m=o("99d9"),g=o("cd55"),f=o("49e2"),v=Object(_["a"])(d,i,a,!1,null,null,null);t["a"]=v.exports;p()(v,{VCard:h["a"],VCardText:m["b"],VExpansionPanel:g["a"],VExpansionPanelContent:f["a"]})},"5c68":function(module,__webpack_exports__,__webpack_require__){"use strict";var d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5176"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("20d6"),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a745"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("795b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("55dd"),core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("6762"),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("2fdb"),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_10__),jquery__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_11__),toastr__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_12__);toastr__WEBPACK_IMPORTED_MODULE_12___default.a.options={closeButton:!0,timeOut:"2000"},__webpack_exports__["a"]={props:{onlyView:{type:Boolean,default:function(){return!1}},id:{type:String,default:function(){return"nm"}},partTypes:{type:Array,default:function(){return[1,3]}},checkInput:{type:Number,default:function(){return 0}}},data:function(){return{dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],pdfEform:!1,sampleCount:0,serviceInfoId:0,fileMarkItems:[{text:"Không có",value:0},{text:"Bản chụp",value:1},{text:"Bản sao",value:2},{text:"Bản gốc",value:3},{text:"Bản dịch",value:4}],fileCheckItems:[{text:"Chưa kiểm tra",value:0},{text:"Đạt",value:1},{text:"Không đạt",value:2}],fileTemplateItems:[],fileTemplateNoString:"",dossierFilesApplicant:[],stateViewResult:!0,currentFormView:"",pstFixed:0,pstEl:0,endEl:0,applicantNoteDossier:"",doChange:""}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData},dossierTemplateItemsFilter:function(){var e=this,t=e.dossierTemplateItems;if(t.length>0){var o=t.filter(function(t){return e.partTypes.includes(t.partType)&&e.checkVisibleTemp(t,0)});return o}},applicantBussinessExit:function(){return this.$store.getters.getApplicantBussinessExit},applicantId:function(){return this.$store.getters.getApplicantIdNo},applicantNote:function(){return this.$store.getters.getApplicantNote},dossierIntoGroup:function(){return this.$store.getters.getDossierIntoGroup}},mounted:function(){var e=this;e.page=1,e.$nextTick(function(){})},watch:{applicantBussinessExit:function(e){var t=this;e&&t.fileTemplateNoString&&t.getDossierFileApplicants(e,t.fileTemplateNoString)},applicantId:function(e){var t=this;e&&t.fileTemplateNoString&&t.getDossierFileApplicants(e,t.fileTemplateNoString)}},methods:{resetCounterTemplate:function(e,t){e.commit,e.state;var o=this;o.dossierTemplateItems.forEach(function(e){e.partNo===t.partNo&&(e.hasForm?e.count=1:e.count=0)})},recountFileTemplates:function(){var e=this;e.dossierTemplateItems.forEach(function(t){t.count=0,e.dossierFilesItems.forEach(function(e){t.partNo!==e.dossierPartNo||e.eForm||t.count++})})},initData:function(e){var t=this;t.$store.dispatch("getDocumentType").then(function(e){var o=function(e){function t(e,t){return e.itemCode<t.itemCode?-1:e.itemCode>t.itemCode?1:0}return e.sort(t)};if(e){var i=o(e);for(var a in t.fileMarkItems=[],i)t.fileMarkItems.push({text:i[a]["itemName"],value:i[a]["itemCode"]})}}),t.thongTinHoSo=e,t.applicantNoteDossier=e["applicantNote"]&&String(e["applicantNote"]).indexOf("<br>[")<0?e["applicantNote"]:"";var o=[];null!==e["sampleCount"]&&void 0!==e["sampleCount"]&&"undefined"!==e["sampleCount"]&&(t.sampleCount=e["sampleCount"]),o.push(t.$store.dispatch("loadDossierTemplates",e)),o.push(t.$store.dispatch("loadDossierMark",e)),o.push(t.$store.dispatch("loadDossierFiles",e.dossierId)),o.push(t.$store.dispatch("getServiceInfo",{serviceInfoId:e.serviceCode})),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(o).then(function(e){var o=e[0],i=e[1],a=e[2],n=[];e[3].hasOwnProperty("serviceInfoId")&&(t.serviceInfoId=e[3].serviceInfoId),e[3].fileTemplates&&(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3___default()(e[3].fileTemplates)?n=e[3].fileTemplates:n.push(e[3].fileTemplates));var s=t.mergeDossierTemplateVsDossierFiles(o,a);if(s=t.mergeDossierTemplateVsDossierMark(s,i),s=t.mergeDossierTemplateVsFileTemplates(s,n),t.dossierFilesItems=a,t.dossierMarksItems=i,t.fileTemplateItems=n,t.dossierTemplateItems=s,t.partTypes.includes(2)&&t.dossierTemplateItems.length>0){var r=[];t.dossierTemplateItems.forEach(function(e){var o=t.dossierFilesItems.find(function(t){return e.partNo===t.dossierPartNo&&2===e.partType});o&&r.push(e)}),t.dossierTemplateItems=r}t.changeStateViewResult(),setTimeout(function(e){t.genAllAlpacaForm(a,s),t.recountFileTemplates()},500);var c=[];for(var l in t.dossierTemplateItems)t.dossierTemplateItems[l]["fileTemplateNo"]&&c.push(t.dossierTemplateItems[l]["fileTemplateNo"]);c.length>0&&(t.fileTemplateNoString=c.toString(),t.applicantId&&!t.onlyView&&t.getDossierFileApplicants(t.applicantId,t.fileTemplateNoString))}).catch(function(e){})},genAllAlpacaForm:function(e,t){var o=this;if(e.length>0){var i=e.filter(function(e){return e.eForm}),a=t.filter(function(e){return e.hasForm&&o.partTypes.includes(e.partType)});i.length>0?i.forEach(function(e){e.eForm&&o.$store.dispatch("loadAlpcaForm",e)}):t.forEach(function(e){e.hasForm&&o.partTypes.includes(e.partType)&&(e["templateFileNo"]=o.thongTinHoSo.dossierTemplateNo,o.showAlpacaJSFORM(e))}),a.length!==i.length&&a.forEach(function(e){var t=i.findIndex(function(t){return e.partNo===t.dossierPartNo});-1===t&&(e["templateFileNo"]=o.thongTinHoSo.dossierTemplateNo,o.showAlpacaJSFORM(e))})}else t.forEach(function(e){e.hasForm&&o.partTypes.includes(e.partType)&&(e["templateFileNo"]=o.thongTinHoSo.dossierTemplateNo,o.showAlpacaJSFORM(e))})},postDossierMark:function(e,t){var o=this;e["dossierId"]=o.thongTinHoSo.dossierId,o.$store.dispatch("postDossierMark",e).then(function(e){}).catch(function(e){})},mergeDossierTemplateVsDossierFiles:function(e,t){var o=this;return 0!==t.length?e.forEach(function(e){e["editForm"]=!0,e["daKhai"]=!1,e["passRequired"]=!1;var i=t.find(function(t){return e.partNo===t.dossierPartNo&&o.partTypes.includes(e.partType)&&t.eForm&&!t.removed&&0!==t.fileSize});i&&(e["daKhai"]=!0,e["hasForm"]=!0,e["referenceUid"]=i["referenceUid"]),t.forEach(function(t){e.partNo===t.dossierPartNo&&(e["passRequired"]=!0)})}):e.forEach(function(e){e.hasForm&&(e["daKhai"]=!1,e["passRequired"]=!1,e["editForm"]=!0)}),e},mergeDossierTemplateVsDossierMark:function(e,t){return 0!==t.length?e.map(function(e){e["count"]=0,e["stateEditFileCheck"]=!1;var o=t.find(function(t){return t.dossierPartNo===e.partNo});return null!==o&&void 0!==o?(e["fileMark"]=o.fileMark,e["fileComment"]=o.fileComment,e["fileCheck"]=o.fileCheck,e["recordCount"]=o.recordCount):(e["fileMark"]=0,e["fileComment"]="",e["fileCheck"]=0,e["recordCount"]=""),e}):e&&e.forEach(function(e){e["stateEditFileCheck"]=!1,e["count"]=0,e["fileMark"]=0,e["fileComment"]="",e["fileCheck"]=0,e["stateEditFileCheck"]=!1}),e},mergeDossierTemplateVsFileTemplates:function(e,t){return 0!==t.length?e.map(function(e){var o=t.find(function(t){return t.fileTemplateNo===e.fileTemplateNo});return e["hasFileTemp"]=null!==o&&void 0!==o?o.fileTemplateNo:"",e}):e&&e.forEach(function(e){e["hasFileTemp"]=""}),e},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item["dossierId"]=vm.thongTinHoSo.dossierId,vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){var formScript,formData;window.$("#formAlpaca"+item.partNo+vm.id).empty(),formScript=resScript?eval("("+resScript+")"):{},resData?(formData=eval("("+resData+")"),item["loaded"]=!0):formData={},formScript.data=formData,window.$("#formAlpaca"+item.partNo+vm.id).alpaca(formScript)})})},saveAlpacaForm:function(e,t){var o=this,i=o.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm&&0!==t.fileSize});i?(i["dossierId"]=o.thongTinHoSo.dossierId,i["id"]=o.id,o.$store.dispatch("putAlpacaForm",i).then(function(e){o.dossierIntoGroup.length>0&&(o.$store.commit("setFilesAdd",[resPostEform]),o.$store.commit("setActiveAddFileGroup",!0)),o.$store.dispatch("loadDossierFiles",o.thongTinHoSo.dossierId).then(function(e){o.dossierFilesItems=e}).catch(function(e){}),o.dossierTemplateItems[t]["passRequired"]=!0}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_12___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_12___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})):(e["dossierId"]=o.thongTinHoSo.dossierId,e["id"]=o.id,o.$store.dispatch("postEform",e).then(function(e){o.dossierIntoGroup.length>0&&(o.$store.commit("setFilesAdd",[e]),o.$store.commit("setActiveAddFileGroup",!0)),o.dossierTemplateItems[t].daKhai=!0,o.dossierTemplateItems[t]["passRequired"]=!0,o.$store.dispatch("loadDossierFiles",o.thongTinHoSo.dossierId).then(function(e){o.dossierFilesItems=e}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_12___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_12___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_12___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_12___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},onDeleteAttackFiles:function(e){var t=this;console.log("delete");var o=confirm("Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?");o&&t.dossierFilesItems.forEach(function(o){o.dossierPartNo===e.partNo&&(o["dossierId"]=t.thongTinHoSo.dossierId,t.$store.dispatch("deleteAttackFiles",o).then(function(o){t.resetCounterTemplate(e),t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId)}).catch(function(e){}))})},changeApplicantNote:function(){var e=this;console.log("applicantNoteEdit",e.applicantNoteDossier),e.$store.commit("setApplicantNote",e.applicantNoteDossier)},pickFile:function(e){var t=this;t.stateAddFileOther=!1,document.getElementById("file"+e.partNo).value="",6===e["partType"]||e["partType"],document.getElementById("file"+e.partNo).click()},onUploadSingleFile:function(e,t,o){var i=this;if(i.dossierTemplatesItemSelect=t,i.progressUploadPart=t.partNo,t["dossierId"]=i.thongTinHoSo.dossierId,t["dossierTemplateNo"]=i.thongTinHoSo.dossierTemplateNo,3!==t.partType)i.$store.dispatch("uploadSingleFile",t).then(function(e){console.log("vm.dossierIntoGroup",i.dossierIntoGroup),i.dossierIntoGroup.length>0&&(i.$store.commit("setFilesAdd",e),i.$store.commit("setActiveAddFileGroup",!0)),i.dossierTemplateItems[o]["passRequired"]=!0,i.progressUploadPart="",i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(e){i.dossierFilesItems=e,i.recountFileTemplates()})}).catch(function(e){e.length>0&&(i.dossierTemplateItems[o]["passRequired"]=!0),i.progressUploadPart="",i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(e){i.dossierFilesItems=e,i.recountFileTemplates()})});else{if(0===window.$("#file"+t.partNo)[0].files.length)return void(i.progressUploadPart="");i.partView=t.partNo,i.stateView=!0,i.dialogAddOtherTemp=!0}},loadAlpcaForm:function(e){var t=this,o=t.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm});o?(o["id"]=t.id,t.$store.dispatch("loadAlpcaForm",o)):t.dossierTemplateItems.forEach(function(o){o.hasForm&&e.partNo===o.partNo&&(o["templateFileNo"]=t.thongTinHoSo.dossierTemplateNo,t.showAlpacaJSFORM(o))})},loadAlpcaFormClick:function(e){var t=this;t.currentFormView==="formAlpaca"+e.partNo+t.id?t.currentFormView="":t.currentFormView="formAlpaca"+e.partNo+t.id,t.pstEl=t.endEl=0,setTimeout(function(){jquery__WEBPACK_IMPORTED_MODULE_11___default()("#formAlpaca"+e.partNo+t.id).height()>200&&(t.pstEl=jquery__WEBPACK_IMPORTED_MODULE_11___default()("#wrapForm"+e.partNo+t.id).offset().top,t.endEl=jquery__WEBPACK_IMPORTED_MODULE_11___default()("#formAlpaca"+e.partNo+t.id).height(),jquery__WEBPACK_IMPORTED_MODULE_11___default()(window).scroll(function(){t.pstFixed=jquery__WEBPACK_IMPORTED_MODULE_11___default()(window).scrollTop()}))},500);var o=t.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm&&t.fileSize});o?(o["id"]=t.id,t.$store.dispatch("loadAlpcaForm",o),e["editForm"]=!1,t.$store.dispatch("viewFile",o).then(function(e){document.getElementById("displayPDF"+o.dossierPartNo+t.id).src=e})):t.dossierTemplateItems.forEach(function(o){o.hasForm&&e.partNo===o.partNo&&(o["templateFileNo"]=t.thongTinHoSo.dossierTemplateNo,o["loaded"]||t.showAlpacaJSFORM(o))})},editFormAlpaca:function(e){var t=this;e["editForm"]=!0,setTimeout(function(){var o=t.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm});o["id"]=t.id,t.$store.dispatch("loadAlpcaForm",o)},200)},deleteSingleFileEform:function(e,t){var o=this,i=confirm("Bạn có chắc chắn xóa file?");i&&o.dossierFilesItems.forEach(function(i){i.dossierPartNo===e.partNo&&i.eForm&&(i["dossierId"]=o.thongTinHoSo.dossierId,o.$store.dispatch("deleteDossierFile",i).then(function(i){console.log("success!"),o.dossierTemplateItems[t].daKhai=!1,o.$store.dispatch("loadDossierFiles",o.thongTinHoSo.dossierId).then(function(i){if(o.dossierFilesItems=i,o.recountFileTemplates(),e["editForm"]=!0,setTimeout(function(){console.log("item --1--",e),o.loadAlpcaForm(e)},200),0!==o.dossierFilesItems.length){var a=o.dossierFilesItems.filter(function(t){return t.dossierPartNo===e.partNo});o.dossierTemplateItems[t]["passRequired"]=!!a}else o.dossierTemplateItems[t]["passRequired"]=!1})}))})},previewFileEfom:function(e,t){var o=this;o.dossierFilesItems.forEach(function(t){t.dossierPartNo===e.partNo&&t.eForm&&!t.removed&&(t["dossierId"]=o.thongTinHoSo.dossierId,o.dialogPDFLoading=!0,o.dialogPDF=!0,o.onlyView?o.$store.dispatch("viewFile",t).then(function(e){o.dialogPDFLoading=!1,t["eForm"]?o.pdfEform=!0:o.pdfEform=!1,document.getElementById("dialogPDFPreview"+o.id).src=e}):(t["id"]=o.id,o.$store.dispatch("putAlpacaForm",t).then(function(e){setTimeout(function(){o.$store.dispatch("viewFile",t).then(function(e){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+o.id).src=e})},1e3)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_12___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_12___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))})},previewFormAlpaca:function(e,t){var o=this;o.dossierFilesItems.forEach(function(t){t.dossierPartNo===e.partNo&&t.eForm&&!t.removed&&(t["dossierId"]=o.thongTinHoSo.dossierId,o.onlyView?(e["editForm"]=!1,o.$store.dispatch("viewFile",t).then(function(i){t["eForm"]?o.pdfEform=!0:o.pdfEform=!1,document.getElementById("displayPDF"+e.dossierPartNo+o.id).src=i})):(t["id"]=o.id,o.$store.dispatch("putAlpacaForm",t).then(function(i){e["editForm"]=!1,setTimeout(function(){o.$store.dispatch("viewFile",t).then(function(e){document.getElementById("displayPDF"+t.dossierPartNo+o.id).src=e})},500)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_12___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_12___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))})},deleteSingleFile:function(e,t){var o=this,i=confirm("Bạn có chắc chắn xóa file đính kèm ?");i&&(e["dossierId"]=o.thongTinHoSo.dossierId,o.$store.dispatch("deleteDossierFile",e).then(function(i){o.fileViews.splice(t,1),o.stateView=!0,o.partView=e.dossierPartNo,o.$store.dispatch("loadDossierFiles",o.thongTinHoSo.dossierId).then(function(t){o.dossierFilesItems=t,o.setDaKhai(e)})}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_12___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_12___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},viewFile:function(e){var t=this,o=this;o.dossierFilesItems.forEach(function(i){i["dossierId"]=o.thongTinHoSo.dossierId,i.dossierPartNo===e.partNo&&t.$store.dispatch("viewFile",i)})},setDaKhai:function(e){var t=this,o=t.dossierFilesItems.findIndex(function(t){return t.dossierPartNo===e.dossierPartNo});if(-1===o){for(var i=0;i<t.dossierTemplateItems.length;i++)if(t.dossierTemplateItems[i].partNo===e.dossierPartNo){t.dossierTemplateItems[i]["passRequired"]=!1;break}}else for(i=0;i<t.dossierTemplateItems.length;i++)if(t.dossierTemplateItems[i].partNo===e.dossierPartNo){t.dossierTemplateItems[i]["passRequired"]=!0;break}},checkPartType3:function(){var e=this;if(0!==e.dossierTemplateItems.length)for(var t=0;t<e.dossierTemplateItems.length;t++)if(3===e.dossierTemplateItems[t].partType)return!0;return!1},viewFile2:function(e){var t=this;if(0!==e.fileSize)if(e["eForm"]?t.pdfEform=!0:t.pdfEform=!1,"doc"===e.fileType||"docx"===e.fileType||"xlsx"===e.fileType||"xls"===e.fileType||"zip"===e.fileType||"rar"===e.fileType||"txt"===e.fileType||"mp3"===e.fileType||"mp4"===e.fileType){var o=t.initDataResource.dossierApi+"/"+t.thongTinHoSo.dossierId+"/files/"+e.referenceUid;window.open(o)}else e["dossierId"]=t.thongTinHoSo.dossierId,e.referenceUid?(t.dialogPDFLoading=!0,t.dialogPDF=!0,t.$store.dispatch("viewFile",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+t.id).src=e})):(toastr__WEBPACK_IMPORTED_MODULE_12___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_12___default.a.error("File dữ liệu không tồn tại"))},attachToDossier:function(e,t){var o=this;console.log(e,t),e["dossierId"]=o.thongTinHoSo.dossierId,3!==e.partType&&(o.progressUploadPart=e.dossierFileId,o.$store.dispatch("copyFile",e).then(function(e){o.progressUploadPart="",o.dossierTemplateItems[t]["passRequired"]=!0,o.$store.dispatch("loadDossierFiles",o.thongTinHoSo.dossierId).then(function(e){o.dossierFilesItems=e,o.recountFileTemplates()})}).catch(function(e){o.progressUploadPart="",toastr__WEBPACK_IMPORTED_MODULE_12___default.a.error("Đính kèm tài liệu thất bại")}))},viewGiayToDaNop:function(e){var t=this;if(0!==e.fileSize)if(e["eForm"]?t.pdfEform=!0:t.pdfEform=!1,"doc"===e.fileType||"docx"===e.fileType||"xlsx"===e.fileType||"xls"===e.fileType||"zip"===e.fileType||"rar"===e.fileType||"txt"===e.fileType||"mp3"===e.fileType||"mp4"===e.fileType){var o=t.initDataResource.dossierApi+"/"+e.dossierId+"/files/"+e.referenceUid;window.open(o)}else e.referenceUid?(t.dialogPDFLoading=!0,t.dialogPDF=!0,t.$store.dispatch("viewFile",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+t.id).src=e})):(toastr__WEBPACK_IMPORTED_MODULE_12___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_12___default.a.error("File dữ liệu không tồn tại"))},viewFileWithPartNo:function(e){var t=this;if(t.dossierFilesItems){var o=t.dossierFilesItems.filter(function(t){return t.dossierPartNo===e.partNo&&!t.eForm});if(!o)return;t.fileViews=o,t.partView!==e.partNo?(t.stateView=!0,t.partView=e.partNo):(t.stateView=!t.stateView,t.partView=e.partNo)}},saveMark:function(){var e=this;e.dossierTemplateItems&&e.dossierTemplateItems.forEach(function(t,o){1===t.partType&&(t["dossierId"]=e.thongTinHoSo.dossierId,e.$store.dispatch("postDossierMark",t))})},changeFileMark:function(e,t){var o=this;if(!o.onlyView){var i=o.dossierTemplateItems[t];i["dossierId"]=o.thongTinHoSo.dossierId,i["fileMark"]=e,i["checkInput"]=o.checkInput,o.$store.dispatch("postDossierMark",i),o.dossierTemplateItems[t].fileMark=e}},changeFileCheck:function(e,t){var o=this,i=o.dossierTemplateItems[t];i["dossierId"]=o.thongTinHoSo.dossierId,i["fileCheck"]=e,i["checkInput"]=o.checkInput,2!==e?(i["fileComment"]="",o.$store.dispatch("postDossierMark",i),o.dossierTemplateItems[t].fileCheck=e):i["stateEditFileCheck"]=!0},changeFileComment:function(e,t){var o=this;null!==e.fileComment&&void 0!==e.fileComment&&""!==e.fileComment&&(e["dossierId"]=o.thongTinHoSo.dossierId,e["fileComment"]=e.fileComment,e["checkInput"]=o.checkInput,e["stateEditFileCheck"]=!e["stateEditFileCheck"],o.$store.dispatch("postDossierMark",e),o.dossierTemplateItems[t].fileComment=e.fileComment)},checkStyle:function(e){var t=this;if(1===t.checkInput)return"calc(100% - 140px)";var o=0;return 1===t.originality||1!==e.partType||t.thongTinHoSo.online||1===t.checkInput||(t.onlyView?o+=140:o+=240),e.fileCheck>0&&!t.thongTinHoSo.online&&(o+=20),e.fileCheck>0&&t.thongTinHoSo.online&&(o+=40),t.onlyView||(o+=90),"calc(100% - "+o+"px)"},checkVisibleTemp:function(e,t){var o=this;if(!o.onlyView)return!0;if(3===e.partType){if(o.dossierFilesItems.length>0){var i=o.dossierFilesItems.findIndex(function(t){return t.dossierPartNo===e.partNo});return-1!==i}return!1}return!0},changeStateViewResult:function(){var e=this;if(e.dossierFilesItems.length>0){var t=e.dossierFilesItems.findIndex(function(e){return 2===e.dossierPartType||7===e.dossierPartType});-1!==t?e.$emit("tp:change-state-view-result",!0):e.$emit("tp:change-state-view-result",!1)}else(e.partTypes.includes(2)||e.partTypes.includes(7))&&e.$emit("tp:change-state-view-result",!1)},changeOtherDossierTemp:function(e){var t=this;if(3===t.originality&&t.stateAddFileOther)t.loadingAddOther=!0,t.$store.dispatch("uploadSingleOtherFile",{dossierId:t.thongTinHoSo.dossierId,displayName:e,partNo:t.dossierTemplatesItemSelect.partNo}).then(function(e){t.loadingAddOther=!1,t.dialogAddOtherTemp=!1,t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId).then(function(e){t.dossierFilesItems=e})}).catch(function(e){t.loadingAddOther=!1});else{var o=t.dossierTemplatesItemSelect;o["dossierId"]=t.thongTinHoSo.dossierId,o["displayName"]=e,o["dossierTemplateNo"]=t.thongTinHoSo.dossierTemplateNo,t.$store.dispatch("uploadSingleFile",o).then(function(e){t.progressUploadPart="",t.dialogAddOtherTemp=!1,t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId).then(function(e){if(t.dossierFilesItems=e,t.recountFileTemplates(),t.stateView&&t.dossierFilesItems){var o=t.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.dossierTemplatesItemSelect.partNo&&!e.eForm});o&&(t.fileViews=o)}})}).catch(function(e){t.progressUploadPart=""})}},downloadFileTemplate:function(e,t){var o=this;if(o.fileTemplateItems.length>0){var i=o.fileTemplateItems.find(function(t){return e.fileTemplateNo===t.fileTemplateNo});if(i){var a=o.initDataResource.serviceInfoApi+"/"+o.serviceInfoId+"/filetemplates/"+i.fileTemplateNo;window.open(a)}else console.log("ko thay file")}},addOtherTemplate:function(){var e=this;e.$refs.form.validate()&&e.changeOtherDossierTemp(e.otherDossierTemplate)},editDisplayName:function(e,t){var o=this;o.dossierFileIdView!==e.dossierFileId?(o.dossierFileIdView=e.dossierFileId,o.stateEdit=!0):(o.dossierFileIdView=e.dossierFileId,o.stateEdit=!o.stateEdit)},cancelDialog:function(){var e=this;e.dialogAddOtherTemp=!1,e.progressUploadPart=""},addFileOther:function(e){var t=this;t.dialogAddOtherTemp=!0,t.stateAddFileOther=!0,t.dossierTemplatesItemSelect=e},validDossierTemplate:function(){var e=this;if(e.dossierTemplateItems.length>0){for(var t=0;t<e.dossierTemplateItems.length;t++)if(e.dossierTemplateItems[t]["required"]&&!e.dossierTemplateItems[t]["passRequired"]&&e.partTypes.includes(e.dossierTemplateItems[t].partType)){var o="Chú ý :"+e.dossierTemplateItems[t].partName+" là thành phần bắt buộc!";return toastr__WEBPACK_IMPORTED_MODULE_12___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_12___default.a.error(o),!1}return!0}return!0},changeDisplayName:function(e,t){var o=this,i={dossierId:o.thongTinHoSo.dossierId,value:value};o.$store.dispatch("changeDisplayNameFile",i).then(function(e){o.fileViews[t].displayName=e.displayName,o.stateEdit=!1}).catch(function(e){console.log("error")})},getDossierFileApplicants:function(e,t){var o=this,i={dossierId:o.thongTinHoSo.dossierId,applicantIdNo:e,fileTemplateNo:t};o.$store.dispatch("getDossierFilesApplicants",i).then(function(e){o.dossierFilesApplicant=e}).catch(function(e){console.log("error")})},showFilesApplicant:function(e){jquery__WEBPACK_IMPORTED_MODULE_11___default()("#fileApplicant-"+e).is(":visible")?jquery__WEBPACK_IMPORTED_MODULE_11___default()("#fileApplicant-"+e).hide():jquery__WEBPACK_IMPORTED_MODULE_11___default()("#fileApplicant-"+e).show()},checkKQhasFile:function(e){var t=this;if(t.partTypes.includes(2)){var o=t.dossierFilesItems.find(function(t){return e.partNo===t.dossierPartNo});return!!o}return!0},partNoApplicantHasFile:function(e){var t=this,o=t.dossierFilesApplicant.find(function(o){return o.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&o.dossierPartNo===e});return!!o},changeRecordCount:function(e){var t=this;if(!t.onlyView){var o=function(){t.doChange=setTimeout(function(){if(!t.onlyView&&Number(t.dossierTemplateItems[e]["recordCount"])>=0){var o=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({},t.dossierTemplateItems[e],{dossierId:t.thongTinHoSo.dossierId});t.$store.dispatch("postDossierMark",o)}},3e3)};t.dossierTemplateItems[e].recordCount=t.dossierTemplateItems[e]["recordCount"]?t.dossierTemplateItems[e]["recordCount"]:"",clearTimeout(t.doChange),o()}},increaseCounter:function(e){var t=this;function o(){t.doChange=setTimeout(function(){if(!t.onlyView&&Number(t.dossierTemplateItems[e]["recordCount"])>=0){var o=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({},t.dossierTemplateItems[e],{dossierId:t.thongTinHoSo.dossierId});t.$store.dispatch("postDossierMark",o)}},3e3)}t.dossierTemplateItems[e].recordCount=t.dossierTemplateItems[e]["recordCount"]?t.dossierTemplateItems[e]["recordCount"]:"",t.dossierTemplateItems[e]["recordCount"]=Number(t.dossierTemplateItems[e]["recordCount"])+1,clearTimeout(t.doChange),o()},decreaseCounter:function(e){var t=this;function o(){t.doChange=setTimeout(function(){if(!t.onlyView&&Number(t.dossierTemplateItems[e]["recordCount"])>=0){var o=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({},t.dossierTemplateItems[e],{dossierId:t.thongTinHoSo.dossierId});t.$store.dispatch("postDossierMark",o)}},3e3)}t.dossierTemplateItems[e].recordCount=t.dossierTemplateItems[e]["recordCount"]?t.dossierTemplateItems[e]["recordCount"]:"",t.dossierTemplateItems[e]["recordCount"]=Number(t.dossierTemplateItems[e]["recordCount"])-1,clearTimeout(t.doChange),o()},getFilesGroupDossier:function(){var e=this;return e.dossierFilesItems},getDocumentTypeIcon:function(e){var t="doc,docx",o="xls,xlsx",i="png,jpg,jpeg";return e?t.indexOf(e.toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:o.indexOf(e.toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===e.toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:i.indexOf(e.toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:""}}}},"610f":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("label",{class:e.className,style:e.maxWidth,attrs:{role:"checkbox",title:e.toggled?e.title_checked:e.title_unchecked,"aria-checked":e.ariaChecked}},[o("input",{staticClass:"v-switch-input",attrs:{type:"checkbox"},on:{change:function(t){return t.stopPropagation(),e.toggle(t)}}}),o("div",{staticClass:"v-switch-core",style:e.coreStyle},[o("div",{staticClass:"v-switch-button",style:e.buttonStyle})]),e.labels?[e.toggled?o("span",{staticClass:"v-switch-label v-left",style:e.labelStyle,domProps:{innerHTML:e._s(e.labelChecked)}}):o("span",{staticClass:"v-switch-label v-right",style:e.labelStyle,domProps:{innerHTML:e._s(e.labelUnchecked)}})]:e._e()],2)},a=[],n=(o("6b54"),o("c5f6"),o("7618")),s={colorChecked:"#75C791",colorUnchecked:"#bfcbd9",cssColors:!1,labelChecked:"on",labelUnchecked:"off",width:50,height:22,margin:3},r=function(e,t){return"object"===Object(n["a"])(e)&&e.hasOwnProperty(t)},c=function(e){return e+"px"},l={name:"toggle-button",props:{title_checked:"",title_unchecked:"",value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},sync:{type:Boolean,default:!1},speed:{type:Number,default:300},color:{type:[String,Object],validator:function(e){return"object"===Object(n["a"])(e)?e.checked||e.unchecked:"string"===typeof e}},cssColors:{type:Boolean,default:!1},labels:{type:[Boolean,Object],default:!1,validator:function(e){return"object"===Object(n["a"])(e)?e.checked||e.unchecked:"boolean"===typeof e}},height:{type:Number,default:s.height},width:{type:Number,default:s.width}},computed:{className:function(){var e=this.toggled,t=this.disabled;return["vue-js-switch",{toggled:e,disabled:t}]},ariaChecked:function(){return this.toggled.toString()},coreStyle:function(){return{width:c(this.width),height:c(this.height),backgroundColor:this.cssColors?null:this.colorCurrent,borderRadius:c(Math.round(this.height/2))}},maxWidth:function(){return{width:c(this.width)+"!important"}},buttonRadius:function(){return this.height-2*s.margin},distance:function(){return c(this.width-this.height+s.margin)},buttonStyle:function(){return{width:c(this.buttonRadius),height:c(this.buttonRadius),transition:"transform ".concat(this.speed,"ms"),transform:this.toggled?"translate3d(".concat(this.distance,", 3px, 0px)"):null}},labelStyle:function(){return{lineHeight:c(this.height)}},colorChecked:function(){var e=this.color;return"object"!==Object(n["a"])(e)?e||s.colorChecked:r(e,"checked")?e.checked:s.colorChecked},colorUnchecked:function(){var e=this.color;return r(e,"unchecked")?e.unchecked:s.colorUnchecked},colorCurrent:function(){return this.toggled?this.colorChecked:this.colorUnchecked},labelChecked:function(){return r(this.labels,"checked")?this.labels.checked:s.labelChecked},labelUnchecked:function(){return r(this.labels,"unchecked")?this.labels.unchecked:s.labelUnchecked}},watch:{value:function(e){this.sync&&(this.toggled=!!e)}},data:function(){return{toggled:!!this.value}},methods:{toggle:function(e){this.toggled=!this.toggled,this.$emit("input",this.toggled),this.$emit("change",{value:this.toggled,srcEvent:e})}}},d=l,_=o("2877"),u=Object(_["a"])(d,i,a,!1,null,null,null);t["a"]=u.exports},6561:function(e,t,o){"use strict";var i=o("dbf2"),a=o.n(i);a.a},6611:function(module,__webpack_exports__,__webpack_require__){"use strict";var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026");__webpack_exports__["a"]={props:{item:{type:Object,default:function(){return{dossierId:0}}},layout_view:{type:Object}},created:function created(){var vm=this;null!==vm.layout_view&&void 0!==vm.layout_view&&"undefined"!==vm.layout_view&&vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("my-dynamic-view",{template:vm.layout_view["template"],data:eval(" ( "+vm.layout_view["data"]+" ) "),created:eval(" ( "+vm.layout_view["created"]+" ) "),updated:eval(" ( "+vm.layout_view["updated"]+" ) "),methods:vm.layout_view["methods"]})}}},"6e92":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-card",{attrs:{flat:""}},[e._l(e.dossierTemplateItemsFilter,function(t,i){return o("div",{key:t.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative",overflow:"hidden"}},[o("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{expand:"",value:e.currentFormView==="formAlpaca"+t.partNo+e.id?[!0]:[!1]}},[o("v-expansion-panel-content",{attrs:{"hide-actions":""}},[o("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(t){e.stateView=!1}},slot:"header"},[o("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:e.checkStyle(t)}},[o("div",{staticClass:"mr-2",staticStyle:{"min-width":"20px",display:"flex"},on:{click:function(o){t.hasForm&&e.loadAlpcaFormClick(t)}}},[o("div",{staticClass:"header__tphs",staticStyle:{"min-width":"20px"}},[o("span",{staticClass:"text-bold"},[e._v(e._s(i+1)+".")]),e._v("  ")]),o("div",{staticClass:"header__tphs",staticStyle:{"text-align":"justify"}},[t.partTip&&t.partTip["tip"]?o("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[o("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n                      "+e._s(t.partName)+"\n                      "),t.required?o("span",{staticStyle:{color:"red"}},[e._v("   (*) ")]):e._e()]),t.partTip["tip"]?o("span",[e._v(e._s(t.partTip["tip"]))]):e._e()]):o("span",[e._v("\n                    "+e._s(t.partName)+" "),t.required?o("span",{staticStyle:{color:"red"}},[e._v("   (*) ")]):e._e(),t.hasForm?o("span",{staticStyle:{color:"#004b94"}},[e._v("(Bản khai trực tuyến)")]):e._e()]),e._v("\n                    \n                  "),!t.hasForm&&t.hasFileTemp?o("v-tooltip",{attrs:{top:""}},[o("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(o){o.stopPropagation(),e.downloadFileTemplate(t,i)}},slot:"activator"},[e._v("save_alt")]),o("span",[e._v("Biểu mẫu điền thủ công")])],1):e._e()],1)]),o("div",{staticStyle:{display:"flex"}},[1===e.checkInput&&2===t.fileCheck&&t.stateEditFileCheck?o("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(e){return!!e||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(o){if(!("button"in o)&&e._k(o.keyCode,"enter",13,o.key,"Enter"))return null;e.changeFileComment(t,i)}},model:{value:t.fileComment,callback:function(o){e.$set(t,"fileComment",o)},expression:"item.fileComment"}}):e._e(),1===e.checkInput&&2===t.fileCheck&&t.stateEditFileCheck?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){o.stopPropagation(),e.changeFileComment(t,i)}},slot:"activator"},[o("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[e._v("send")])],1),o("span",[e._v("Gửi")])],1):e._e()],1),t.fileComment&&!t.stateEditFileCheck?o("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[e._v(e._s(t.fileComment))]):e._e(),t.fileComment&&!t.stateEditFileCheck&&1===e.checkInput?o("v-tooltip",{attrs:{top:""}},[o("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.stateEditFileCheck=!t.stateEditFileCheck}},slot:"activator"},[e._v("edit")]),o("span",[e._v("Chỉnh sửa ý kiến")])],1):e._e(),e._l(e.dossierFilesItems,function(i,a){return t.partNo===i.dossierPartNo?o("div",{key:a},[i.eForm?e._e():o("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"0px"}},[o("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile2(i)}}},[0!==i.fileSize?o("v-icon",{staticClass:"mr-1",attrs:{color:e.getDocumentTypeIcon(i.fileType)["color"],size:e.getDocumentTypeIcon(i.fileType)["size"]}},[e._v("\n                      "+e._s(e.getDocumentTypeIcon(i.fileType)["icon"])+"\n                    ")]):e._e(),e._v("\n                    "+e._s(i.displayName)+" - \n                    "),o("i",[e._v(e._s(i.modifiedDate))])],1),e.onlyView||1===e.checkInput?e._e():o("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(t){t.stopPropagation(),e.deleteSingleFile(i,a)}}},[o("v-icon",{staticStyle:{color:"red"}},[e._v("delete_outline")])],1)],1)]):e._e()}),o("div",{staticClass:"mr-3 my-2 py-2",staticStyle:{display:"none","max-height":"250px",overflow:"auto",border:"1px dashed #f3ae75","border-radius":"5px",position:"relative"},attrs:{id:"fileApplicant-"+t.partNo}},[e._l(e.dossierFilesApplicant,function(a,n){return a.dossierTemplateNo===e.thongTinHoSo["dossierTemplateNo"]&&t.partNo===a.dossierPartNo?o("div",{key:n},[a.eForm&&0!==a.fileSize?o("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"3px"}},[o("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[o("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.viewGiayToDaNop(a)}},slot:"activator"},[o("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),e._v("  \n                        "+e._s(a.dossierTemplateNo?a.dossierTemplateNo:a.referenceUid)+"."+e._s(a.fileType)+" - \n                        "),o("i",[e._v(e._s(a.modifiedDate))])]),o("span",[e._v("Bản khai trực tuyến")])]),e.progressUploadPart===a.dossierFileId?o("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e._e(),e.onlyView||e.progressUploadPart?e._e():o("v-tooltip",{staticClass:"ml-2",attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(t){e.attachToDossier(a,i)}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[e._v("cloud_download")])],1)],1),o("span",[e._v("Sử dụng giấy tờ này")])],1)],1):o("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"3px"}},[o("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[o("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.viewGiayToDaNop(a)}},slot:"activator"},[0!==a.fileSize?o("v-icon",{staticStyle:{color:"#0d71bb"}},[e._v("attach_file")]):e._e(),e._v("\n                        "+e._s(a.displayName)+" - \n                        "),o("i",[e._v(e._s(a.modifiedDate))])],1),o("span",[e._v("Đính kèm")])]),e.progressUploadPart===a.dossierFileId?o("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e._e(),e.onlyView||e.progressUploadPart?e._e():o("v-tooltip",{staticClass:"ml-2",attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(t){e.attachToDossier(a,i)}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[e._v("cloud_download")])],1)],1),o("span",[e._v("Sử dụng giấy tờ này")])],1)],1)]):e._e()}),o("v-btn",{staticClass:"mx-0 my-0",staticStyle:{position:"absolute",right:"0px",top:"0px"},attrs:{flat:"",icon:"",color:"red"},on:{click:function(o){o.stopPropagation(),e.showFilesApplicant(t.partNo)}}},[o("v-icon",[e._v("clear")])],1)],2)],2)]),t.hasForm?o("v-card",{attrs:{flat:""}},[o("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[o("v-layout",{attrs:{wrap:""}},[e.stateView?e._e():o("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[o("div",{style:e.pstFixed>e.pstEl&&e.pstFixed<e.endEl+e.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+t.partNo+e.id}},[t["editForm"]&&t.hasForm&&!e.onlyView&&1!==e.checkInput?o("v-btn",{attrs:{color:"primary",disabled:e.loadingApacal},on:{click:function(o){o.stopPropagation(),e.saveAlpacaForm(t,i)}}},[e.loadingApacal?o("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):o("v-icon",{attrs:{color:"white"}},[e._v("save")]),e._v(" \n                      Lưu lại\n                    ")],1):e._e(),t["editForm"]&&t.daKhai&&t.hasForm?o("v-btn",{attrs:{color:"primary",disabled:e.loadingApacal},on:{click:function(o){o.stopPropagation(),e.previewFormAlpaca(t,i)}}},[e.loadingApacal?o("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):o("v-icon",{attrs:{color:"white"}},[e._v("print")]),e._v(" \n                      Xem\n                    ")],1):e._e(),t["editForm"]||!t.hasForm||e.onlyView?e._e():o("v-btn",{attrs:{color:"primary"},on:{click:function(o){o.stopPropagation(),e.editFormAlpaca(t)}}},[o("v-icon",{attrs:{color:"white"}},[e._v("edit")]),e._v(" \n                      Sửa\n                    ")],1),t.daKhai&&t.hasForm&&!e.onlyView&&1!==e.checkInput?o("v-btn",{attrs:{color:"primary",disabled:e.loadingApacal},on:{click:function(o){o.stopPropagation(),e.deleteSingleFileEform(t,i)}}},[e.loadingApacal?o("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):o("v-icon",{attrs:{color:"white"}},[e._v("delete")]),e._v(" \n                      Xóa\n                    ")],1):e._e()],1),t["editForm"]?o("div",{style:{"pointer-events: none":e.onlyView},attrs:{id:"formAlpaca"+t.partNo+e.id}}):e._e(),t["editForm"]?e._e():o("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"displayPDF"+t.partNo+e.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})])],1)],1)],1):e._e()],1)],1),o("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-layout",{attrs:{row:"",wrap:""}},[1===e.originality||e.onlyView?e._e():o("v-flex",{staticClass:"layout wrap mr-2",staticStyle:{width:"100px"}},[o("v-text-field",{staticClass:"counter-up-down text-xs-center",staticStyle:{width:"100px"},style:e.onlyView?"pointer-events: none":"",attrs:{title:"Số lượng","append-icon":"add","prepend-inner-icon":"remove","clear-icon":"mdi-close-circle",type:"number",solo:"",flat:"",height:"32"},on:{"click:append":function(t){e.increaseCounter(i)},"click:prepend-inner":function(t){e.decreaseCounter(i)},input:function(t){e.changeRecordCount(i)}},model:{value:e.dossierTemplateItems[i]["recordCount"],callback:function(t){e.$set(e.dossierTemplateItems[i],"recordCount",t)},expression:"dossierTemplateItems[index]['recordCount']"}})],1),1===e.originality||1!==t.partType||e.thongTinHoSo.online||1===e.checkInput?e._e():o("v-flex",{staticClass:"layout wrap",staticStyle:{width:"100px"}},[o("v-autocomplete",{style:e.onlyView?"pointer-events: none":"",attrs:{items:e.fileMarkItems},on:{change:function(t){e.changeFileMark(t,i)}},model:{value:e.dossierTemplateItems[i].fileMark,callback:function(t){e.$set(e.dossierTemplateItems[i],"fileMark",t)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===e.checkInput?o("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[o("v-select",{attrs:{items:e.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(t){e.changeFileCheck(t,i)}},model:{value:e.dossierTemplateItems[i].fileCheck,callback:function(t){e.$set(e.dossierTemplateItems[i],"fileCheck",t)},expression:"dossierTemplateItems[index].fileCheck"}})],1):t.fileCheck>0?o("v-flex",{staticClass:"layout wrap",style:{width:"40px","align-items":"center","margin-left":"10px","margin-top":e.thongTinHoSo.online?"10px":"0px"}},[1===t.fileCheck?o("v-tooltip",{attrs:{top:""}},[o("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"24",color:"primary"},slot:"activator"},[e._v("done")]),o("span",[e._v("Đạt")])],1):2===t.fileCheck?o("v-tooltip",{attrs:{top:""}},[o("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"24",color:"primary"},slot:"activator"},[e._v("close")]),o("span",[e._v("Không đạt")])],1):e._e()],1):e._e(),1!==e.checkInput?o("v-flex",{class:{"text-xs-right":e.onlyView},style:{width:e.onlyView?"auto":"120px"}},[t["multiple"]?o("input",{staticStyle:{display:"none"},attrs:{type:"file",multiple:"",id:"file"+t.partNo},on:{change:function(o){e.onUploadSingleFile(o,t,i)}}}):o("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+t.partNo},on:{change:function(o){e.onUploadSingleFile(o,t,i)}}}),3!==t.partType||3!==e.originality||e.onlyView?e._e():o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){e.addFileOther(t)}},slot:"activator"},[o("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[e._v("add")])],1),o("span",[e._v("Thêm giấy tờ khác")])],1),e.progressUploadPart===t.partNo?o("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e._e(),e.progressUploadPart!==t.partNo&&!e.onlyView&t.hasForm?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){o.stopPropagation(),e.loadAlpcaFormClick(t)}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"24",color:"#004b94"}},[e._v("edit")])],1)],1),o("span",[e._v("Khai trực tuyến")])],1):e._e(),e.progressUploadPart!==t.partNo&&e.onlyView&t.hasForm?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-1 my-0",staticStyle:{height:"25px",width:"25px"},attrs:{slot:"activator",fab:"",dark:"",small:"",color:"primary"},on:{click:function(o){e.loadAlpcaFormClick(t)}},slot:"activator"},[o("v-icon",{staticStyle:{"font-size":"14px"}},[e._v("visibility")])],1),o("span",[e._v("Xem")])],1):e._e(),e.progressUploadPart===t.partNo||e.onlyView?e._e():o("v-tooltip",{attrs:{left:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){e.pickFile(t)}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"24",color:"#004b94"}},[e._v("cloud_upload")])],1)],1),t.partTip["extensions"]||t.partTip["maxSize"]?o("span",[e._v("Tải giấy tờ lên (Chấp nhận tải lên các định dạng: "+e._s(t.partTip["extensions"])+". Tối đa "+e._s(t.partTip["maxSize"])+" MB)")]):o("span",[e._v("Tải giấy tờ lên")])],1),e.partNoApplicantHasFile(t.partNo)&&!e.onlyView?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){e.showFilesApplicant(t.partNo)}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"24",color:"orange darken-3"}},[e._v("folder")])],1)],1),o("span",[e._v("Giấy tờ đã nộp")])],1):e._e()],1):e._e()],1)],1)],1)}),e.partTypes.includes(2)||3!==e.originality||e.partTypes.includes(7)?e._e():o("div",[o("v-card",{attrs:{flat:""}},[o("v-card-text",{staticClass:"py-0 px-3 pl-4",attrs:{flat:""}},[e.onlyView?e._e():o("div",{staticClass:"my-2"},[o("v-textarea",{staticClass:"py-0",attrs:{box:"",rows:"3",label:"Ghi chú"},on:{input:e.changeApplicantNote},model:{value:e.applicantNoteDossier,callback:function(t){e.applicantNoteDossier=t},expression:"applicantNoteDossier"}})],1),e.onlyView&&e.applicantNoteDossier?o("v-text-field",{staticClass:"my-2",attrs:{label:"Ghi chú",readonly:"",box:""},model:{value:e.applicantNoteDossier,callback:function(t){e.applicantNoteDossier=t},expression:"applicantNoteDossier"}}):e._e()],1)],1)],1),o("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:e.dialogAddOtherTemp,callback:function(t){e.dialogAddOtherTemp=t},expression:"dialogAddOtherTemp"}},[o("v-card",[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("Tên giấy tờ")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.cancelDialog(t)}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",{staticClass:"pb-0 pt-4"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[o("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(e){return!!e||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:e.otherDossierTemplate,callback:function(t){e.otherDossierTemplate=t},expression:"otherDossierTemplate"}})],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"red darken-3",flat:"flat",loading:e.loadingAddOther},nativeOn:{click:function(t){return e.cancelDialog(t)}}},[e._v("\n              Quay lại\n              "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])]),o("v-btn",{attrs:{color:"primary",flat:"flat",loading:e.loadingAddOther},nativeOn:{click:function(t){return e.addOtherTemplate(t)}}},[e._v("\n              Đồng ý\n              "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])],1)],1)],1)],1)],2),o("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[o("v-toolbar-title",[e.pdfEform?o("span",[e._v("Bản in đã khai trực tuyến")]):o("span",[e._v("Tài liệu đính kèm")])]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[o("v-icon",[e._v("close")])],1)],1),e.dialogPDFLoading?o("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[o("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),o("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+e.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},a=[],n=o("92fe"),s=n["a"],r=o("2877"),c=o("6544"),l=o.n(c),d=o("c6a6"),_=o("4ca6"),u=o("8336"),p=o("b0af"),h=o("99d9"),m=o("169a"),g=o("cd55"),f=o("49e2"),v=o("0e8f"),y=o("4bd4"),C=o("132d"),D=o("a722"),T=o("490a"),S=o("b56d"),P=o("9910"),b=o("2677"),x=o("a844"),E=o("71d9"),I=o("2a7f"),A=o("3a2f"),O=Object(r["a"])(s,i,a,!1,null,null,null);t["a"]=O.exports;l()(O,{VAutocomplete:d["a"],VBadge:_["a"],VBtn:u["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["b"],VDialog:m["a"],VExpansionPanel:g["a"],VExpansionPanelContent:f["a"],VFlex:v["a"],VForm:y["a"],VIcon:C["a"],VLayout:D["a"],VProgressCircular:T["a"],VSelect:S["a"],VSpacer:P["a"],VTextField:b["a"],VTextarea:x["a"],VToolbar:E["a"],VToolbarTitle:I["b"],VTooltip:A["a"]})},7121:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"phancong",staticStyle:{"background-color":"white",width:"100%"}},[3===e.type||4===e.type?o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("Phân công chỉ đạo\n      ")]),o("v-card",[o("div",{staticClass:"px-4 py-1"},[o("v-layout",{attrs:{wrap:""}},e._l(e.data_uyquyen,function(t,i){return o("v-checkbox",{key:t.userId,staticStyle:{display:"inline-block","min-width":"190px","max-width":"190px"},attrs:{slot:"activator",title:t.userName},on:{change:function(t){e.changeDelegacy(t,i)}},slot:"activator",model:{value:t.assigned,callback:function(o){e.$set(t,"assigned",o)},expression:"item.assigned"}},[o("template",{slot:"label"},[o("span",{staticClass:"black--text"},[e._v(e._s(t.userName))])])],2)}),1)],1)])],1)],1):e._e(),o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("Phân công người thực hiện\n      ")]),o("v-card",[1===e.type||3===e.type?o("div",{staticClass:"px-4 py-1"},[o("v-layout",{attrs:{wrap:""}},e._l(e.data_phancong,function(t,i){return o("v-checkbox",{key:t.userId,staticStyle:{display:"inline-block","min-width":"190px","max-width":"190px"},attrs:{slot:"activator",title:t.userName},on:{change:function(t){e.changeAssigned(t,i)}},slot:"activator",model:{value:t.assigned,callback:function(o){e.$set(t,"assigned",o)},expression:"item.assigned"}},[o("template",{slot:"label"},[o("span",{staticClass:"black--text"},[e._v(e._s(t.userName))])])],2)}),1)],1):e._e(),2===e.type||4===e.type?o("v-card-text",{staticClass:"px-4 py-1"},[o("v-layout",{staticClass:"my-1",attrs:{wrap:""}},e._l(e.data_phancong,function(t,i){return o("div",{key:t.userId,staticClass:"ml-3"},[o("v-layout",{attrs:{wrap:""}},[o("v-tooltip",{attrs:{top:""}},[o("v-checkbox",{staticStyle:{"min-width":"150px"},attrs:{slot:"activator",label:t.userName},on:{change:function(t){e.checkAsign(t,i)}},slot:"activator",model:{value:t.assigned,callback:function(o){e.$set(t,"assigned",o)},expression:"item.assigned"}}),o("span",{staticClass:"pl-0"},[e._v(" "+e._s(t.userName)+" ")])],1)],1)],1)}),0)],1):e._e()],1)],1)],1)],1)},a=[],n=(o("c5f6"),o("854a")),s=o.n(n),r=o("610f");s.a.options={closeButton:!0,timeOut:"2000"};var c={components:{"toggle-button":r["a"]},props:{assign_items:{type:Array,default:function(){return[]}},data_uyquyen:{type:Array,default:function(){return[]}},type:{type:Number,default:function(){return 1}},configNote:{type:Object,default:function(){}},detailDossier:{type:Object,default:function(){}}},model:{prop:"assign_items"},data:function(){return{data_phancong:[],assignedtype_items:{2:[{text:"Không có phân công",value:0},{text:"Thực hiện chính",value:1},{text:"Thực hiện phối hợp",value:2}],3:[{text:"Không có phân công",value:0},{text:"Thực hiện chính",value:1},{text:"Thực hiện phối hợp",value:2},{text:"Theo dõi",value:3}]},title_asign:{1:"PHÂN CÔNG NGƯỜI THỰC HIỆN",2:"PHÂN CÔNG THỰC HIỆN, PHỐI HỢP",3:"PHÂN CÔNG THỰC HIỆN, PHỐI HỢP VÀ THEO DÕI"},presenterAddGroup:!0,assignValidate:!0}},created:function(){setTimeout(function(){window.$(".btn-tgl").addClass("btn-hidden")},200)},mounted:function(){this.data_phancong=this.assign_items},methods:{changeAssigned:function(e,t){var o=this;0!==o.type&&(o.assign_items[t].assigned=!0===e?1:0)},changeDelegacy:function(e,t){var o=this;3!==o.type&&4!==o.type||(o.data_uyquyen[t].assigned=!0===e?1:0)},checkAsign:function(e,t){var o=this;e?(o.assign_items[t].assigned=1,window.$("#btn-".concat(t)).removeClass("btn-hidden")):(o.assign_items[t].assigned=0,window.$("#btn-".concat(t)).addClass("btn-hidden"))},changeTypeAssign:function(e,t){var o=this;e.value?(o.assign_items[t].assigned=1,window.$("#btn-".concat(t)).removeClass("btn-hidden")):(o.assign_items[t].assigned=2,window.$("#btn-".concat(t)).addClass("btn-hidden"))},doReAsign:function(){var e=this,t={dossierId:e.detailDossier.dossierId,users:e.data_uyquyen};e.$store.dispatch("postDossierUserAsign",t).then(function(e){s.a.success("Yêu cầu của bạn thực hiện thành công")}).catch(function(e){})},doExport:function(){var e=this,t=e.assign_items.filter(function(e){return Number(e.assigned)>0});return 0===t.length?(e.assignValidate=!1,e.assignValidate):(e.assignValidate=!0,e.assignValidate)},getDataDelegacy:function(){var e=this;return e.data_uyquyen}}},l=c,d=o("2877"),_=o("6544"),u=o.n(_),p=o("b0af"),h=o("99d9"),m=o("ac7c"),g=o("cd55"),f=o("49e2"),v=o("132d"),y=o("a722"),C=o("3a2f"),D=Object(d["a"])(l,i,a,!1,null,null,null);t["a"]=D.exports;u()(D,{VCard:p["a"],VCardText:h["b"],VCheckbox:m["a"],VExpansionPanel:g["a"],VExpansionPanelContent:f["a"],VIcon:v["a"],VLayout:y["a"],VTooltip:C["a"]})},"74ef":function(e,t,o){},"826a":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-form",{ref:"formChuHoSo",attrs:{"lazy-validation":""},model:{value:e.valid_thongtinchuhoso,callback:function(t){e.valid_thongtinchuhoso=t},expression:"valid_thongtinchuhoso"}},[o("div",[o("div",{staticStyle:{position:"relative"}},[e.showApplicant?e._e():o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v(" Thông tin chủ hồ sơ")]),o("v-card",[(!e.thongTinChuHoSo.userType||1===e.originality&&"business"===e.thongTinChuHoSo.applicantIdType)&&e.bussinessExits?o("v-tooltip",{staticStyle:{position:"absolute",right:"5px","z-index":"101"},attrs:{left:""}},[o("v-btn",{staticClass:"my-0 mt-1",staticStyle:{width:"32px!important",height:"32px!important"},attrs:{slot:"activator",fab:"",icon:"",small:"",dark:"",color:"primary"},nativeOn:{click:function(t){e.getApplicantInfos()}},slot:"activator"},[o("v-icon",{attrs:{dark:""}},[e._v("account_balance")])],1),o("span",[e._v("Đối chiếu thông tin doanh nghiệp")])],1):e._e(),o("v-card-text",{staticClass:"pt-3"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v(" "+e._s(e.labelSwitch[e.thongTinChuHoSo.userType].cmtnd)+" "),e.requiredOptions["applicantIdNo"]?o("span",{staticStyle:{color:"red"}},[e._v(" *")]):e._e(),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[1===e.originality||"1"===e.originality?o("v-text-field",{attrs:{disabled:e.loadingVerify,rules:[function(e){return!!e||"Thông tin bắt buộc"}],required:""},on:{input:e.changeApplicantInfos},model:{value:e.thongTinChuHoSo.applicantIdNo,callback:function(t){e.$set(e.thongTinChuHoSo,"applicantIdNo",t)},expression:"thongTinChuHoSo.applicantIdNo"}}):e._e(),3===e.originality||"3"===e.originality?o("suggestions",{class:e.loadingVerify?"input-group--disabled":"",style:e.loadingVerify?"color:#00000061":"",attrs:{options:e.searchOptions,onItemSelected:e.onSearchItemSelected,onInputChange:e.onInputChange},scopedSlots:e._u([{key:"item",fn:function(t){return o("div",{staticClass:"single-item"},[o("v-list-tile-content",[o("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.applicantName)}}),o("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.item.applicantIdNo)}})],1)],1)}}]),model:{value:e.thongTinChuHoSo.applicantIdNo,callback:function(t){e.$set(e.thongTinChuHoSo,"applicantIdNo",t)},expression:"thongTinChuHoSo.applicantIdNo"}}):e._e()],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v(" "+e._s(e.labelSwitch[e.thongTinChuHoSo.userType].nguoi_nop)),e.requiredOptions["applicantName"]?o("span",{staticStyle:{color:"red"}},[e._v("  *")]):e._e(),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm6:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-text-field",{attrs:{disabled:e.loadingVerify,rules:e.requiredOptions["applicantName"]?[e.rules.required]:"",required:e.requiredOptions["applicantName"]},on:{input:e.changeApplicantInfos},model:{value:e.thongTinChuHoSo.applicantName,callback:function(t){e.$set(e.thongTinChuHoSo,"applicantName",t)},expression:"thongTinChuHoSo.applicantName"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Địa chỉ "),e.requiredOptions["address"]?o("span",{staticStyle:{color:"red"}},[e._v(" *")]):e._e(),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm10:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-text-field",{attrs:{"multi-line":"",rows:"2",rules:e.requiredOptions["address"]?[e.rules.required]:"",required:e.requiredOptions["address"]},model:{value:e.thongTinChuHoSo.address,callback:function(t){e.$set(e.thongTinChuHoSo,"address",t)},expression:"thongTinChuHoSo.address"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Tỉnh/Thành phố"),o("span",{staticStyle:{color:"red"}}),e._v(" : ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-autocomplete",{attrs:{items:e.citys,"item-text":"itemName","item-value":"itemCode"},on:{change:e.onChangeCity},model:{value:e.thongTinChuHoSo.cityCode,callback:function(t){e.$set(e.thongTinChuHoSo,"cityCode",t)},expression:"thongTinChuHoSo.cityCode"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Quận/Huyện "),o("span",{staticStyle:{color:"red"}}),e._v(" : ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-autocomplete",{attrs:{items:e.districts,"item-text":"itemName","item-value":"itemCode"},on:{change:e.onChangeDistrict},model:{value:e.thongTinChuHoSo.districtCode,callback:function(t){e.$set(e.thongTinChuHoSo,"districtCode",t)},expression:"thongTinChuHoSo.districtCode"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Xã/Phường "),o("span",{staticStyle:{color:"red"}}),e._v(" : ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-autocomplete",{attrs:{items:e.wards,"item-text":"itemName","item-value":"itemCode"},on:{change:e.onChangeWard},model:{value:e.thongTinChuHoSo.wardCode,callback:function(t){e.$set(e.thongTinChuHoSo,"wardCode",t)},expression:"thongTinChuHoSo.wardCode"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Số điện thoại "),e.requiredOptions["contactTelNo"]?o("span",{staticStyle:{color:"red"}},[e._v(" *")]):e._e(),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-text-field",{attrs:{"append-icon":"phone",rules:e.requiredOptions["contactTelNo"]?[e.rules.telNo,e.rules.required]:[e.rules.telNo],required:e.requiredOptions["contactTelNo"]},model:{value:e.thongTinChuHoSo.contactTelNo,callback:function(t){e.$set(e.thongTinChuHoSo,"contactTelNo",t)},expression:"thongTinChuHoSo.contactTelNo"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Địa chỉ E-mail "),1===e.originality?o("span",{staticStyle:{color:"red"}}):e._e(),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm6:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-text-field",{model:{value:e.thongTinChuHoSo.contactEmail,callback:function(t){e.$set(e.thongTinChuHoSo,"contactEmail",t)},expression:"thongTinChuHoSo.contactEmail"}})],1)],1)],1)],1)],1)],1),1!==e.originality?o("div",{staticClass:"absolute__btn",staticStyle:{width:"350px"}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-radio-group",{staticClass:"mt-2",attrs:{row:""},on:{change:e.checkApplicantInfos},model:{value:e.thongTinChuHoSo.userType,callback:function(t){e.$set(e.thongTinChuHoSo,"userType",t)},expression:"thongTinChuHoSo.userType"}},[o("v-radio",{attrs:{label:"Công dân",value:!0}}),o("v-radio",{attrs:{label:"Tổ chức, doanh nghiệp",value:!1}})],1)],1):e._e(),1===e.originality||e.showDelegate?e._e():o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v(" Thông tin người nộp hồ sơ")]),o("v-card",[o("v-card-text",[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("CMND/Hộ chiếu "),o("span",{staticStyle:{color:"red"}}),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),1===e.originality||"1"===e.originality?o("v-text-field",{attrs:{rules:[function(e){return!!e||"Thông tin bắt buộc"}],required:""},model:{value:e.thongTinNguoiNopHoSo.delegateIdNo,callback:function(t){e.$set(e.thongTinNguoiNopHoSo,"delegateIdNo",t)},expression:"thongTinNguoiNopHoSo.delegateIdNo"}}):e._e(),3===e.originality||"3"===e.originality?o("suggestions",{attrs:{options:e.searchOptions,onItemSelected:e.onSearchItemSelected1,onInputChange:e.onInputChange1},scopedSlots:e._u([{key:"item",fn:function(t){return o("div",{staticClass:"single-item"},[o("v-list-tile-content",[o("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.applicantName)}}),o("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.item.applicantIdNo)}})],1)],1)}}]),model:{value:e.thongTinNguoiNopHoSo.delegateIdNo,callback:function(t){e.$set(e.thongTinNguoiNopHoSo,"delegateIdNo",t)},expression:"thongTinNguoiNopHoSo.delegateIdNo"}}):e._e()],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Họ và tên "),e.requiredOptions["delegateName"]?o("span",{staticStyle:{color:"red"}},[e._v(" *")]):e._e(),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm6:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-text-field",{attrs:{rules:e.requiredOptions["delegateName"]?[e.rules.required]:"",required:e.requiredOptions["delegateName"]},model:{value:e.thongTinNguoiNopHoSo.delegateName,callback:function(t){e.$set(e.thongTinNguoiNopHoSo,"delegateName",t)},expression:"thongTinNguoiNopHoSo.delegateName"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Địa chỉ "),e.requiredOptions["delegateAddress"]?o("span",{staticStyle:{color:"red"}},[e._v(" *")]):e._e(),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm10:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-text-field",{attrs:{"multi-line":"",rows:"2",rules:e.requiredOptions["delegateAddress"]?[e.rules.required]:"",required:e.requiredOptions["delegateAddress"]},model:{value:e.thongTinNguoiNopHoSo.delegateAddress,callback:function(t){e.$set(e.thongTinNguoiNopHoSo,"delegateAddress",t)},expression:"thongTinNguoiNopHoSo.delegateAddress"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Tỉnh/Thành phố "),o("span",{staticStyle:{color:"red"}}),e._v(" : ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-autocomplete",{attrs:{items:e.citys,"item-text":"itemName","item-value":"itemCode"},on:{change:e.onChangeDelegateCity},model:{value:e.thongTinNguoiNopHoSo.delegateCityCode,callback:function(t){e.$set(e.thongTinNguoiNopHoSo,"delegateCityCode",t)},expression:"thongTinNguoiNopHoSo.delegateCityCode"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Quận/Huyện "),o("span",{staticStyle:{color:"red"}}),e._v(" : ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-autocomplete",{attrs:{items:e.delegateDistricts,"item-text":"itemName","item-value":"itemCode"},on:{change:e.onChangeDelegateDistrict},model:{value:e.thongTinNguoiNopHoSo.delegateDistrictCode,callback:function(t){e.$set(e.thongTinNguoiNopHoSo,"delegateDistrictCode",t)},expression:"thongTinNguoiNopHoSo.delegateDistrictCode"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Xã/Phường "),o("span",{staticStyle:{color:"red"}}),e._v(" : ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-autocomplete",{attrs:{items:e.delegateWards,"item-text":"itemName","item-value":"itemCode"},model:{value:e.thongTinNguoiNopHoSo.delegateWardCode,callback:function(t){e.$set(e.thongTinNguoiNopHoSo,"delegateWardCode",t)},expression:"thongTinNguoiNopHoSo.delegateWardCode"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Số điện thoại "),e.requiredOptions["delegateTelNo"]?o("span",{staticStyle:{color:"red"}},[e._v(" *")]):e._e(),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-text-field",{attrs:{"append-icon":"phone",rules:e.requiredOptions["delegateTelNo"]?[e.rules.telNo,e.rules.required]:[e.rules.telNo],required:e.requiredOptions["delegateTelNo"]},model:{value:e.thongTinNguoiNopHoSo.delegateTelNo,callback:function(t){e.$set(e.thongTinNguoiNopHoSo,"delegateTelNo",t)},expression:"thongTinNguoiNopHoSo.delegateTelNo"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Email: ")])],1),o("v-flex",{attrs:{xs12:"",sm6:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-text-field",{attrs:{rules:e.thongTinNguoiNopHoSo.delegateEmail?[e.rules.email]:""},model:{value:e.thongTinNguoiNopHoSo.delegateEmail,callback:function(t){e.$set(e.thongTinNguoiNopHoSo,"delegateEmail",t)},expression:"thongTinNguoiNopHoSo.delegateEmail"}})],1)],1)],1)],1)],1)],1),e.showApplicant?e._e():o("div",{staticClass:"absolute__btn",staticStyle:{width:"200px","margin-top":"4px"}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-checkbox",{staticClass:"mt-1",attrs:{label:"Giống chủ hồ sơ"},model:{value:e.thongTinNguoiNopHoSo.sameUser,callback:function(t){e.$set(e.thongTinNguoiNopHoSo,"sameUser",t)},expression:"thongTinNguoiNopHoSo.sameUser"}})],1)],1)],1)])]),o("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_applicantInfos,callback:function(t){e.dialog_applicantInfos=t},expression:"dialog_applicantInfos"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("Thông tin doanh nghiệp")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog_applicantInfos=!1}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",{staticClass:"py-1"},[o("v-layout",{staticClass:"py-1 align-center",attrs:{wrap:""}},[o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2"},[o("span",{staticClass:"text-bold"},[e._v("Tên tổ chức, doanh nghiệp: ")]),o("span",[e._v(e._s(e.applicantInfos.applicantName))])])]),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2"},[o("span",{staticClass:"text-bold"},[e._v("Mã số thuế: ")]),o("span",[e._v(e._s(e.applicantInfos.applicantIdNo))])])]),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2"},[o("span",{staticClass:"text-bold"},[e._v("Loại hình doanh nghiệp: ")]),o("span",[e._v(e._s(e.applicantInfos.companyType))])])]),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2"},[o("span",{staticClass:"text-bold"},[e._v("Địa chỉ:")]),o("span",[e._v(e._s(e.applicantInfos.address))])])]),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2"},[o("span",{staticClass:"text-bold"},[e._v("Người đại diện: ")]),o("span",[e._v(e._s(e.applicantInfos.representatives))])])]),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2"},[o("span",{staticClass:"text-bold"},[e._v("Tình trạng: ")]),o("span",[e._v(e._s(e.applicantInfos.companyStatus))])])])],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},nativeOn:{click:function(t){e.dialog_applicantInfos=!1}}},[o("v-icon",[e._v("clear")]),e._v("  \n          Thoát\n        ")],1)],1)],1)],1)],1)},a=[],n=(o("6b54"),o("795b")),s=o.n(n),r=o("5176"),c=o.n(r),l=(o("cadf"),o("551c"),o("097d"),o("bc3a")),d=o.n(l),_=o("c4f6"),u=o.n(_),p=o("854a"),h=o.n(p);h.a.options={closeButton:!0,timeOut:"5000"};var m={components:{suggestions:u.a},props:["showApplicant","showDelegate"],data:function(){return{requiredOptions:{applicantIdNo:!1,applicantName:!1,address:!1,cityCode:!1,districtCode:!1,wardCode:!1,contactTelNo:!1,contactEmail:!1,delegateIdNo:!1,delegateName:!1,delegateAddress:!1,delegateCityCode:!1,delegateDistrictCode:!1,delegateWardCode:!1,delegateTelNo:!1,delegateEmail:!1},valid_thongtinchuhoso:!1,loadingVerify:!1,citys:[],delegateDistricts:[],districts:[],delegateWards:[],wards:[],applicantItems:[],applicantItems2:[],applicantIdNo:"",labelSwitch:{true:{cmtnd:"CMND/ Hộ chiếu",nguoi_nop:"Họ và tên"},false:{cmtnd:"Mã số thuế",nguoi_nop:"Tên tổ chức, doanh nghiệp"}},thongTinChuHoSo:{userType:!0,cityCode:"",districtCode:"",wardCode:"",applicantIdNo:"",applicantIdType:"",contactEmail:"",contactTelNo:"",contactName:"",address:"",applicantName:""},thongTinNguoiNopHoSo:{sameUser:!1,delegateName:"",delegateCityCode:"",delegateAddress:"",delegateDistrictCode:"",delegateWardCode:"",delegateEmail:"",delegateTelNo:"",delegateIdNo:""},applicantInfos:{applicantName:"",applicantIdNo:"",companyType:"",companyStatus:"",address:"",representatives:""},bussinessExits:!1,validBussinessInfos:!0,messageCheckApplicant:"",search:null,search2:null,searchQuery:"",selectedSearchItem:null,searchOptions:{},functionTimeOut:null,dialog_applicantInfos:!1,rules:{required:function(e){return!!e||"Thông tin bắt buộc"},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Địa chỉ Email không hợp lệ"},passWord:function(e){var t=/^(?![0-9]{6,})[0-9a-zA-Z]{6,}$/;return t.test(e)||"Gồm các ký tự 0-9, a-z và ít nhất 6 ký tự"},telNo:function(e){var t=/^([0-9]{0,})$/;return t.test(e)||"Gồm các ký tự 0-9"}}}},computed:{loading:function(){return this.$store.getters.loading},forGroupDossier:function(){return this.$store.getters.getForGroupDossier},originality:function(){var e=this;return console.log("originality",e.getOriginality()),e.getOriginality()},viaPostal:function(){return this.$store.getters.viaPostal},dichVuChuyenPhatKetQua:function(){return this.$store.getters.dichVuChuyenPhatKetQua},ThongTinChuHoSoBindChuyenPhat:function(){var e={cityCode:this.thongTinChuHoSo.cityCode,address:this.thongTinChuHoSo.address,districtCode:this.thongTinChuHoSo.districtCode,wardCode:this.thongTinChuHoSo.wardCode,contactTelNo:this.thongTinChuHoSo.contactTelNo};return e}},created:function(){},watch:{thongTinChuHoSo:{handler:function(e){var t=this,o={delegateName:e.applicantName,delegateCityCode:e.cityCode,delegateAddress:e.address,delegateDistrictCode:e.districtCode,delegateWardCode:e.wardCode,delegateEmail:e.contactEmail,delegateTelNo:e.contactTelNo,delegateIdNo:e.applicantIdNo};t.thongTinNguoiNopHoSo.sameUser&&(e.cityCode&&e.cityCode!==t.thongTinNguoiNopHoSo["delegateCityCode"]&&t.onChangeDelegateCity(e.cityCode),e.districtCode&&e.districtCode!==t.thongTinNguoiNopHoSo["delegateDistrictCode"]&&t.onChangeDelegateDistrict(e.districtCode),t.thongTinNguoiNopHoSo=c()(t.thongTinNguoiNopHoSo,o))},deep:!0},thongTinNguoiNopHoSo:{handler:function(e){var t=this,o=t.thongTinChuHoSo;if(e.sameUser){var i={delegateName:o.applicantName,delegateCityCode:o.cityCode,delegateAddress:o.address,delegateDistrictCode:o.districtCode,delegateWardCode:o.wardCode,delegateEmail:o.contactEmail,delegateTelNo:o.contactTelNo,delegateIdNo:o.applicantIdNo};o.cityCode&&o.cityCode!==t.thongTinNguoiNopHoSo["delegateCityCode"]&&t.onChangeDelegateCity(o.cityCode),o.districtCode&&o.districtCode!==t.thongTinNguoiNopHoSo["delegateDistrictCode"]&&t.onChangeDelegateDistrict(o.districtCode),t.thongTinNguoiNopHoSo=c()(t.thongTinNguoiNopHoSo,i)}else this.$store.dispatch("resetThongTinNguoiNopHoSo")},deep:!0},ThongTinChuHoSoBindChuyenPhat:function(e){this.$store.commit("setThongTinChuHoSoBindChuyenPhat",e)},search:function(e){e&&this.querySelections(e)},search2:function(e){e&&this.querySelections2(e)}},methods:{initData:function(e){var t=this;t.$store.commit("setApplicantId",e.applicantIdNo);var o={delegateName:e.delegateName,delegateCityCode:e.delegateCityCode,delegateAddress:e.delegateAddress,delegateDistrictCode:e.delegateDistrictCode,delegateWardCode:e.delegateWardCode,delegateEmail:e.delegateEmail,delegateTelNo:e.delegateTelNo,delegateIdNo:e.delegateIdNo},i=c()(t.thongTinNguoiNopHoSo,o);t.thongTinNguoiNopHoSo=i;var a=!0;"business"===e.applicantIdType&&(a=!1);var n={userType:a,cityCode:e.cityCode,districtCode:e.districtCode,wardCode:e.wardCode,applicantIdNo:e.applicantIdNo,applicantIdType:e.applicantIdType,contactEmail:e.contactEmail,contactName:e.contactName,contactTelNo:e.contactTelNo,address:e.address,applicantName:e.applicantName,cityName:e.cityName,districtName:e.districtName,wardName:e.wardName},s=c()(t.thongTinChuHoSo,n);t.thongTinChuHoSo=s,t.checkApplicantInfos(),t.$nextTick(function(){var o={collectionCode:"ADMINISTRATIVE_REGION",level:0,parent:0};t.$store.getters.getDictItems(o).then(function(e){t.citys=e.data}),setTimeout(function(){e.cityCode&&t.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e.cityCode}).then(function(e){t.districts=e.data}),e.districtCode&&t.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e.districtCode}).then(function(e){t.wards=e.data}),e.delegateCityCode&&t.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e.delegateCityCode}).then(function(e){t.delegateDistricts=e.data}),e.delegateDistrictCode&&t.$store.getters.getDictItems({collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e.delegateDistrictCode}).then(function(e){t.delegateWards=e.data})},200)}),t.$refs.formChuHoSo.resetValidation()},onChangeCity:function(e){var t=this,o={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e};t.thongTinChuHoSo.districtCode="",t.thongTinChuHoSo.wardCode="",t.$store.commit("setCityVal",e),t.$store.getters.getDictItems(o).then(function(e){t.districts=e.data,t.wards=[],(t.thongTinNguoiNopHoSo.sameUser||!t.thongTinNguoiNopHoSo.sameUser&&t.showApplicant&&!t.showDelegate)&&(t.delegateDistricts=e.data,t.wards=[])})},onChangeDistrict:function(e){var t=this,o={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e};t.thongTinChuHoSo.wardCode="",t.$store.commit("setDistrictVal",e),t.$store.getters.getDictItems(o).then(function(e){t.wards=e.data,(t.thongTinNguoiNopHoSo.sameUser||!t.thongTinNguoiNopHoSo.sameUser&&t.showApplicant&&!t.showDelegate)&&(t.delegateWards=e.data)})},onChangeWard:function(e){this.$store.commit("setWardVal",e)},querySelections:function(e){var t=this,o={idNo:e};t.$store.dispatch("getUserInfoFromApplicantIdNo",o).then(function(e){t.applicantItems=e}).catch(function(e){})},querySelections2:function(e){var t=this,o={idNo:e};t.$store.dispatch("getUserInfoFromApplicantIdNo",o).then(function(e){t.applicantItems2=e}).catch(function(e){})},onChangeDelegateCity:function(e){var t=this;t.thongTinNguoiNopHoSo.delegateDistrictCode="",t.thongTinNguoiNopHoSo.delegateWardCode="";var o={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e};t.$store.getters.getDictItems(o).then(function(e){t.delegateDistricts=e.data,t.thongTinNguoiNopHoSo.sameUser&&(t.districts=e.data)})},showValid:function(){var e=this,t={validForm:e.$refs.formChuHoSo.validate(),message:e.messageCheckApplicant,validApplicant:e.validBussinessInfos};return t},onChangeDelegateDistrict:function(e){var t=this;t.thongTinNguoiNopHoSo.delegateWardCode="";var o={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e};t.$store.getters.getDictItems(o).then(function(e){t.delegateWards=e.data,t.thongTinNguoiNopHoSo.sameUser&&(t.wards=e.data)})},onInputChange:function(e){var t=this;if(t.functionTimeOut&&clearTimeout(t.functionTimeOut),t.functionTimeOut=setTimeout(function(){(3===t.originality&&!t.thongTinChuHoSo.userType||1===t.originality&&"business"===t.thongTinChuHoSo.applicantIdType)&&t.checkApplicantInfos(),t.$store.commit("setApplicantId",e)},2e3),0===e.trim().length)return null;var o="/o/rest/v2/applicants?start=0&end=5&idNo=".concat(e);return new s.a(function(e){t.$store.dispatch("loadInitResource").then(function(t){var i={headers:{}};d.a.get(o,i).then(function(t){var o=[];t.data.hasOwnProperty("data")&&(o=t.data.data),e(o)})})})},onInputChange1:function(e){var t=this;if(0===e.trim().length)return null;var o="/o/rest/v2/applicants?start=0&end=5&idNo=".concat(e);return new s.a(function(e){t.$store.dispatch("loadInitResource").then(function(t){var i={headers:{}};d.a.get(o,i).then(function(t){var o=[];t.data.hasOwnProperty("data")&&(o=t.data.data),e(o)})})})},onSearchItemSelected:function(e){var t=this;function o(e){return new s.a(function(o,i){setTimeout(function(){t.onChangeCity(e),o()},Math.floor(100*Math.random())+1)})}function i(e){return new s.a(function(o,i){setTimeout(function(){t.onChangeDistrict(e),o()},Math.floor(100*Math.random())+1)})}t.selectedSearchItem=e,console.log("selectedSearchItem",t.selectedSearchItem),t.thongTinChuHoSo["applicantIdNo"]=e.applicantIdNo.toString(),t.thongTinChuHoSo["applicantName"]=e["applicantName"]?e["applicantName"]:"",t.thongTinChuHoSo["address"]=e["address"]?e["address"]:"",t.thongTinChuHoSo["contactTelNo"]=e["contactTelNo"]?e["contactTelNo"]:"",t.thongTinChuHoSo["contactEmail"]=e["contactEmail"]?e["contactEmail"]:"",t.thongTinChuHoSo.cityCode=e["cityCode"]?e["cityCode"]:"",t.$store.commit("setApplicantId",t.thongTinChuHoSo["applicantIdNo"]),t.checkApplicantInfos(),""!==t.thongTinChuHoSo["cityCode"]&&null!==t.thongTinChuHoSo["cityCode"]&&void 0!==t.thongTinChuHoSo["cityCode"]&&0!==t.thongTinChuHoSo["cityCode"]&&"0"!==t.thongTinChuHoSo["cityCode"]&&o(t.thongTinChuHoSo["cityCode"]).then(function(){t.thongTinChuHoSo.districtCode=e["districtCode"]?e["districtCode"]:"",""!==t.thongTinChuHoSo["districtCode"]&&null!==t.thongTinChuHoSo["districtCode"]&&void 0!==t.thongTinChuHoSo["districtCode"]&&0!==t.thongTinChuHoSo["districtCode"]&&"0"!==t.thongTinChuHoSo["districtCode"]&&i(t.thongTinChuHoSo["districtCode"]).then(function(){t.thongTinChuHoSo.wardCode=e["wardCode"]?e["wardCode"]:""})})},onSearchItemSelected1:function(e){var t=this;function o(e){return new s.a(function(o,i){setTimeout(function(){t.onChangeCity(e),o()},Math.floor(100*Math.random())+1)})}function i(e){return new s.a(function(o,i){setTimeout(function(){t.onChangeDistrict(e),o()},Math.floor(100*Math.random())+1)})}t.selectedSearchItem=e,console.log("selectedSearchItem1",e),t.thongTinNguoiNopHoSo["delegateIdNo"]=e.applicantIdNo.toString(),t.thongTinNguoiNopHoSo["delegateName"]=e["applicantName"]?e["applicantName"]:"",t.thongTinNguoiNopHoSo["delegateAddress"]=e["address"]?e["address"]:"",t.thongTinNguoiNopHoSo["delegateTelNo"]=e["contactTelNo"]?e["contactTelNo"]:"",t.thongTinNguoiNopHoSo["delegateEmail"]=e["contactEmail"]?e["contactEmail"]:"",t.thongTinNguoiNopHoSo["delegateCityCode"]=e["cityCode"]?e["cityCode"]:"",console.log("thongTinNguoiNopHoSo",t.thongTinNguoiNopHoSo),t.thongTinNguoiNopHoSo["delegateCityCode"]&&"0"!==t.thongTinNguoiNopHoSo["delegateCityCode"]&&o(t.thongTinNguoiNopHoSo["delegateCityCode"]).then(function(){t.thongTinNguoiNopHoSo["delegateDistrictCode"]=e["districtCode"]?e["districtCode"]:"",t.thongTinNguoiNopHoSo["delegateDistrictCode"]&&"0"!==t.thongTinNguoiNopHoSo["delegateDistrictCode"]&&i(t.thongTinNguoiNopHoSo["delegateDistrictCode"]).then(function(){t.thongTinNguoiNopHoSo["delegateWardCode"]=e["wardCode"]?e["wardCode"]:""})})},getThongTinChuHoSo:function(){return this.thongTinChuHoSo},getThongTinNguoiNopHoSo:function(){return this.thongTinNguoiNopHoSo},changeApplicantInfos:function(){var e=this;e.functionTimeOut&&clearTimeout(e.functionTimeOut),e.functionTimeOut=setTimeout(function(){(3===e.originality&&!e.thongTinChuHoSo.userType||1===e.originality&&"business"===e.thongTinChuHoSo.applicantIdType)&&e.checkApplicantInfos(),e.$store.commit("setApplicantId",e.thongTinChuHoSo.applicantIdNo)},2e3)},checkApplicantInfos:function(){var e=this;if(3===e.originality&&!e.thongTinChuHoSo.userType&&e.thongTinChuHoSo.applicantIdNo||1===e.originality&&"business"===e.thongTinChuHoSo.applicantIdType){var t={applicantIdNo:e.thongTinChuHoSo.applicantIdNo,applicantName:e.thongTinChuHoSo.applicantName};e.$store.dispatch("checkApplicantInfos",t).then(function(t){t&&t.hasOwnProperty("error")&&!0===t.error?(e.bussinessExits=!1,e.validBussinessInfos=!1,e.messageCheckApplicant=t.message):t&&t.hasOwnProperty("warning")&&!0===t.warning?(e.bussinessExits=!0,e.validBussinessInfos=!1,e.messageCheckApplicant=t.message):!t||t.hasOwnProperty("error")||t.hasOwnProperty("warning")||(e.bussinessExits=!0,e.validBussinessInfos=!0)}).catch(function(){e.loadingVerify=!1})}},getApplicantInfos:function(){var e=this,t={applicantIdNo:e.thongTinChuHoSo.applicantIdNo};e.$store.dispatch("getApplicantInfos",t).then(function(t){e.applicantInfos["applicantName"]=t["MainInformation"]["NAME"],e.applicantInfos["applicantIdNo"]=t["MainInformation"]["ENTERPRISE_GDT_CODE"],e.applicantInfos["address"]=t["HOAdress"]["AddressFullText"],e.applicantInfos["representatives"]=t["Representatives"]["FULL_NAME"],e.applicantInfos["companyType"]=t["MainInformation"]["ENTERPRISE_TYPE_NAME"],e.applicantInfos["companyStatus"]=t["MainInformation"]["ENTERPRISE_STATUS_NAME"],e.dialog_applicantInfos=!0})}}},g=m,f=o("2877"),v=o("6544"),y=o.n(v),C=o("c6a6"),D=o("8336"),T=o("b0af"),S=o("99d9"),P=o("ac7c"),b=o("169a"),x=o("cd55"),E=o("49e2"),I=o("0e8f"),A=o("4bd4"),O=o("132d"),N=o("a722"),w=o("5d23"),k=o("67b6"),F=o("43a6"),M=o("9910"),L=o("e0c7"),H=o("2677"),U=o("71d9"),R=o("2a7f"),B=o("3a2f"),V=Object(f["a"])(g,i,a,!1,null,null,null);t["a"]=V.exports;y()(V,{VAutocomplete:C["a"],VBtn:D["a"],VCard:T["a"],VCardActions:S["a"],VCardText:S["b"],VCheckbox:P["a"],VDialog:b["a"],VExpansionPanel:x["a"],VExpansionPanelContent:E["a"],VFlex:I["a"],VForm:A["a"],VIcon:O["a"],VLayout:N["a"],VListTileContent:w["a"],VListTileSubTitle:w["b"],VListTileTitle:w["c"],VRadio:k["a"],VRadioGroup:F["a"],VSpacer:M["a"],VSubheader:L["a"],VTextField:H["a"],VToolbar:U["a"],VToolbarTitle:R["b"],VTooltip:B["a"]})},"87c1":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),o("span",[e._v("Ý kiến chính thức")]),2===e.user_note?o("span",{staticClass:"red--text text--darken-3"},[e._v("*")]):e._e()]),o("v-card",[o("v-card-text",{staticClass:"py-2 px-4"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-form",{ref:"userNoteForm",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-text-field",{attrs:{"multi-line":"",rows:4,rules:2===e.user_note?[function(){return""!==e.noteYkien||"Trường dữ liệu bắt buộc"}]:[],box:"",label:"Nhập ý kiến"},model:{value:e.noteYkien,callback:function(t){e.noteYkien=t},expression:"noteYkien"}})],1)],1)],1)],1)],1)],1)],1)},a=[],n=(o("c5f6"),{props:{user_note:{type:Number,required:!0},configNote:{type:Object,required:!1}},data:function(){return{noteYkien:"",valid:!1}},methods:{initData:function(e){var t=this;t.$store.dispatch("getDetailDossier",e).then(function(e){t.thongTinChiTietHoSo=e})},doExport:function(){var e=this,t={text:e.noteYkien,valid:e.$refs.userNoteForm.validate()};return t}}}),s=n,r=o("2877"),c=o("6544"),l=o.n(c),d=o("b0af"),_=o("99d9"),u=o("cd55"),p=o("49e2"),h=o("0e8f"),m=o("4bd4"),g=o("132d"),f=o("a722"),v=o("2677"),y=Object(r["a"])(s,i,a,!1,null,null,null);t["a"]=y.exports;l()(y,{VCard:d["a"],VCardText:_["b"],VExpansionPanel:u["a"],VExpansionPanelContent:p["a"],VFlex:h["a"],VForm:m["a"],VIcon:g["a"],VLayout:f["a"],VTextField:v["a"]})},"885b":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"phancong",staticStyle:{"background-color":"white",width:"100%"}},[e.type>0?o("div",[o("v-layout",{attrs:{wrap:""}},e._l(e.data_phancong,function(t,i){return o("v-checkbox",{key:t.userId,staticStyle:{display:"inline-block","min-width":"190px","max-width":"190px"},attrs:{slot:"activator",label:t.userName?t.userName:t["fullName"],title:t.userName?t.userName:t["fullName"]},on:{change:function(t){e.changeAssigned(t,i)}},slot:"activator",model:{value:t.assigned,callback:function(o){e.$set(t,"assigned",o)},expression:"item.assigned"}},[o("template",{slot:"label"},[o("span",{staticClass:"black--text"},[e._v(e._s(t.userName?t.userName:t["fullName"]))])])],2)}),1),e.assignValidate?e._e():o("span",{staticClass:"ml-3",staticStyle:{color:"#f44336"}},[e._v("* Yêu cầu chọn người để thực hiện")])],1):o("v-card-text",[o("v-layout",{staticClass:"my-1",attrs:{wrap:""}},e._l(e.data_phancong,function(t,i){return o("div",{key:t.userId,staticClass:"ml-3"},[o("v-layout",{attrs:{wrap:""}},[o("v-tooltip",{attrs:{top:""}},[o("v-checkbox",{staticStyle:{"min-width":"150px"},attrs:{slot:"activator",label:t.userName?t.userName:t["fullName"]},on:{change:function(t){e.checkAsign(t,i)}},slot:"activator",model:{value:t.assigned,callback:function(o){e.$set(t,"assigned",o)},expression:"item.assigned"}}),o("span",{staticClass:"pl-0"},[e._v(" "+e._s(t.userName?t.userName:t["fullName"])+" ")])],1),o("toggle-button",{staticClass:"mx-1 btn-tgl",attrs:{id:"btn-"+i,title_checked:"Thực hiện",title_unchecked:"Phối hợp",labels:{checked:"TH",unchecked:"PH"},color:{checked:"#7DCE94",unchecked:"#82C7EB"},width:50},on:{change:function(t){e.changeTypeAssign(t,i)}},model:{value:e.presenterAddGroup,callback:function(t){e.presenterAddGroup=t},expression:"presenterAddGroup"}})],1)],1)}),0),e.assignValidate?e._e():o("span",{staticClass:"ml-3",staticStyle:{color:"#f44336"}},[e._v("* Yêu cầu chọn người thực hiện")])],1)],1)},a=[],n=(o("c5f6"),o("610f")),s={components:{"toggle-button":n["a"]},props:{reAsignUsers:{type:Array,default:function(){return[]}},type:{type:Number,default:function(){return 1}},configNote:{type:Object,default:function(){}}},model:{prop:"reAsignUsers"},data:function(){return{data_phancong:[],assignedtype_items:{2:[{text:"Không có phân công",value:0},{text:"Thực hiện chính",value:1},{text:"Thực hiện phối hợp",value:2}],3:[{text:"Không có phân công",value:0},{text:"Thực hiện chính",value:1},{text:"Thực hiện phối hợp",value:2},{text:"Theo dõi",value:3}]},title_asign:{1:"PHÂN CÔNG NGƯỜI THỰC HIỆN",2:"PHÂN CÔNG THỰC HIỆN, PHỐI HỢP",3:"PHÂN CÔNG THỰC HIỆN, PHỐI HỢP VÀ THEO DÕI"},presenterAddGroup:!0,assignValidate:!0}},created:function(){setTimeout(function(){window.$(".btn-tgl").addClass("btn-hidden")},200)},mounted:function(){this.data_phancong=this.reAsignUsers},watch:{reAsignUsers:function(e){this.data_phancong=e}},methods:{changeAssigned:function(e,t){var o=this;1===o.type&&(o.reAsignUsers[t].assigned=!0===e?1:0)},checkAsign:function(e,t){var o=this;e?(o.reAsignUsers[t].assigned=1,window.$("#btn-".concat(t)).removeClass("btn-hidden")):(o.reAsignUsers[t].assigned=0,window.$("#btn-".concat(t)).addClass("btn-hidden"))},changeTypeAssign:function(e,t){var o=this;e.value?(o.reAsignUsers[t].assigned=1,window.$("#btn-".concat(t)).removeClass("btn-hidden")):(o.reAsignUsers[t].assigned=2,window.$("#btn-".concat(t)).addClass("btn-hidden"))},doExport:function(){var e=this,t=e.reAsignUsers.filter(function(e){return Number(e.assigned)>0});return 0===t.length?(e.assignValidate=!1,e.assignValidate):(e.assignValidate=!0,e.assignValidate)}}},r=s,c=o("2877"),l=o("6544"),d=o.n(l),_=o("99d9"),u=o("ac7c"),p=o("a722"),h=o("3a2f"),m=Object(c["a"])(r,i,a,!1,null,null,null);t["a"]=m.exports;d()(m,{VCardText:_["b"],VCheckbox:u["a"],VLayout:p["a"],VTooltip:h["a"]})},"8bf2":function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("Thông tin gửi bưu chính\n    ")]),o("v-card",[o("v-layout",{staticClass:"my-2",attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0"},[e._v("Dịch vụ đăng ký: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[o("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[e._v("VNPOST")])]),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0"},[e._v("Bưu cục: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[o("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[e._v(e._s(e.postName))])]),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0"},[e._v("Tên người nhận: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[o("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[e._v(e._s(e.postalService.applicantName))])]),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0"},[e._v("Số điện thoại: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[o("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[e._v(e._s(e.postalService.postalTelNo))])]),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0"},[e._v("Địa chỉ: ")])],1),o("v-flex",{attrs:{xs12:"",sm10:""}},[o("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[e._v(e._s(e.postalService.postalAddress))])])],1)],1)],1)],1)},a=[],n=(o("c5f6"),{props:{postalService:{type:Object,default:function(){}}},data:function(){return{postName:""}},computed:{},created:function(){var e=this;e.$nextTick(function(){var e=this;e.$store.dispatch("getVNPOSTcode").then(function(t){var o=t.filter(function(t){return Number(t.itemCode)===Number(e.postalService.postalCityCode)});o.length>0&&(e.postName=o[0].itemName)})})},methods:{}}),s=n,r=o("2877"),c=o("6544"),l=o.n(c),d=o("b0af"),_=o("cd55"),u=o("49e2"),p=o("0e8f"),h=o("132d"),m=o("a722"),g=o("e0c7"),f=Object(r["a"])(s,i,a,!1,null,null,null);t["a"]=f.exports;l()(f,{VCard:d["a"],VExpansionPanel:_["a"],VExpansionPanelContent:u["a"],VFlex:p["a"],VIcon:h["a"],VLayout:m["a"],VSubheader:g["a"]})},"92fe":function(module,__webpack_exports__,__webpack_require__){"use strict";var d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5176"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("20d6"),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a745"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("795b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("55dd"),core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("6762"),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("2fdb"),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_13__),jquery__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_14__),toastr__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_15__);toastr__WEBPACK_IMPORTED_MODULE_15___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:{onlyView:{type:Boolean,default:function(){return!1}},id:{type:String,default:function(){return"nm"}},partTypes:{type:Array,default:function(){return[1,3]}},checkInput:{type:Number,default:function(){return 0}}},data:function(){return{dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,loadingApacal:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],pdfEform:!1,sampleCount:0,serviceInfoId:0,fileMarkItems:[{text:"Không có",value:0},{text:"Bản chụp",value:1},{text:"Bản sao",value:2},{text:"Bản gốc",value:3},{text:"Bản dịch",value:4}],fileCheckItems:[{text:"Chưa kiểm tra",value:0},{text:"Đạt",value:1},{text:"Không đạt",value:2}],fileTemplateItems:[],fileTemplateNoString:"",dossierFilesApplicant:[],stateViewResult:!0,currentFormView:"",pstFixed:0,pstEl:0,endEl:0,applicantNoteDossier:"",doChange:{}}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData},dossierTemplateItemsFilter:function(){var e=this,t=e.dossierTemplateItems;if(t.length>0){var o=t.filter(function(t){return e.partTypes.includes(t.partType)&&e.checkVisibleTemp(t,0)});return o}},applicantBussinessExit:function(){return this.$store.getters.getApplicantBussinessExit},applicantId:function(){return this.$store.getters.getApplicantIdNo},applicantNote:function(){return this.$store.getters.getApplicantNote}},mounted:function(){var e=this;e.page=1,e.$nextTick(function(){})},watch:{applicantBussinessExit:function(e){var t=this;e&&t.fileTemplateNoString&&t.getDossierFileApplicants(e,t.fileTemplateNoString)},applicantId:function(e){var t=this;e&&t.fileTemplateNoString&&t.getDossierFileApplicants(e,t.fileTemplateNoString)},dossierTemplateItemsFilter:function(){var e=this;for(var t in e.dossierTemplateItemsFilter)e.doChange[t]=""}},methods:{resetCounterTemplate:function(e,t){e.commit,e.state;var o=this;o.dossierTemplateItems.forEach(function(e){e.partNo===t.partNo&&(e.hasForm?e.count=1:e.count=0)})},recountFileTemplates:function(){var e=this;e.dossierTemplateItems.forEach(function(t){t.count=0,e.dossierFilesItems.forEach(function(e){t.partNo!==e.dossierPartNo||e.eForm||t.count++})})},initData:function(e){var t=this;t.$store.dispatch("getDocumentType").then(function(e){var o=function(e){function t(e,t){return e.itemCode<t.itemCode?-1:e.itemCode>t.itemCode?1:0}return e.sort(t)};if(e){var i=o(e);for(var a in t.fileMarkItems=[],i)t.fileMarkItems.push({text:i[a]["itemName"],value:i[a]["itemCode"]})}}),t.thongTinHoSo=e,t.applicantNoteDossier=e["applicantNote"]&&String(e["applicantNote"]).indexOf("<br>[")<0?e["applicantNote"]:"";var o=[];null!==e["sampleCount"]&&void 0!==e["sampleCount"]&&"undefined"!==e["sampleCount"]&&(t.sampleCount=e["sampleCount"]),o.push(t.$store.dispatch("loadDossierTemplates",e)),o.push(t.$store.dispatch("loadDossierMark",e)),o.push(t.$store.dispatch("loadDossierFiles",e.dossierId)),o.push(t.$store.dispatch("getServiceInfo",{serviceInfoId:e.serviceCode})),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(o).then(function(e){var o=e[0],i=e[1],a=e[2],n=[];e[3].hasOwnProperty("serviceInfoId")&&(t.serviceInfoId=e[3].serviceInfoId),e[3].fileTemplates&&(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3___default()(e[3].fileTemplates)?n=e[3].fileTemplates:n.push(e[3].fileTemplates));var s=t.mergeDossierTemplateVsDossierFiles(o,a);if(s=t.mergeDossierTemplateVsDossierMark(s,i),s=t.mergeDossierTemplateVsFileTemplates(s,n),t.dossierFilesItems=a,t.dossierMarksItems=i,t.fileTemplateItems=n,t.dossierTemplateItems=s,(t.partTypes.includes(2)||t.partTypes.includes(7))&&t.dossierTemplateItems.length>0){var r=[];t.dossierTemplateItems.forEach(function(e){var o=t.dossierFilesItems.find(function(t){return e.partNo===t.dossierPartNo&&(2===e.partType||7===e.partType)});o&&r.push(e)}),t.dossierTemplateItems=r}t.changeStateViewResult(),setTimeout(function(e){t.genAllAlpacaForm(a,s),t.recountFileTemplates()},500);var c=[];for(var l in t.dossierTemplateItems)t.dossierTemplateItems[l]["fileTemplateNo"]&&c.push(t.dossierTemplateItems[l]["fileTemplateNo"]);c.length>0&&(t.fileTemplateNoString=c.toString(),t.applicantId&&!t.onlyView&&t.getDossierFileApplicants(t.applicantId,t.fileTemplateNoString))}).catch(function(e){})},genAllAlpacaForm:function(e,t){var o=this;if(e.length>0){var i=e.filter(function(e){return e.eForm}),a=t.filter(function(e){return e.hasForm&&o.partTypes.includes(e.partType)});i.length>0?i.forEach(function(e){e.eForm&&o.$store.dispatch("loadAlpcaForm",e)}):t.forEach(function(e){e.hasForm&&o.partTypes.includes(e.partType)&&(e["templateFileNo"]=o.thongTinHoSo.dossierTemplateNo,o.showAlpacaJSFORM(e))}),a.length!==i.length&&a.forEach(function(e){var t=i.findIndex(function(t){return e.partNo===t.dossierPartNo});-1===t&&(e["templateFileNo"]=o.thongTinHoSo.dossierTemplateNo,o.showAlpacaJSFORM(e))})}else t.forEach(function(e){e.hasForm&&o.partTypes.includes(e.partType)&&(e["templateFileNo"]=o.thongTinHoSo.dossierTemplateNo,o.showAlpacaJSFORM(e))})},postDossierMark:function(e,t){var o=this;e["dossierId"]=o.thongTinHoSo.dossierId,o.$store.dispatch("postDossierMark",e).then(function(e){}).catch(function(e){})},mergeDossierTemplateVsDossierFiles:function(e,t){var o=this;return 0!==t.length?e.forEach(function(e){e["editForm"]=!0,e["daKhai"]=!1,e["passRequired"]=!1;var i=t.find(function(t){return e.partNo===t.dossierPartNo&&o.partTypes.includes(e.partType)&&t.eForm&&!t.removed&&0!==t.fileSize});i&&(e["daKhai"]=!0,e["hasForm"]=!0,e["referenceUid"]=i["referenceUid"]),t.forEach(function(t){e.partNo===t.dossierPartNo&&(e["passRequired"]=!0)})}):e.forEach(function(e){e.hasForm&&(e["daKhai"]=!1,e["passRequired"]=!1,e["editForm"]=!0)}),e},mergeDossierTemplateVsDossierMark:function(e,t){return 0!==t.length?e.map(function(e){e["count"]=0,e["stateEditFileCheck"]=!1;var o=t.find(function(t){return t.dossierPartNo===e.partNo});return null!==o&&void 0!==o?(e["fileMark"]=o.fileMark,e["fileComment"]=o.fileComment,e["fileCheck"]=o.fileCheck,e["recordCount"]=o.recordCount):(e["fileMark"]=0,e["fileComment"]="",e["fileCheck"]=0,e["recordCount"]=""),e}):e&&e.forEach(function(e){e["stateEditFileCheck"]=!1,e["count"]=0,e["fileMark"]=0,e["fileComment"]="",e["fileCheck"]=0,e["stateEditFileCheck"]=!1}),e},mergeDossierTemplateVsFileTemplates:function(e,t){return 0!==t.length?e.map(function(e){var o=t.find(function(t){return t.fileTemplateNo===e.fileTemplateNo});return e["hasFileTemp"]=null!==o&&void 0!==o?o.fileTemplateNo:"",e}):e&&e.forEach(function(e){e["hasFileTemp"]=""}),e},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item["dossierId"]=vm.thongTinHoSo.dossierId,vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){var formScript,formData;window.$('div[id="formAlpaca'+item.partNo+vm.id+'"]').empty(),formScript=resScript?eval("("+resScript+")"):{},resData?(formData=eval("("+resData+")"),item["loaded"]=!0):formData={},formScript.data=formData,window.$('div[id="formAlpaca'+item.partNo+vm.id+'"]').alpaca(formScript)})})},saveAlpacaForm:function(e,t){var o=this,i=o.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm&&0!==t.fileSize});i?(i["dossierId"]=o.thongTinHoSo.dossierId,i["id"]=o.id,o.loadingApacal=!0,o.$store.dispatch("putAlpacaForm",i).then(function(e){setTimeout(function(){o.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_15___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_15___default.a.success("Thực hiện thành công")},3e3),o.$store.dispatch("loadDossierFiles",o.thongTinHoSo.dossierId).then(function(e){o.dossierFilesItems=e}).catch(function(e){}),o.dossierTemplateItems[t]["passRequired"]=!0}).catch(function(e){o.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_15___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_15___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})):(e["dossierId"]=o.thongTinHoSo.dossierId,e["id"]=o.id,o.loadingApacal=!0,o.$store.dispatch("postEform",e).then(function(e){setTimeout(function(){o.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_15___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_15___default.a.success("Thực hiện thành công"),o.dossierTemplateItems[t].daKhai=!0},3e3),o.dossierTemplateItems[t]["passRequired"]=!0,o.$store.dispatch("loadDossierFiles",o.thongTinHoSo.dossierId).then(function(e){o.dossierFilesItems=e}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_15___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_15___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})}).catch(function(e){o.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_15___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_15___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},onDeleteAttackFiles:function(e){var t=this;console.log("delete");var o=confirm("Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?");o&&t.dossierFilesItems.forEach(function(o){o.dossierPartNo===e.partNo&&(o["dossierId"]=t.thongTinHoSo.dossierId,t.$store.dispatch("deleteAttackFiles",o).then(function(o){t.resetCounterTemplate(e),t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId)}).catch(function(e){}))})},changeApplicantNote:function(){var e=this;console.log("applicantNoteEdit",e.applicantNoteDossier),e.$store.commit("setApplicantNote",e.applicantNoteDossier)},pickFile:function(e){var t=this;t.stateAddFileOther=!1,document.getElementById("file"+e.partNo).value="",document.getElementById("file"+e.partNo).click()},onUploadSingleFile:function(e,t,o){var i=this;if(i.dossierTemplatesItemSelect=t,i.progressUploadPart=t.partNo,t["dossierId"]=i.thongTinHoSo.dossierId,t["dossierTemplateNo"]=i.thongTinHoSo.dossierTemplateNo,3!==t.partType)i.$store.dispatch("uploadSingleFile",t).then(function(e){i.dossierTemplateItems[o]["passRequired"]=!0,i.progressUploadPart="",i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(e){i.dossierFilesItems=e,i.recountFileTemplates()})}).catch(function(e){e.length>0&&(i.dossierTemplateItems[o]["passRequired"]=!0),i.progressUploadPart="",i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(e){i.dossierFilesItems=e,i.recountFileTemplates()})});else{if(0===window.$('input[id="file'+t.partNo+'"]')[0].files.length)return void(i.progressUploadPart="");i.partView=t.partNo,i.stateView=!0,i.dialogAddOtherTemp=!0}},loadAlpcaForm:function(e){var t=this,o=t.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm});o?(o["id"]=t.id,t.$store.dispatch("loadAlpcaForm",o)):t.dossierTemplateItems.forEach(function(o){o.hasForm&&e.partNo===o.partNo&&(o["templateFileNo"]=t.thongTinHoSo.dossierTemplateNo,t.showAlpacaJSFORM(o))})},loadAlpcaFormClick:function(e){var t=this;t.currentFormView==="formAlpaca"+e.partNo+t.id?t.currentFormView="":t.currentFormView="formAlpaca"+e.partNo+t.id,t.pstEl=t.endEl=0,setTimeout(function(){window.$('div[id="formAlpaca'+e.partNo+t.id+'"]').height()>200&&(t.pstEl=window.$('div[id="wrapForm'+e.partNo+t.id+'"]').offset().top,t.endEl=window.$('div[id="formAlpaca'+e.partNo+t.id+'"]').height(),jquery__WEBPACK_IMPORTED_MODULE_14___default()(window).scroll(function(){t.pstFixed=jquery__WEBPACK_IMPORTED_MODULE_14___default()(window).scrollTop()}))},500);var o=t.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm&&t.fileSize});o?(o["id"]=t.id,t.$store.dispatch("loadAlpcaForm",o),e["editForm"]=!1,t.$store.dispatch("viewFile",o).then(function(e){document.getElementById("displayPDF"+o.dossierPartNo+t.id).src=e})):t.dossierTemplateItems.forEach(function(o){o.hasForm&&e.partNo===o.partNo&&(o["templateFileNo"]=t.thongTinHoSo.dossierTemplateNo,o["loaded"]||t.showAlpacaJSFORM(o))})},editFormAlpaca:function(e){var t=this;e["editForm"]=!0,setTimeout(function(){var o=t.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm});o["id"]=t.id,t.$store.dispatch("loadAlpcaForm",o)},200)},deleteSingleFileEform:function(e,t){var o=this,i=confirm("Bạn có chắc chắn xóa file?");i&&o.dossierFilesItems.forEach(function(i){i.dossierPartNo===e.partNo&&i.eForm&&(i["dossierId"]=o.thongTinHoSo.dossierId,o.$store.dispatch("deleteDossierFile",i).then(function(i){o.dossierTemplateItems[t].daKhai=!1,o.$store.dispatch("loadDossierFiles",o.thongTinHoSo.dossierId).then(function(i){if(o.dossierFilesItems=i,o.recountFileTemplates(),e["editForm"]=!0,setTimeout(function(){o.loadAlpcaForm(e)},200),0!==o.dossierFilesItems.length){var a=o.dossierFilesItems.filter(function(t){return t.dossierPartNo===e.partNo});o.dossierTemplateItems[t]["passRequired"]=!!a}else o.dossierTemplateItems[t]["passRequired"]=!1})}))})},previewFileEfom:function(e,t){var o=this;o.dossierFilesItems.forEach(function(t){t.dossierPartNo===e.partNo&&t.eForm&&!t.removed&&(t["dossierId"]=o.thongTinHoSo.dossierId,o.dialogPDFLoading=!0,o.dialogPDF=!0,o.onlyView?o.$store.dispatch("viewFile",t).then(function(e){o.dialogPDFLoading=!1,t["eForm"]?o.pdfEform=!0:o.pdfEform=!1,document.getElementById("dialogPDFPreview"+o.id).src=e}):(t["id"]=o.id,o.$store.dispatch("putAlpacaForm",t).then(function(e){setTimeout(function(){o.$store.dispatch("viewFile",t).then(function(e){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+o.id).src=e})},1e3)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_15___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_15___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))})},previewFormAlpaca:function(e,t){var o=this;o.dossierFilesItems.forEach(function(t){t.dossierPartNo===e.partNo&&t.eForm&&!t.removed&&(t["dossierId"]=o.thongTinHoSo.dossierId,o.onlyView?(e["editForm"]=!1,o.$store.dispatch("viewFile",t).then(function(i){t["eForm"]?o.pdfEform=!0:o.pdfEform=!1,document.getElementById("displayPDF"+e.dossierPartNo+o.id).src=i})):(t["id"]=o.id,o.$store.dispatch("putAlpacaForm",t).then(function(i){e["editForm"]=!1,setTimeout(function(){o.$store.dispatch("viewFile",t).then(function(e){document.getElementById("displayPDF"+t.dossierPartNo+o.id).src=e})},500)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_15___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_15___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))})},deleteSingleFile:function(e,t){var o=this,i=confirm("Bạn có chắc chắn xóa file đính kèm ?");i&&(e["dossierId"]=o.thongTinHoSo.dossierId,o.$store.dispatch("deleteDossierFile",e).then(function(i){o.fileViews.splice(t,1),o.partView=e.dossierPartNo,o.$store.dispatch("loadDossierFiles",o.thongTinHoSo.dossierId).then(function(t){o.dossierFilesItems=t,o.setDaKhai(e)})}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_15___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_15___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},viewFile:function(e){var t=this,o=this;o.dossierFilesItems.forEach(function(i){i["dossierId"]=o.thongTinHoSo.dossierId,i.dossierPartNo===e.partNo&&t.$store.dispatch("viewFile",i)})},setDaKhai:function(e){var t=this,o=t.dossierFilesItems.findIndex(function(t){return t.dossierPartNo===e.dossierPartNo});if(-1===o){for(var i=0;i<t.dossierTemplateItems.length;i++)if(t.dossierTemplateItems[i].partNo===e.dossierPartNo){t.dossierTemplateItems[i]["passRequired"]=!1;break}}else for(i=0;i<t.dossierTemplateItems.length;i++)if(t.dossierTemplateItems[i].partNo===e.dossierPartNo){t.dossierTemplateItems[i]["passRequired"]=!0;break}},checkPartType3:function(){var e=this;if(0!==e.dossierTemplateItems.length)for(var t=0;t<e.dossierTemplateItems.length;t++)if(3===e.dossierTemplateItems[t].partType)return!0;return!1},viewFile2:function(e){var t=this;if(0!==e.fileSize)if(e["eForm"]?t.pdfEform=!0:t.pdfEform=!1,"doc"===e.fileType||"docx"===e.fileType||"xlsx"===e.fileType||"xls"===e.fileType||"zip"===e.fileType||"rar"===e.fileType||"txt"===e.fileType||"mp3"===e.fileType||"mp4"===e.fileType){var o=t.initDataResource.dossierApi+"/"+t.thongTinHoSo.dossierId+"/files/"+e.referenceUid;window.location.assign(o)}else e["dossierId"]=t.thongTinHoSo.dossierId,e.referenceUid?(t.dialogPDFLoading=!0,t.dialogPDF=!0,t.$store.dispatch("viewFile",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+t.id).src=e})):(toastr__WEBPACK_IMPORTED_MODULE_15___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_15___default.a.error("File dữ liệu không tồn tại"))},attachToDossier:function(e,t){var o=this;console.log(e,t),e["dossierId"]=o.thongTinHoSo.dossierId,3!==e.partType&&(o.progressUploadPart=e.dossierFileId,o.$store.dispatch("copyFile",e).then(function(e){o.progressUploadPart="",o.dossierTemplateItems[t]["passRequired"]=!0,o.$store.dispatch("loadDossierFiles",o.thongTinHoSo.dossierId).then(function(e){o.dossierFilesItems=e,o.recountFileTemplates()})}).catch(function(e){o.progressUploadPart="",toastr__WEBPACK_IMPORTED_MODULE_15___default.a.error("Đính kèm tài liệu thất bại")}))},viewGiayToDaNop:function(e){var t=this;if(0!==e.fileSize)if(e["eForm"]?t.pdfEform=!0:t.pdfEform=!1,"doc"===e.fileType||"docx"===e.fileType||"xlsx"===e.fileType||"xls"===e.fileType||"zip"===e.fileType||"rar"===e.fileType||"txt"===e.fileType||"mp3"===e.fileType||"mp4"===e.fileType){var o=t.initDataResource.dossierApi+"/"+e.dossierId+"/files/"+e.referenceUid;window.location.assign(o)}else e.referenceUid?(t.dialogPDFLoading=!0,t.dialogPDF=!0,t.$store.dispatch("viewFile",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+t.id).src=e})):(toastr__WEBPACK_IMPORTED_MODULE_15___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_15___default.a.error("File dữ liệu không tồn tại"))},viewFileWithPartNo:function(e){var t=this;if(t.dossierFilesItems){var o=t.dossierFilesItems.filter(function(t){return t.dossierPartNo===e.partNo&&!t.eForm});if(!o)return;t.fileViews=o,t.partView!==e.partNo?(t.stateView=!0,t.partView=e.partNo):(t.stateView=!t.stateView,t.partView=e.partNo)}},saveMark:function(){var e=this;e.dossierTemplateItems&&e.dossierTemplateItems.forEach(function(t,o){1===t.partType&&(t["dossierId"]=e.thongTinHoSo.dossierId,e.$store.dispatch("postDossierMark",t))})},changeFileMark:function(e,t){var o=this;if(!o.onlyView){var i=o.dossierTemplateItems[t];i["dossierId"]=o.thongTinHoSo.dossierId,i["fileMark"]=e,i["checkInput"]=o.checkInput,o.$store.dispatch("postDossierMark",i),o.dossierTemplateItems[t].fileMark=e}},changeFileCheck:function(e,t){var o=this,i=o.dossierTemplateItems[t];i["dossierId"]=o.thongTinHoSo.dossierId,i["fileCheck"]=e,i["checkInput"]=o.checkInput,2!==e?(i["fileComment"]="",o.$store.dispatch("postDossierMark",i),o.dossierTemplateItems[t].fileCheck=e):i["stateEditFileCheck"]=!0},changeFileComment:function(e,t){var o=this;null!==e.fileComment&&void 0!==e.fileComment&&""!==e.fileComment&&(e["dossierId"]=o.thongTinHoSo.dossierId,e["fileComment"]=e.fileComment,e["checkInput"]=o.checkInput,e["stateEditFileCheck"]=!e["stateEditFileCheck"],o.$store.dispatch("postDossierMark",e),o.dossierTemplateItems[t].fileComment=e.fileComment)},checkStyle:function(e){var t=this;if(1===t.checkInput)return"calc(100% - 140px)";var o=0;return 1===t.originality||1!==e.partType||t.thongTinHoSo.online||1===t.checkInput||(t.onlyView?o+=140:o+=240),e.fileCheck>0&&!t.thongTinHoSo.online&&(o+=20),e.fileCheck>0&&t.thongTinHoSo.online&&(o+=40),t.onlyView||(o+=90),"calc(100% - "+o+"px)"},checkVisibleTemp:function(e,t){var o=this;if(!o.onlyView)return!0;if(3===e.partType){if(o.dossierFilesItems.length>0){var i=o.dossierFilesItems.findIndex(function(t){return t.dossierPartNo===e.partNo});return-1!==i}return!1}return!0},changeStateViewResult:function(){var e=this;if(e.dossierFilesItems.length>0){var t=e.dossierFilesItems.findIndex(function(e){return 2===e.dossierPartType||7===e.dossierPartType});-1!==t?e.$emit("tp:change-state-view-result",!0):e.$emit("tp:change-state-view-result",!1)}else(e.partTypes.includes(2)||e.partTypes.includes(7))&&e.$emit("tp:change-state-view-result",!1)},changeOtherDossierTemp:function(e){var t=this;if(3===t.originality&&t.stateAddFileOther)t.loadingAddOther=!0,t.$store.dispatch("uploadSingleOtherFile",{dossierId:t.thongTinHoSo.dossierId,displayName:e,partNo:t.dossierTemplatesItemSelect.partNo}).then(function(e){t.loadingAddOther=!1,t.dialogAddOtherTemp=!1,t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId).then(function(e){t.dossierFilesItems=e})}).catch(function(e){t.loadingAddOther=!1});else{var o=t.dossierTemplatesItemSelect;o["dossierId"]=t.thongTinHoSo.dossierId,o["displayName"]=e,o["dossierTemplateNo"]=t.thongTinHoSo.dossierTemplateNo,t.$store.dispatch("uploadSingleFile",o).then(function(e){t.progressUploadPart="",t.dialogAddOtherTemp=!1,t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId).then(function(e){if(t.dossierFilesItems=e,t.recountFileTemplates(),t.stateView&&t.dossierFilesItems){var o=t.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.dossierTemplatesItemSelect.partNo&&!e.eForm});o&&(t.fileViews=o)}})}).catch(function(e){t.progressUploadPart=""})}},downloadFileTemplate:function(e,t){var o=this;if(o.fileTemplateItems.length>0){var i=o.fileTemplateItems.find(function(t){return e.fileTemplateNo===t.fileTemplateNo});if(i){var a=o.initDataResource.serviceInfoApi+"/"+o.serviceInfoId+"/filetemplates/"+i.fileTemplateNo;window.location.assign(a)}else console.log("ko thay file")}},addOtherTemplate:function(){var e=this;e.$refs.form.validate()&&e.changeOtherDossierTemp(e.otherDossierTemplate)},editDisplayName:function(e,t){var o=this;o.dossierFileIdView!==e.dossierFileId?(o.dossierFileIdView=e.dossierFileId,o.stateEdit=!0):(o.dossierFileIdView=e.dossierFileId,o.stateEdit=!o.stateEdit)},cancelDialog:function(){var e=this;e.dialogAddOtherTemp=!1,e.progressUploadPart=""},addFileOther:function(e){var t=this;t.dialogAddOtherTemp=!0,t.stateAddFileOther=!0,t.dossierTemplatesItemSelect=e},validDossierTemplate:function(){var e=this;if(e.dossierTemplateItems.length>0){for(var t=0;t<e.dossierTemplateItems.length;t++)if(e.dossierTemplateItems[t]["required"]&&!e.dossierTemplateItems[t]["passRequired"]&&e.partTypes.includes(e.dossierTemplateItems[t].partType)){var o="Chú ý :"+e.dossierTemplateItems[t].partName+" là thành phần bắt buộc!";return toastr__WEBPACK_IMPORTED_MODULE_15___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_15___default.a.error(o),!1}return!0}return!0},changeDisplayName:function(e,t){var o=this,i={dossierId:o.thongTinHoSo.dossierId,value:value};o.$store.dispatch("changeDisplayNameFile",i).then(function(e){o.fileViews[t].displayName=e.displayName,o.stateEdit=!1}).catch(function(e){console.log("error")})},getDossierFileApplicants:function(e,t){var o=this,i={dossierId:o.thongTinHoSo.dossierId,applicantIdNo:e,fileTemplateNo:t};o.$store.dispatch("getDossierFilesApplicants",i).then(function(e){o.dossierFilesApplicant=e}).catch(function(e){console.log("error")})},showFilesApplicant:function(e){jquery__WEBPACK_IMPORTED_MODULE_14___default()("#fileApplicant-"+e).is(":visible")?jquery__WEBPACK_IMPORTED_MODULE_14___default()("#fileApplicant-"+e).hide():jquery__WEBPACK_IMPORTED_MODULE_14___default()("#fileApplicant-"+e).show()},checkKQhasFile:function(e){var t=this;if(t.partTypes.includes(2)){var o=t.dossierFilesItems.find(function(t){return e.partNo===t.dossierPartNo});return!!o}return!0},partNoApplicantHasFile:function(e){var t=this,o=t.dossierFilesApplicant.find(function(o){return o.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&o.dossierPartNo===e});return!!o},changeRecordCount:function(e){var t=this;if(!t.onlyView){var o=function(){t.doChange[e]=setTimeout(function(){if(!t.onlyView&&Number(t.dossierTemplateItems[e]["recordCount"])>=0){var o=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({},t.dossierTemplateItems[e],{dossierId:t.thongTinHoSo.dossierId});t.$store.dispatch("postDossierMark",o)}},1e3)};t.dossierTemplateItems[e].recordCount=t.dossierTemplateItems[e]["recordCount"]?t.dossierTemplateItems[e]["recordCount"]:"",clearTimeout(t.doChange[e]),o()}},increaseCounter:function(e){var t=this;function o(){t.doChange[e]=setTimeout(function(){if(!t.onlyView&&Number(t.dossierTemplateItems[e]["recordCount"])>=0){var o=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({},t.dossierTemplateItems[e],{dossierId:t.thongTinHoSo.dossierId});t.$store.dispatch("postDossierMark",o)}},1e3)}t.dossierTemplateItems[e].recordCount=t.dossierTemplateItems[e]["recordCount"]?t.dossierTemplateItems[e]["recordCount"]:"",t.dossierTemplateItems[e]["recordCount"]=Number(t.dossierTemplateItems[e]["recordCount"])+1,clearTimeout(t.doChange[e]),o()},decreaseCounter:function(e){var t=this;function o(){t.doChange[e]=setTimeout(function(){if(!t.onlyView&&Number(t.dossierTemplateItems[e]["recordCount"])>=0){var o=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({},t.dossierTemplateItems[e],{dossierId:t.thongTinHoSo.dossierId});t.$store.dispatch("postDossierMark",o)}},1e3)}t.dossierTemplateItems[e].recordCount=t.dossierTemplateItems[e]["recordCount"]?t.dossierTemplateItems[e]["recordCount"]:"",t.dossierTemplateItems[e]["recordCount"]=t.dossierTemplateItems[e]["recordCount"]?Number(t.dossierTemplateItems[e]["recordCount"])-1:t.dossierTemplateItems[e]["recordCount"],clearTimeout(t.doChange[e]),o()},getDocumentTypeIcon:function(e){var t="doc,docx",o="xls,xlsx",i="png,jpg,jpeg";return e?t.indexOf(e.toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:o.indexOf(e.toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===e.toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:i.indexOf(e.toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:""}}}},"9f67":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_string_pad_start__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("f576"),core_js_modules_es7_string_pad_start__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_string_pad_start__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("768b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("f499"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("795b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_8__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("5176"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_13__),toastr__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_14__),jquery__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_15__),_TiepNhan_TiepNhanHoSo_ThongTinChuHoSo_vue__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("826a"),_TiepNhan_TiepNhanHoSo_ThanhPhanHoSoNew_vue__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("6e92"),_TiepNhan_TiepNhanHoSo_ThongTinChung_vue__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("c199"),_form_xu_ly_FeeDetail_vue__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("f374"),_TiepNhan_TiepNhanHoSo_DichVuChuyenPhatKetQua_vue__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("a9a9");toastr__WEBPACK_IMPORTED_MODULE_14___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:["index","id","formCode"],components:{"thong-tin-chu-ho-so":_TiepNhan_TiepNhanHoSo_ThongTinChuHoSo_vue__WEBPACK_IMPORTED_MODULE_16__["a"],"thanh-phan-ho-so":_TiepNhan_TiepNhanHoSo_ThanhPhanHoSoNew_vue__WEBPACK_IMPORTED_MODULE_17__["a"],"thong-tin-chung":_TiepNhan_TiepNhanHoSo_ThongTinChung_vue__WEBPACK_IMPORTED_MODULE_18__["a"],"thu-phi":_form_xu_ly_FeeDetail_vue__WEBPACK_IMPORTED_MODULE_19__["a"],"dich-vu-chuyen-phat-ket-qua":_TiepNhan_TiepNhanHoSo_DichVuChuyenPhatKetQua_vue__WEBPACK_IMPORTED_MODULE_20__["a"]},data:function(){return{templateName:"",formTemplate:"",data_form_template:"",serviceCode_hidden:"",serviceName_hidden:"",govAgencyCode_hidden:"",dossierTemplateNo_hidden:"",eformCode_hidden:"",validTNHS:!1,dossierId:"",mark:!0,stateEditSample:!1,tiepNhanState:!0,thongTinChiTietHoSo:{},payments:{},paymentProfile:{},briefNote:"",receiveDateEdit:"",editableDate:!1,dueDateEdit:"",viaPortalDetail:0,showThuPhi:!1,inputTypes:[1,3,6],inputTypesGroup:[6],outputTypes:[2],sampleCount:0,isMobile:!1,loadingAction:!1,loadingForm:!1}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()},dichVuChuyenPhatKetQua:function(){return this.$store.getters.dichVuChuyenPhatKetQua},thongTinChuHoSo:function(){return this.$store.getters.thongTinChuHoSo}},created:function(){var e=this;e.$nextTick(function(){e.dossierId=e.id})},beforeDestroy:function(){var e=jquery__WEBPACK_IMPORTED_MODULE_15___default()('meta[name="viewport"]');e.attr("content","initial-scale=1.0, width=device-width"),"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize,{passive:!0})},mounted:function(){this.onResize(),window.addEventListener("resize",this.onResize,{passive:!0})},watch:{isMobile:function(e){var t=jquery__WEBPACK_IMPORTED_MODULE_15___default()('meta[name="viewport"]');e?t.attr("content",""):t.attr("content","initial-scale=1.0, width=device-width")}},methods:{onResize:function(){var e=this,t=window.innerWidth<1024;e.isMobile=t},initData:function initData(data){var vm=this,currentQuery=vm.$router.history.current.query,filter={dossierTemplateNo:currentQuery.hasOwnProperty("template_no")&&currentQuery.template_no?currentQuery.template_no:""};vm.$store.dispatch("loadDossierFormTemplates",filter).then(function(result){if(vm.templateName=result["templateName"],result["newFormScript"]){vm.data_form_template=eval("( "+result["newFormScript"]+" ) "),console.log("data_form_template",vm.data_form_template),vm.formTemplate="version_2.0",vm.loadingForm=!0;var filterServiceConfig={serviceConfigId:currentQuery.hasOwnProperty("service_config")&&currentQuery.service_config?currentQuery.service_config:""};vm.$store.dispatch("getServiceConfigDetail",filterServiceConfig).then(function(e){vm.loadingForm=!1,vm.serviceName_hidden=e.serviceName,vm.serviceCode_hidden=e.serviceCode,vm.govAgencyCode_hidden=e.govAgencyCode,vm.dossierTemplateNo_hidden=currentQuery.hasOwnProperty("template_no")&&currentQuery.template_no?currentQuery.template_no:"",vm.eformCode_hidden=currentQuery.hasOwnProperty("eformCode")&&currentQuery.eformCode?currentQuery.eformCode:"",setTimeout(function(){var e,t;vm.data_form_template&&(e=vm.data_form_template?vm.data_form_template:{},t={},e.data=t,window.$("#formAlpacaNewTemplate").alpaca(e))},200)})}else vm.formTemplate="version_1.0",vm.$store.dispatch("getDetailDossier",data).then(function(e){if(vm.dossierId=e.dossierId,vm.briefNote=e.dossierName?e.dossierName:"",e["editable"]=!1,""===e.dossierStatus?vm.$store.dispatch("pullNextactions",e).then(function(t){if(t){var o=t.filter(function(e){return 1100===e.actionCode||"1100"===e.actionCode});vm.$store.dispatch("processPullBtnDetail",{dossierId:e.dossierId,actionId:o[0]?o[0].processActionId:""}).then(function(t){e["editable"]=!(!t||!t.receiving)&&t.receiving.editable,e["receivingDuedate"]=t&&t.receiving&&t.receiving.dueDate?t.receiving.dueDate:null,e["receivingDate"]=t&&t.receiving?t.receiving.receiveDate:"",vm.editableDate=!(!t||!t.receiving)&&t.receiving.editable,vm.dueDateEdit=t&&t.receiving&&t.receiving.dueDate?t.receiving.dueDate:"",vm.receiveDateEdit=t&&t.receiving?t.receiving.receiveDate:"",t&&t.payment&&t.payment.requestPayment>0&&(vm.showThuPhi=!0,vm.payments=t.payment),vm.$refs.thongtinchunghoso&&vm.$refs.thongtinchunghoso.initData(e)})}else vm.$refs.thongtinchunghoso&&vm.$refs.thongtinchunghoso.initData(e)}):vm.$refs.thongtinchunghoso&&(console.log("has thong tin chung ho so"),vm.$refs.thongtinchunghoso.initData(e)),vm.thongTinChiTietHoSo=e,vm.$refs.thongtinchuhoso.initData(e),vm.$refs.thanhphanhoso.initData(e),vm.viaPortalDetail=e.viaPostal,e.viaPostal>0){var t=e.address?e.address+", "+e.wardName+" - "+e.districtName+" - "+e.cityName:"";"NEW"===vm.formCode&&1===vm.originality&&(e["postalAddress"]=t,e["postalTelNo"]=vm.thongTinChuHoSo["contactTelNo"]),vm.$store.commit("setDichVuChuyenPhatKetQua",e)}}).catch(function(e){})})},luuHoSo:function(){var e=this;console.log("luu Ho So--------------------"),e.$store.commit("setPrintPH",!1);var t=this.$refs.thongtinchunghoso?this.$refs.thongtinchunghoso.getthongtinchunghoso():{},o=this.$refs.thongtinchuhoso.thongTinChuHoSo,i=this.$refs.thongtinchuhoso?this.$refs.thongtinchuhoso.thongTinNguoiNopHoSo:{},a=(this.$refs.thanhphanhoso.dossierTemplateItems,this.$refs.dichvuchuyenphatketqua?this.$refs.dichvuchuyenphatketqua.dichVuChuyenPhatKetQua:{});console.log("validate TNHS formThongtinchuhoso.validate()",e.$refs.thongtinchuhoso.showValid());var n=e.$refs.thongtinchuhoso.showValid();if(n["validForm"]){var s=!1;if(n["validApplicant"])s=!0;else{var r=confirm(n["message"]+" Bạn có muốn tiếp tục?");r&&(s=!0)}if(s){if(!e.$refs.thanhphanhoso.validDossierTemplate())return;if(2===a.viaPostal&&!e.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat())return;var c=e.$refs.thanhphanhoso.dossierFilesItems,l=[];c&&c.forEach(function(t,o){t.eForm&&(t["dossierId"]=e.dossierId,l.push(e.$store.dispatch("putAlpacaForm",t)))});var d=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9___default()(o,i,a,t);d["dossierId"]=e.dossierId,d["sampleCount"]=e.thongTinChiTietHoSo.sampleCount,d["originality"]=e.originality,console.log("data put dossier --\x3e",d),setTimeout(function(){e.$store.dispatch("putDossier",d).then(function(t){if("UPDATE"===e.formCode)e.goBack();else{var o=e.$store.getters.loadingInitData,i=o.user.userName?o.user.userName:"",a={dossierId:e.dossierId,actionCode:1100,actionNote:"",actionUser:i,payload:"",security:"",assignUsers:"",payment:e.payments,createDossiers:"",dueDate:d.dueDate};e.$store.dispatch("postAction",a).then(function(t){e.$router.history.current.query;e.$router.push({path:"/danh-sach-ho-so/4/chi-tiet-ho-so/"+t.dossierId,query:{activeTab:"tabs-1"}}),e.tiepNhanState=!1})}}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})},500)}}},tiepNhanHoSo:function(e){var t=this;console.log("luu Ho So--------------------"),t.$store.commit("setPrintPH",!1);var o=this.$refs.thongtinchunghoso.getthongtinchunghoso(),i=this.$refs.thongtinchuhoso.getThongTinChuHoSo(),a=this.$refs.thongtinchuhoso.getThongTinNguoiNopHoSo(),n=(this.$refs.thanhphanhoso.dossierTemplateItems,t.dichVuChuyenPhatKetQua);console.log("validate TNHS formThongtinchuhoso.validate()",t.$refs.thongtinchuhoso.showValid());var s=t.$refs.thongtinchuhoso.showValid();if(s["validForm"]){var r=!1;if(s["validApplicant"])r=!0;else{var c=confirm(s["message"]+" Bạn có muốn tiếp tục?");c&&(r=!0)}if(r){if(console.log("valid confirm2",r),t.loadingAction=!0,!t.$refs.thanhphanhoso.validDossierTemplate())return void(t.loadingAction=!1);if(2===n.viaPostal&&!t.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat())return void(t.loadingAction=!1);var l=t.$refs.thanhphanhoso.dossierFilesItems,d=[];l&&l.forEach(function(e,o){e.eForm&&(e["dossierId"]=t.dossierId,d.push(t.$store.dispatch("putAlpacaForm",e)))});var _=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9___default()(i,a,n,o);_["dossierId"]=t.dossierId,_["sampleCount"]=t.thongTinChiTietHoSo.sampleCount,_["dossierName"]=t.briefNote,_["originality"]=t.originality,console.log("data put dossier --\x3e",_),t.$store.dispatch("putDossier",_).then(function(o){if(t.loadingAction=!1,"UPDATE"===t.formCode)t.goBack();else{var i=t.$store.getters.loadingInitData,a=i.user.userName?i.user.userName:"",n={};t.showThuPhi&&(n={requestPayment:t.payments["requestPayment"],paymentNote:t.payments["paymentNote"],advanceAmount:Number(t.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(t.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(t.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(t.payments["shipAmount"].toString().replace(/\./g,""))});var s={dueDate:t.editableDate&&_.dueDate?_.dueDate:t.dueDateEdit,receiveDate:t.receiveDateEdit},r={dossierId:t.dossierId,actionCode:1100,actionNote:"",actionUser:a,payload:s,security:"",assignUsers:"",payment:n,createDossiers:""};t.loadingAction=!0,t.$store.dispatch("postAction",r).then(function(o){if(t.loadingAction=!1,e){var i=t.$router.history.current,a=i.query,n=t.$store.getters.getDataCreateDossier;t.loadingAction=!0,t.$store.dispatch("postDossier",n).then(function(e){t.loadingAction=!1,t.dossierId=e.dossierId,t.$refs.thongtinchunghoso.changeDossierNo(e.dossierNo);var o="?";for(var i in a)""!==a[i]&&"undefined"!==a[i]&&void 0!==a[i]&&(o+=i+"="+a[i]+"&");console.log("queryString=====",o),t.$router.push({path:"/danh-sach-ho-so/0/ho-so/"+e.dossierId+"/NEW"+o,query:{renew:Math.floor(100*Math.random())+1}})}).catch(function(e){t.loadingAction=!1})}else t.goBack(),t.tiepNhanState=!1}).catch(function(e){t.loadingAction=!1})}}).catch(function(e){t.loadingAction=!1,console.log("rejectXhr==========",e),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})}}},boSungHoSo:function(){var e=this;console.log("luu Ho So--------------------"),e.$store.commit("setPrintPH",!1);var t=this.$refs.thongtinchunghoso.getthongtinchunghoso(),o=this.$refs.thongtinchuhoso.thongTinChuHoSo,i=this.$refs.thongtinchuhoso.thongTinNguoiNopHoSo,a=this.$refs.thanhphanhoso.dossierTemplateItems,n=this.$refs.lephi.lePhi,s=this.$refs.dichvuchuyenphatketqua.dichVuChuyenPhatKetQua;if(console.log("validate TNHS formThongtinchuhoso.validate()",e.$refs.thongtinchuhoso.showValid()),e.$refs.thongtinchuhoso.showValid()){var r=e.$refs.thanhphanhoso.dossierFilesItems,c=a,l=[],d=[];c&&(c.forEach(function(t,o){1===t.partType&&(t["dossierId"]=e.dossierId,d.push(e.$store.dispatch("postDossierMark",t)))}),r.forEach(function(t,o){t.eForm&&(t["dossierId"]=e.dossierId,l.push(e.$store.dispatch("putAlpacaForm",t)))})),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(d).then(function(e){}).catch(function(e){}),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(l).then(function(r){console.log(r);var c=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9___default()(o,i,a,n,s,t);console.log("data put dossier --\x3e",c),c["dossierId"]=e.dossierId,e.$store.dispatch("putDossier",c).then(function(t){var o={dossierId:e.dossierId,actionCode:7100,payload:"",security:"",assignUsers:{},payment:{},createDossiers:{},dueDate:c.dueDate};e.$store.dispatch("postAction",o).then(function(e){})})}).catch(function(e){})}},changeViapostal:function(e){this.viaPortalDetail=e?2:1},tiepNhanNhomHoSo:function(e){var t=this;t.$store.commit("setPrintPH",!1);var o=this.$refs.thongtinchuhoso.getThongTinNguoiNopHoSo(),i=(this.$refs.thanhphanhoso.dossierTemplateItems,t.dichVuChuyenPhatKetQua);if(t.loadingAction=!0,2!==i.viaPostal||t.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat()){var a=t.$refs.thanhphanhoso.dossierFilesItems,n=[];a&&a.forEach(function(e,o){e.eForm&&(e["dossierId"]=t.dossierId,n.push(t.$store.dispatch("putAlpacaForm",e)))});var s=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_9___default()(o,i);s["sampleCount"]=t.thongTinChiTietHoSo.sampleCount,s["dossierName"]=t.briefNote,console.log("data put dossier --\x3e",s);var r={serviceCode:t.thongTinChiTietHoSo.serviceCode,govAgencyCode:t.thongTinChiTietHoSo.govAgencyCode,templateNo:t.thongTinChiTietHoSo.dossierTemplateNo,originality:9};t.$store.dispatch("postDossier",r).then(function(e){s["dossierId"]=e.dossierId,t.$store.dispatch("putDossier",s).then(function(e){t.loadingAction=!1,t.$router.push({path:"/danh-sach-ho-so/0/nhom-ho-so/"+e.dossierId,query:t.$router.history.current.query})}).catch(function(e){t.loadingAction=!1,toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại")})})}else t.loadingAction=!1},tiepNhanHoSoNewTemplate:function(e){var t=this,o={originality:t.getOriginality(),serviceCode:jquery__WEBPACK_IMPORTED_MODULE_15___default()("#serviceCode_hidden").val(),govAgencyCode:jquery__WEBPACK_IMPORTED_MODULE_15___default()("#govAgencyCode_hidden").val(),templateNo:jquery__WEBPACK_IMPORTED_MODULE_15___default()("#dossierTemplateNo_hidden").val(),dossiers:""},i=window.$("#formAlpacaNewTemplate").alpaca("get").getValue(),a=i;for(var n in a)String(n).indexOf("_")>=0&&delete a[n];o["dossiers"]=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(a["dossiers"]),o["dossierFileArr"]=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(a["dossierFileArr"]),o["dossierMarkArr"]=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(a["dossierMarkArr"]),o["payment"]=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_3___default()(a["payment"]),"true"===String(jquery__WEBPACK_IMPORTED_MODULE_15___default()("#validate_required").val())?(t.loadingAction=!0,t.$store.dispatch("postDossierNewVersion",o).then(function(e){t.loadingAction=!1,t.goBack()}).catch(function(e){t.loadingAction=!1})):toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Vui lòng nhập đầy đủ thông tin bắt buộc")},parseDateToTimestamp:function(e){if(!e)return null;var t="".concat(e).split("/"),o=Object(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__["a"])(t,3),i=o[0],a=o[1],n=o[2],s="".concat(n,"-").concat(a.padStart(2,"0"),"-").concat(i.padStart(2,"0"));return"Invalid Date"==new Date(s)?"":new Date(s).getTime()},goBack:function(){var e=this,t=e.$router.history.current.params,o=e.$router.history.current.query;e.isOffLine?e.$router.push({path:"/add-dvc/0"}):e.$router.push({path:"/danh-sach-ho-so/"+t.index,query:o})}}}},a9a9:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-card",[o("v-card-text",[o("v-slide-y-transition",[2===e.dichVuChuyenPhatKetQua.viaPostal?o("v-form",{ref:"formDichVuChuyenPhat",attrs:{"lazy-validation":""},model:{value:e.valid_dichvuchuyenphat,callback:function(t){e.valid_dichvuchuyenphat=t},expression:"valid_dichvuchuyenphat"}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Dịch vụ đăng ký "),o("span",{staticStyle:{color:"red"}},[e._v(" * ")]),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm10:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-autocomplete",{attrs:{items:e.postalServiceItems,"item-text":"itemName","item-value":"itemCode",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.dichVuChuyenPhatKetQua.postalServiceCode,callback:function(t){e.$set(e.dichVuChuyenPhatKetQua,"postalServiceCode",t)},expression:"dichVuChuyenPhatKetQua.postalServiceCode"}})],1),o("v-flex",{attrs:{xs12:""}}),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Địa chỉ trả kết quả"),o("span",{staticStyle:{color:"red"}},[e._v(" * ")]),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm6:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-text-field",{attrs:{rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.dichVuChuyenPhatKetQua.postalAddress,callback:function(t){e.$set(e.dichVuChuyenPhatKetQua,"postalAddress",t)},expression:"dichVuChuyenPhatKetQua.postalAddress"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("SĐT người nhận"),o("span",{staticStyle:{color:"red"}},[e._v(" * ")]),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-text-field",{attrs:{"append-icon":"phone",rules:[e.rules.telNo,e.rules.required],required:""},model:{value:e.dichVuChuyenPhatKetQua.postalTelNo,callback:function(t){e.$set(e.dichVuChuyenPhatKetQua,"postalTelNo",t)},expression:"dichVuChuyenPhatKetQua.postalTelNo"}})],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Bưu cục"),o("span",{staticStyle:{color:"red"}},[e._v(" * ")]),e._v(": ")])],1),o("v-flex",{attrs:{xs12:"",sm6:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-autocomplete",{attrs:{items:e.vnPostItems,"item-text":"itemName","item-value":"itemCode",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.dichVuChuyenPhatKetQua.postalCityCode,callback:function(t){e.$set(e.dichVuChuyenPhatKetQua,"postalCityCode",t)},expression:"dichVuChuyenPhatKetQua.postalCityCode"}})],1)],1)],1):e._e()],1)],1)],1),o("div",{staticClass:"absolute__btn",staticStyle:{width:"350px","margin-top":"4px"}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),o("v-radio-group",{staticClass:"mt-1",attrs:{row:""},on:{change:function(t){e.changeViaPostal(t)}},model:{value:e.dichVuChuyenPhatKetQua.viaPostal,callback:function(t){e.$set(e.dichVuChuyenPhatKetQua,"viaPostal",t)},expression:"dichVuChuyenPhatKetQua.viaPostal"}},[o("v-radio",{attrs:{label:"Nhận kết quả trực tiếp",value:1}}),o("v-radio",{attrs:{label:"Nhận kết quả tại nhà",value:2}})],1)],1)],1)},a=[],n=(o("cadf"),o("551c"),o("097d"),{data:function(){return{valid_dichvuchuyenphat:!1,citys:[],resultDistricts:[],resultWards:[],vnPostItems:[],postalServiceItems:[{itemName:"VNPOST",itemCode:"VNPOST"}],rules:{required:function(e){return!!e||"Trường dữ liệu bắt buộc"},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Địa chỉ Email không hợp lệ"},telNo:function(e){var t=/^([0-9]{0,})$/;return t.test(e)||"Gồm các ký tự 0-9"}}}},computed:{loading:function(){return this.$store.getters.loading},thongTinChuHoSoBindChuyenPhat:function(){return this.$store.getters.thongTinChuHoSoBindChuyenPhat},dichVuChuyenPhatKetQua:function(){return this.$store.getters.dichVuChuyenPhatKetQua}},created:function(){var e=this;e.$store.dispatch("getVNPOSTcode").then(function(t){e.vnPostItems=t}),this.postalServiceItems.length>0&&(this.dichVuChuyenPhatKetQua.postalServiceCode=this.postalServiceItems[0].itemCode)},watch:{thongTinChuHoSoBindChuyenPhat:function(e){}},mounted:function(){var e=this,t={collectionCode:"ADMINISTRATIVE_REGION",level:0,parent:0},o=e.dichVuChuyenPhatKetQua;e.$store.getters.getDictItems(t).then(function(t){e.citys=t.data}),o.postalCityCode&&(t.parent=o.postalCityCode,t.level=1,e.$store.getters.getDictItems(t).then(function(t){e.resultDistricts=t.data})),o.postalDistrictCode&&(t.parent=o.postalDistrictCode,t.level=1,e.$store.getters.getDictItems(t).then(function(t){e.resultWards=t.data}))},methods:{initData:function(e){var t=this;t.$nextTick(function(){})},onChangeResultCity:function(e){var t=this,o={collectionCode:"ADMINISTRATIVE_REGION",level:1,parent:e};console.log("onChangeResultCity",e),t.$store.getters.getDictItems(o).then(function(e){t.resultDistricts=e.data})},onChangeResultDistrict:function(e){var t=this,o={collectionCode:"ADMINISTRATIVE_REGION",level:2,parent:e};console.log("onChangeResultDistrict",e),t.$store.getters.getDictItems(o).then(function(e){t.resultWards=e.data})},changeViaPostal:function(e){console.log("changeViaPostal",e),this.$store.commit("setViaPostal",2===e?2:1),this.$emit("changeViapostal",e);var t={viaPostal:2===e?2:1,postalServiceCode:this.dichVuChuyenPhatKetQua.postalServiceCode?this.dichVuChuyenPhatKetQua.postalServiceCode:"",postalAddress:this.dichVuChuyenPhatKetQua.postalAddress?this.dichVuChuyenPhatKetQua.postalAddress:"",postalCityCode:this.dichVuChuyenPhatKetQua.postalCityCode?this.dichVuChuyenPhatKetQua.postalCityCode:"",postalDistrictCode:this.dichVuChuyenPhatKetQua.postalDistrictCode?this.dichVuChuyenPhatKetQua.postalDistrictCode:"",postalWardCode:this.dichVuChuyenPhatKetQua.postalWardCode?this.dichVuChuyenPhatKetQua.postalWardCode:"",postalTelNo:this.dichVuChuyenPhatKetQua.postalTelNo?this.dichVuChuyenPhatKetQua.postalTelNo:""};this.$store.commit("setDichVuChuyenPhatKetQua",t),console.log("dichVuChuyenPhatKetQua",this.dichVuChuyenPhatKetQua)},validDichVuChuyenPhat:function(){var e=this;return e.$refs.formDichVuChuyenPhat.validate()}}}),s=n,r=o("2877"),c=o("6544"),l=o.n(c),d=o("c6a6"),_=o("b0af"),u=o("99d9"),p=o("0e8f"),h=o("4bd4"),m=o("a722"),g=o("67b6"),f=o("43a6"),v=o("0789"),y=o("e0c7"),C=o("2677"),D=Object(r["a"])(s,i,a,!1,null,null,null);t["a"]=D.exports;l()(D,{VAutocomplete:d["a"],VCard:_["a"],VCardText:u["b"],VFlex:p["a"],VForm:h["a"],VLayout:m["a"],VRadio:g["a"],VRadioGroup:f["a"],VSlideYTransition:v["d"],VSubheader:y["a"],VTextField:C["a"]})},bbd0:function(e){e.exports={initData:{menuConfigToDo:"/o/rest/v2_1/menuconfigs/todo",counterMenuStep:"/o/rest/v2/statistics/dossiers/todo",getListThuTucHanhChinh:"/o/rest/v2/onegate/serviceconfigs/processes",serviceInfoApi:"/o/rest/v2/serviceinfos",regionApi:"/o/rest/v2/dictcollections",postDossierApi:"/o/rest/v2/dossiers",dossierTemplatesApi:"/o/rest/v2/dossiertemplates",applicantApi:"/o/rest/v2/applicants",dossierlogsApi:"/o/rest/v2/dossierlogs",dossierApi:"/o/rest/v2/dossiers",serviceProcessesApi:"/o/rest/v2/serviceprocesses",serviceConfigApi:"/o/rest/v2/serviceconfigs",serviceConfigByGovApi:"/o/rest/v2/serviceconfigs/govagencies",getNextAction:"/o/rest/v2/dossiers",documentApi:"/o/rest/v2_1/dossiers",stepConfigApi:"/o/rest/v2_1/stepconfigs",getServiceConfigs:"/o/rest/v2/serviceconfigs",commentApi:"/o/rest/v2/comments"},renderURLInit:"?p_p_id=OneGate&p_p_lifecycle=2&p_p_state=exclusive&p_p_mode=view&p_p_resource_id=renderURLInit",dossierTemplates:[],advSearchTools:[{index:0,value:"adv_0",text:"Lọc hồ sơ theo năm - tháng - ngày",type:"select",dataSource:"data",spec:"year_month_day",display:!1,disabled:!1},{index:1,value:"adv_1",text:"Lọc hồ sơ theo top",type:"select",dataSource:"data",spec:"top",display:!1,disabled:!1},{index:2,value:"adv_2",text:"Lọc trạng thái hồ sơ",type:"select",dataSource:"getStatusLists",spec:"status",display:!1,disabled:!1},{index:3,value:"adv_3",text:"Lọc trạng thái con",type:"select",dataSource:"getSubstatusLists",spec:"substatus",display:!1,disabled:!1},{index:4,value:"adv_4",text:"Lọc theo mã đơn vị",type:"select",dataSource:"getAgencyLists",spec:"agency",display:!1,disabled:!1},{index:5,value:"adv_5",text:"Lọc theo mã thủ tục",type:"select",dataSource:"getServiceLists",spec:"service",display:!1,disabled:!1},{index:6,value:"adv_6",text:"Lọc theo lĩnh vực",type:"select",dataSource:"getDomainLists",spec:"domain",display:!1,disabled:!1},{index:7,value:"adv_7",text:"Tìm theo mã sổ theo dõi",type:"text",spec:"register",display:!1,disabled:!1}]}},c199:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-card",[o("v-card-text",[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("\n            Mã hồ sơ: \n          ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"text-bold",staticStyle:{float:"left"}},[o("span",{staticClass:"text-bold"},[e._v("\n              "+e._s(e.thongTinChungHoSo.dossierNo)+"\n            ")])])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Thời gian giải quyết: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),!e.loading&&e.thongTinChungHoSo.durationCount?o("v-subheader",{staticStyle:{float:"left"}},[o("span",{staticClass:"text-bold"},[e._v("\n              "+e._s(e.durationText(e.thongTinChungHoSo.durationUnit,e.thongTinChungHoSo.durationCount))+" làm việc\n            ")])]):e._e()],1),o("v-flex",{attrs:{xs12:""}}),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Ngày tiếp nhận: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticStyle:{float:"left"}},[o("span",{staticClass:"text-bold"},[e._v(e._s(e.thongTinChungHoSo.receiveDate))])])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0"},[e._v("Ngày hẹn trả: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),e.loading||!1!==e.editable&&null!==e.editable&&void 0!==e.editable&&"undefined"!==e.editable?e._e():o("v-subheader",{staticStyle:{float:"left",height:"100%"}},[o("span",{staticClass:"text-bold"},[e._v("\n              "+e._s(e.thongTinChungHoSo.dueDate)+"\n            ")])]),e.loading||!0!==e.editable?e._e():o("v-subheader",{staticStyle:{float:"left",height:"100%"}},[o("vue-ctk-date-time-picker",{ref:"datepicker",attrs:{format:"YYYY-MM-DDTHH:mm",formatted:"DD/MM/YYYY HH:mm","time-format":"HH:mm","without-header":!0,label:e.dueDateInput?"":"Chọn ngày","min-date":e.minDate},model:{value:e.dueDateInput,callback:function(t){e.dueDateInput=t},expression:"dueDateInput"}}),o("v-icon",{staticClass:"hover-pointer",on:{click:e.showDatePicker}},[e._v("event")])],1)],1)],1)],1)],1)],1)},a=[],n=(o("6b54"),o("f576"),o("c5f6"),o("cadf"),o("551c"),o("097d"),{components:{"vue-ctk-date-time-picker":window["vue-ctk-date-time-picker"]},data:function(){return{minDate:null,editable:!1,dueDateInput:null,dataPostDossier:{serviceCode:"",govAgencyCode:"",processOptionId:""},thongTinChungHoSo:{serviceName:"",dossierTemplateName:"",serviceConfig:"",serviceOption:"",dossierNo:"",receiveDate:"",dueDate:"",durationDate:"",dossierId:"",dossierIdCTN:"",dossierStatus:"",dossierStatusText:"",durationUnit:"",durationCount:""}}},created:function(){var e=this;e.$nextTick(function(){e.minDate=e.getCurentDateTime("date")})},computed:{loading:function(){return this.$store.getters.loading},isDetail:function(){return this.$store.getters.isDetail}},watch:{dueDateInput:function(e){this.thongTinChungHoSo["dueDate"]=this.getDuedateF(e)}},methods:{initData:function(e){var t=this,o={serviceName:e.serviceName,dossierTemplateName:e.dossierTemplateName,dossierNo:e.dossierNo?e.dossierNo:"",dueDate:null,receiveDate:e.receivingDate?t.dateTimeView(e.receivingDate):e.receiveDate,durationDate:e.durationDate,dossierId:e.dossierId,dossierIdCTN:e.dossierIdCTN,dossierStatus:e.dossierStatus,dossierStatusText:e.dossierStatusText,durationUnit:e.durationUnit,durationCount:e.durationCount};e.receivingDuedate&&e.editable?o.dueDate=e.receivingDuedate:e.receivingDuedate&&!e.editable?o.dueDate=e.receivingDuedate?t.dateTimeView(e.receivingDuedate):e.dueDate:o.dueDate=e.dueDate,t.thongTinChungHoSo=o,t.editable=e.editable,t.thongTinChungHoSo["editable"]=t.editable,t.editable&&(t.dueDateInput=t.thongTinChungHoSo.dueDate?t.formatDateInput(new Date(Number(t.thongTinChungHoSo.dueDate))):null),t.minDate=t.getCurentDateTime("date")},getthongtinchunghoso:function(){return this.thongTinChungHoSo},getCurentDateTime:function(e){var t=new Date;return"datetime"===e?"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," | ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0")):"date"===e?"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate()):void 0},changeDate:function(){this.thongTinChungHoSo["dueDate"]=this.getDuedate()},changeDossierNo:function(e){this.thongTinChungHoSo["dossierNo"]=e},getDuedate:function(){var e=this.dueDateInput?new Date(this.dueDateInput).getTime():"";return e},getDuedateF:function(e){var t=new Date(e).getTime();return t},durationText:function(e,t){var o;if(1===e&&t>8){var i,a=Math.floor(t/8)+" ngày";i=t%8!==0?8*(t/8-Math.floor(t/8))+" giờ":"",o="".concat(a," ").concat(i)}else 0===e?o=t+" ngày":1===e&&t<=8&&(o=t+" giờ");return o},goBack:function(){var e=this,t=e.$router.history.current.params,o=e.$router.history.current.query;e.$router.push({path:"/danh-sach-ho-so/"+t.index,query:o})},dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}},formatDateInput:function(e){return"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))},showDatePicker:function(){this.$refs.datepicker.showDatePicker()}},filters:{dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}return""}}}),s=n,r=o("2877"),c=o("6544"),l=o.n(c),d=o("b0af"),_=o("99d9"),u=o("0e8f"),p=o("132d"),h=o("a722"),m=o("e0c7"),g=Object(r["a"])(s,i,a,!1,null,null,null);t["a"]=g.exports;l()(g,{VCard:d["a"],VCardText:_["b"],VFlex:u["a"],VIcon:p["a"],VLayout:h["a"],VSubheader:m["a"]})},c23d:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"taotailieuketqua",staticStyle:{"background-color":"white",width:"100%"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v(" Tài liệu kết quả\n      ")]),o("v-card",e._l(e.createFiles,function(t,i){return o("div",{key:t.partNo+"cr",staticClass:"form_alpaca",staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{attrs:{"hide-actions":"",value:!1}},[o("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(t){e.stateView=!1}},slot:"header"},[o("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:e.checkStyle(t)}},e._l(e.dossierFilesItems,function(i,a){return t.partNo+e.id===i.dossierPartNo+e.id?o("div",{key:a+"cr"},[o("div",{staticStyle:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"25px","font-size":"12px"}},[o("span",{staticClass:"text-bold"},[e._v(e._s(a+1)+". ")]),o("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile2(i)}}},[i.eForm?o("v-icon",[e._v("border_color")]):o("v-icon",[e._v("attach_file")]),e._v("\n                        "+e._s(i.displayName)+" - \n                        "),o("i",[e._v(e._s(i.modifiedDate))])],1)])]):e._e()}),0)]),t.eForm?o("v-card",[o("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[t.daKhai&&t.eForm?o("v-btn",{attrs:{color:"primary"},on:{click:function(o){e.previewFileEfom(t,i)}}},[e._v("In")]):e._e(),o("div",{attrs:{id:"formAlpaca"+t.partNo+e.id}})],1)],1)],1)],1):e._e()],1)],1)],1)}),0),o("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("File đính kèm")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[o("v-icon",[e._v("close")])],1)],1),e.dialogPDFLoading?o("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[o("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),o("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+e.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)],1)],1)},a=[],n=o("f716"),s=n["a"],r=o("2877"),c=o("6544"),l=o.n(c),d=o("8336"),_=o("b0af"),u=o("99d9"),p=o("169a"),h=o("cd55"),m=o("49e2"),g=o("0e8f"),f=o("132d"),v=o("a722"),y=o("490a"),C=o("9910"),D=o("71d9"),T=o("2a7f"),S=Object(r["a"])(s,i,a,!1,null,null,null);t["a"]=S.exports;l()(S,{VBtn:d["a"],VCard:_["a"],VCardText:u["b"],VDialog:p["a"],VExpansionPanel:h["a"],VExpansionPanelContent:m["a"],VFlex:g["a"],VIcon:f["a"],VLayout:v["a"],VProgressCircular:y["a"],VSpacer:C["a"],VToolbar:D["a"],VToolbarTitle:T["b"]})},cade:function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("097d"),o("0f18");var i=o("a026"),a=o("bb71");o("74ef");i["a"].use(a["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-app",{staticClass:"onegate__fe",staticStyle:{border:"1px solid #dedede"}},[0===e.trangThaiHoSoList.length||e.viewMobile||e.isOffLine?e._e():o("v-navigation-drawer",{class:{detail_state:0!==e.detailState},attrs:{app:"",clipped:"",floating:"",width:"240"}},[o("div",{},[o("v-btn",{staticClass:"px-0 mt-0 ml-0",staticStyle:{height:"36px"},attrs:{block:"",color:"primary",loading:e.loadingGov,disabled:e.loadingGov},nativeOn:{click:function(t){e.doAddDVC()}}},[o("v-icon",{attrs:{size:"22",color:"white"}},[e._v("add")]),e._v(" \n        Thêm mới hồ sơ\n        "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1),e.loading?o("content-placeholders",{staticClass:"mt-3"},[o("content-placeholders-text",{attrs:{lines:7}})],1):o("v-list",{staticClass:"py-0 nav_trang_thai_ho_so"},e._l(e.trangThaiHoSoList,function(t,i){return o("v-list-group",{key:i,ref:"listGroupCustom",refInFor:!0,attrs:{"prepend-icon":t["icon"]?t["icon"]:"description","append-icon":(t.hasOwnProperty("items"),""),"no-action":""},model:{value:t.active,callback:function(o){e.$set(t,"active",o)},expression:"item.active"}},[o("v-list-tile",{attrs:{slot:"activator"},on:{click:function(o){e.toTableIndexing(t,i)}},slot:"activator"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.title))]),t.hasOwnProperty("counter")&&t["counter"]>-1?o("span",{staticClass:"status__counter_group status__counter"},[e._v("\n              "+e._s(t.counter)+"\n            ")]):o("span",{staticClass:"status__counter_group status__counter"},[o("v-progress-circular",{attrs:{width:1,size:16,indeterminate:"",color:"red"}})],1)],1)],1),e._l(t.items,function(a){return t.items&&t.items.length>1?o("v-list-tile",{key:a.stepCode,class:{"list__tile--active":String(e.currentStep)===String(a.stepCode)},nativeOn:{click:function(t){e.filterSteps(a,i)}}},[o("v-list-tile-action",[String(e.currentStep)===String(a.stepCode)?o("v-icon",{attrs:{color:"primary"}},[e._v("play_arrow")]):e._e()],1),o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(a.menuStepName))]),a.hasOwnProperty("counter")&&a["counter"]>-1?o("span",{staticClass:"status__counter"},[e._v("\n              "+e._s(a.counter)+"\n            ")]):o("span",{staticClass:"status__counter"},[o("v-progress-circular",{attrs:{width:1,size:16,indeterminate:"",color:"red"}})],1)],1)],1):e._e()})],2)}),1)],1),0!==e.trangThaiHoSoList.length&&e.viewMobile&&!e.isOffLine?o("div",[o("div",{staticClass:"row-header mb-2 py-2",staticStyle:{"background-color":"#070f52"}},[o("div",{staticClass:"ml-2 text-bold white--text"},[o("span",[e._v("QUẢN LÝ HỒ SƠ")])])]),o("div",{staticClass:"mx-2"},[o("v-btn",{attrs:{block:"",color:"primary",loading:e.loadingGov,disabled:e.loadingGov},nativeOn:{click:function(t){e.doAddDVC()}}},[e._v("\n        Thêm mới hồ sơ\n        "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])],1),o("div",{staticStyle:{"max-height":"200px",overflow:"hidden","overflow-y":"scroll"}},[e.loading?o("content-placeholders",{staticClass:"mt-3"},[o("content-placeholders-text",{attrs:{lines:7}})],1):o("v-list",{staticClass:"py-0 nav_trang_thai_ho_so"},e._l(e.trangThaiHoSoList,function(t,i){return o("v-list-group",{key:i,ref:"listGroupCustom",refInFor:!0,attrs:{"prepend-icon":t["icon"]?t["icon"]:"description","append-icon":(t.hasOwnProperty("items"),""),"no-action":""},model:{value:t.active,callback:function(o){e.$set(t,"active",o)},expression:"item.active"}},[o("v-list-tile",{staticClass:"px-0",attrs:{slot:"activator"},on:{click:function(o){e.toTableIndexing(t,i)}},slot:"activator"},[o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(t.title))]),t.hasOwnProperty("counter")&&t["counter"]>-1&&3!==t["menuType"]?o("span",{staticClass:"status__counter_group status__counter"},[e._v("\n                "+e._s(t.counter)+"\n              ")]):3!==t["menuType"]?o("span",{staticClass:"status__counter_group status__counter"},[o("v-progress-circular",{attrs:{width:1,size:16,indeterminate:"",color:"red"}})],1):e._e()],1)],1),e._l(t.items,function(i){return t.items&&t.items.length>1?o("v-list-tile",{key:i.stepCode,staticClass:"px-0",class:{"list__tile--active":String(e.currentStep)===String(i.stepCode)},nativeOn:{click:function(t){e.filterSteps(i)}}},[o("v-list-tile-action",[String(e.currentStep)===String(i.stepCode)?o("v-icon",{attrs:{color:"primary"}},[e._v("play_arrow")]):e._e()],1),o("v-list-tile-content",[o("v-list-tile-title",[e._v(e._s(i.menuStepName))]),i.hasOwnProperty("counter")&&i["counter"]>-1?o("span",{staticClass:"status__counter"},[e._v("\n                "+e._s(i.counter)+"\n              ")]):o("span",{staticClass:"status__counter"},[o("v-progress-circular",{attrs:{width:1,size:16,indeterminate:"",color:"red"}})],1)],1)],1):e._e()})],2)}),1)],1)]):e._e(),o("v-content",[o("router-view"),e.loading||0!==e.trangThaiHoSoList.length||e.isOffLine?e._e():o("v-alert",{staticClass:"mx-3",attrs:{outline:"",color:"warning",icon:"priority_high",value:!0}},[e._v("\n      Bạn không có quyền thao tác!\n    ")])],1),o("object",{attrs:{id:"plugin0",type:"application/x-cryptolib05plugin",width:"0",height:"0"}})],1)},s=[],r=(o("28a5"),o("7f7f"),o("6762"),o("2fdb"),o("9029")),c={data:function(){return{isCallBack:!0,trangThaiHoSoList:[],loading:!0,currentStep:"0",counterData:[],detailState:0}},computed:{currentIndex:function(){return this.$store.getters.index},loadingGov:function(){return this.$store.getters.loadingGov},activeGetCounter:function(){return this.$store.getters.activeGetCounter},viewMobile:function(){return r["isMobile"]},pathLanding:function(){return r["isMobile"]?"/m/danh-sach-ho-so":"/danh-sach-ho-so"}},created:function(){var e=this;window.location.href.includes("/m/")&&e.viewMobile?$("head meta[name=viewport]").remove():0===$("head meta[name=viewport]").length&&$("head").append('<meta name="viewport" content="width=device-width, initial-scale=1.0"/>'),e.$nextTick(function(){e.loading=!0,e.$store.dispatch("loadMenuConfigToDo").then(function(t){if(e.loading=!1,0!==t.length){e.trangThaiHoSoList=t;var o=e.$router.history.current,i=e.$router.history.current.params;i.hasOwnProperty("index")||i.hasOwnProperty("serviceCode")||"ThanhToanThanhCong"===o.name?i.hasOwnProperty("index")&&(e.trangThaiHoSoList[i.index]["active"]=!0):(e.trangThaiHoSoList[0]["active"]=!0,e.$router.push({path:e.pathLanding+"/0",query:{q:e.trangThaiHoSoList[0]["queryParams"]}})),e.loadingCounter()}})})},updated:function(){var e=this;e.$nextTick(function(){var t=e.$router.history.current.params;t.hasOwnProperty("index")&&e.isCallBack&&(e.isCallBack=!1,e.$store.commit("setIndex",t.index),t.hasOwnProperty("id")?e.detailState=1:e.detailState=0)})},watch:{$route:function(e,t){var o=this;window.location.href.includes("/m/")&&o.viewMobile?$("head meta[name=viewport]").remove():0===$("head meta[name=viewport]").length&&$("head").append('<meta name="viewport" content="width=device-width, initial-scale=1.0"/>');var i=e.params,a=e.query;a.hasOwnProperty("step")?o.currentStep=String(a.step):o.currentStep="0",a.hasOwnProperty("recount")&&o.loadingCounter(),i.hasOwnProperty("id")?o.detailState=1:o.detailState=0},activeGetCounter:function(e){var t=this;setTimeout(function(){t.loadingCounter()},300)}},methods:{toTableIndexing:function(e,t){var o=this;this.$store.commit("setIndex",t),o.$router.push({path:o.pathLanding+"/"+t,query:{renew:Math.floor(100*Math.random())+1,q:e.queryParams}})},filterSteps:function(e,t){var o=this,i=this.$router.history.current.query,a=this.$router.history.current.params;console.log("currentParams",a),console.log("currentQuery",i);var n=this.trangThaiHoSoList[t].queryParams;if(null!==i&&void 0!==i){var s=n.lastIndexOf("=");s>0&&(n=n.substr(0,s+1))}this.currentStep=String(e.stepCode),o.$router.push({path:o.pathLanding+"/"+a.index,query:{renew:Math.floor(100*Math.random())+1,q:n+e.stepCode,step:e.stepCode}})},loadingCounter:function(){var e=this,t={originality:e.getOriginality()};e.$store.dispatch("loadingCounterHoSo",t).then(function(t){e.counterData=t.data;var o=function(t){if(e.trangThaiHoSoList[t]["counter"]=0,e.trangThaiHoSoList[t].hasOwnProperty("items")){var o=0;for(var i in e.trangThaiHoSoList[t].items)for(var a in e.trangThaiHoSoList[t].items[i]["counter"]=0,e.counterData)if(String(e.counterData[a].stepCode)===String(e.trangThaiHoSoList[t].items[i].stepCode)){var n=e.counterData[a].totalCount;e.trangThaiHoSoList[t].items[i]["counter"]=n,o+=n;break}e.trangThaiHoSoList[t]["counter"]=o}else if(e.trangThaiHoSoList[t].queryParams.indexOf("step")>=0){var s=e.trangThaiHoSoList[t].queryParams.split("step="),r=0;for(var c in e.counterData)if(String(e.counterData[c].stepCode)===String(s[1])){e.counterData[c].totalCount;break}e.trangThaiHoSoList[t]["counter"]=r}else{var l={queryParams:e.trangThaiHoSoList[t].queryParams};e.$store.dispatch("loadingCounterNotStep",l).then(function(o){e.trangThaiHoSoList[t]["counter"]=o.total}).catch(function(){e.trangThaiHoSoList[t]["counter"]=0})}};for(var i in e.trangThaiHoSoList)o(i);e.loading=!1})},doAddDVC:function(){var e=this;e.$router.push("/add-dvc/0")}}},l=c,d=o("2877"),_=o("6544"),u=o.n(_),p=o("0798"),h=o("7496"),m=o("8336"),g=o("549c"),f=o("132d"),v=o("8860"),y=o("56b0"),C=o("ba95"),D=o("40fe"),T=o("5d23"),S=o("f774"),P=o("490a"),b=Object(d["a"])(l,n,s,!1,null,null,null),x=b.exports;u()(b,{VAlert:p["a"],VApp:h["a"],VBtn:m["a"],VContent:g["a"],VIcon:f["a"],VList:v["a"],VListGroup:y["a"],VListTile:C["a"],VListTileAction:D["a"],VListTileContent:T["a"],VListTileTitle:T["c"],VNavigationDrawer:S["a"],VProgressCircular:P["a"]});var E=o("8c4f"),I=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"row-header no__hidden_class"},[null!==e.trangThaiHoSoList?o("div",{staticClass:"background-triangle-big"},[o("span",[e._v(e._s(e.trangThaiHoSoList[e.index]["title"]))])]):e._e(),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{position:"relative"}},[o("v-combobox",{attrs:{placeholder:"Tìm kiếm theo tên hồ sơ, tên thủ tục ...",solo:"",chips:"",multiple:"","deletable-chips":"","item-value":"value","item-text":"text","content-class":"adv__search__select","return-object":""},on:{input:e.keywordEventChange},model:{value:e.advSearchItems,callback:function(t){e.advSearchItems=t},expression:"advSearchItems"}}),o("v-fade-transition",[e.menusss?o("div",{staticClass:"adv__search_container"},[e._l(e.advSearchTools,function(t,i){return t.display?o("v-layout",{key:i,attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm5:""}},[o("v-select",{attrs:{items:e.advSearchTools,label:"Chọn điều kiện lọc","single-line":"","item-value":"value","item-text":"text",disabled:""},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"item.value"}})],1),o("v-flex",{staticClass:"text-center",attrs:{xs12:"",sm1:""}},[o("v-btn",{staticClass:"my-0 mx-0",attrs:{icon:""}},[o("v-icon",{attrs:{size:"16"}},[e._v("drag_handle")])],1)],1),"year_month_day"===t.spec?o("v-flex",{staticClass:"pr-2",attrs:{xs2:"",sm2:""}},[o("v-autocomplete",{attrs:{items:e.itemFilterSupport.years,label:"Chọn năm","single-line":"","item-value":"value","item-text":"name","hide-selected":""},on:{change:function(o){e.changeAdvFilterData(o,"year",t.index)}},model:{value:e.itemFilterSupport.year,callback:function(t){e.$set(e.itemFilterSupport,"year",t)},expression:"itemFilterSupport.year"}})],1):e._e(),"year_month_day"===t.spec?o("v-flex",{staticClass:"pr-2",attrs:{xs2:"",sm2:""}},[o("v-autocomplete",{attrs:{items:e.itemFilterSupport.months,label:"Chọn tháng","single-line":"","item-value":"value","item-text":"name"},on:{change:function(o){e.changeAdvFilterData(o,"month",t.index)}},model:{value:e.itemFilterSupport.month,callback:function(t){e.$set(e.itemFilterSupport,"month",t)},expression:"itemFilterSupport.month"}})],1):e._e(),"year_month_day"===t.spec?o("v-flex",{attrs:{xs2:"",sm2:""}},[o("v-autocomplete",{attrs:{items:e.itemFilterSupport.days,label:"Chọn ngày","single-line":"","item-value":"value","item-text":"name"},on:{change:function(o){e.changeAdvFilterData(o,"day",t.index)}},model:{value:e.itemFilterSupport.day,callback:function(t){e.$set(e.itemFilterSupport,"day",t)},expression:"itemFilterSupport.day"}})],1):e._e(),"top"===t.spec?o("v-flex",{attrs:{xs:"",12:"",sm6:""}},[o("v-autocomplete",{attrs:{items:e.itemFilterSupport.tops,label:t.text+":","single-line":"","item-value":"value","item-text":"name"},on:{change:function(o){e.changeAdvFilterData(o,t.spec,t.index)}},model:{value:e.itemFilterSupport.top,callback:function(t){e.$set(e.itemFilterSupport,"top",t)},expression:"itemFilterSupport.top"}})],1):e._e(),"status"===t.spec?o("v-flex",{attrs:{xs:"",12:"",sm6:""}},[o("v-autocomplete",{attrs:{items:e.itemFilterSupport.statusLists,label:t.text+":","single-line":"","item-value":"itemCode","item-text":"itemName"},on:{change:function(o){e.changeAdvFilterData(o,t.spec,t.index)}},model:{value:e.itemFilterSupport.status,callback:function(t){e.$set(e.itemFilterSupport,"status",t)},expression:"itemFilterSupport.status"}})],1):e._e(),"substatus"===t.spec?o("v-flex",{attrs:{xs:"",12:"",sm6:""}},[o("v-autocomplete",{attrs:{items:e.itemFilterSupport.substatusLists,label:t.text+":","single-line":"","item-value":"itemCode","item-text":"itemName"},on:{change:function(o){e.changeAdvFilterData(o,t.spec,t.index)}},model:{value:e.itemFilterSupport.substatus,callback:function(t){e.$set(e.itemFilterSupport,"substatus",t)},expression:"itemFilterSupport.substatus"}})],1):e._e(),"agency"===t.spec?o("v-flex",{attrs:{xs:"",12:"",sm6:""}},[o("v-autocomplete",{attrs:{items:e.itemFilterSupport.agencyLists,label:t.text+":","single-line":"","item-value":"administrationCode","item-text":"administrationName"},on:{change:function(o){e.changeAdvFilterData(o,t.spec,t.index)}},model:{value:e.itemFilterSupport.agency,callback:function(t){e.$set(e.itemFilterSupport,"agency",t)},expression:"itemFilterSupport.agency"}})],1):e._e(),"service"===t.spec?o("v-flex",{attrs:{xs:"",12:"",sm6:""}},[o("v-autocomplete",{attrs:{items:e.itemFilterSupport.serviceLists,label:t.text+":","single-line":"","item-value":"serviceCode","item-text":"serviceName"},on:{change:function(o){e.changeAdvFilterData(o,t.spec,t.index)}},model:{value:e.itemFilterSupport.service,callback:function(t){e.$set(e.itemFilterSupport,"service",t)},expression:"itemFilterSupport.service"}})],1):e._e(),"domain"===t.spec?o("v-flex",{attrs:{xs:"",12:"",sm6:""}},[o("v-autocomplete",{attrs:{items:e.itemFilterSupport.domainLists,label:t.text+":","single-line":"","item-value":"domainCode","item-text":"domainName"},on:{change:function(o){e.changeAdvFilterData(o,t.spec,t.index)}},model:{value:e.itemFilterSupport.domain,callback:function(t){e.$set(e.itemFilterSupport,"domain",t)},expression:"itemFilterSupport.domain"}})],1):e._e(),"register"===t.spec?o("v-flex",{attrs:{xs:"",12:"",sm6:""}},[o("v-text-field",{attrs:{placeholder:t.text},model:{value:e.itemFilterSupport.register,callback:function(t){e.$set(e.itemFilterSupport,"register",t)},expression:"itemFilterSupport.register"}})],1):e._e()],1):e._e()}),o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"no__selected__items",attrs:{xs12:"",sm10:""}},[o("v-autocomplete",{attrs:{items:e.advSearchTools,label:"Chọn điều kiện lọc","single-line":"","item-value":"text","item-text":"text","return-object":"","hide-selected":""},on:{change:e.selectedAdvFilter},model:{value:e.advSearchToolsSelected,callback:function(t){e.advSearchToolsSelected=t},expression:"advSearchToolsSelected"}})],1),o("v-flex",{staticClass:"text-right",attrs:{xs12:"",sm2:""}},[o("v-btn",{staticClass:"mx-0 my-0 mt-1",attrs:{color:"primary"},nativeOn:{click:function(t){e.menusss=!1}}},[o("v-icon",{staticClass:"mr-2"},[e._v("clear")]),e._v("\n                  Quay lại\n                ")],1)],1)],1)],2):e._e()])],1),o("div",{staticClass:"flex text-right",staticStyle:{"margin-left":"auto","max-width":"50px"}},[o("v-btn",{staticClass:"my-0 mx-2",attrs:{icon:""},nativeOn:{click:function(t){return e.showAdvFilter(t)}}},[o("v-icon",{attrs:{size:"16"}},[e._v("filter_list")])],1)],1)])]),o("v-layout",{staticClass:"menu_header_list pt-3 pb-2",class:{no__border__bottom:null===e.btnDynamics||void 0===e.btnDynamics||"undefined"===e.btnDynamics||null!==e.btnDynamics&&void 0!==e.btnDynamics&&"undefined"!==e.btnDynamics&&0===e.btnDynamics.length},attrs:{wrap:""}},[1!==e.originality?o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"pl-2 pr-2 input-group--text-field-box",attrs:{xs12:"",sm3:""}},[o("v-autocomplete",{attrs:{items:e.listLinhVuc,label:"Chọn lĩnh vực","item-text":"displayName","item-value":"domainCode","return-object":"","hide-selected":!0,clearable:"",box:""},on:{change:e.changeDomain},model:{value:e.linhVucSelected,callback:function(t){e.linhVucSelected=t},expression:"linhVucSelected"}})],1),o("v-flex",{staticClass:"pl-2 pr-2 input-group--text-field-box",attrs:{xs12:"",sm3:""}},[o("v-autocomplete",{attrs:{items:e.listThuTucHanhChinh,label:"Chọn thủ tục hành chính","item-text":"displayName","item-value":"serviceConfigId","return-object":"","hide-selected":!0,clearable:"",box:""},on:{change:e.changeServiceConfigs},model:{value:e.thuTucHanhChinhSelected,callback:function(t){e.thuTucHanhChinhSelected=t},expression:"thuTucHanhChinhSelected"}})],1),o("v-flex",{staticClass:"pl-2 pr-2 input-group--text-field-box",attrs:{xs12:"",sm3:""}},[o("v-autocomplete",{attrs:{items:e.listDichVu,label:"Chọn dịch vụ","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,box:""},on:{change:e.changeDichVuConfigs},model:{value:e.dichVuSelected,callback:function(t){e.dichVuSelected=t},expression:"dichVuSelected"}})],1),o("v-flex",{staticClass:"pl-2 pr-2",attrs:{xs12:"",sm3:""}},[o("div",{staticStyle:{position:"relative"}},[o("v-text-field",{attrs:{label:"Nhập mã hồ sơ","append-icon":"search",box:""},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.changeDossierNoKey(t):null},"click:append":e.changeDossierNoKey},model:{value:e.dossierNoKey,callback:function(t){e.dossierNoKey=t},expression:"dossierNoKey"}})],1)])],1):e._e(),null!==e.dossierCounting&&void 0!==e.dossierCounting&&e.dossierCounting.length>0&&e.dossierCountingShow?o("div",{staticClass:"py-1 px-1",staticStyle:{background:"#f6f6f6","border-top":"1px solid lightgrey"}},e._l(e.dossierCounting,function(t,i){return o("v-chip",{key:i,on:{click:function(o){e.changeAdvFilterDataChips(t)}}},["deleted"===t.key?o("v-avatar",{staticStyle:{"background-color":"#da0e0e","border-color":"#da0e0e",color:"#fff"}},[o("v-icon",{attrs:{size:"16"}},[e._v("delete")])],1):o("v-avatar",{staticStyle:{"background-color":"#0b72ba","border-color":"#0b72ba",color:"#fff"}},[e._v(e._s(t.count))]),e._v("\n        "+e._s(t.title)+"\n      ")],1)}),1):e._e()],1),e.loadingDynamicBtn?o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm6:""}}),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("content-placeholders",{staticClass:"mt-3"},[o("content-placeholders-text",{attrs:{lines:1}})],1)],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("content-placeholders",{staticClass:"mt-3"},[o("content-placeholders-text",{attrs:{lines:1}})],1)],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("content-placeholders",{staticClass:"mt-3"},[o("content-placeholders-text",{attrs:{lines:1}})],1)],1)],1):e._e(),e.loadingDynamicBtn?e._e():o("div",{staticClass:"btn_wrap_actions"},[e.getUser("Administrator_data")&&"deleted"!==e.currentQueryState["status"]?o("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"UNDO_DOSSIER"},0,!0)}}},[e._v("\n         Undo   \n    ")]):e._e(),e.getUser("Administrator_data")?o("v-menu",{staticStyle:{position:"relative !important"},attrs:{bottom:""}},[o("v-btn",{attrs:{slot:"activator",color:"red",dark:""},slot:"activator"},[e._v("Go to   "),o("v-icon",{attrs:{size:"18"}},[e._v("arrow_drop_down")])],1),o("v-list",[o("v-list-tile",{on:{click:function(t){e.btnActionEvent(e.selectedDoAction[e.selectedDoAction.length-1],{form:"GOTO_DONE"},0,!0)}}},[o("v-list-tile-title",[e._v("Hoàn thành")])],1),o("v-list-tile",{on:{click:function(t){e.btnActionEvent(e.selectedDoAction[e.selectedDoAction.length-1],{form:"GOTO_CANCEL"},0,!0)}}},[o("v-list-tile-title",[e._v("Rút hồ sơ")])],1),o("v-list-tile",{on:{click:function(t){e.btnActionEvent(e.selectedDoAction[e.selectedDoAction.length-1],{form:"GOTO_DENY"},0,!0)}}},[o("v-list-tile-title",[e._v("Từ chối")])],1)],1)],1):e._e(),e.getUser("Administrator_data")&&"deleted"!==e.currentQueryState["status"]?o("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"CHANGE_DATA_DOSSIER"},0,!0)}}},[e._v("\n      Điều chỉnh dữ liệu\n    ")]):e._e(),e.getUser("Administrator")?o("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"DELETE"},0,!0)}}},[e._v("\n      DELETE\n    ")]):e._e(),e.getUser("Administrator_data")&&e.currentQueryState.hasOwnProperty("status")&&"deleted"===e.currentQueryState["status"]?o("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"RESTORE_DOSSIER"},0,!0)}}},[e._v("\n      Khôi phục hồ sơ\n    ")]):e._e(),e._l(e.btnDynamics,function(t,i){return String(t.form).indexOf("VIEW")<0&&3!==e.menuType?o("v-btn",{key:i,attrs:{color:"primary",loading:e.loadingAction&&i===e.indexAction,disabled:e.loadingAction&&i===e.indexAction},nativeOn:{click:function(o){e.btnActionEvent(null,t,i,!0)}}},[e._v("\n      "+e._s(t.title)+e._s(t.tiltle)+"\n      "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])]):e._e()})],2),o("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:e.headers,items:e.hosoDatas,"total-items":e.hosoDatasTotal,"item-key":"dossierId","select-all":3!==e.menuType&&1!==e.originality&&e.btnDynamics.length>0||e.getUser("Administrator")||e.getUser("Administrator_data"),"no-data-text":"Không có hồ sơ nào","hide-actions":""},scopedSlots:e._u([{key:"headers",fn:function(t){return[o("tr",[3!==e.menuType&&1!==e.originality&&e.btnDynamics.length>0||e.getUser("Administrator")||e.getUser("Administrator_data")?o("th",{staticClass:"v_data_table_check_all",attrs:{width:"32px"}},[e.getUser("Administrator")?o("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}}}):o("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,disabled:!e.thuTucHanhChinhSelected||e.thuTucHanhChinhSelected&&"0"===e.thuTucHanhChinhSelected.serviceConfigId||e.thuTucHanhChinhSelected&&""===e.thuTucHanhChinhSelected.serviceConfigId,primary:"","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}}})],1):e._e(),e._l(t.headers,function(t){return o("th",{key:t.text,class:t["class"]?t["class"]:"",attrs:{width:t["width"]?t["width"]+"px":""}},[o("v-tooltip",{attrs:{bottom:""}},[o("span",{attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(t.text))]),o("span",[e._v(e._s(t.text))])])],1)})],2)]}},{key:"items",fn:function(t){return[o("tr",[3!==e.menuType&&1!==e.originality&&e.btnDynamics.length>0||e.getUser("Administrator")||e.getUser("Administrator_data")?o("td",{staticClass:"v_data_table_check_all",attrs:{width:"32px"}},[e.getUser("Administrator")||e.getUser("Administrator_data")?o("v-checkbox",{attrs:{primary:"","hide-details":"",color:"primary"},on:{change:e.changeSelected},model:{value:t.selected,callback:function(o){e.$set(t,"selected",o)},expression:"props.selected"}}):o("v-checkbox",{attrs:{disabled:0===t.item["assigned"]||!e.thuTucHanhChinhSelected||e.thuTucHanhChinhSelected&&"0"===e.thuTucHanhChinhSelected.serviceConfigId||e.thuTucHanhChinhSelected&&""===e.thuTucHanhChinhSelected.serviceConfigId,primary:"","hide-details":"",color:"primary"},on:{change:e.changeSelected},model:{value:t.selected,callback:function(o){e.$set(t,"selected",o)},expression:"props.selected"}})],1):e._e(),o("td",{staticClass:"text-xs-center px-0 py-0"},[e.loadingTable?o("content-placeholders",[o("content-placeholders-text",{attrs:{lines:1}})],1):o("span",{class:{no_acction__event:!t.item["permission"]},staticStyle:{cursor:"pointer"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n            "+e._s(15*e.hosoDatasPage-15+t.index+1)+"\n          ")])],1),e._l(e.headers,function(i,a){return i.hasOwnProperty("value")?o("td",{key:a+"_"+t.item.dossierId,class:i["class_column"]},[e.loadingTable?o("content-placeholders",[o("content-placeholders-text",{attrs:{lines:1}})],1):o("div",{class:{no_acction__event:!t.item["permission"]},staticStyle:{cursor:"pointer"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[i.hasOwnProperty("layout_view")?o("template-rendering",{attrs:{item:t.item,layout_view:i.layout_view}}):o("span",[e._v("\n              "+e._s(t.item[i.value])+"\n            ")])],1)],1):e._e()}),e.hideAction?e._e():o("td",{staticClass:"text-xs-center px-0 py-0"},[e.loadingTable?o("content-placeholders",[o("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),e.loadingTable||null===e.btnDynamics&&void 0===e.btnDynamics&&"undefined"===e.btnDynamics&&null===e.btnDossierDynamics&&void 0===e.btnDossierDynamics&&"undefined"===e.btnDossierDynamics?e._e():o("v-menu",{attrs:{left:"","nudge-left":50,"nudge-top":15}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){e.processPullBtnDynamics(t.item)}},slot:"activator"},[o("v-icon",[e._v("more_vert")])],1),o("v-list",[e._l(e.btnDynamics,function(i,a){return 3===e.menuType?o("v-list-tile",{key:a+"_menu_"+t.item.dossierId,attrs:{disabled:-1===String(t.item["permission"]).indexOf("write")},on:{click:function(o){e.btnActionEvent(t.item,i,t.index,!1)}}},[o("v-list-tile-title",[e._v(e._s(i.title)+e._s(i.tiltle))])],1):e._e()}),e._l(e.btnDossierDynamics,function(i,a){return(i["enable"]>0||"special"===i["autoEvent"])&&3!==e.menuType?o("v-list-tile",{key:a+"_"+t.item.dossierId,attrs:{disabled:2===i["enable"]||-1===String(t.item["permission"]).indexOf("write")},on:{click:function(o){e.processPullBtnDetail(t.item,i,t.index,a)}}},[o("v-list-tile-title",[e._v(e._s(i.actionName))])],1):e._e()}),e._l(e.btnStepsDynamics,function(i,a){return-1!==String(t.item["permission"]).indexOf("write")&&"NEW"!==String(i.form)&&3!==e.menuType?o("v-list-tile",{key:a+"_"+t.item.dossierId+"_"+t.item.dossierId,on:{click:function(o){e.btnActionEvent(t.item,i,e.index,!1)}}},[o("v-list-tile-title",[e._v(e._s(i.title))])],1):e._e()}),o("v-list-tile",{attrs:{disabled:!t.item["permission"]},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n                Xem chi tiết\n              ")])],2)],1)],1)],2)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),o("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[o("div",{staticClass:"flex pagging-table px-2"},[o("tiny-pagination",{attrs:{total:e.hosoDatasTotal,page:e.hosoDatasPage,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingData}})],1)]),o("v-dialog",{attrs:{"max-width":"700",transition:"fade-transition",persistent:""},model:{value:e.dialogAction,callback:function(t){e.dialogAction=t},expression:"dialogAction"}},[o("v-card",[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[o("v-toolbar-title",[e._v(e._s(e.itemAction.title)+e._s(e.itemAction.tiltle))]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogAction=!1}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",{staticClass:"pb-0 pt-4"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"px-2 pb-3",attrs:{xs12:""}},[o("v-autocomplete",{attrs:{items:e.listThuTucHanhChinh,rules:[function(e){return!!e||"Thủ tục hành chính bắt buộc phải chọn"}],placeholder:"Chọn thủ tục hành chính","item-text":"displayName","item-value":"serviceConfigId","return-object":"","hide-selected":!0,box:""},on:{change:e.changeServiceConfigs},model:{value:e.thuTucHanhChinhSelected,callback:function(t){e.thuTucHanhChinhSelected=t},expression:"thuTucHanhChinhSelected"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[e.thuTucHanhChinhSelected&&e.listDichVu.length>1?o("v-autocomplete",{attrs:{items:e.listDichVu,label:"Dịch vụ:",placeholder:"Chọn dịch vụ","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"Dịch vụ bắt buộc phải chọn"}],required:"",box:""},on:{change:e.changeDichVuConfigs},model:{value:e.dichVuSelected,callback:function(t){e.dichVuSelected=t},expression:"dichVuSelected"}}):e._e()],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"red darken-3",flat:"flat",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){e.dialogAction=!1}}},[o("v-icon",[e._v("reply")]),e._v(" \n            Quay lại\n            "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),o("v-btn",{attrs:{color:"primary",flat:"flat",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){e.doSubmitDialogAction(e.itemAction)}}},[o("v-icon",[e._v("save")]),e._v(" \n            Đồng ý\n            "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)],1),o("v-dialog",{attrs:{"max-width":"1000",transition:"fade-transition",persistent:""},model:{value:e.dialogActionProcess,callback:function(t){e.dialogActionProcess=t},expression:"dialogActionProcess"}},[o("v-card",[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.validProcess,callback:function(t){e.validProcess=t},expression:"validProcess"}},[o("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[o("v-toolbar-title",[e._v(e._s(e.itemAction.actionName))]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogActionProcess=!1}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",{staticClass:"py-0 px-0"},[o("v-layout",{attrs:{wrap:""}},[e.dialogActionProcess&&e.showPhanCongNguoiThucHien?o("phan-cong",{attrs:{type:e.type_assign},model:{value:e.assign_items,callback:function(t){e.assign_items=t},expression:"assign_items"}}):e._e(),e.dialogActionProcess&&e.showYkienCanBoThucHien?o("y-kien-can-bo",{ref:"ykiencanbo",attrs:{user_note:e.userNote}}):e._e()],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"primary",loading:e.loadingActionProcess,disabled:e.loadingActionProcess},nativeOn:{click:function(t){e.submitFormXuLy(e.dossierItemDialogPick,e.itemDialogPick,e.resultDialogPick,e.indexDialogPick,!1)}}},[o("v-icon",[e._v("save")]),e._v(" \n          Xác nhận\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),o("v-btn",{attrs:{color:"red",dark:"",loading:e.loadingActionProcess,disabled:e.loadingActionProcess},nativeOn:{click:function(t){e.dialogActionProcess=!1}}},[o("v-icon",[e._v("reply")]),e._v(" \n          Quay lại\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)],1),o("v-dialog",{attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[o("v-toolbar-title",[e._v(e._s(e.itemAction.title)+e._s(e.itemAction.tiltle))]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[o("v-icon",[e._v("close")])],1)],1),e.dialogPDFLoading?o("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[o("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),o("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),o("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_statusAction,callback:function(t){e.dialog_statusAction=t},expression:"dialog_statusAction"}},[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("Trạng thái xử lý")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.closeDialogStatusAction(t)}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",{staticStyle:{"max-height":"350px"}},e._l(e.selected,function(t,i){return o("div",{key:t.dossierIdCTN},[o("v-layout",{staticClass:"py-1 align-center row-list-style",staticStyle:{"border-bottom":"1px solid #ddd",position:"relative"},attrs:{wrap:""}},[o("v-flex",{attrs:{xs11:""}},[o("span",{staticClass:"text-bold",staticStyle:{position:"absolute"}},[e._v(e._s(i+1)+".")]),o("div",{staticClass:"ml-4"},[o("span",{staticClass:"text-bold"},[e._v(e._s(t.dossierNo))]),e._v(" - "+e._s(t.serviceName))])]),o("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[t.statusAction?o("v-tooltip",{attrs:{top:""}},[o("v-icon",{attrs:{slot:"activator",size:"20",color:"primary"},slot:"activator"},[e._v("\n                  check\n                ")]),o("span",[e._v("Thành công")])],1):o("v-tooltip",{attrs:{top:""}},[o("v-icon",{attrs:{slot:"activator",size:"20",color:"red darken-3"},slot:"activator"},[e._v("\n                  block\n                ")]),o("span",[e._v("Thất bại")])],1)],1)],1)],1)}),0),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){return e.resend(t)}}},[o("v-icon",{attrs:{size:"20"}},[e._v("refresh")]),e._v(" \n          Thử lại\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),o("v-btn",{attrs:{color:"red",dark:"",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){return e.closeDialogStatusAction(t)}}},[o("v-icon",[e._v("undo")]),e._v(" \n          Thoát\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1),o("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_printGuide,callback:function(t){e.dialog_printGuide=t},expression:"dialog_printGuide"}},[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("Thông tin phiếu hướng dẫn hoàn thiện hồ sơ")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog_printGuide=!1}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",[o("v-form",{ref:"formGuide",attrs:{"lazy-validation":""},model:{value:e.validGuide,callback:function(t){e.validGuide=t},expression:"validGuide"}},[o("v-layout",{staticClass:"py-1 align-center row-list-style",attrs:{wrap:""}},[o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Thủ tục hành chính "),o("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(":")]),o("v-autocomplete",{staticClass:"input-group--text-field-box",attrs:{box:"",items:e.listThuTucHanhChinh,placeholder:"Chọn thủ tục hành chính","item-text":"displayName","item-value":"serviceConfigId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"Thủ tục bắt buộc phải chọn."}],required:""},on:{change:e.changeServiceConfigsGuide},model:{value:e.thuTucHanhChinhSelectedGuide,callback:function(t){e.thuTucHanhChinhSelectedGuide=t},expression:"thuTucHanhChinhSelectedGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Dịch vụ "),o("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(":")]),o("v-autocomplete",{staticClass:"input-group--text-field-box",attrs:{box:"",items:e.listDichVuGuide,placeholder:"Chọn dịch vụ","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"dịch vụ bắt buộc phải chọn."}],required:""},model:{value:e.dichVuSelectedGuide,callback:function(t){e.dichVuSelectedGuide=t},expression:"dichVuSelectedGuide"}})],1),o("v-flex",{staticClass:"px-2",staticStyle:{position:"relative"},attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Tên người làm thủ tục "),o("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(":")]),o("v-text-field",{attrs:{placeholder:"Nhập tên người làm thủ tục",box:"",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.applicantNameGuide,callback:function(t){e.applicantNameGuide=t},expression:"applicantNameGuide"}}),o("v-radio-group",{staticClass:"my-0",staticStyle:{position:"absolute",right:"0",top:"0"},attrs:{row:""},model:{value:e.applicantTypeGuide,callback:function(t){e.applicantTypeGuide=t},expression:"applicantTypeGuide"}},[o("v-radio",{attrs:{label:"Công dân",value:!0}}),o("v-radio",{attrs:{label:"Tổ chức, doanh nghiệp",value:!1}})],1)],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Địa chỉ:")]),o("v-text-field",{attrs:{placeholder:"Nhập địa chỉ",box:""},model:{value:e.applicantAddressGuide,callback:function(t){e.applicantAddressGuide=t},expression:"applicantAddressGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Thư điện tử:")]),o("v-text-field",{attrs:{box:"",placeholder:"Nhập thư điện tử"},model:{value:e.applicantEmailGuide,callback:function(t){e.applicantEmailGuide=t},expression:"applicantEmailGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Số điện thoại:")]),o("v-text-field",{attrs:{box:""},model:{value:e.applicantTelNoGuide,callback:function(t){e.applicantTelNoGuide=t},expression:"applicantTelNoGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Thông tin thành phần hồ sơ:")]),o("v-data-table",{staticClass:"table-landing table-bordered",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:e.headersTphsGuide,items:e.tphsGuide,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[o("tr",{class:{active:t.index%2==1},staticStyle:{cursor:"pointer"}},[o("td",{staticClass:"text-xs-center",staticStyle:{width:"50px"}},[o("div",[o("span",[e._v(e._s(t.index+1))]),o("br")])]),o("td",{staticClass:"text-xs-left"},[o("div",[o("span",[e._v(e._s(t.item.partName))])])]),o("td",{staticClass:"text-xs-center",staticStyle:{width:"50px"}},[o("div",[o("v-checkbox",{staticStyle:{display:"inline-block",width:"25px"},attrs:{primary:"","hide-details":"",color:"primary"},model:{value:t.item.fileMark,callback:function(o){e.$set(t.item,"fileMark",o)},expression:"props.item.fileMark"}})],1)])])]}}])})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Ghi chú:")]),o("v-textarea",{staticClass:"py-0",attrs:{box:"",rows:"3"},model:{value:e.applicantNoteGuide,callback:function(t){e.applicantNoteGuide=t},expression:"applicantNoteGuide"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},on:{click:function(t){e.doGuiding("doc")}}},[o("v-icon",[e._v("save")]),e._v("  \n          Lưu phiếu hướng dẫn\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},on:{click:function(t){e.doGuiding("pdf")}}},[o("v-icon",[e._v("print")]),e._v("  \n          In phiếu hướng dẫn\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1),o("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_denied,callback:function(t){e.dialog_denied=t},expression:"dialog_denied"}},[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("Thông tin phiếu từ chối tiếp nhận")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog_denied=!1}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",[o("v-form",{ref:"formDenied",attrs:{"lazy-validation":""},model:{value:e.validDenied,callback:function(t){e.validDenied=t},expression:"validDenied"}},[o("v-layout",{staticClass:"py-1 align-center row-list-style",attrs:{wrap:""}},[o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Thủ tục hành chính "),o("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(":")]),o("v-autocomplete",{staticClass:"input-group--text-field-box",attrs:{box:"",items:e.listThuTucHanhChinh,placeholder:"Chọn thủ tục hành chính","item-text":"displayName","item-value":"serviceConfigId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"Thủ tục bắt buộc phải chọn."}],required:""},on:{change:e.changeServiceConfigsGuide},model:{value:e.thuTucHanhChinhSelectedGuide,callback:function(t){e.thuTucHanhChinhSelectedGuide=t},expression:"thuTucHanhChinhSelectedGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Dịch vụ "),o("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(":")]),o("v-autocomplete",{staticClass:"input-group--text-field-box",attrs:{box:"",items:e.listDichVuGuide,placeholder:"Chọn dịch vụ","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"Dịch vụ bắt buộc phải chọn."}],required:""},model:{value:e.dichVuSelectedGuide,callback:function(t){e.dichVuSelectedGuide=t},expression:"dichVuSelectedGuide"}})],1),o("v-flex",{staticClass:"px-2",staticStyle:{position:"relative"},attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Tên người làm thủ tục "),o("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(":")]),o("v-text-field",{attrs:{placeholder:"Nhập tên người làm thủ tục",box:"",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.applicantNameGuide,callback:function(t){e.applicantNameGuide=t},expression:"applicantNameGuide"}}),o("v-radio-group",{staticClass:"my-0",staticStyle:{position:"absolute",right:"0",top:"0"},attrs:{row:""},model:{value:e.applicantTypeGuide,callback:function(t){e.applicantTypeGuide=t},expression:"applicantTypeGuide"}},[o("v-radio",{attrs:{label:"Công dân",value:!0}}),o("v-radio",{attrs:{label:"Tổ chức, doanh nghiệp",value:!1}})],1)],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Địa chỉ:")]),o("v-text-field",{attrs:{placeholder:"Nhập địa chỉ",box:""},model:{value:e.applicantAddressGuide,callback:function(t){e.applicantAddressGuide=t},expression:"applicantAddressGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Thư điện tử:")]),o("v-text-field",{attrs:{box:"",placeholder:"Nhập thư điện tử"},model:{value:e.applicantEmailGuide,callback:function(t){e.applicantEmailGuide=t},expression:"applicantEmailGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Số điện thoại:")]),o("v-text-field",{attrs:{box:""},model:{value:e.applicantTelNoGuide,callback:function(t){e.applicantTelNoGuide=t},expression:"applicantTelNoGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2 text-bold"},[e._v("Lý do từ chối tiếp nhận:")]),o("v-textarea",{staticClass:"py-0",attrs:{box:"",rows:"3"},model:{value:e.applicantNoteGuide,callback:function(t){e.applicantNoteGuide=t},expression:"applicantNoteGuide"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},on:{click:function(t){e.doDenied("doc")}}},[o("v-icon",[e._v("save")]),e._v("  \n          Lưu phiếu từ chối\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},on:{click:function(t){e.doDenied("pdf")}}},[o("v-icon",[e._v("print")]),e._v("  \n          In phiếu từ chối\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1),o("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_extraForm,callback:function(t){e.dialog_extraForm=t},expression:"dialog_extraForm"}},[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("\n          Điều chỉnh dữ liệu mã hồ sơ: "+e._s(e.selectedDoAction.length>0?e.selectedDoAction[e.selectedDoAction.length-1]["dossierNo"]:"")+"\n        ")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog_extraForm=!1}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",{staticClass:"px-0",attrs:{flat:""}},[o("form-bo-sung-thong-tin",{ref:"formBoSungThongTinNgan",attrs:{dossier_id:e.dossierIdSelected,action_id:e.actionId,type:"dieuchinhdulieu"}})],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},on:{click:function(t){e.doChangeDossierExtraForm()}}},[o("v-icon",[e._v("save")]),e._v("  \n          Xác nhận\n        ")],1),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},on:{click:function(t){e.dialog_extraForm=!1}}},[o("v-icon",[e._v("clear")]),e._v("  \n          Hủy\n        ")],1)],1)],1)],1)],1)},A=[],O=o("768b"),N=(o("f559"),o("a481"),o("c5f6"),o("795b")),w=o.n(N),k=(o("ac6a"),o("5df3"),o("f499")),F=o.n(k),M=(o("6b54"),o("7514"),o("20d6"),o("e814")),L=o.n(M),H=function(){var e=this,t=e.$createElement,o=e._self._c||t;return null!==e.layout_view&&void 0!==e.layout_view&&"undefined"!==e.layout_view?o("my-dynamic-view"):e._e()},U=[],R=o("6611"),B=R["a"],V=Object(d["a"])(B,H,U,!1,null,null,null),K=V.exports,j=o("000e"),W=o("7121"),q=o("87c1"),G=o("bbd0"),z=o("d80f"),Y={props:["index"],components:{"tiny-pagination":j["a"],"phan-cong":W["a"],"y-kien-can-bo":q["a"],"template-rendering":K,"form-bo-sung-thong-tin":z["a"]},data:function(){return{isAdminSuper:!1,actionId:"",dossierIdSelected:"",dossierCountingShow:!1,dossierCounting:[],advSearchToolsSelected:[],advSearchTools:G.advSearchTools,advSearchItems:[],advObjectSearch:{},menusss:!1,itemFilterSupport:{years:[{value:"",name:"Lọc theo năm"},{value:"2017",name:"năm 2017"},{value:"2018",name:"năm 2018"},{value:"2019",name:"năm 2019"}],year:"",months:[{value:"",name:"Lọc theo tháng"},{value:"1",name:"tháng 1"},{value:"2",name:"tháng 2"},{value:"3",name:"tháng 3"},{value:"4",name:"tháng 4"},{value:"5",name:"tháng 5"},{value:"6",name:"tháng 6"},{value:"7",name:"tháng 7"},{value:"8",name:"tháng 8"},{value:"9",name:"tháng 9"},{value:"10",name:"tháng 10"},{value:"11",name:"tháng 11"},{value:"12",name:"tháng 12"}],month:"",days:[],day:"",tops:[{value:"",name:"toàn bộ"},{value:"overdue",name:"hồ sơ đang quá hạn cần giải quyết"},{value:"delay",name:"chậm hạn trả"},{value:"coming",name:"sắp đến hạn"}],top:"",statusLists:[],status:"",substatusLists:[{itemCode:"",itemName:"toàn bộ"}],substatus:"",agencyLists:[],agency:"",serviceLists:[],service:"",domainLists:[],domain:"",keyword:"",register:""},itemFilterKey:["year","month","day","top","status","substatus","agency","service","domain","keyword","register"],menuType:0,type_assign:"",assign_items:[],returnFiles:[],payments:"",viaPortalDetail:0,countSelected:0,statusFailed:0,dialog_statusAction:!1,dialog_printGuide:!1,dialog_denied:!1,dialog_extraForm:!1,validGuide:!1,validDenied:!1,applicantNameGuide:"",applicantEmailGuide:"",applicantTelNoGuide:"",applicantNoteGuide:"",applicantAddressGuide:"",reasonNote:"",dossierSelected:[{dossierNo:"18ACE289",serviceName:"",statusAction:!1}],buttonConfigItem:{},textNote:"",thongtinhoso:{},dossierId:0,valid:!1,isCallBack:!0,trangThaiHoSoList:null,listDichVu:[],dichVuSelected:null,btnDynamics:[],btnDossierDynamics:[],btnStepsDynamics:[],loading:!0,headers:[],hideAction:!1,hosoDatas:[],hosoDatasTotal:0,hosoDatasPage:1,hosoTotalPage:0,selectedDoAction:[],selectMultiplePage:[],selected:[],listThuTucHanhChinh:[],listThuTuc:[],thuTucHanhChinhSelected:null,thuTucHanhChinhSelectedGuide:null,listLinhVuc:[],linhVucSelected:null,listDichVuGuide:[],dichVuSelectedGuide:null,templateNoGuide:"",domainCode:"",govAgencyCode:"",serviceCode:"",templateNo:"",dossierNoKey:"",dialogAction:!1,loadingAction:!1,dialogActionProcess:!1,loadingActionProcess:!1,validProcess:!1,indexAction:-1,itemAction:{title:""},showThongTinCoBanHoSo:!1,showYkienCanBoThucHien:!1,showFormBoSungThongTinNgan:!1,showPhanCongNguoiThucHien:!1,showTaoTaiLieuKetQua:!1,showKyPheDuyetTaiLieu:!1,showTraKetQua:!1,showXacNhanThuPhi:!1,showThuPhi:!1,showThucHienThanhToanDienTu:!1,dossierItemDialogPick:null,itemDialogPick:null,resultDialogPick:null,indexDialogPick:0,userNote:0,dialogPDF:!1,dialogPDFLoading:!0,filterForm:null,checkSelectAll:!1,titleLanding:"",currentQueryState:"",tphsGuide:[],headersTphsGuide:[{text:"TT",align:"center",sortable:!1},{text:"Tên thành phần",align:"center",sortable:!1},{text:"Đã có",align:"center",sortable:!1}],applicantTypeGuide:!0}},computed:{loadingDynamicBtn:function(){return this.$store.getters.loadingDynamicBtn},loadingTable:function(){return this.$store.getters.loadingTable},originality:function(){var e=this;return e.getOriginality()},currentUser:function(){return this.$store.getters.loadingInitData.user},activeLoadingDataHoSo:function(){return this.$store.getters.activeLoadingDataHoSo}},created:function(){console.log("run new_version");var e=this;e.selectMultiplePage=[],e.checkSelectAll=3!==e.menuType&&1!==e.originality,e.itemFilterSupport["days"]=[{value:"",name:"Lọc theo ngày"}];for(var t=1;t<=31;t++){var o={value:t,name:"Ngày "+t};e.itemFilterSupport.days.push(o)}e.$nextTick(function(){var t=e.$router.history.current.query,o=e.$router.history.current.query;e.currentQueryState=t,t.hasOwnProperty("page")&&"1"!==t["page"]?e.hosoDatasPage=L()(t["page"]):e.hosoDatasPage=1,e.setStateAdvSearch(o)})},updated:function(){var e=this;e.$nextTick(function(){var t=e.$router.history.current.params,o=e.$router.history.current.query;e.currentQueryState=o,t.hasOwnProperty("index")&&e.isCallBack&&(e.isCallBack=!1,e.$store.commit("setLoadingDynamicBtn",!0),setTimeout(function(){e.$store.dispatch("loadMenuConfigToDo").then(function(t){e.btnDynamics=[],e.trangThaiHoSoList=t,e.menuType=L()(e.trangThaiHoSoList[e.index]["menuType"]),e.checkSelectAll=3!==e.menuType&&1!==e.originality,e.processListTTHC(o),e.processListDomain(o),null!==e.trangThaiHoSoList[e.index]["tableConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["tableConfig"]&&e.trangThaiHoSoList[e.index]["tableConfig"].hasOwnProperty("headers")&&(e.headers=e.trangThaiHoSoList[e.index]["tableConfig"]["headers"]),null!==e.trangThaiHoSoList[e.index]["tableConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["tableConfig"]&&e.trangThaiHoSoList[e.index]["tableConfig"].hasOwnProperty("hideAction")&&(e.hideAction=e.trangThaiHoSoList[e.index]["tableConfig"]["hideAction"]),null!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&e.trangThaiHoSoList[e.index]["buttonConfig"].hasOwnProperty("buttons")&&(e.btnDynamics=e.trangThaiHoSoList[e.index]["buttonConfig"]["buttons"]),null!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&e.trangThaiHoSoList[e.index]["buttonConfig"].hasOwnProperty("layout_view")&&(e.filterForm=e.trangThaiHoSoList[e.index]["buttonConfig"]["layout_view"]);var i=[],a=[];for(var n in e.btnDynamics)e.btnDynamics[n].hasOwnProperty("onlySteps")?i.push(e.btnDynamics[n]):a.push(e.btnDynamics[n]);if(e.btnDynamics=[],e.btnDynamics=a,e.btnStepsDynamics=[],o.hasOwnProperty("step"))for(var s in e.trangThaiHoSoList[e.index]["items"]){var r=e.trangThaiHoSoList[e.index]["items"][s];if(String(r.stepCode)===String(o.step)){for(var c in i)for(var l=0;l<i[c].onlySteps.length;l++)String(i[c].onlySteps[l])===String(r.stepCode)&&e.btnDynamics.push(i[c]);break}}e.$store.commit("setLoadingDynamicBtn",!1)})},200))})},watch:{$route:function(e,t){var o=this,i=e.query,a=t.query;if(o.currentQueryState=i,i.hasOwnProperty("q")){o.btnDynamics=[],o.$store.commit("setLoadingDynamicBtn",!0),o.menuType=o.trangThaiHoSoList[o.index]["menuType"],o.checkSelectAll=3!==o.menuType&&1!==o.originality,o.headers=o.trangThaiHoSoList[o.index]["tableConfig"]["headers"],null!==o.trangThaiHoSoList[o.index]["tableConfig"]&&void 0!==o.trangThaiHoSoList[o.index]["tableConfig"]&&o.trangThaiHoSoList[o.index]["tableConfig"].hasOwnProperty("hideAction")&&(o.hideAction=o.trangThaiHoSoList[o.index]["tableConfig"]["hideAction"]),null!==o.trangThaiHoSoList[o.index]["buttonConfig"]&&void 0!==o.trangThaiHoSoList[o.index]["buttonConfig"]&&o.trangThaiHoSoList[o.index]["buttonConfig"].hasOwnProperty("buttons")&&(o.btnDynamics=o.trangThaiHoSoList[o.index]["buttonConfig"]["buttons"]),null!==o.trangThaiHoSoList[o.index]["buttonConfig"]&&void 0!==o.trangThaiHoSoList[o.index]["buttonConfig"]&&o.trangThaiHoSoList[o.index]["buttonConfig"].hasOwnProperty("layout_view")&&(o.filterForm=o.trangThaiHoSoList[o.index]["buttonConfig"]["layout_view"]);var n=[],s=[];for(var r in o.btnDynamics)o.btnDynamics[r].hasOwnProperty("onlySteps")?n.push(o.btnDynamics[r]):s.push(o.btnDynamics[r]);if(o.btnDynamics=[],o.btnDynamics=s,o.btnStepsDynamics=[],i.hasOwnProperty("step"))for(var c in o.trangThaiHoSoList[o.index]["items"]){var l=o.trangThaiHoSoList[o.index]["items"][c];if(String(l.stepCode)===String(i.step)){for(var d in n)for(var _=0;_<n[d].onlySteps.length;_++)String(n[d].onlySteps[_])===String(l.stepCode)&&o.btnDynamics.push(n[d]);break}}if(i.hasOwnProperty("page")?(o.hosoDatasPage=L()(i.page),i.page===a["page"]&&(o.selectMultiplePage=[])):(o.hosoDatasPage=1,o.selectMultiplePage=[]),o.$store.commit("setLoadingDynamicBtn",!1),null===o.listLinhVuc||void 0===o.listLinhVuc||null!==o.listLinhVuc&&void 0!==o.listLinhVuc&&0===o.listLinhVuc.length)o.processListDomain(i);else for(var u in o.listLinhVuc)String(o.listLinhVuc[u]["domainCode"])===String(i.domain)&&(o.linhVucSelected=o.listLinhVuc[u],o.domainCode=o.linhVucSelected["domainCode"]);null===o.listThuTucHanhChinh||void 0===o.listThuTucHanhChinh||null!==o.listThuTucHanhChinh&&void 0!==o.listThuTucHanhChinh&&0===o.listThuTucHanhChinh.length?o.processListTTHC(i):o.doLoadingDataHoSo(),o.setStateAdvSearch(i)}},activeLoadingDataHoSo:function(e){var t=this;setTimeout(function(){t.doLoadingDataHoSo()},100)},selectMultiplePage:{handler:function(e){var t=this;if(e.length>0)for(var o in t.selectedDoAction=[],e)t.selectedDoAction=t.selectedDoAction.concat(e[o]["selected"]);else t.selectedDoAction=[]},deep:!0},dichVuSelectedGuide:function(e){var t=this;e&&(t.templateNoGuide=e["templateNo"],e.dossierTemplateNo=e["templateNo"],t.$store.dispatch("loadDossierTemplates",e).then(function(e){for(var o in e)e[o].fileMark=!0;t.tphsGuide=e.filter(function(e){return 1===e["partType"]})}))}},methods:{toggleAll:function(){var e=this;if(e.getUser("Administrator"))e.selected.length?e.selected=[]:e.selected=e.hosoDatas;else{if(!e.thuTucHanhChinhSelected||e.thuTucHanhChinhSelected&&"0"===e.thuTucHanhChinhSelected.serviceConfigId||e.thuTucHanhChinhSelected&&""===e.thuTucHanhChinhSelected.serviceConfigId)return;e.selected.length?e.selected=[]:e.selected=e.hosoDatas.filter(function(e){return 0!==e["assigned"]})}e.selectMultiplePage[e.hosoDatasPage-1]["selected"]=e.selected},getUser:function(e){var t=this,o=t.$store.getters.getUser.role;if(!o)return!1;var i=o.findIndex(function(t){return t===e});return i>=0},changeSelected:function(){var e=this;e.selectMultiplePage[e.hosoDatasPage-1]["selected"]=e.selected},setStateAdvSearch:function(e){var t=this;if(e.hasOwnProperty("adv_renew")){for(var o in t.advSearchItems=[],t.itemFilterKey)for(var i in e){if(t.itemFilterKey[o]===i&&e[i]){t.itemFilterSupport[t.itemFilterKey[o]]=e[i];break}t.itemFilterSupport[t.itemFilterKey[o]]=""}var a=function(e){var o=t.itemFilterKey[e],i=t.advSearchTools.find(function(e){return e.spec===o});if(t.itemFilterSupport[o])if("keyword"===o)t.advSearchItems.push({spec:o,value:o+":"+t.itemFilterSupport[o],text:o+":"+t.itemFilterSupport[o],index:-1});else if("year"===o){var a=t.advSearchItems.find(function(e){return"year_month_day"===e.spec});a?(a["value"]="year_month_day:"+t.itemFilterSupport[o]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport["day"],a["text"]="year_month_day:"+t.itemFilterSupport[o]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport["day"],a["index"]=0):t.advSearchItems.push({spec:"year_month_day",value:"year_month_day:"+t.itemFilterSupport[o]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport["day"],text:"year_month_day:"+t.itemFilterSupport[o]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport["day"],index:0})}else if("month"===o){var n=t.advSearchItems.find(function(e){return"year_month_day"===e.spec});n?(n["value"]="year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[o]+"_"+t.itemFilterSupport["day"],n["text"]="year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[o]+"_"+t.itemFilterSupport["day"],n["index"]=0):t.advSearchItems.push({spec:"year_month_day",value:"year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[o]+"_"+t.itemFilterSupport["day"],text:"year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[o]+"_"+t.itemFilterSupport["day"],index:0})}else if("day"===o){var s=t.advSearchItems.find(function(e){return"year_month_day"===e.spec});s?(s["value"]="year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport[o],s["text"]="year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport[o],s["index"]=0):t.advSearchItems.push({spec:"year_month_day",value:"year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport[o],text:"year_month_day:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport["month"]+"_"+t.itemFilterSupport[o],index:0})}else t.advSearchItems.push({spec:o,value:o+":"+t.itemFilterSupport[o],text:o+":"+t.itemFilterSupport[o],index:i["index"]})};for(var n in t.itemFilterKey)a(n)}else t.advSearchItems=[];var s=function(e){t.advSearchTools[e].display=!1,t.advSearchTools[e].disabled=!1;var o=t.advSearchItems.find(function(o){return o.spec===t.advSearchTools[e].spec});o&&(t.advSearchTools[e].display=!0,t.advSearchTools[e].disabled=!0)};for(var r in t.advSearchTools)s(r)},resend:function(){var e=this;e.doActions(null,e.buttonConfigItem,null,!0)},closeDialogStatusAction:function(){var e=this;e.dialog_statusAction=!1,e.selectedDoAction=e.selectedDoAction.filter(function(e){return!e.statusAction})},submitFormXuLy:function(e,t,o,i,a){var n=this;if(n.showYkienCanBoThucHien){var s=n.$refs.ykiencanbo.doExport();s.valid&&(n.textNote=s.text,n.processAction(e,t,o,i,!1))}else n.processAction(e,t,o,i,!1)},processListTTHC:function(e){var t=this;t.$store.dispatch("loadListThuTucHanhChinh").then(function(o){if((!e.hasOwnProperty("domain")||e.hasOwnProperty("domain")&&""===String(e.domain))&&(t.listThuTucHanhChinh=o.map(function(e){return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e})),t.listThuTuc=o.map(function(e){return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e}),e.hasOwnProperty("service_config")&&"0"!==String(e.service_config)){for(var i in t.listThuTucHanhChinh)if(String(t.listThuTucHanhChinh[i].serviceConfigId)===String(e.service_config)){if(t.thuTucHanhChinhSelected=t.listThuTucHanhChinh[i],null!==t.thuTucHanhChinhSelected&&void 0!==t.thuTucHanhChinhSelected&&t.thuTucHanhChinhSelected.hasOwnProperty("options"))if(t.govAgencyCode=t.thuTucHanhChinhSelected.govAgencyCode,t.serviceCode=t.thuTucHanhChinhSelected.serviceCode,e.hasOwnProperty("template_no"))for(var a in t.listDichVu=t.thuTucHanhChinhSelected.options,t.listDichVu)t.listDichVu[a].templateNo===e.template_no&&(t.dichVuSelected=t.listDichVu[a],t.templateNo=t.dichVuSelected.templateNo);else t.listDichVu=[],t.dichVuSelected=null,t.govAgencyCode="",t.serviceCode="",t.templateNo="";break}}else t.thuTucHanhChinhSelected=null,t.dichVuSelected=null,t.govAgencyCode="",t.serviceCode="",t.templateNo="";t.doLoadingDataHoSo()})},processListDomain:function(e){var t=this;t.$store.dispatch("getDomainLists").then(function(o){if(o.length>0&&(t.listLinhVuc=o.map(function(e){return e["displayName"]=e["domainCode"]+" - "+e["domainName"],e})),e.hasOwnProperty("domain")&&""!==String(e.domain)){for(var i in t.listLinhVuc)String(t.listLinhVuc[i]["domainCode"])===String(e.domain)&&(t.linhVucSelected=t.listLinhVuc[i],t.domainCode=t.linhVucSelected["domainCode"]);var a={domain:t.linhVucSelected.domainCode};t.$store.dispatch("getServiceinfoFilter",a).then(function(e){t.listThuTucHanhChinh=e.map(function(e){return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e})})}else t.linhVucSelected=null})},checkPemissionSpecialAction:function(e,t,o){var i=this,a=!0;if("PRINT_01"!==e&&"PRINT_02"!==e&&"PRINT_03"!==e&&"GUIDE"!==e&&"PREVIEW"!==e&&"BETIMES"!==e){var n=i.$store.getters.getUsersNextAction;if(n.length>0){var s=n.filter(function(e){if(void 0!==e&&void 0!==t)return e["userId"].toString()===t["userId"].toString()});a=s.length>0}else a=!1}return"ROLLBACK_01"!==e&&"ROLLBACK_02"!==e&&"ROLLBACK_03"!==e||(a=!1),a},paggingData:function(e){var t=this,o=t.$router.history.current,i=o.query,a="?";for(var n in i["page"]="",i)""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&(a+=n+"="+i[n]+"&");a+="page="+e.page,t.$router.push({path:o.path+a})},doLoadingDataHoSo:function(){var e=this;e.selected=[];var t=e.$router.history.current.query;if(console.log("currentQuery======",t),t.hasOwnProperty("q")){var o;o=t.q.indexOf("step")>0||t.q.indexOf("originality")>0?t.q:t["step"]?t.q+"&step="+t["step"]:t.q;var i=null;if(3!==e.menuType)i={queryParams:o,page:e.hosoDatasPage,order:t.hasOwnProperty("order")?t.order:"",agency:t.hasOwnProperty("agency")?t.agency:e.govAgencyCode,service:t.hasOwnProperty("service")?t.service:e.serviceCode,template:t.hasOwnProperty("template")?t.template:e.templateNo,domain:t.hasOwnProperty("domain")?t.domain:e.domainCode,status:t.hasOwnProperty("status")?t.status:"",substatus:t.hasOwnProperty("substatus")?t.substatus:"",year:t.hasOwnProperty("year")?t.year:0,month:t.hasOwnProperty("month")?t.month:0,day:t.hasOwnProperty("day")?t.day:0,top:t.hasOwnProperty("top")?t.top:"",keyword:t.hasOwnProperty("keyword")?t.keyword:"",register:t.hasOwnProperty("register")?t.register:"",paymentStatus:t.hasOwnProperty("paymentStatus")?t.paymentStatus:"",dossierNo:e.dossierNoKey?e.dossierNoKey:"",follow:t.hasOwnProperty("follow")?t.follow:"",originality:t.hasOwnProperty("originality")&&t["originality"]?t.originality:""};else{var a=t.hasOwnProperty("status")&&"deleted"===t["status"]?-1:"";i={queryParams:o,page:e.hosoDatasPage,order:t.hasOwnProperty("order")?t.order:"",agency:t.hasOwnProperty("agency")?t.agency:e.govAgencyCode,service:t.hasOwnProperty("service")?t.service:e.serviceCode,template:t.hasOwnProperty("template")?t.template:e.templateNo,domain:t.hasOwnProperty("domain")?t.domain:e.domainCode,status:t.hasOwnProperty("status")&&t["status"]&&"deleted"!==t["status"]?t.status:"",substatus:t.hasOwnProperty("substatus")?t.substatus:"",year:t.hasOwnProperty("year")?t.year:0,month:t.hasOwnProperty("month")?t.month:0,day:t.hasOwnProperty("day")?t.day:0,top:t.hasOwnProperty("top")?t.top:"",keyword:t.hasOwnProperty("keyword")?t.keyword:"",register:t.hasOwnProperty("register")?t.register:"",originality:t.hasOwnProperty("originality")&&t["originality"]?t.originality:a,paymentStatus:t.hasOwnProperty("paymentStatus")?t.paymentStatus:"",dossierNo:e.dossierNoKey?e.dossierNoKey:"",follow:t.hasOwnProperty("follow")?t.follow:""}}e.$store.dispatch("loadingDataHoSo",i).then(function(t){if(e.hosoDatas=t.data,e.hosoDatasTotal=t.total,e.hosoTotalPage=Math.ceil(e.hosoDatasTotal/15),e.hosoTotalPage>0&&0===e.selectMultiplePage.length)for(var o=0;o<e.hosoTotalPage;o++){var i={selected:[],page:o+1};e.selectMultiplePage.push(i)}e.selected=e.selectMultiplePage[e.hosoDatasPage-1]["selected"]}).catch(function(t){e.hosoDatas=[],e.hosoDatasTotal=0})}3===e.menuType||"3"===String(e.menuType)?setTimeout(function(){e.$store.dispatch("loadingDossierCounting").then(function(t){if(null!==t&&void 0!==t){if(e.dossierCounting=t,e.getUser("Administrator_data")){var o={key:"deleted",title:"Hồ sơ đã xóa",count:0};e.dossierCounting.push(o)}}else e.dossierCounting=[];e.dossierCountingShow=!0})},200):e.dossierCountingShow=!1},changeServiceConfigs:function(e){var t=this;t.selectMultiplePage=[],null!==e&&"null"!==e&&void 0!==e&&e.hasOwnProperty("options")?t.listDichVu=e.options:t.listDichVu=[],null!==t.listDichVu&&void 0!==t.listDichVu&&"undefined"!==t.listDichVu&&t.listDichVu.length>0?(t.dichVuSelected=t.listDichVu[0],t.templateNo=t.dichVuSelected.templateNo):t.dichVuSelected=null;var o=t.$router.history.current,i=o.query,a="?";for(var n in i["service_config"]="",i["template_no"]="",i)"page"===n?a+=n+"=1&":""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&"step"!==n&&(a+=n+"="+i[n]+"&");-1===String(i["q"]).indexOf("&step")&&3!==t.menuType&&(a+="step="+i["step"]+"&"),null!==t.listDichVu&&void 0!==t.listDichVu&&"undefined"!==t.listDichVu&&t.listDichVu.length>0?(a+="service_config="+e.serviceConfigId,a+="&template_no="+t.dichVuSelected.templateNo,t.govAgencyCode=e.govAgencyCode,t.serviceCode=e.serviceCode):(t.templateNo="",t.govAgencyCode="",t.serviceCode=""),t.$router.push({path:o.path+a})},changeServiceConfigsGuide:function(e){var t=this;t.listDichVuGuide=[],setTimeout(function(){null!==e&&"null"!==e&&void 0!==e&&e.hasOwnProperty("options")?t.listDichVuGuide=e.options:t.listDichVuGuide=[],null!==t.listDichVuGuide&&void 0!==t.listDichVuGuide&&"undefined"!==t.listDichVuGuide&&t.listDichVuGuide.length>0?(t.dichVuSelectedGuide=t.listDichVuGuide[0],t.templateNoGuide=t.dichVuSelectedGuide.templateNo):t.dichVuSelectedGuide=null},300)},changeDomain:function(e){var t=this;t.selectMultiplePage=[],t.linhVucSelected=e,e?setTimeout(function(){var e={domain:t.linhVucSelected.domainCode};t.$store.dispatch("getServiceinfoFilter",e).then(function(e){t.listThuTucHanhChinh=e.map(function(e){return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e})})},100):t.listThuTucHanhChinh=t.listThuTuc,t.domainCode=null!==e&&void 0!==e?t.linhVucSelected["domainCode"]:"";var o=t.$router.history.current,i=o.query,a="?";for(var n in i["domain"]="",i)"page"===n?a+=n+"=1&":""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&"step"!==n&&(a+=n+"="+i[n]+"&");-1===String(i["q"]).indexOf("&step")&&3!==t.menuType&&(a+="step="+i["step"]+"&"),a+="domain="+t.domainCode,t.$router.push({path:o.path+a,query:{renew:Math.floor(100*Math.random())+1}})},changeDossierNoKey:function(){var e=this;e.selectMultiplePage=[],setTimeout(function(){e.dossierNoKey?(e.dossierNoKey.length>3||""===e.dossierNoKey)&&e.doLoadingDataHoSo():e.doLoadingDataHoSo()},200)},clearDossierNoKey:function(){this.dossierNoKey="",this.changeDossierNoKey()},changeDichVuConfigs:function(e){var t=this;t.selectMultiplePage=[];var o=t.$router.history.current,i=o.query,a="?";for(var n in i["template_no"]="",i)""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&(a+=n+"="+i[n]+"&");null!==e&&void 0!==e&&(a+="template_no="+e.templateNo,t.templateNo=e.templateNo),t.$router.push({path:o.path+a})},btnActionEvent:function(e,t,o,i){var a=this,n=a.$router.history.current;n.query;if(a.buttonConfigItem={},a.buttonConfigItem=t,a.itemAction=t,a.indexAction=o,"NEW"===String(t.form)||"NEW_GROUP"===String(t.form)){var s=!0;null!==a.dichVuSelected&&void 0!==a.dichVuSelected&&"undefined"!==a.dichVuSelected&&null!==a.listDichVu&&void 0!==a.listDichVu&&1===a.listDichVu.length&&(s=!1),s?a.dialogAction=!0:a.doCreateDossier()}else if("UPDATE"===String(t.form))a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/ho-so/"+e.dossierId+"/"+a.itemAction.form,query:a.$router.history.current.query});else if("ADD"===String(t.form))a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/bo-sung-ho-so/"+e.dossierId,query:a.$router.history.current.query});else if("IMPORT"===String(t.form))null!==a.dichVuSelected&&void 0!==a.dichVuSelected&&"undefined"!==a.dichVuSelected&&null!==a.listDichVu&&void 0!==a.listDichVu?a.doImportDossier():alert("Chọn thủ tục để thực hiện");else if("COPY"===String(t.form))a.doCopy(e,t,o,i);else if("CANCEL"===String(t.form))a.doCancel(e,t,o,i);else if("PRINT_01"===String(t.form))a.doPrint01(e,t,o,i);else if("PRINT_02"===String(t.form))a.doPrint02(e,t,o,i);else if("PRINT_03"===String(t.form))a.doPrint03(e,t,o,i);else if("GUIDING"===String(t.form))a.thuTucHanhChinhSelectedGuide="",a.dichVuSelectedGuide="",a.tphsGuide=[],a.thuTucHanhChinhSelected&&(a.thuTucHanhChinhSelectedGuide=a.thuTucHanhChinhSelected,a.listDichVuGuide=a.thuTucHanhChinhSelectedGuide.hasOwnProperty("options")?a.thuTucHanhChinhSelectedGuide["options"]:"",a.dichVuSelectedGuide=a.dichVuSelected?a.dichVuSelected:"",a.templateNoGuide=a.dichVuSelectedGuide?a.dichVuSelectedGuide.templateNo:""),a.dialog_printGuide=!0,a.$refs.formGuide.resetValidation();else if("DENIED"===String(t.form))a.thuTucHanhChinhSelectedGuide="",a.dichVuSelectedGuide="",a.thuTucHanhChinhSelected&&(a.thuTucHanhChinhSelectedGuide=a.thuTucHanhChinhSelected,a.listDichVuGuide=a.thuTucHanhChinhSelectedGuide.hasOwnProperty("options")?a.thuTucHanhChinhSelectedGuide["options"]:"",a.dichVuSelectedGuide=a.dichVuSelected?a.dichVuSelected:"",a.templateNoGuide=a.dichVuSelectedGuide?a.dichVuSelectedGuide.templateNo:""),a.dialog_denied=!0,a.$refs.formDenied.resetValidation();else if("PREVIEW"===String(t.form))a.doPreview(e,t,o,i);else if("ACTIONS"===String(t.form))a.doActions(e,t,o,i);else if("DELETE"===String(t.form))a.doDeleteDossier(e,t,o,i);else if("ROLLBACK_01"===String(t.form)){var r={actionCode:9e3};a.processAction(e,t,r,o,!0)}else if("ROLLBACK_02"===String(t.form)){var c={actionCode:9e3};a.processAction(e,t,c,o,!0)}else if("OVERDUE"===String(t.form)){var l={actionCode:8500,dossierId:e.dossierId,overdue:e["extendDate"]};a.processPullBtnDetailRouter(e,null,l,null,8500)}else if("PREOVERDUE"===String(t.form)){var d={actionCode:8501,dossierId:e.dossierId,preoverdue:e["extendDate"]};a.processPullBtnDetailRouter(e,null,d,null,8501)}else if("BETIMES"===String(t.form)){var _={actionCode:8400,dossierId:e.dossierId,betimes:e["extendDate"]};a.processPullBtnDetailRouter(e,null,_,null,8400)}else if("CHANGE_DATA_DOSSIER"===String(t.form))a.doChangeDossier(e,t,o,i);else if("UNDO_DOSSIER"===String(t.form))a.doUndoDossier(e,t,o,i);else if("RESTORE_DOSSIER"===String(t.form))a.doRestoreDossier(e,t,o,i);else if("GOTO_DONE"===String(t.form)){if(!e)return void alert("Chọn hồ sơ để thực hiện");var u={stepCode:400,stepName:"hoàn thành"};a.gotoStep(e,u)}else if("GOTO_CANCEL"===String(t.form)){if(!e)return void alert("Chọn hồ sơ để thực hiện");var p={stepCode:410,stepName:"rút"};a.gotoStep(e,p)}else if("GOTO_DENY"===String(t.form)){if(!e)return void alert("Chọn hồ sơ để thực hiện");var h={stepCode:420,stepName:"từ chối"};a.gotoStep(e,h)}},doPrint01:function(e,t,o,i){var a=this;a.dialogPDFLoading=!0,a.dialogPDF=!0;var n={dossierId:e.dossierId,document:t.document};a.$store.dispatch("doPrint01",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doPrint02:function(e,t,o,i){var a=this;if(null===a.thuTucHanhChinhSelected||void 0===a.thuTucHanhChinhSelected||"undefined"===a.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{if(0===a.selectedDoAction.length)return void alert("Chọn hồ sơ để thực hiện");var n={document:t.document,serviceCode:a.thuTucHanhChinhSelected.serviceCode,govAgencyCode:a.thuTucHanhChinhSelected.govAgencyCode,dossiers:F()(a.selectedDoAction)};a.dialogPDFLoading=!0,a.dialogPDF=!0,a.$store.dispatch("doPrint02",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})}},doPrint03:function(e,t,o,i){var a=this;a.dialogPDFLoading=!0,a.dialogPDF=!0;var n={dossierId:e.dossierId,document:t.document};a.$store.dispatch("doPrint03",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doGuiding:function(e){var t=this;if(t.$refs.formGuide.validate()){t.loadingAction=!0;var o=[];for(var i in t.tphsGuide)t.tphsGuide[i]["fileMark"]||o.push(t.tphsGuide[i]["partNo"]);var a={serviceConfigId:t.thuTucHanhChinhSelectedGuide.serviceConfigId,serviceCode:t.thuTucHanhChinhSelectedGuide.serviceCode,serviceName:t.thuTucHanhChinhSelectedGuide.serviceName,templateNo:t.templateNoGuide,applicantName:t.applicantNameGuide,applicantAddress:t.applicantAddressGuide,applicantEmail:t.applicantEmailGuide,applicantTelNo:t.applicantTelNoGuide,govAgencyCode:t.thuTucHanhChinhSelectedGuide.govAgencyCode,govAgencyName:t.thuTucHanhChinhSelectedGuide.govAgencyName,typeCode:"DOC_03",partNo:o.toString(),applicantNote:t.applicantNoteGuide,type:"completed",applicantType:t.applicantTypeGuide?"citizen":"business"};"doc"===e&&(a["reportType"]="word"),"doc"!==e&&(t.dialogPDFLoading=!0,t.dialogPDF=!0),t.$store.dispatch("doGuiding",a).then(function(o){t.loadingAction=!1,t.dialog_printGuide=!1,t.dialogPDFLoading=!1,"doc"!==e&&(document.getElementById("dialogPDFPreview").src=o)}).catch(function(){t.loadingAction=!1})}},doDenied:function(e){var t=this;if(t.$refs.formDenied.validate()){t.loadingAction=!0;var o={serviceConfigId:t.thuTucHanhChinhSelectedGuide.serviceConfigId,serviceCode:t.thuTucHanhChinhSelectedGuide.serviceCode,serviceName:t.thuTucHanhChinhSelectedGuide.serviceName,templateNo:t.templateNoGuide,applicantName:t.applicantNameGuide,applicantAddress:t.applicantAddressGuide,applicantEmail:t.applicantEmailGuide,applicantTelNo:t.applicantTelNoGuide,govAgencyCode:t.thuTucHanhChinhSelectedGuide.govAgencyCode,govAgencyName:t.thuTucHanhChinhSelectedGuide.govAgencyName,typeCode:"DOC_03",applicantNote:t.applicantNoteGuide,type:"denied",applicantType:t.applicantTypeGuide?"citizen":"business"};"doc"===e&&(o["reportType"]="word"),"doc"!==e&&(t.dialogPDFLoading=!0,t.dialogPDF=!0),t.$store.dispatch("doGuiding",o).then(function(o){t.loadingAction=!1,t.dialog_printGuide=!1,t.dialogPDFLoading=!1,"doc"!==e&&(document.getElementById("dialogPDFPreview").src=o)}).catch(function(){t.loadingAction=!1})}},doPreview:function(e,t,o,i){var a=this;a.dialogPDFLoading=!0,a.dialogPDF=!0;var n={dossierId:e.dossierId,document:t.document};a.$store.dispatch("doPrint03",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doActions:function(e,t,o,i){var a=this;a.$router.history.current.query,t.action;if(i)if(a.countSelected=0,1===a.selectedDoAction.length)for(var n in a.selectedDoAction){var s=a.selectedDoAction[n];a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/chi-tiet-ho-so/"+s["dossierId"],query:{activeTab:"tabs-1",btnIndex:null}})}else a.selectedDoAction.length>1?a.$store.dispatch("loadActionActive",t).then(function(){a.$store.dispatch("loadDossierSelected",a.selectedDoAction).then(function(){var e=a.selectedDoAction.map(function(e){return e.dossierId}).join(","),o=a.$router.history.current.query;o["dossiers"]=e,o["actionActive"]=F()(t),a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/xu-ly-ho-so",query:o})})}):alert("Chọn hồ sơ để thao tác")},doCopy:function(e,t,o,i){var a=this,n={dossierId:e.dossierId};a.loadingAction=!0,a.$store.dispatch("doCopy",n).then(function(e){a.loadingAction=!1,a.indexAction=-1,a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/ho-so/"+e.dossierId+"/"+a.itemAction.form,query:a.$router.history.current.query})}).catch(function(e){a.loadingAction=!1})},doCancel:function(e,t,o,i){var a=this;if(a.loadingAction=!0,i);else{var n={dossierId:e.dossierId};a.$store.dispatch("doCancel",n).then(function(e){a.loadingAction=!1,a.indexAction=-1,a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/ho-so/"+e.dossierId+"/"+a.itemAction.form,query:a.$router.history.current.query})}).catch(function(e){a.loadingAction=!1})}},doChangeDossier:function(e,t,o,i){var a=this;a.$router.history.current.query;if(i)if(a.selectedDoAction.length>0){var n=a.selectedDoAction.length;a.actionId=9100,a.dossierIdSelected=a.selectedDoAction[n-1].dossierId,a.dialog_extraForm=!0}else alert("Chọn hồ sơ để thực hiện")},doUndoDossier:function(e,t,o,i){var a=this;a.$router.history.current.query;if(a.selectedDoAction.length>0){var n=a.selectedDoAction.length,s=confirm("Xác thực Undo hồ sơ với mã: "+a.selectedDoAction[n-1].dossierNo);if(s){var r={dossierId:a.selectedDoAction[n-1].dossierId};a.$store.dispatch("rollBack",r).then(function(e){setTimeout(function(){a.doLoadingDataHoSo()},300)}).catch(function(){setTimeout(function(){a.doLoadingDataHoSo()},300)})}}else alert("Chọn hồ sơ để thực hiện")},gotoStep:function(e,t){var o=this;o.$router.history.current.query;if(o.selectedDoAction.length>0){var i=o.selectedDoAction.length,a=confirm("Xác thực "+t["stepName"]+" hồ sơ với mã: "+o.selectedDoAction[i-1].dossierNo);if(a){var n={dossierId:o.selectedDoAction[i-1].dossierId,stepCode:t["stepCode"]};o.$store.dispatch("goToStep",n).then(function(e){setTimeout(function(){o.doLoadingDataHoSo()},300)}).catch(function(){setTimeout(function(){o.doLoadingDataHoSo()},300)})}}else alert("Chọn hồ sơ để thực hiện")},doChangeDossierExtraForm:function(){var e=this,t=e.$refs.formBoSungThongTinNgan.checkValid();if(t){var o=e.$refs.formBoSungThongTinNgan.formSubmitData();if(o){var i=confirm("Bạn có chắc chắn thực hiện hành động điều chỉnh dữ liệu?");if(i){var a=e.selectedDoAction.length,n={dossierId:e.selectedDoAction[a-1].dossierId,actionCode:e.actionId,payload:o};e.$store.dispatch("processDossierRouter",n).then(function(t){e.doLoadingDataHoSo(),e.dialog_extraForm=!1}).catch(function(){e.dialog_extraForm=!1,e.doLoadingDataHoSo()})}}else e.dialog_extraForm=!1}},doRestoreDossier:function(){var e=this,t=confirm("Bạn có chắc chắn thực hiện hành động khôi phục hồ sơ?");t&&(e.selectedDoAction.length>0?function(){var t=0,o=e.selectedDoAction.length;for(var i in e.selectedDoAction){var a={dossierId:e.selectedDoAction[i]["dossierId"]};e.selectedDoAction[i]["originality"]&&e.$store.dispatch("restoreDossier",a).then(function(i){t+=1,t===o&&e.doLoadingDataHoSo()}).catch(function(){t+=1,t===o&&e.doLoadingDataHoSo()})}}():alert("Chọn hồ sơ để thực hiện"))},doDeleteDossier:function(e,t,o,i){var a=this,n=confirm("Bạn có chắc chắn thực hiện hành động xóa hồ sơ?");if(!n)return!1;var s=a.$router.history.current.query;if(i){var r={dossierId:0};if(a.selectedDoAction.length>0){var c=[];for(var l in a.selectedDoAction)c.push(a.selectedDoAction[l]["dossierId"]);r["dossierId"]=c,a.$store.dispatch("deleteDossierPatch",r).then(function(e){})}else alert("Chọn hồ sơ để thực hiện")}else{var d={dossierId:e.dossierId};a.$store.dispatch("deleteDossier",d).then(function(e){a.dialogActionProcess=!1,a.loadingActionProcess=!1,a.$router.push({path:a.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:s["q"]}})})}},doCreateDossier:function(){var e=this,t={serviceCode:e.serviceCode,govAgencyCode:e.govAgencyCode,templateNo:e.templateNo,originality:"NEW_GROUP"===e.itemAction["form"]?9:e.getOriginality()},o={dossierTemplateNo:e.templateNo};e.$store.dispatch("loadDossierFormTemplates",o).then(function(o){o["newFormScript"]?e.$router.push({path:"/danh-sach-ho-so/0/ho-so/0/"+e.itemAction.form,query:e.$router.history.current.query}):(e.$store.commit("setDataCreateDossier",t),e.loadingAction=!0,e.$store.dispatch("postDossier",t).then(function(t){e.loadingAction=!1,e.indexAction=-1,e.$router.push({path:"/danh-sach-ho-so/"+e.index+"/ho-so/"+t.dossierId+"/"+e.itemAction.form,query:e.$router.history.current.query})}).catch(function(t){e.loadingAction=!1}))})},doSubmitDialogAction:function(e){var t=this,o=t.$router.history.current;o.query;t.$refs.form.validate()&&t.doCreateDossier()},processPullBtnDynamics:function(e){var t=this;t.btnDossierDynamics=[];var o={dossierId:e.dossierId,dossierStatus:e.dossierStatus,dossierSubStatus:e.dossierSubStatus};if(t.dossierId=e.dossierId,""===e.dossierStatus||""===e.dossierSubStatus)t.$store.dispatch("pullNextactions",o).then(function(e){t.btnDossierDynamics=e});else{t.btnStepsDynamics=[];var i=[t.$store.dispatch("pullNextactions",o),t.$store.dispatch("pullBtnConfigStep",o)];w.a.all(i).then(function(e){t.btnDossierDynamics=e[0],t.btnStepsDynamics=e[1]}).catch(function(e){t.$store.dispatch("pullNextactions",o).then(function(e){t.btnDossierDynamics=e})})}},processAction:function(e,t,o,i,a){var n=this,s=null;n.payments&&(s={requestPayment:n.payments["requestPayment"],advanceAmount:Number(n.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(n.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(n.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(n.payments["shipAmount"].toString().replace(/\./g,""))});var r={dossierId:e.dossierId,actionCode:o.actionCode,toUsers:n.assign_items,payment:s,userNote:n.textNote?n.textNote:""};n.dossierId=e.dossierId;var c=n.$router.history.current.query,l="?";for(var d in c["recount"]=Math.floor(100*Math.random())+1,c["renew"]=Math.floor(100*Math.random())+1,c)""!==c[d]&&"undefined"!==c[d]&&void 0!==c[d]&&(l+=d+"="+c[d]+"&");if(n.loadingActionProcess=!0,a){var _=confirm("Bạn có muốn thực hiện hành động này?");if(!_)return!1;n.$store.dispatch("processDossierRouter",r).then(function(e){n.dialogActionProcess=!1,n.loadingActionProcess=!1,n.$router.push({path:n.$router.history.current.path+l})})}else e.statusAction||n.$store.dispatch("processCheckNextActions",r).then(function(e){n.$store.dispatch("processDossierRouter",e).then(function(e){n.dialogActionProcess=!1,n.loadingActionProcess=!1,"ACTIONS"===String(t.form)?(n.hosoDatas.splice(i,1),n.selectedDoAction[i].statusAction=!0,n.countSelected+=1,n.countSelected===n.selectedDoAction.length&&n.statusFailed>0&&n.selectedDoAction.length>1?n.dialog_statusAction=!0:n.countSelected===n.selectedDoAction.length&&0===n.statusFailed&&n.$router.push({path:n.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:c["q"]}})):n.$router.push({path:n.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:c["q"]}})}).catch(function(){n.loadingActionProcess=!1,"ACTIONS"===String(t.form)&&(n.countSelected+=1,n.statusFailed+=1,n.selectedDoAction[i].statusAction=!1,n.countSelected===n.selectedDoAction.length&&n.statusFailed>0&&n.selectedDoAction.length>1&&(n.dialog_statusAction=!0))})})},processPullBtnDetailRouter:function(e,t,o,i,a){var n=this,s=!1;if(n.dossierId=e.dossierId,n.showYkienCanBoThucHien=!1,n.showFormBoSungThongTinNgan=!1,n.showPhanCongNguoiThucHien=!1,n.showTaoTaiLieuKetQua=!1,n.showKyPheDuyetTaiLieu=!1,n.showTraKetQua=!1,n.showXacNhanThuPhi=!1,n.showThuPhi=!1,n.showThucHienThanhToanDienTu=!1,n.dossierItemDialogPick=e,n.itemDialogPick=t,n.resultDialogPick=o,n.indexDialogPick=i,n.userNote=0,null!==o&&void 0!==o&&"undefined"!==o&&(o.hasOwnProperty("userNote")||o.hasOwnProperty("extraForm")||o.hasOwnProperty("allowAssignUser")||o.hasOwnProperty("createFiles")||o.hasOwnProperty("eSignature")||o.hasOwnProperty("returnFiles")||o.hasOwnProperty("payment")||o.hasOwnProperty("overdue")||o.hasOwnProperty("betimes"))){if(!o.hasOwnProperty("userNote")||1!==o.userNote&&"1"!==o.userNote&&2!==o.userNote&&"2"!==o.userNote||(s=!0,n.showYkienCanBoThucHien=!0,n.userNote=o.userNote),o.hasOwnProperty("extraForm")&&o.extraForm&&(s=!0,n.showFormBoSungThongTinNgan=!0),o.hasOwnProperty("allowAssignUser")&&0!==o.allowAssignUser&&(n.assign_items=o.toUsers,n.type_assign=o.allowAssignUser,s=!0,n.showPhanCongNguoiThucHien=!0),o.hasOwnProperty("returnFiles")&&null!==o.createFiles&&void 0!==o.createFiles&&"undefined"!==o.createFiles&&o.createFiles.length>0&&(s=!0,n.showTaoTaiLieuKetQua=!0),o.hasOwnProperty("eSignature")&&o.eSignature&&(s=!0,n.showKyPheDuyetTaiLieu=!0),o.hasOwnProperty("returnFiles")&&null!==o.returnFiles&&void 0!==o.returnFiles&&"undefined"!==o.returnFiles&&o.returnFiles.length>0&&(s=!0,n.showTraKetQua=!0,n.returnFiles=o.returnFiles),o.hasOwnProperty("payment")&&null!==o.payment&&void 0!==o.payment&&"undefined"!==o.payment&&o.payment.requestPayment>0)if(2===o.payment.requestPayment||"2"===o.payment.requestPayment){s=!0;var r={dossierId:n.dossierId};n.$store.dispatch("loadDossierPayments",r).then(function(e){n.paymentProfile=e}).catch(function(e){})}else s=!0,n.showThuPhi=!0,n.payments=o.payment,n.viaPortalDetail=e.viaPostal;o.hasOwnProperty("overdue")&&(s=!0),o.hasOwnProperty("betimes")&&(s=!0)}if(s){var c={activeTab:"tabs-1",btnIndex:a};n.$router.push({path:"/danh-sach-ho-so/"+n.index+"/chi-tiet-ho-so/"+e["dossierId"],query:c})}else n.processAction(e,t,o,i,!0)},processPullBtnDetail:function(e,t,o,i){var a=this;if(1===t["enable"]||"special"===t["autoEvent"]){a.itemAction=t;var n={dossierId:e.dossierId,actionId:t.processActionId};a.dossierId=e.dossierId,a.loadingActionProcess=!0,a.$store.dispatch("processPullBtnDetail",n).then(function(n){a.processPullBtnDetailRouter(e,t,n,o,i)})}},goBack:function(){window.history.back()},viewDetail:function(e,t){var o=this;o.$router.history.current.query;e.permission?9===e["originality"]?o.$router.push({path:"/danh-sach-ho-so/"+this.index+"/nhom-ho-so/"+e.dossierId,query:o.$router.history.current.query}):o.$router.push("/danh-sach-ho-so/"+this.index+"/chi-tiet-ho-so/"+e["dossierId"]):1===e["originality"]?o.$router.push("/danh-sach-ho-so/"+this.index+"/chi-tiet-ho-so/"+e["dossierId"]):alert("Bạn không có quyền thao tác với hồ sơ này")},keywordEventChange:function(e){var t=this;for(var o in t.selectMultiplePage=[],t.advObjectSearch={},e)if("string"===typeof e[o]&&null!==e[o]&&void 0!==e[o]&&"undefined"!==e[o])if(e[o].startsWith("keyword:")||e[o].startsWith("year_month_day:")||e[o].startsWith("top:")||e[o].startsWith("status:")||e[o].startsWith("substatus:")||e[o].startsWith("agency:")||e[o].startsWith("service:")||e[o].startsWith("domain:")||e[o].startsWith("register:")||(t.advObjectSearch["keyword"]=e[o]),e[o].startsWith("keyword:"))t.advObjectSearch["keyword"]=e[o].replace("keyword:","");else for(var i in t.advSearchItems)e[o].startsWith(t.advSearchItems[i].spec+":")&&(t.advObjectSearch[t.advSearchItems[i].spec]=e[o].replace(t.advSearchItems[i].spec+":",""));else{var a=e[o].value;t.advObjectSearch[e[o].spec]=a.replace(e[o].spec+":","")}for(var n in t.advSearchItems=[],t.advObjectSearch)if(t.advObjectSearch.hasOwnProperty(n)){var s=t.advObjectSearch[n];if("string"===typeof s&&null!==s&&void 0!==s&&""!==s)if("keyword"===n)t.advSearchItems.push({spec:n,value:n+":"+s,text:n+":"+s,index:-1});else{var r=-2;for(var c in t.advSearchTools)if(t.advSearchTools[c].spec===n){r=t.advSearchTools[c].index;break}t.advSearchItems.push({spec:n,value:n+":"+s,text:n+":"+s,index:r})}else"string"!==typeof s&&null!==s&&void 0!==s&&""!==s&&t.advSearchItems.push({spec:n,value:n+":"+s.value,text:n+":"+s.value,index:n+":"+s.index})}for(var l in t.advSearchTools)t.advSearchTools[l].display=!1,t.advSearchTools[l].disabled=!1,null!==t.advObjectSearch[t.advSearchTools[l].spec]&&void 0!==t.advObjectSearch[t.advSearchTools[l].spec]&&""!==t.advObjectSearch[t.advSearchTools[l].spec]&&(t.advSearchTools[l].display=!0,t.advSearchTools[l].disabled=!0);t.doRedirectFilter()},selectedAdvFilter:function(e){var t=this;t.advSearchTools[e.index].display=!0,t.advSearchTools[e.index].disabled=!0;var o=!1;for(var i in t.advSearchItems)if(t.advSearchItems[i].index===e.index){o=!0;break}o||t.advSearchItems.push({spec:t.advSearchTools[e.index].spec,value:t.advSearchTools[e.index].spec+":__",text:t.advSearchTools[e.index].spec+":__",index:e.index})},showAdvFilter:function(){var e=this;e.menusss=!e.menusss,e.$store.dispatch("getStatusLists").then(function(t){e.itemFilterSupport.statusLists=t;var o={itemCode:"deleted",itemName:"Đã xóa"};e.getUser("Administrator_data")&&e.itemFilterSupport.statusLists.push(o)});var t={itemCode:""};e.$store.dispatch("getSubstatusLists",t).then(function(t){e.itemFilterSupport.substatusLists=t}),e.$store.dispatch("getAgencyLists").then(function(t){e.itemFilterSupport.agencyLists=t}),e.$store.dispatch("getServiceLists").then(function(t){e.itemFilterSupport.serviceLists=t}),e.$store.dispatch("getDomainLists").then(function(t){e.itemFilterSupport.domainLists=t})},changeAdvFilterData:function(e,t,o){var i=this;if("status"===t){var a={itemCode:e};i.$store.dispatch("getSubstatusLists",a).then(function(e){i.itemFilterSupport.substatusLists=e})}var n=e;for(var s in"year"===t?(i.itemFilterSupport.year=e,n=i.itemFilterSupport.year+"_"+i.itemFilterSupport.month+"_"+i.itemFilterSupport.day,t="year_month_day"):"month"===t?(i.itemFilterSupport.month=e,n=i.itemFilterSupport.year+"_"+i.itemFilterSupport.month+"_"+i.itemFilterSupport.day,t="year_month_day"):"day"===t?(i.itemFilterSupport.day=e,n=i.itemFilterSupport.year+"_"+i.itemFilterSupport.month+"_"+i.itemFilterSupport.day,t="year_month_day"):i.itemFilterSupport[t]=e,i.advSearchItems)if(i.advSearchItems[s].index===o){i.advSearchItems[s].value=t+":"+n,i.advSearchItems[s].text=t+":"+n;break}i.doRedirectFilter()},doRedirectFilter:function(){var e=this;e.selectMultiplePage=[];var t=e.$router.history.current,o=t.query,i="?";for(var a in o)"page"===a?i+=a+"=1&":""!==o[a]&&"undefined"!==o[a]&&void 0!==o[a]&&"top"!==a&&"status"!==a&&"substatus"!==a&&"agency"!==a&&"service"!==a&&"domain"!==a&&"register"!==a&&"year"!==a&&"month"!==a&&"day"!==a&&"adv_renew"!==a&&"keyword"!==a&&(i+=a+"="+o[a]+"&");for(var n in e.advSearchItems){var s=e.advSearchItems[n];if("year_month_day"===s.spec){var r=s.text.replace(s.spec+":",""),c=r.split("_"),l=Object(O["a"])(c,3),d=l[0],_=l[1],u=l[2];i+="year="+d+"&month="+_+"&day="+u+"&"}else i+=s.spec+"="+s.text.replace(s.spec+":","")+"&"}i+="adv_renew="+Math.floor(100*Math.random())+1,i=i.replace(/=__/g,"="),e.$router.push({path:t.path+i})},changeAdvFilterDataChips:function(e){var t=this,o=-2;for(var i in t.advSearchTools)"delay"===e.key||"overdue"===e.key||"coming"===e.key?"top"===t.advSearchTools[i]["spec"]&&(o=t.advSearchTools[i]["index"],t.advSearchTools[i].display=!0,t.advSearchTools[i].disabled=!0):"status"===t.advSearchTools[i]["spec"]&&(o=t.advSearchTools[i]["index"],t.advSearchTools[i].display=!0,t.advSearchTools[i].disabled=!0);var a="";a="delay"===e.key||"overdue"===e.key||"coming"===e.key?"top":"status";var n=!0;for(var s in t.advSearchItems)if("status"===t.advSearchItems[s]["spec"]){if("delay"!==e.key&&"overdue"!==e.key&&"coming"!==e.key){t.advSearchItems[s].value="status:"+e.key,t.advSearchItems[s].text="status:"+e.key,n=!1;break}}else if("top"===t.advSearchItems[s]["spec"]&&("delay"===e.key||"overdue"===e.key||"coming"===e.key)){t.advSearchItems[s].value="top:"+e.key,t.advSearchItems[s].text="top:"+e.key,n=!1;break}n&&t.advSearchItems.push({spec:a,value:a+":"+e.key,text:a+":"+e.key,index:o}),t.doRedirectFilter()},doImportDossier:function(){var e=this,t={serviceCode:e.serviceCode,govAgencyCode:e.govAgencyCode,templateNo:e.templateNo,originality:e.getOriginality()};e.$store.commit("setDataCreateDossier",t),e.loadingAction=!0,e.$store.dispatch("postDossier",t).then(function(t){e.loadingAction=!1,e.indexAction=-1,e.$router.push({path:"/import-ho-so/"+t.dossierId,query:e.$router.history.current.query})}).catch(function(t){e.loadingAction=!1})},validate:function(){return!0},callback:function(e){e?alert(e):alert("please check you are not robot")}}},Q=Y,J=o("c6a6"),X=o("8212"),Z=o("b0af"),ee=o("99d9"),te=o("ac7c"),oe=o("cc20"),ie=o("2b5d"),ae=o("8fea"),ne=o("169a"),se=o("0789"),re=o("0e8f"),ce=o("4bd4"),le=o("a722"),de=o("e449"),_e=o("67b6"),ue=o("43a6"),pe=o("b56d"),he=o("9910"),me=o("2677"),ge=o("a844"),fe=o("71d9"),ve=o("2a7f"),ye=o("3a2f"),Ce=Object(d["a"])(Q,I,A,!1,null,null,null),De=Ce.exports;u()(Ce,{VAutocomplete:J["a"],VAvatar:X["a"],VBtn:m["a"],VCard:Z["a"],VCardActions:ee["a"],VCardText:ee["b"],VCheckbox:te["a"],VChip:oe["a"],VCombobox:ie["a"],VDataTable:ae["a"],VDialog:ne["a"],VFadeTransition:se["b"],VFlex:re["a"],VForm:ce["a"],VIcon:f["a"],VLayout:le["a"],VList:v["a"],VListTile:C["a"],VListTileTitle:T["c"],VMenu:de["a"],VProgressCircular:P["a"],VRadio:_e["a"],VRadioGroup:ue["a"],VSelect:pe["a"],VSpacer:he["a"],VTextField:me["a"],VTextarea:ge["a"],VToolbar:fe["a"],VToolbarTitle:ve["b"],VTooltip:ye["a"]});var Te=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"row-header no__hidden_class",staticStyle:{"background-color":"#070f52"}},[null!==e.trangThaiHoSoList?o("div",{staticClass:"ml-2 py-2 text-bold white--text"},[o("span",[e._v(e._s(e.trangThaiHoSoList[e.index]["title"]))])]):e._e()]),o("v-layout",{staticClass:"menu_header_list",class:{no__border__bottom:null===e.btnDynamics||void 0===e.btnDynamics||"undefined"===e.btnDynamics||null!==e.btnDynamics&&void 0!==e.btnDynamics&&"undefined"!==e.btnDynamics&&0===e.btnDynamics.length},attrs:{wrap:""}},[1!==e.originality?o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"pl-2 pr-2 input-group--text-field-box",attrs:{xs12:"",sm3:""}},[o("v-autocomplete",{attrs:{items:e.listLinhVuc,placeholder:"Chọn lĩnh vực","item-text":"displayName","item-value":"domainCode","return-object":"","hide-selected":!0,clearable:"",box:""},on:{change:e.changeDomain},model:{value:e.linhVucSelected,callback:function(t){e.linhVucSelected=t},expression:"linhVucSelected"}})],1),o("v-flex",{staticClass:"pl-2 pr-2 input-group--text-field-box",attrs:{xs12:"",sm3:""}},[o("v-autocomplete",{attrs:{items:e.listThuTucHanhChinh,placeholder:"Chọn thủ tục hành chính","item-text":"displayName","item-value":"serviceConfigId","return-object":"","hide-selected":!0,clearable:"",box:""},on:{change:e.changeServiceConfigs},model:{value:e.thuTucHanhChinhSelected,callback:function(t){e.thuTucHanhChinhSelected=t},expression:"thuTucHanhChinhSelected"}})],1),o("v-flex",{staticClass:"pl-2 pr-2 input-group--text-field-box",attrs:{xs12:"",sm3:""}},[o("v-autocomplete",{attrs:{items:e.listDichVu,placeholder:"Chọn dịch vụ:","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,box:""},on:{change:e.changeDichVuConfigs},model:{value:e.dichVuSelected,callback:function(t){e.dichVuSelected=t},expression:"dichVuSelected"}})],1),o("v-flex",{staticClass:"pl-2 pr-2 mt-1",attrs:{xs12:"",sm3:""}},[o("div",{staticStyle:{position:"relative"}},[o("v-text-field",{attrs:{placeholder:"Mã hồ sơ, tên hồ sơ, tên thủ tục ...","append-icon":"search",box:"","append-icon-cb":e.keywordEventChange},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.keywordEventChange(t):null}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)])],1):e._e(),null!==e.dossierCounting&&void 0!==e.dossierCounting&&e.dossierCounting.length>0&&e.dossierCountingShow?o("div",{staticClass:"py-1 px-1",staticStyle:{background:"#f6f6f6","border-top":"1px solid lightgrey"}},e._l(e.dossierCounting,function(t,i){return o("v-chip",{key:i,on:{click:function(o){e.changeAdvFilterDataChips(t)}}},["deleted"===t.key?o("v-avatar",{staticStyle:{"background-color":"#da0e0e","border-color":"#da0e0e",color:"#fff"}},[o("v-icon",{attrs:{size:"16"}},[e._v("delete")])],1):o("v-avatar",{staticStyle:{"background-color":"#0b72ba","border-color":"#0b72ba",color:"#fff"}},[e._v(e._s(t.count))]),e._v("\n        "+e._s(t.title)+"\n      ")],1)}),1):e._e()],1),1===e.originality&&e.viewMobile?o("v-flex",{staticClass:"pl-2 pr-2 mt-2",attrs:{xs12:"",sm3:""}},[o("div",{staticStyle:{position:"relative"}},[o("v-text-field",{attrs:{placeholder:"Tìm theo mã hồ sơ, tên hồ sơ, tên thủ tục ...","append-icon":"search",box:"","append-icon-cb":e.keywordEventChange},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.keywordEventChange(t):null}},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)]):e._e(),e.loadingDynamicBtn?o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm6:""}}),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("content-placeholders",{staticClass:"mt-3"},[o("content-placeholders-text",{attrs:{lines:1}})],1)],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("content-placeholders",{staticClass:"mt-3"},[o("content-placeholders-text",{attrs:{lines:1}})],1)],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("content-placeholders",{staticClass:"mt-3"},[o("content-placeholders-text",{attrs:{lines:1}})],1)],1)],1):e._e(),e.loadingDynamicBtn?e._e():o("div",{staticClass:"btn_wrap_actions"},[e.getUser("Administrator_data")&&"deleted"!==e.currentQueryState["status"]?o("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"UNDO_DOSSIER"},0,!0)}}},[e._v("\n         Undo   \n    ")]):e._e(),e.getUser("Administrator_data")?o("v-menu",{staticStyle:{position:"relative !important"},attrs:{left:""}},[o("v-btn",{attrs:{slot:"activator",color:"red",dark:""},slot:"activator"},[e._v("Go to   "),o("v-icon",{attrs:{size:"18"}},[e._v("arrow_drop_down")])],1),o("v-list",[o("v-list-tile",{on:{click:function(t){e.btnActionEvent(e.selectedDoAction[e.selectedDoAction.length-1],{form:"GOTO_DONE"},0,!0)}}},[o("v-list-tile-title",[e._v("Hoàn thành")])],1),o("v-list-tile",{on:{click:function(t){e.btnActionEvent(e.selectedDoAction[e.selectedDoAction.length-1],{form:"GOTO_CANCEL"},0,!0)}}},[o("v-list-tile-title",[e._v("Rút hồ sơ")])],1),o("v-list-tile",{on:{click:function(t){e.btnActionEvent(e.selectedDoAction[e.selectedDoAction.length-1],{form:"GOTO_DENY"},0,!0)}}},[o("v-list-tile-title",[e._v("Từ chối")])],1)],1)],1):e._e(),e.getUser("Administrator_data")&&"deleted"!==e.currentQueryState["status"]?o("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"CHANGE_DATA_DOSSIER"},0,!0)}}},[e._v("\n      Điều chỉnh dữ liệu\n    ")]):e._e(),e.getUser("Administrator")&&"deleted"!==e.currentQueryState["status"]?o("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"DELETE"},0,!0)}}},[e._v("\n      DELETE\n    ")]):e._e(),e.getUser("Administrator_data")&&e.currentQueryState.hasOwnProperty("status")&&"deleted"===e.currentQueryState["status"]?o("v-btn",{attrs:{color:"red",dark:""},nativeOn:{click:function(t){e.btnActionEvent(null,{form:"RESTORE_DOSSIER"},0,!0)}}},[e._v("\n      Khôi phục hồ sơ\n    ")]):e._e(),e._l(e.btnDynamics,function(t,i){return String(t.form).indexOf("VIEW")<0&&3!==e.menuType?o("v-btn",{key:i,attrs:{color:"primary",loading:e.loadingAction&&i===e.indexAction,disabled:e.loadingAction&&i===e.indexAction},nativeOn:{click:function(o){e.btnActionEvent(null,t,i,!0)}}},[e._v("\n      "+e._s(t.title)+e._s(t.tiltle)+"\n      "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])]):e._e()})],2),o("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:e.headers,items:e.hosoDatas,"total-items":e.hosoDatasTotal,"item-key":"dossierId","select-all":3!==e.menuType&&1!==e.originality&&e.btnDynamics.length>0||e.getUser("Administrator")||e.getUser("Administrator_data"),"no-data-text":"Không có hồ sơ nào","hide-actions":""},scopedSlots:e._u([{key:"headers",fn:function(t){return[o("tr",[3!==e.menuType&&1!==e.originality&&e.btnDynamics.length>0||e.getUser("Administrator")||e.getUser("Administrator_data")?o("th",{staticClass:"v_data_table_check_all"},[e.getUser("Administrator")?o("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}}}):o("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,disabled:!e.thuTucHanhChinhSelected||e.thuTucHanhChinhSelected&&"0"===e.thuTucHanhChinhSelected.serviceConfigId||e.thuTucHanhChinhSelected&&""===e.thuTucHanhChinhSelected.serviceConfigId,primary:"","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}}})],1):e._e(),o("th",{attrs:{width:"30px"}},[o("span",[e._v("STT")])]),o("th",[o("span",[e._v("Tên thủ tục")])]),e.hideAction?e._e():o("th",{attrs:{width:"30px"}})])]}},{key:"items",fn:function(t){return[o("tr",[3!==e.menuType&&1!==e.originality&&e.btnDynamics.length>0||e.getUser("Administrator")||e.getUser("Administrator_data")?o("td",{staticClass:"v_data_table_check_all"},[e.getUser("Administrator")||e.getUser("Administrator_data")?o("v-checkbox",{attrs:{primary:"","hide-details":"",color:"primary"},on:{change:e.changeSelected},model:{value:t.selected,callback:function(o){e.$set(t,"selected",o)},expression:"props.selected"}}):o("v-checkbox",{attrs:{disabled:0===t.item["assigned"]||!e.thuTucHanhChinhSelected||e.thuTucHanhChinhSelected&&"0"===e.thuTucHanhChinhSelected.serviceConfigId||e.thuTucHanhChinhSelected&&""===e.thuTucHanhChinhSelected.serviceConfigId,primary:"","hide-details":"",color:"primary"},on:{change:e.changeSelected},model:{value:t.selected,callback:function(o){e.$set(t,"selected",o)},expression:"props.selected"}})],1):e._e(),o("td",{staticClass:"text-xs-center px-0 py-0"},[e.loadingTable?o("content-placeholders",[o("content-placeholders-text",{attrs:{lines:1}})],1):o("span",{class:{no_acction__event:!t.item["permission"]},staticStyle:{cursor:"pointer"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n            "+e._s(15*e.hosoDatasPage-15+t.index+1)+"\n          ")])],1),o("td",{staticClass:"px-1 py-0"},[e.loadingTable?o("content-placeholders",[o("content-placeholders-text",{attrs:{lines:1}})],1):o("div",{class:{no_acction__event:!t.item["permission"]},staticStyle:{cursor:"pointer"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[t.item.dossierNo?o("span",{staticClass:"primary--text"},[e._v(" "+e._s(t.item.dossierNo)+" - ")]):e._e(),o("span",{staticClass:"primary--text"},[e._v(" "+e._s(t.item.online?"Hồ sơ trực tuyến":"Hồ sơ một cửa"))]),o("br"),o("span",{staticClass:"primary--text text-bold"},[e._v(" "+e._s(t.item.serviceName)+" ")]),o("br"),o("span",{staticClass:"text-bold"},[e._v("Chủ hồ sơ: ")]),o("span",[e._v(e._s(t.item.applicantName))]),o("br"),o("span",{staticClass:"text-bold"},[e._v("Tiếp nhận: ")]),o("span",[e._v(e._s(t.item.receiveDate))]),o("br"),o("span",{staticClass:"text-bold"},[e._v("Hẹn trả: ")]),o("span",[e._v(e._s(t.item.dueDate))]),o("br"),t.item.dossierOverdue?o("span",{class:t.item.dossierOverdue.indexOf("Quá hạn")>=0?"red--text":"green--text"},[e._v(e._s(t.item.dossierOverdue))]):e._e()])],1),e.hideAction?e._e():o("td",{staticClass:"text-xs-center px-0 py-0"},[e.loadingTable?o("content-placeholders",[o("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),e.loadingTable||null===e.btnDynamics&&void 0===e.btnDynamics&&"undefined"===e.btnDynamics&&null===e.btnDossierDynamics&&void 0===e.btnDossierDynamics&&"undefined"===e.btnDossierDynamics?e._e():o("v-menu",{staticStyle:{position:"relative !important"},attrs:{left:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){e.processPullBtnDynamics(t.item)}},slot:"activator"},[o("v-icon",[e._v("more_vert")])],1),o("v-list",[e._l(e.btnDynamics,function(i,a){return 3===e.menuType?o("v-list-tile",{key:a+"_menu_"+t.item.dossierId,attrs:{disabled:-1===String(t.item["permission"]).indexOf("write")},on:{click:function(o){e.btnActionEvent(t.item,i,t.index,!1)}}},[o("v-list-tile-title",[e._v(e._s(i.title)+e._s(i.tiltle))])],1):e._e()}),e._l(e.btnDossierDynamics,function(i,a){return(i["enable"]>0||"special"===i["autoEvent"])&&3!==e.menuType?o("v-list-tile",{key:a+"_"+t.item.dossierId,attrs:{disabled:2===i["enable"]||-1===String(t.item["permission"]).indexOf("write")},on:{click:function(o){e.processPullBtnDetail(t.item,i,t.index,a)}}},[o("v-list-tile-title",[e._v(e._s(i.actionName))])],1):e._e()}),e._l(e.btnStepsDynamics,function(i,a){return-1!==String(t.item["permission"]).indexOf("write")&&"NEW"!==String(i.form)&&3!==e.menuType?o("v-list-tile",{key:a+"_"+t.item.dossierId+"_"+t.item.dossierId,on:{click:function(o){e.btnActionEvent(t.item,i,e.index,!1)}}},[o("v-list-tile-title",[e._v(e._s(i.title))])],1):e._e()}),o("v-list-tile",{attrs:{disabled:!t.item["permission"]},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n                Xem chi tiết\n              ")])],2)],1)],1)])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),o("div",{class:e.viewMobile?"":"text-xs-right layout wrap",staticStyle:{position:"relative"}},[o("div",{staticClass:"flex pagging-table px-2"},[o("tiny-pagination",{attrs:{total:e.hosoDatasTotal,page:e.hosoDatasPage,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingData}})],1)]),o("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:e.dialogAction,callback:function(t){e.dialogAction=t},expression:"dialogAction"}},[o("v-card",[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-card-title",{staticClass:"headline"},[e._v(e._s(e.itemAction.title)+e._s(e.itemAction.tiltle))]),o("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogAction=!1}}},[o("v-icon",[e._v("clear")])],1),e.loadingAction?o("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):e._e(),o("v-card-text",{staticClass:"pb-0 pt-4"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"px-2 pb-3",attrs:{xs12:""}},[o("v-autocomplete",{attrs:{items:e.listThuTucHanhChinh,placeholder:"chọn thủ tục hành chính","item-text":"serviceName","item-value":"serviceConfigId","return-object":"","hide-selected":!0},on:{change:e.changeServiceConfigs},model:{value:e.thuTucHanhChinhSelected,callback:function(t){e.thuTucHanhChinhSelected=t},expression:"thuTucHanhChinhSelected"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[e.thuTucHanhChinhSelected&&e.listDichVu.length>1?o("v-autocomplete",{attrs:{items:e.listDichVu,label:"Dịch vụ:",placeholder:"chọn dịch vụ","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"dịch vụ bắt buộc phải chọn."}],required:""},on:{change:e.changeDichVuConfigs},model:{value:e.dichVuSelected,callback:function(t){e.dichVuSelected=t},expression:"dichVuSelected"}}):e._e()],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"red darken-3",flat:"flat",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){e.dialogAction=!1}}},[o("v-icon",[e._v("undo")]),e._v(" \n            Quay lại\n            "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),o("v-btn",{attrs:{color:"primary",flat:"flat",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){e.doSubmitDialogAction(e.itemAction)}}},[o("v-icon",[e._v("save")]),e._v(" \n            Đồng ý\n            "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)],1),o("v-dialog",{attrs:{"max-width":"1000",transition:"fade-transition",persistent:""},model:{value:e.dialogActionProcess,callback:function(t){e.dialogActionProcess=t},expression:"dialogActionProcess"}},[o("v-card",[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.validProcess,callback:function(t){e.validProcess=t},expression:"validProcess"}},[o("v-card-title",{staticClass:"headline"},[e._v(e._s(e.itemAction.actionName))]),o("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogActionProcess=!1}}},[o("v-icon",[e._v("clear")])],1),e.loadingActionProcess?o("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):e._e(),o("v-card-text",{staticClass:"py-0 px-0"},[o("v-layout",{attrs:{wrap:""}},[e.dialogActionProcess&&e.showPhanCongNguoiThucHien?o("phan-cong",{attrs:{type:e.type_assign},model:{value:e.assign_items,callback:function(t){e.assign_items=t},expression:"assign_items"}}):e._e(),e.dialogActionProcess&&e.showYkienCanBoThucHien?o("y-kien-can-bo",{ref:"ykiencanbo",attrs:{user_note:e.userNote}}):e._e()],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"primary",loading:e.loadingActionProcess,disabled:e.loadingActionProcess},nativeOn:{click:function(t){e.submitFormXuLy(e.dossierItemDialogPick,e.itemDialogPick,e.resultDialogPick,e.indexDialogPick,!1)}}},[o("v-icon",[e._v("save")]),e._v(" \n          Xác nhận\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),o("v-btn",{attrs:{color:"red",dark:"",loading:e.loadingActionProcess,disabled:e.loadingActionProcess},nativeOn:{click:function(t){e.dialogActionProcess=!1}}},[o("v-icon",[e._v("undo")]),e._v(" \n          Quay lại\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)],1),o("v-dialog",{attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v(e._s(e.itemAction.title)+e._s(e.itemAction.tiltle))]),o("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[o("v-icon",[e._v("clear")])],1),e.dialogPDFLoading?o("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[o("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),o("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),o("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_statusAction,callback:function(t){e.dialog_statusAction=t},expression:"dialog_statusAction"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("\n        Trạng thái xử lý\n      ")]),o("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.closeDialogStatusAction(t)}}},[o("v-icon",[e._v("clear")])],1),o("v-card-text",{staticStyle:{"max-height":"350px"}},e._l(e.selected,function(t,i){return o("div",{key:t.dossierIdCTN},[o("v-layout",{staticClass:"py-1 align-center row-list-style",staticStyle:{"border-bottom":"1px solid #ddd",position:"relative"},attrs:{wrap:""}},[o("v-flex",{attrs:{xs11:""}},[o("span",{staticClass:"text-bold",staticStyle:{position:"absolute"}},[e._v(e._s(i+1)+".")]),o("div",{staticClass:"ml-4"},[o("span",{staticClass:"text-bold"},[e._v(e._s(t.dossierNo))]),e._v(" - "+e._s(t.serviceName))])]),o("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[t.statusAction?o("v-tooltip",{attrs:{top:""}},[o("v-icon",{attrs:{slot:"activator",size:"20",color:"primary"},slot:"activator"},[e._v("\n                  check\n                ")]),o("span",[e._v("Thành công")])],1):o("v-tooltip",{attrs:{top:""}},[o("v-icon",{attrs:{slot:"activator",size:"20",color:"red darken-3"},slot:"activator"},[e._v("\n                  block\n                ")]),o("span",[e._v("Thất bại")])],1)],1)],1)],1)}),0),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){return e.resend(t)}}},[o("v-icon",{attrs:{size:"20"}},[e._v("refresh")]),e._v(" \n          Thử lại\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),o("v-btn",{attrs:{color:"red",dark:"",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){return e.closeDialogStatusAction(t)}}},[o("v-icon",[e._v("undo")]),e._v(" \n          Thoát\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1),o("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_printGuide,callback:function(t){e.dialog_printGuide=t},expression:"dialog_printGuide"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("\n        Thông tin phiếu hướng dẫn hoàn thiện hồ sơ\n      ")]),o("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog_printGuide=!1}}},[o("v-icon",[e._v("clear")])],1),o("v-card-text",[o("v-form",{ref:"formGuide",attrs:{"lazy-validation":""},model:{value:e.validGuide,callback:function(t){e.validGuide=t},expression:"validGuide"}},[o("v-layout",{staticClass:"py-1 align-center row-list-style",attrs:{wrap:""}},[o("v-flex",{staticClass:"px-2 pb-3",attrs:{xs12:""}},[o("div",{staticClass:"my-2"},[e._v("Thủ tục hành chính:")]),o("v-autocomplete",{staticClass:"input-group--text-field-box",attrs:{items:e.listThuTucHanhChinh,placeholder:"Chọn thủ tục hành chính","item-text":"serviceName","item-value":"serviceConfigId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"Thủ tục bắt buộc phải chọn."}],required:""},on:{change:e.changeServiceConfigsGuide},model:{value:e.thuTucHanhChinhSelectedGuide,callback:function(t){e.thuTucHanhChinhSelectedGuide=t},expression:"thuTucHanhChinhSelectedGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2"},[e._v("Dịch vụ:")]),o("v-autocomplete",{staticClass:"input-group--text-field-box",attrs:{items:e.listDichVuGuide,placeholder:"Chọn dịch vụ","item-text":"optionName","item-value":"processOptionId","return-object":"","hide-selected":!0,rules:[function(e){return!!e||"dịch vụ bắt buộc phải chọn."}],required:""},model:{value:e.dichVuSelectedGuide,callback:function(t){e.dichVuSelectedGuide=t},expression:"dichVuSelectedGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2"},[e._v("Tên người làm thủ tục:")]),o("v-text-field",{attrs:{placeholder:"Nhập tên người làm thủ tục",box:"",rules:[function(e){return!!e||"Trường dữ liệu bắt buộc"}],required:""},model:{value:e.applicantNameGuide,callback:function(t){e.applicantNameGuide=t},expression:"applicantNameGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2"},[e._v("Địa chỉ:")]),o("v-text-field",{attrs:{placeholder:"Nhập địa chỉ",box:""},model:{value:e.applicantAddressGuide,callback:function(t){e.applicantAddressGuide=t},expression:"applicantAddressGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2"},[e._v("Thư điện tử:")]),o("v-text-field",{attrs:{box:"",placeholder:"Nhập thư điện tử"},model:{value:e.applicantEmailGuide,callback:function(t){e.applicantEmailGuide=t},expression:"applicantEmailGuide"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs12:""}},[o("div",{staticClass:"my-2"},[e._v("Số điện thoại:")]),o("v-text-field",{attrs:{box:""},model:{value:e.applicantTelNoGuide,callback:function(t){e.applicantTelNoGuide=t},expression:"applicantTelNoGuide"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},on:{click:function(t){e.doGuiding()}}},[o("v-icon",[e._v("print")]),e._v("  \n          In phiếu hướng dẫn\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1),o("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_extraForm,callback:function(t){e.dialog_extraForm=t},expression:"dialog_extraForm"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("\n        Điều chỉnh dữ liệu mã hồ sơ: "+e._s(e.selectedDoAction.length>0?e.selectedDoAction[e.selectedDoAction.length-1]["dossierNo"]:"")+"\n      ")]),o("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog_extraForm=!1}}},[o("v-icon",[e._v("clear")])],1),o("v-card-text",{staticClass:"px-0",attrs:{flat:""}},[o("form-bo-sung-thong-tin",{ref:"formBoSungThongTinNgan",attrs:{dossier_id:e.dossierIdSelected,action_id:e.actionId,type:"dieuchinhdulieu"}})],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},on:{click:function(t){e.doChangeDossierExtraForm()}}},[o("v-icon",[e._v("save")]),e._v("  \n          Xác nhận\n        ")],1),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},on:{click:function(t){e.dialog_extraForm=!1}}},[o("v-icon",[e._v("clear")]),e._v("  \n          Hủy\n        ")],1)],1)],1)],1)],1)},Se=[],Pe={props:["index"],components:{"tiny-pagination":j["a"],"phan-cong":W["a"],"y-kien-can-bo":q["a"],"form-bo-sung-thong-tin":z["a"]},data:function(){return{isAdminSuper:!1,actionId:"",dossierIdSelected:"",dossierCountingShow:!1,dossierCounting:[],advSearchToolsSelected:[],advSearchTools:G.advSearchTools,advSearchItems:[],advObjectSearch:{},menusss:!1,itemFilterSupport:{years:[{value:"",name:"Lọc theo năm"},{value:"2017",name:"năm 2017"},{value:"2018",name:"năm 2018"},{value:"2019",name:"năm 2019"}],year:"",months:[{value:"",name:"Lọc theo tháng"},{value:"1",name:"tháng 1"},{value:"2",name:"tháng 2"},{value:"3",name:"tháng 3"},{value:"4",name:"tháng 4"},{value:"5",name:"tháng 5"},{value:"6",name:"tháng 6"},{value:"7",name:"tháng 7"},{value:"8",name:"tháng 8"},{value:"9",name:"tháng 9"},{value:"10",name:"tháng 10"},{value:"11",name:"tháng 11"},{value:"12",name:"tháng 12"}],month:"",tops:[{value:"",name:"toàn bộ"},{value:"overdue",name:"hồ sơ đang quá hạn cần giải quyết"},{value:"delay",name:"chậm hạn trả"},{value:"coming",name:"sắp đến hạn"}],top:"",statusLists:[],status:"",substatusLists:[{itemCode:"",itemName:"toàn bộ"}],substatus:"",agencyLists:[],agency:"",serviceLists:[],service:"",domainLists:[],domain:"",keyword:"",register:""},itemFilterKey:["year","month","top","status","substatus","agency","service","domain","keyword","register"],menuType:0,type_assign:"",assign_items:[],returnFiles:[],payments:"",viaPortalDetail:0,countSelected:0,statusFailed:0,dialog_statusAction:!1,dialog_printGuide:!1,dialog_extraForm:!1,validGuide:!1,applicantNameGuide:"",applicantEmailGuide:"",applicantTelNoGuide:"",applicantAddressGuide:"",dossierSelected:[{dossierNo:"18ACE289",serviceName:"Đăng ký, cấp Giấy chứng nhận quyền sử dụng đất, quyền sở hữu nhà ở và tài sản khác gắn liền với đất lần đầu đối với tài sản gắn liền với đất mà chủ sở hữu không đồng thời là người sử dụng đất",statusAction:!1}],buttonConfigItem:{},textNote:"",thongtinhoso:{},dossierId:0,valid:!0,isCallBack:!0,trangThaiHoSoList:null,listDichVu:[],dichVuSelected:null,btnDynamics:[],btnDossierDynamics:[],btnStepsDynamics:[],loading:!0,headers:[],hideAction:!1,hosoDatas:[],hosoDatasTotal:0,hosoDatasPage:1,hosoTotalPage:0,selectedDoAction:[],selectMultiplePage:[],selected:[],listThuTucHanhChinh:[],listThuTuc:[],thuTucHanhChinhSelected:null,thuTucHanhChinhSelectedGuide:null,listLinhVuc:[],linhVucSelected:null,listDichVuGuide:[],dichVuSelectedGuide:null,templateNoGuide:"",domainCode:"",govAgencyCode:"",serviceCode:"",templateNo:"",dossierNoKey:"",searchKey:"",dialogAction:!1,loadingAction:!1,dialogActionProcess:!1,loadingActionProcess:!1,validProcess:!1,indexAction:-1,itemAction:{title:""},showThongTinCoBanHoSo:!1,showYkienCanBoThucHien:!1,showFormBoSungThongTinNgan:!1,showPhanCongNguoiThucHien:!1,showTaoTaiLieuKetQua:!1,showKyPheDuyetTaiLieu:!1,showTraKetQua:!1,showXacNhanThuPhi:!1,showThuPhi:!1,showThucHienThanhToanDienTu:!1,dossierItemDialogPick:null,itemDialogPick:null,resultDialogPick:null,indexDialogPick:0,userNote:0,dialogPDF:!1,dialogPDFLoading:!0,filterForm:null,checkSelectAll:!1,titleLanding:"",currentQueryState:""}},computed:{loadingDynamicBtn:function(){return this.$store.getters.loadingDynamicBtn},loadingTable:function(){return this.$store.getters.loadingTable},originality:function(){var e=this;return e.getOriginality()},currentUser:function(){return this.$store.getters.loadingInitData.user},activeLoadingDataHoSo:function(){return this.$store.getters.activeLoadingDataHoSo},viewMobile:function(){return r["isMobile"]}},created:function(){var e=this;e.selectMultiplePage=[],e.checkSelectAll=3!==e.menuType&&1!==e.originality,e.$nextTick(function(){var t=e.$router.history.current.query,o=e.$router.history.current.query;e.currentQueryState=t,t.hasOwnProperty("page")&&"1"!==t["page"]?e.hosoDatasPage=L()(t["page"]):e.hosoDatasPage=1,e.setStateAdvSearch(o)})},updated:function(){var e=this;e.$nextTick(function(){var t=e.$router.history.current.params,o=e.$router.history.current.query;e.currentQueryState=o,t.hasOwnProperty("index")&&e.isCallBack&&(e.isCallBack=!1,e.$store.commit("setLoadingDynamicBtn",!0),setTimeout(function(){e.$store.dispatch("loadMenuConfigToDo").then(function(t){e.btnDynamics=[],e.trangThaiHoSoList=t,e.menuType=L()(e.trangThaiHoSoList[e.index]["menuType"]),e.checkSelectAll=3!==e.menuType&&1!==e.originality,e.processListTTHC(o),e.processListDomain(o),null!==e.trangThaiHoSoList[e.index]["tableConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["tableConfig"]&&e.trangThaiHoSoList[e.index]["tableConfig"].hasOwnProperty("headers")&&(e.headers=e.trangThaiHoSoList[e.index]["tableConfig"]["headers"]),null!==e.trangThaiHoSoList[e.index]["tableConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["tableConfig"]&&e.trangThaiHoSoList[e.index]["tableConfig"].hasOwnProperty("hideAction")&&(e.hideAction=e.trangThaiHoSoList[e.index]["tableConfig"]["hideAction"]),null!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&e.trangThaiHoSoList[e.index]["buttonConfig"].hasOwnProperty("buttons")&&(e.btnDynamics=e.trangThaiHoSoList[e.index]["buttonConfig"]["buttons"]),null!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&void 0!==e.trangThaiHoSoList[e.index]["buttonConfig"]&&e.trangThaiHoSoList[e.index]["buttonConfig"].hasOwnProperty("layout_view")&&(e.filterForm=e.trangThaiHoSoList[e.index]["buttonConfig"]["layout_view"]);var i=[],a=[];for(var n in e.btnDynamics)e.btnDynamics[n].hasOwnProperty("onlySteps")?i.push(e.btnDynamics[n]):a.push(e.btnDynamics[n]);if(e.btnDynamics=[],e.btnDynamics=a,e.btnStepsDynamics=[],o.hasOwnProperty("step"))for(var s in e.trangThaiHoSoList[e.index]["items"]){var r=e.trangThaiHoSoList[e.index]["items"][s];if(String(r.stepCode)===String(o.step)){for(var c in i)for(var l=0;l<i[c].onlySteps.length;l++)String(i[c].onlySteps[l])===String(r.stepCode)&&e.btnDynamics.push(i[c]);break}}e.$store.commit("setLoadingDynamicBtn",!1)})},200))})},watch:{$route:function(e,t){var o=this,i=e.query,a=t.query;if(o.currentQueryState=i,i.hasOwnProperty("q")){o.btnDynamics=[],o.$store.commit("setLoadingDynamicBtn",!0),o.menuType=o.trangThaiHoSoList[o.index]["menuType"],o.checkSelectAll=3!==o.menuType&&1!==o.originality,o.headers=o.trangThaiHoSoList[o.index]["tableConfig"]["headers"],null!==o.trangThaiHoSoList[o.index]["tableConfig"]&&void 0!==o.trangThaiHoSoList[o.index]["tableConfig"]&&o.trangThaiHoSoList[o.index]["tableConfig"].hasOwnProperty("hideAction")&&(o.hideAction=o.trangThaiHoSoList[o.index]["tableConfig"]["hideAction"]),null!==o.trangThaiHoSoList[o.index]["buttonConfig"]&&void 0!==o.trangThaiHoSoList[o.index]["buttonConfig"]&&o.trangThaiHoSoList[o.index]["buttonConfig"].hasOwnProperty("buttons")&&(o.btnDynamics=o.trangThaiHoSoList[o.index]["buttonConfig"]["buttons"]),null!==o.trangThaiHoSoList[o.index]["buttonConfig"]&&void 0!==o.trangThaiHoSoList[o.index]["buttonConfig"]&&o.trangThaiHoSoList[o.index]["buttonConfig"].hasOwnProperty("layout_view")&&(o.filterForm=o.trangThaiHoSoList[o.index]["buttonConfig"]["layout_view"]);var n=[],s=[];for(var r in o.btnDynamics)o.btnDynamics[r].hasOwnProperty("onlySteps")?n.push(o.btnDynamics[r]):s.push(o.btnDynamics[r]);if(o.btnDynamics=[],o.btnDynamics=s,o.btnStepsDynamics=[],i.hasOwnProperty("step"))for(var c in o.trangThaiHoSoList[o.index]["items"]){var l=o.trangThaiHoSoList[o.index]["items"][c];if(String(l.stepCode)===String(i.step)){for(var d in n)for(var _=0;_<n[d].onlySteps.length;_++)String(n[d].onlySteps[_])===String(l.stepCode)&&o.btnDynamics.push(n[d]);break}}if(i.hasOwnProperty("page")?(o.hosoDatasPage=L()(i.page),i.page===a["page"]&&(o.selectMultiplePage=[])):(o.hosoDatasPage=1,o.selectMultiplePage=[]),o.$store.commit("setLoadingDynamicBtn",!1),null===o.listLinhVuc||void 0===o.listLinhVuc||null!==o.listLinhVuc&&void 0!==o.listLinhVuc&&0===o.listLinhVuc.length)o.processListDomain(i);else for(var u in o.listLinhVuc)String(o.listLinhVuc[u]["domainCode"])===String(i.domain)&&(o.linhVucSelected=o.listLinhVuc[u],o.domainCode=o.linhVucSelected["domainCode"]);null===o.listThuTucHanhChinh||void 0===o.listThuTucHanhChinh||null!==o.listThuTucHanhChinh&&void 0!==o.listThuTucHanhChinh&&0===o.listThuTucHanhChinh.length?o.processListTTHC(i):o.doLoadingDataHoSo(),o.setStateAdvSearch(i)}},activeLoadingDataHoSo:function(e){var t=this;setTimeout(function(){t.doLoadingDataHoSo()},100)},selectMultiplePage:{handler:function(e){var t=this;if(e.length>0)for(var o in t.selectedDoAction=[],e)t.selectedDoAction=t.selectedDoAction.concat(e[o]["selected"]);else t.selectedDoAction=[]},deep:!0}},methods:{toggleAll:function(){var e=this;if(e.getUser("Administrator"))e.selected.length?e.selected=[]:e.selected=e.hosoDatas;else{if(!e.thuTucHanhChinhSelected||e.thuTucHanhChinhSelected&&"0"===e.thuTucHanhChinhSelected.serviceConfigId||e.thuTucHanhChinhSelected&&""===e.thuTucHanhChinhSelected.serviceConfigId)return;e.selected.length?e.selected=[]:e.selected=e.hosoDatas.filter(function(e){return 0!==e["assigned"]})}e.selectMultiplePage[e.hosoDatasPage-1]["selected"]=e.selected},getUser:function(e){var t=this,o=t.$store.getters.getUser.role,i=o.findIndex(function(t){return t===e});return i>=0},changeSelected:function(){var e=this;e.selectMultiplePage[e.hosoDatasPage-1]["selected"]=e.selected},setStateAdvSearch:function(e){var t=this;if(e.hasOwnProperty("adv_renew")){for(var o in t.advSearchItems=[],t.itemFilterKey)for(var i in e){if(t.itemFilterKey[o]===i&&e[i]){t.itemFilterSupport[t.itemFilterKey[o]]=e[i];break}t.itemFilterSupport[t.itemFilterKey[o]]=""}var a=function(e){var o=t.itemFilterKey[e],i=t.advSearchTools.find(function(e){return e.spec===o});if(t.itemFilterSupport[o])if("keyword"===o)t.advSearchItems.push({spec:o,value:o+":"+t.itemFilterSupport[o],text:o+":"+t.itemFilterSupport[o],index:-1});else if("year"===o){var a=t.advSearchItems.find(function(e){return"year_month"===e.spec});a?(a["value"]="year_month:"+t.itemFilterSupport[o]+"_"+t.itemFilterSupport["month"],a["text"]="year_month:"+t.itemFilterSupport[o]+"_"+t.itemFilterSupport["month"],a["index"]=0):t.advSearchItems.push({spec:"year_month",value:"year_month:"+t.itemFilterSupport[o]+"_"+t.itemFilterSupport["month"],text:"year_month:"+t.itemFilterSupport[o]+"_"+t.itemFilterSupport["month"],index:0})}else if("month"===o){var n=t.advSearchItems.find(function(e){return"year_month"===e.spec});n?(n["value"]="year_month:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[o],n["text"]="year_month:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[o],n["index"]=0):t.advSearchItems.push({spec:"year_month",value:"year_month:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[o],text:"year_month:"+t.itemFilterSupport["year"]+"_"+t.itemFilterSupport[o],index:0})}else t.advSearchItems.push({spec:o,value:o+":"+t.itemFilterSupport[o],text:o+":"+t.itemFilterSupport[o],index:i["index"]})};for(var n in t.itemFilterKey)a(n)}else t.advSearchItems=[];var s=function(e){t.advSearchTools[e].display=!1,t.advSearchTools[e].disabled=!1;var o=t.advSearchItems.find(function(o){return o.spec===t.advSearchTools[e].spec});o&&(t.advSearchTools[e].display=!0,t.advSearchTools[e].disabled=!0)};for(var r in t.advSearchTools)s(r)},resend:function(){var e=this;e.doActions(null,e.buttonConfigItem,null,!0)},closeDialogStatusAction:function(){var e=this;e.dialog_statusAction=!1,e.selectedDoAction=e.selectedDoAction.filter(function(e){return!e.statusAction})},submitFormXuLy:function(e,t,o,i,a){var n=this;if(n.showYkienCanBoThucHien){var s=n.$refs.ykiencanbo.doExport();s.valid&&(n.textNote=s.text,n.processAction(e,t,o,i,!1))}else n.processAction(e,t,o,i,!1)},processListTTHC:function(e){var t=this;t.$store.dispatch("loadListThuTucHanhChinh").then(function(o){if((!e.hasOwnProperty("domain")||e.hasOwnProperty("domain")&&""===String(e.domain))&&(t.listThuTucHanhChinh=o.map(function(e){return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e})),t.listThuTuc=o.map(function(e){return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e}),e.hasOwnProperty("service_config")&&"0"!==String(e.service_config)){for(var i in t.listThuTucHanhChinh)if(String(t.listThuTucHanhChinh[i].serviceConfigId)===String(e.service_config)){if(t.thuTucHanhChinhSelected=t.listThuTucHanhChinh[i],null!==t.thuTucHanhChinhSelected&&void 0!==t.thuTucHanhChinhSelected&&t.thuTucHanhChinhSelected.hasOwnProperty("options"))if(t.govAgencyCode=t.thuTucHanhChinhSelected.govAgencyCode,t.serviceCode=t.thuTucHanhChinhSelected.serviceCode,e.hasOwnProperty("template_no"))for(var a in t.listDichVu=t.thuTucHanhChinhSelected.options,t.listDichVu)t.listDichVu[a].templateNo===e.template_no&&(t.dichVuSelected=t.listDichVu[a],t.templateNo=t.dichVuSelected.templateNo);else t.listDichVu=[],t.dichVuSelected=null,t.govAgencyCode="",t.serviceCode="",t.templateNo="";break}}else t.thuTucHanhChinhSelected=null,t.dichVuSelected=null,t.govAgencyCode="",t.serviceCode="",t.templateNo="";t.doLoadingDataHoSo()})},processListDomain:function(e){var t=this;t.$store.dispatch("getDomainLists").then(function(o){if(o.length>0&&(t.listLinhVuc=o.map(function(e){return e["displayName"]=e["domainCode"]+" - "+e["domainName"],e})),e.hasOwnProperty("domain")&&""!==String(e.domain)){for(var i in t.listLinhVuc)String(t.listLinhVuc[i]["domainCode"])===String(e.domain)&&(t.linhVucSelected=t.listLinhVuc[i],t.domainCode=t.linhVucSelected["domainCode"]);var a={domain:t.linhVucSelected.domainCode};t.$store.dispatch("getServiceinfoFilter",a).then(function(e){t.listThuTucHanhChinh=e.map(function(e){return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e})})}else t.linhVucSelected=null})},checkPemissionSpecialAction:function(e,t,o){var i=this,a=!0;if("PRINT_01"!==e&&"PRINT_02"!==e&&"PRINT_03"!==e&&"GUIDE"!==e&&"PREVIEW"!==e&&"BETIMES"!==e){var n=i.$store.getters.getUsersNextAction;if(n.length>0){var s=n.filter(function(e){if(void 0!==e&&void 0!==t)return e["userId"].toString()===t["userId"].toString()});a=s.length>0}else a=!1}return"ROLLBACK_01"!==e&&"ROLLBACK_02"!==e&&"ROLLBACK_03"!==e||(a=!1),a},paggingData:function(e){var t=this,o=t.$router.history.current,i=o.query,a="?";for(var n in i["page"]="",i)""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&(a+=n+"="+i[n]+"&");a+="page="+e.page,t.$router.push({path:o.path+a})},doLoadingDataHoSo:function(){var e=this;e.selected=[];var t=e.$router.history.current.query;if(console.log("currentQuery======",t),t.hasOwnProperty("q")){var o;o=t.q.indexOf("step")>0?t.q:t["step"]?t.q+"&step="+t["step"]:t.q;var i=null;if(3!==e.menuType)i={queryParams:o,page:e.hosoDatasPage,order:t.hasOwnProperty("order")?t.order:"",agency:t.hasOwnProperty("agency")?t.agency:e.govAgencyCode,service:t.hasOwnProperty("service")?t.service:e.serviceCode,template:t.hasOwnProperty("template")?t.template:e.templateNo,domain:t.hasOwnProperty("domain")?t.domain:e.domainCode,status:t.hasOwnProperty("status")?t.status:"",substatus:t.hasOwnProperty("substatus")?t.substatus:"",year:t.hasOwnProperty("year")?t.year:0,month:t.hasOwnProperty("month")?t.month:0,top:t.hasOwnProperty("top")?t.top:"",keyword:t.hasOwnProperty("keyword")&&t.keyword?t.keyword:e.searchKey,register:t.hasOwnProperty("register")?t.register:"",paymentStatus:t.hasOwnProperty("paymentStatus")?t.paymentStatus:"",dossierNo:e.dossierNoKey?e.dossierNoKey:""};else{var a=t.hasOwnProperty("status")&&"deleted"===t["status"]?-1:"";i={queryParams:o,page:e.hosoDatasPage,order:t.hasOwnProperty("order")?t.order:"",agency:t.hasOwnProperty("agency")?t.agency:e.govAgencyCode,service:t.hasOwnProperty("service")?t.service:e.serviceCode,template:t.hasOwnProperty("template")?t.template:e.templateNo,domain:t.hasOwnProperty("domain")?t.domain:e.domainCode,status:t.hasOwnProperty("status")&&t["status"]&&"deleted"!==t["status"]?t.status:"",substatus:t.hasOwnProperty("substatus")?t.substatus:"",year:t.hasOwnProperty("year")?t.year:0,month:t.hasOwnProperty("month")?t.month:0,top:t.hasOwnProperty("top")?t.top:"",keyword:t.hasOwnProperty("keyword")&&t.keyword?t.keyword:"",register:t.hasOwnProperty("register")?t.register:"",paymentStatus:t.hasOwnProperty("paymentStatus")?t.paymentStatus:"",originality:t.hasOwnProperty("originality")&&t["originality"]?t.originality:a,dossierNo:e.dossierNoKey?e.dossierNoKey:""}}e.$store.dispatch("loadingDataHoSo",i).then(function(t){if(e.hosoDatas=t.data,e.hosoDatasTotal=t.total,e.hosoTotalPage=Math.ceil(e.hosoDatasTotal/15),e.hosoTotalPage>0&&0===e.selectMultiplePage.length){for(var o=0;o<e.hosoTotalPage;o++){var i={selected:[],page:o+1};e.selectMultiplePage.push(i)}console.log("selectMultiplePage",e.selectMultiplePage)}e.selected=e.selectMultiplePage[e.hosoDatasPage-1]["selected"]}).catch(function(t){e.hosoDatas=[],e.hosoDatasTotal=0})}3===e.menuType||"3"===String(e.menuType)?setTimeout(function(){e.$store.dispatch("loadingDossierCounting").then(function(t){if(null!==t&&void 0!==t){if(e.dossierCounting=t,e.getUser("Administrator_data")){var o={key:"deleted",title:"Hồ sơ đã xóa",count:0};e.dossierCounting.push(o)}}else e.dossierCounting=[];e.dossierCountingShow=!0})},200):e.dossierCountingShow=!1},changeServiceConfigs:function(e){var t=this;t.selectMultiplePage=[],null!==e&&"null"!==e&&e.hasOwnProperty("options")?this.listDichVu=e.options:this.listDichVu=[],null!==this.listDichVu&&void 0!==this.listDichVu&&"undefined"!==this.listDichVu&&this.listDichVu.length>0?(this.dichVuSelected=this.listDichVu[0],this.templateNo=this.dichVuSelected.templateNo):this.dichVuSelected=null;var o=t.$router.history.current,i=o.query,a="?";for(var n in i["service_config"]="",i["template_no"]="",i)"page"===n?a+=n+"=1&":""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&"step"!==n&&(a+=n+"="+i[n]+"&");-1===String(i["q"]).indexOf("&step")&&3!==t.menuType&&(a+="step="+i["step"]+"&"),null!==this.listDichVu&&void 0!==this.listDichVu&&"undefined"!==this.listDichVu&&this.listDichVu.length>0?(a+="service_config="+e.serviceConfigId,a+="&template_no="+this.dichVuSelected.templateNo,t.govAgencyCode=e.govAgencyCode,t.serviceCode=e.serviceCode):(t.templateNo="",t.govAgencyCode="",t.serviceCode=""),t.$router.push({path:o.path+a})},changeServiceConfigsGuide:function(e){null!==e&&"null"!==e&&e.hasOwnProperty("options")?this.listDichVuGuide=e.options:this.listDichVuGuide=[],null!==this.listDichVuGuide&&void 0!==this.listDichVuGuide&&"undefined"!==this.listDichVuGuide&&this.listDichVuGuide.length>0?(this.dichVuSelectedGuide=this.listDichVuGuide[0],this.templateNoGuide=this.dichVuSelectedGuide.templateNo):this.dichVuSelectedGuide=null},changeDomain:function(e){var t=this;t.selectMultiplePage=[],t.linhVucSelected=e,e?setTimeout(function(){var e={domain:t.linhVucSelected.domainCode};t.$store.dispatch("getServiceinfoFilter",e).then(function(e){t.listThuTucHanhChinh=e.map(function(e){return e["displayName"]=e["serviceCode"]+" - "+e["serviceName"],e})})},100):t.listThuTucHanhChinh=t.listThuTuc,t.domainCode=null!==e?t.linhVucSelected["domainCode"]:"";var o=t.$router.history.current,i=o.query,a="?";for(var n in i["domain"]="",i)"page"===n?a+=n+"=1&":""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&"step"!==n&&(a+=n+"="+i[n]+"&");-1===String(i["q"]).indexOf("&step")&&3!==t.menuType&&(a+="step="+i["step"]+"&"),a+="domain="+t.domainCode,t.$router.push({path:o.path+a,query:{renew:Math.floor(100*Math.random())+1}})},changeDossierNoKey:function(){var e=this;e.selectMultiplePage=[],setTimeout(function(){e.dossierNoKey?(e.dossierNoKey.length>3||""===e.dossierNoKey)&&e.doLoadingDataHoSo():e.doLoadingDataHoSo()},200)},clearDossierNoKey:function(){this.dossierNoKey="",this.changeDossierNoKey()},changeDichVuConfigs:function(e){var t=this;t.selectMultiplePage=[];var o=t.$router.history.current,i=o.query,a="?";for(var n in i["template_no"]="",i)""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&(a+=n+"="+i[n]+"&");a+="template_no="+e.templateNo,t.templateNo=e.templateNo,t.$router.push({path:o.path+a})},btnActionEvent:function(e,t,o,i){var a=this;if(a.buttonConfigItem={},a.buttonConfigItem=t,a.itemAction=t,a.indexAction=o,"NEW"===String(t.form)){var n=!0;null!==a.dichVuSelected&&void 0!==a.dichVuSelected&&"undefined"!==a.dichVuSelected&&null!==a.listDichVu&&void 0!==a.listDichVu&&1===a.listDichVu.length&&(n=!1),n?a.dialogAction=!0:a.doCreateDossier()}else if("UPDATE"===String(t.form))a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/ho-so/"+e.dossierId+"/"+a.itemAction.form,query:a.$router.history.current.query});else if("ADD"===String(t.form))a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/bo-sung-ho-so/"+e.dossierId,query:a.$router.history.current.query});else if("COPY"===String(t.form))a.doCopy(e,t,o,i);else if("CANCEL"===String(t.form))a.doCancel(e,t,o,i);else if("PRINT_01"===String(t.form))a.doPrint01(e,t,o,i);else if("PRINT_02"===String(t.form))a.doPrint02(e,t,o,i);else if("PRINT_03"===String(t.form))a.doPrint03(e,t,o,i);else if("GUIDING"===String(t.form))a.dialog_printGuide=!0;else if("PREVIEW"===String(t.form))a.doPreview(e,t,o,i);else if("ACTIONS"===String(t.form))a.doActions(e,t,o,i);else if("DELETE"===String(t.form))a.doDeleteDossier(e,t,o,i);else if("ROLLBACK_01"===String(t.form)){var s={actionCode:9e3};a.processAction(e,t,s,o,!0)}else if("ROLLBACK_02"===String(t.form)){var r={actionCode:9e3};a.processAction(e,t,r,o,!0)}else if("OVERDUE"===String(t.form)){var c={actionCode:8500,dossierId:e.dossierId,overdue:e["extendDate"]};a.processPullBtnDetailRouter(e,null,c,null,8500)}else if("PREOVERDUE"===String(t.form)){var l={actionCode:8501,dossierId:e.dossierId,preoverdue:e["extendDate"]};a.processPullBtnDetailRouter(e,null,l,null,8501)}else if("BETIMES"===String(t.form)){var d={actionCode:8400,dossierId:e.dossierId,betimes:e["extendDate"]};a.processPullBtnDetailRouter(e,null,d,null,8400)}else if("CHANGE_DATA_DOSSIER"===String(t.form))a.doChangeDossier(e,t,o,i);else if("UNDO_DOSSIER"===String(t.form))a.doUndoDossier(e,t,o,i);else if("RESTORE_DOSSIER"===String(t.form))a.doRestoreDossier(e,t,o,i);else if("GOTO_DONE"===String(t.form)){if(!e)return void alert("Chọn hồ sơ để thực hiện");var _={actionCode:4e3};a.processAction(e,t,_,o,!0)}else if("GOTO_CANCEL"===String(t.form)){if(!e)return void alert("Chọn hồ sơ để thực hiện");var u={actionCode:4100};a.processAction(e,t,u,o,!0)}else if("GOTO_DENY"===String(t.form)){if(!e)return void alert("Chọn hồ sơ để thực hiện");var p={actionCode:4200};a.processAction(e,t,p,o,!0)}},doPrint01:function(e,t,o,i){var a=this;a.dialogPDFLoading=!0,a.dialogPDF=!0;var n={dossierId:e.dossierId,document:t.document};a.$store.dispatch("doPrint01",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doPrint02:function(e,t,o,i){var a=this;if(console.log("vm.selectedDoAction",a.selectedDoAction),null===a.thuTucHanhChinhSelected||void 0===a.thuTucHanhChinhSelected||"undefined"===a.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{var n={document:t.document,serviceCode:a.thuTucHanhChinhSelected.serviceCode,govAgencyCode:a.thuTucHanhChinhSelected.govAgencyCode,dossiers:F()(a.selectedDoAction)};a.dialogPDFLoading=!0,a.dialogPDF=!0,a.$store.dispatch("doPrint02",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})}},doPrint03:function(e,t,o,i){var a=this;a.dialogPDFLoading=!0,a.dialogPDF=!0;var n={dossierId:e.dossierId,document:t.document};a.$store.dispatch("doPrint03",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doGuiding:function(){var e=this;if(e.$refs.formGuide.validate()){e.loadingAction=!0;var t={serviceConfigId:e.thuTucHanhChinhSelectedGuide.serviceConfigId,serviceCode:e.thuTucHanhChinhSelectedGuide.serviceCode,serviceName:e.thuTucHanhChinhSelectedGuide.serviceName,templateNo:e.templateNoGuide,applicantName:e.applicantNameGuide,applicantAddress:e.applicantAddressGuide,applicantEmail:e.applicantEmailGuide,applicantTelNo:e.applicantTelNoGuide,employeeName:window.themeDisplay.getUserName()?window.themeDisplay.getUserName():"",typeCode:"DOC_03"};e.dialogPDFLoading=!0,e.dialogPDF=!0,e.$store.dispatch("doGuiding",t).then(function(t){e.loadingAction=!1,e.dialog_printGuide=!1,e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=t}).catch(function(){e.loadingAction=!1})}},doPreview:function(e,t,o,i){var a=this;a.dialogPDFLoading=!0,a.dialogPDF=!0;var n={dossierId:e.dossierId,document:t.document};a.$store.dispatch("doPrint03",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doActions:function(e,t,o,i){var a=this;a.$router.history.current.query,t.action;if(i)if(a.countSelected=0,1===a.selectedDoAction.length)for(var n in a.selectedDoAction){var s=a.selectedDoAction[n];a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/chi-tiet-ho-so/"+s["dossierId"],query:{activeTab:"tabs-1",btnIndex:null}})}else a.selectedDoAction.length>1?a.$store.dispatch("loadActionActive",t).then(function(){a.$store.dispatch("loadDossierSelected",a.selectedDoAction).then(function(){var e=a.selectedDoAction.map(function(e){return e.dossierId}).join(","),o=a.$router.history.current.query;o["dossiers"]=e,o["actionActive"]=F()(t),a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/xu-ly-ho-so",query:o})})}):alert("Chọn hồ sơ để thao tác")},doCopy:function(e,t,o,i){var a=this,n={dossierId:e.dossierId};a.loadingAction=!0,a.$store.dispatch("doCopy",n).then(function(e){a.loadingAction=!1,a.indexAction=-1,a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/ho-so/"+e.dossierId+"/"+a.itemAction.form,query:a.$router.history.current.query})}).catch(function(e){a.loadingAction=!1})},doCancel:function(e,t,o,i){var a=this;if(a.loadingAction=!0,i);else{var n={dossierId:e.dossierId};a.$store.dispatch("doCancel",n).then(function(e){a.loadingAction=!1,a.indexAction=-1,a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/ho-so/"+e.dossierId+"/"+a.itemAction.form,query:a.$router.history.current.query})}).catch(function(e){a.loadingAction=!1})}},doChangeDossier:function(e,t,o,i){var a=this;a.$router.history.current.query;if(i)if(a.selectedDoAction.length>0){var n=a.selectedDoAction.length;a.actionId=9100,a.dossierIdSelected=a.selectedDoAction[n-1].dossierId,a.dialog_extraForm=!0}else alert("Chọn hồ sơ để thực hiện")},doUndoDossier:function(e,t,o,i){var a=this;a.$router.history.current.query;if(a.selectedDoAction.length>0){var n=a.selectedDoAction.length,s=confirm("Xác thực Undo hồ sơ với mã: "+a.selectedDoAction[n-1].dossierNo);if(s){var r={dossierId:a.selectedDoAction[n-1].dossierId};a.$store.dispatch("rollBack",r).then(function(e){setTimeout(function(){a.doLoadingDataHoSo()},300)}).catch(function(){setTimeout(function(){a.doLoadingDataHoSo()},300)})}}else alert("Chọn hồ sơ để thực hiện")},doChangeDossierExtraForm:function(){var e=this,t=e.$refs.formBoSungThongTinNgan.checkValid();if(t){var o=e.$refs.formBoSungThongTinNgan.formSubmitData(),i=confirm("Bạn có chắc chắn thực hiện hành động điều chỉnh dữ liệu?");if(i){var a=e.selectedDoAction.length,n={dossierId:e.selectedDoAction[a-1].dossierId,actionCode:e.actionId,payload:o};e.$store.dispatch("processDossierRouter",n).then(function(t){e.doLoadingDataHoSo(),e.dialog_extraForm=!1}).catch(function(){e.dialog_extraForm=!1,e.doLoadingDataHoSo()})}}},doRestoreDossier:function(){var e=this,t=confirm("Bạn có chắc chắn thực hiện hành động khôi phục hồ sơ?");t&&(e.selectedDoAction.length>0?function(){var t=0,o=e.selectedDoAction.length;for(var i in e.selectedDoAction){var a={dossierId:e.selectedDoAction[i]["dossierId"]};console.log("filter Restore",a),e.selectedDoAction[i]["originality"]&&e.$store.dispatch("restoreDossier",a).then(function(i){t+=1,t===o&&e.doLoadingDataHoSo()}).catch(function(){t+=1,t===o&&e.doLoadingDataHoSo()})}}():alert("Chọn hồ sơ để thực hiện"))},doDeleteDossier:function(e,t,o,i){var a=this,n=confirm("Bạn có chắc chắn thực hiện hành động xóa hồ sơ?");if(!n)return!1;var s=a.$router.history.current.query;if(i){var r={dossierId:0};if(a.selectedDoAction.length>0){var c=[];for(var l in a.selectedDoAction)c.push(a.selectedDoAction[l]["dossierId"]);r["dossierId"]=c,a.$store.dispatch("deleteDossierPatch",r).then(function(e){})}else alert("Chọn hồ sơ để thực hiện")}else{var d={dossierId:e.dossierId};a.$store.dispatch("deleteDossier",d).then(function(e){a.dialogActionProcess=!1,a.loadingActionProcess=!1,a.$router.push({path:a.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:s["q"]}})})}},doCreateDossier:function(){var e=this,t={serviceCode:e.serviceCode,govAgencyCode:e.govAgencyCode,templateNo:e.templateNo,originality:e.getOriginality()};e.$store.commit("setDataCreateDossier",t),e.loadingAction=!0,e.$store.dispatch("postDossier",t).then(function(t){e.loadingAction=!1,e.indexAction=-1,e.$router.push({path:"/danh-sach-ho-so/"+e.index+"/ho-so/"+t.dossierId+"/"+e.itemAction.form,query:e.$router.history.current.query})}).catch(function(t){e.loadingAction=!1})},doSubmitDialogAction:function(e){var t=this;t.$refs.form.validate()&&t.doCreateDossier()},processPullBtnDynamics:function(e){var t=this;t.btnDossierDynamics=[];var o={dossierId:e.dossierId,dossierStatus:e.dossierStatus,dossierSubStatus:e.dossierSubStatus};if(t.dossierId=e.dossierId,""===e.dossierStatus||""===e.dossierSubStatus)t.$store.dispatch("pullNextactions",o).then(function(e){t.btnDossierDynamics=e});else{t.btnStepsDynamics=[];var i=[t.$store.dispatch("pullNextactions",o),t.$store.dispatch("pullBtnConfigStep",o)];w.a.all(i).then(function(e){t.btnDossierDynamics=e[0],t.btnStepsDynamics=e[1]}).catch(function(e){t.$store.dispatch("pullNextactions",o).then(function(e){t.btnDossierDynamics=e})})}},processAction:function(e,t,o,i,a){var n=this,s=null;n.payments&&(s={requestPayment:n.payments["requestPayment"],advanceAmount:Number(n.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(n.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(n.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(n.payments["shipAmount"].toString().replace(/\./g,""))});var r={dossierId:e.dossierId,actionCode:o.actionCode,toUsers:n.assign_items,payment:s,userNote:n.textNote?n.textNote:""};n.dossierId=e.dossierId;var c=n.$router.history.current.query,l="?";for(var d in c["recount"]=Math.floor(100*Math.random())+1,c["renew"]=Math.floor(100*Math.random())+1,c)""!==c[d]&&"undefined"!==c[d]&&void 0!==c[d]&&(l+=d+"="+c[d]+"&");if(n.loadingActionProcess=!0,a){var _=confirm("Bạn có muốn thực hiện hành động này?");if(!_)return!1;n.$store.dispatch("processDossierRouter",r).then(function(e){n.dialogActionProcess=!1,n.loadingActionProcess=!1,n.$router.push({path:n.$router.history.current.path+l})})}else e.statusAction||n.$store.dispatch("processCheckNextActions",r).then(function(e){n.$store.dispatch("processDossierRouter",e).then(function(e){n.dialogActionProcess=!1,n.loadingActionProcess=!1,"ACTIONS"===String(t.form)?(n.hosoDatas.splice(i,1),n.selectedDoAction[i].statusAction=!0,n.countSelected+=1,n.countSelected===n.selectedDoAction.length&&n.statusFailed>0&&n.selectedDoAction.length>1?n.dialog_statusAction=!0:n.countSelected===n.selectedDoAction.length&&0===n.statusFailed&&n.$router.push({path:n.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:c["q"]}})):n.$router.push({path:n.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:c["q"]}})}).catch(function(){n.loadingActionProcess=!1,"ACTIONS"===String(t.form)&&(n.countSelected+=1,n.statusFailed+=1,n.selectedDoAction[i].statusAction=!1,n.countSelected===n.selectedDoAction.length&&n.statusFailed>0&&n.selectedDoAction.length>1&&(n.dialog_statusAction=!0))})})},processPullBtnDetailRouter:function(e,t,o,i,a){var n=this,s=!1;if(n.dossierId=e.dossierId,n.showYkienCanBoThucHien=!1,n.showFormBoSungThongTinNgan=!1,n.showPhanCongNguoiThucHien=!1,n.showTaoTaiLieuKetQua=!1,n.showKyPheDuyetTaiLieu=!1,n.showTraKetQua=!1,n.showXacNhanThuPhi=!1,n.showThuPhi=!1,n.showThucHienThanhToanDienTu=!1,n.dossierItemDialogPick=e,n.itemDialogPick=t,n.resultDialogPick=o,n.indexDialogPick=i,n.userNote=0,null!==o&&void 0!==o&&"undefined"!==o&&(o.hasOwnProperty("userNote")||o.hasOwnProperty("extraForm")||o.hasOwnProperty("allowAssignUser")||o.hasOwnProperty("createFiles")||o.hasOwnProperty("eSignature")||o.hasOwnProperty("returnFiles")||o.hasOwnProperty("payment")||o.hasOwnProperty("overdue")||o.hasOwnProperty("betimes"))){if(!o.hasOwnProperty("userNote")||1!==o.userNote&&"1"!==o.userNote&&2!==o.userNote&&"2"!==o.userNote||(s=!0,n.showYkienCanBoThucHien=!0,n.userNote=o.userNote),o.hasOwnProperty("extraForm")&&o.extraForm&&(s=!0,n.showFormBoSungThongTinNgan=!0),o.hasOwnProperty("allowAssignUser")&&0!==o.allowAssignUser&&(n.assign_items=o.toUsers,n.type_assign=o.allowAssignUser,s=!0,n.showPhanCongNguoiThucHien=!0),o.hasOwnProperty("returnFiles")&&null!==o.createFiles&&void 0!==o.createFiles&&"undefined"!==o.createFiles&&o.createFiles.length>0&&(s=!0,n.showTaoTaiLieuKetQua=!0),o.hasOwnProperty("eSignature")&&o.eSignature&&(s=!0,n.showKyPheDuyetTaiLieu=!0),o.hasOwnProperty("returnFiles")&&null!==o.returnFiles&&void 0!==o.returnFiles&&"undefined"!==o.returnFiles&&o.returnFiles.length>0&&(s=!0,n.showTraKetQua=!0,n.returnFiles=o.returnFiles),o.hasOwnProperty("payment")&&null!==o.payment&&void 0!==o.payment&&"undefined"!==o.payment&&o.payment.requestPayment>0)if(2===o.payment.requestPayment||"2"===o.payment.requestPayment){s=!0;var r={dossierId:n.dossierId};n.$store.dispatch("loadDossierPayments",r).then(function(e){n.paymentProfile=e}).catch(function(e){})}else s=!0,n.showThuPhi=!0,n.payments=o.payment,n.viaPortalDetail=e.viaPostal;o.hasOwnProperty("overdue")&&(s=!0),o.hasOwnProperty("betimes")&&(s=!0)}if(s){var c={activeTab:"tabs-1",btnIndex:a};n.$router.push({path:"/danh-sach-ho-so/"+n.index+"/chi-tiet-ho-so/"+e["dossierId"],query:c})}else n.processAction(e,t,o,i,!0)},processPullBtnDetail:function(e,t,o,i){var a=this;if(1===t["enable"]||"special"===t["autoEvent"]){a.itemAction=t;var n={dossierId:e.dossierId,actionId:t.processActionId};a.dossierId=e.dossierId,a.loadingActionProcess=!0,a.$store.dispatch("processPullBtnDetail",n).then(function(n){a.processPullBtnDetailRouter(e,t,n,o,i)})}},goBack:function(){window.history.back()},viewDetail:function(e,t){var o=this;console.log("permission: ",e.permission),null!==e.permission&&""!==e.permission&&o.$router.push("/danh-sach-ho-so/"+this.index+"/chi-tiet-ho-so/"+e["dossierId"])},keywordEventChange:function(e){var t=this;for(var o in t.selectMultiplePage=[],console.log("keywordEventChange",e),t.advObjectSearch={},e)if("string"===typeof e[o]&&null!==e[o]&&void 0!==e[o]&&"undefined"!==e[o])if(e[o].startsWith("keyword:")||e[o].startsWith("year_month:")||e[o].startsWith("top:")||e[o].startsWith("status:")||e[o].startsWith("substatus:")||e[o].startsWith("agency:")||e[o].startsWith("service:")||e[o].startsWith("domain:")||e[o].startsWith("register:")||(t.advObjectSearch["keyword"]=e[o]),e[o].startsWith("keyword:"))t.advObjectSearch["keyword"]=e[o].replace("keyword:","");else for(var i in t.advSearchItems)e[o].startsWith(t.advSearchItems[i].spec+":")&&(t.advObjectSearch[t.advSearchItems[i].spec]=e[o].replace(t.advSearchItems[i].spec+":",""));else{var a=e[o].value;t.advObjectSearch[e[o].spec]=a.replace(e[o].spec+":","")}for(var n in t.advSearchItems=[],t.advObjectSearch)if(t.advObjectSearch.hasOwnProperty(n)){var s=t.advObjectSearch[n];if("string"===typeof s&&null!==s&&void 0!==s&&""!==s)if("keyword"===n)t.advSearchItems.push({spec:n,value:n+":"+s,text:n+":"+s,index:-1});else{var r=-2;for(var c in t.advSearchTools)if(t.advSearchTools[c].spec===n){r=t.advSearchTools[c].index;break}t.advSearchItems.push({spec:n,value:n+":"+s,text:n+":"+s,index:r})}else"string"!==typeof s&&null!==s&&void 0!==s&&""!==s&&t.advSearchItems.push({spec:n,value:n+":"+s.value,text:n+":"+s.value,index:n+":"+s.index})}for(var l in t.advSearchTools)t.advSearchTools[l].display=!1,t.advSearchTools[l].disabled=!1,null!==t.advObjectSearch[t.advSearchTools[l].spec]&&void 0!==t.advObjectSearch[t.advSearchTools[l].spec]&&""!==t.advObjectSearch[t.advSearchTools[l].spec]&&(t.advSearchTools[l].display=!0,t.advSearchTools[l].disabled=!0);console.log("vm.advSearchItems",t.advSearchItems),t.doRedirectFilter()},selectedAdvFilter:function(e){var t=this;t.advSearchTools[e.index].display=!0,t.advSearchTools[e.index].disabled=!0;var o=!1;for(var i in t.advSearchItems)if(t.advSearchItems[i].index===e.index){o=!0;break}o||t.advSearchItems.push({spec:t.advSearchTools[e.index].spec,value:t.advSearchTools[e.index].spec+":__",text:t.advSearchTools[e.index].spec+":__",index:e.index})},showAdvFilter:function(){var e=this;e.menusss=!e.menusss,e.$store.dispatch("getStatusLists").then(function(t){e.itemFilterSupport.statusLists=t;var o={itemCode:"deleted",itemName:"Đã xóa"};e.getUser("Administrator_data")&&e.itemFilterSupport.statusLists.push(o)});var t={itemCode:""};e.$store.dispatch("getSubstatusLists",t).then(function(t){e.itemFilterSupport.substatusLists=t}),e.$store.dispatch("getAgencyLists").then(function(t){e.itemFilterSupport.agencyLists=t}),e.$store.dispatch("getServiceLists").then(function(t){e.itemFilterSupport.serviceLists=t}),e.$store.dispatch("getDomainLists").then(function(t){e.itemFilterSupport.domainLists=t})},changeAdvFilterData:function(e,t,o){var i=this;if(console.log("data change advSearch",e,t,o),"status"===t){var a={itemCode:e};i.$store.dispatch("getSubstatusLists",a).then(function(e){i.itemFilterSupport.substatusLists=e})}var n=e;for(var s in"year"===t?(i.itemFilterSupport.year=e,n=i.itemFilterSupport.year+"_"+i.itemFilterSupport.month,t="year_month"):"month"===t?(i.itemFilterSupport.month=e,n=i.itemFilterSupport.year+"_"+i.itemFilterSupport.month,t="year_month"):i.itemFilterSupport[t]=e,i.advSearchItems)if(console.log("adv Search index",i.advSearchItems[s].index),i.advSearchItems[s].index===o){console.log("vm.itemFilterSupport2",i.itemFilterSupport),i.advSearchItems[s].value=t+":"+n,i.advSearchItems[s].text=t+":"+n;break}i.doRedirectFilter()},doRedirectFilter:function(){var e=this;e.selectMultiplePage=[];var t=e.$router.history.current,o=t.query,i="?";for(var a in o)""!==o[a]&&"undefined"!==o[a]&&void 0!==o[a]&&"top"!==a&&"status"!==a&&"substatus"!==a&&"agency"!==a&&"service"!==a&&"domain"!==a&&"register"!==a&&"year"!==a&&"month"!==a&&"adv_renew"!==a&&"keyword"!==a&&(i+=a+"="+o[a]+"&");for(var n in e.advSearchItems){var s=e.advSearchItems[n];if("year_month"===s.spec){var r=s.text.replace(s.spec+":",""),c=r.split("_"),l=Object(O["a"])(c,2),d=l[0],_=l[1];i+="year="+d+"&month="+_+"&"}else console.log("currentItemFilter.spec",s.text.replace(s.spec+":","")),i+=s.spec+"="+s.text.replace(s.spec+":","")+"&"}i+="adv_renew="+Math.floor(100*Math.random())+1,i=i.replace(/=__/g,"="),e.$router.push({path:t.path+i})},changeAdvFilterDataChips:function(e){var t=this,o=-2;for(var i in t.advSearchTools)"delay"===e.key||"overdue"===e.key||"coming"===e.key?"top"===t.advSearchTools[i]["spec"]&&(o=t.advSearchTools[i]["index"],t.advSearchTools[i].display=!0,t.advSearchTools[i].disabled=!0):"status"===t.advSearchTools[i]["spec"]&&(o=t.advSearchTools[i]["index"],t.advSearchTools[i].display=!0,t.advSearchTools[i].disabled=!0);var a="";a="delay"===e.key||"overdue"===e.key||"coming"===e.key?"top":"status";var n=!0;for(var s in t.advSearchItems)if("status"===t.advSearchItems[s]["spec"]){if("delay"!==e.key&&"overdue"!==e.key&&"coming"!==e.key){t.advSearchItems[s].value="status:"+e.key,t.advSearchItems[s].text="status:"+e.key,n=!1;break}}else if("top"===t.advSearchItems[s]["spec"]&&("delay"===e.key||"overdue"===e.key||"coming"===e.key)){t.advSearchItems[s].value="top:"+e.key,t.advSearchItems[s].text="top:"+e.key,n=!1;break}n&&t.advSearchItems.push({spec:a,value:a+":"+e.key,text:a+":"+e.key,index:o}),t.doRedirectFilter()},validate:function(){return!0},callback:function(e){e?alert(e):alert("please check you are not robot")}}},be=Pe,xe=o("12b2"),Ee=o("8e36"),Ie=Object(d["a"])(be,Te,Se,!1,null,null,null),Ae=Ie.exports;u()(Ie,{VAutocomplete:J["a"],VAvatar:X["a"],VBtn:m["a"],VCard:Z["a"],VCardActions:ee["a"],VCardText:ee["b"],VCardTitle:xe["a"],VCheckbox:te["a"],VChip:oe["a"],VDataTable:ae["a"],VDialog:ne["a"],VFlex:re["a"],VForm:ce["a"],VIcon:f["a"],VLayout:le["a"],VList:v["a"],VListTile:C["a"],VListTileTitle:T["c"],VMenu:de["a"],VProgressCircular:P["a"],VProgressLinear:Ee["a"],VSpacer:he["a"],VTextField:me["a"],VTooltip:ye["a"]});var Oe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-form",{ref:"formTiepNhanHoSo",attrs:{"lazy-validation":""},model:{value:e.validTNHS,callback:function(t){e.validTNHS=t},expression:"validTNHS"}},["version_1.0"===e.formTemplate?o("div",[o("div",{staticClass:"row-header"},[o("div",{staticClass:"background-triangle-big"},["UPDATE"===e.formCode?o("span",[e._v("SỬA HỒ SƠ")]):"COPY"===e.formCode?o("span",[e._v("SAO CHÉP HỒ SƠ")]):e.isOffLine?o("span",[e._v("NỘP HỒ SƠ TRỰC TUYẾN")]):"NEW_GROUP"===e.formCode?o("span",[e._v("THÊM NHÓM HỒ SƠ")]):o("span",[e._v("THÊM MỚI HỒ SƠ")])]),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:e.thongTinChiTietHoSo.serviceName}},[e._v("\n          "+e._s(e.thongTinChiTietHoSo.serviceName)+"\n        ")]),o("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[o("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:e.goBack}},[o("v-icon",{attrs:{size:"18"}},[e._v("reply")]),e._v("  \n            Quay lại\n          ")],1)],1)])]),1!==e.originality&&"NEW_GROUP"!==e.formCode?o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("thong-tin-chung",{ref:"thongtinchunghoso"})],1)],1)],1):e._e(),1===e.originality?o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("\n            HƯỚNG DẪN      \n          ")]),o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm12:""}},[o("div",{staticClass:"ml-3 mr-3 pt-1",domProps:{innerHTML:e._s(e.thongTinChiTietHoSo.dossierNote)}})])],1)],1)],1)],1):e._e(),o("thong-tin-chu-ho-so",{ref:"thongtinchuhoso",attrs:{showApplicant:"NEW_GROUP"===e.formCode,showDelegate:!1}}),1!==e.originality?o("div",[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),"NEW_GROUP"===e.formCode?o("span",[e._v("Tên nhóm hồ sơ")]):o("span",[e._v("Tên hồ sơ")]),e._v("\n                \n          ")]),o("div",[o("v-card",[o("v-card-text",[o("v-textarea",{attrs:{rows:2,box:"",label:"NEW_GROUP"===e.formCode?"Nhập tên nhóm hồ sơ":"Nhập tên hồ sơ"},model:{value:e.briefNote,callback:function(t){e.briefNote=t},expression:"briefNote"}})],1)],1)],1)])],1)],1):e._e(),o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),"NEW_GROUP"===e.formCode?o("span",[e._v("Thành phần hồ sơ dùng chung")]):o("span",[e._v("Thành phần hồ sơ")]),e._v("\n                \n            "),e.stateEditSample||1===e.originality?1!==e.originality?o("v-text-field",{staticClass:"px-0 py-0",staticStyle:{width:"90px","max-width":"90px"},attrs:{type:"number"},model:{value:e.thongTinChiTietHoSo.sampleCount,callback:function(t){e.$set(e.thongTinChiTietHoSo,"sampleCount",t)},expression:"thongTinChiTietHoSo.sampleCount"}}):e._e():o("span",[e._v("("+e._s(0===e.thongTinChiTietHoSo.sampleCount?"?":e.thongTinChiTietHoSo.sampleCount)+" bộ hồ sơ)")]),e._v("  \n            "),e.stateEditSample||1===e.originality?1!==e.originality?o("v-icon",{staticStyle:{cursor:"pointer"},attrs:{size:"16",color:"primary"},on:{click:function(t){t.stopPropagation(),e.stateEditSample=!e.stateEditSample}}},[e._v("done")]):e._e():o("v-icon",{staticStyle:{cursor:"pointer"},attrs:{size:"16",color:"primary"},on:{click:function(t){t.stopPropagation(),e.stateEditSample=!e.stateEditSample}}},[e._v("edit")])],1),o("thanh-phan-ho-so",{ref:"thanhphanhoso",attrs:{onlyView:"NEW_GROUP"===e.formCode,id:"nm",partTypes:"NEW_GROUP"===e.formCode?e.inputTypesGroup:e.inputTypes}})],1)],1)],1),0!==e.viaPortalDetail?o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"2"}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("Dịch vụ chuyển phát kết quả")]),o("dich-vu-chuyen-phat-ket-qua",{ref:"dichvuchuyenphatketqua",on:{changeViapostal:e.changeViapostal}})],1)],1)],1):e._e(),o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"2"}},[e.showThuPhi?o("thu-phi",{attrs:{detailDossier:e.thongTinChiTietHoSo,viaPortal:e.viaPortalDetail},model:{value:e.payments,callback:function(t){e.payments=t},expression:"payments"}}):e._e()],1)],1)],1),o("v-tabs",{staticClass:"mb-4",attrs:{"icons-and-text":"",centered:""}},[o("v-tabs-slider",{attrs:{color:"primary"}}),"NEW_GROUP"===e.formCode&&1!==e.originality&&e.tiepNhanState?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-2"},on:{click:function(t){e.tiepNhanNhomHoSo()}}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("save")]),e._v("   \n          "),o("span",[e._v("Tạo nhóm")]),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),"NEW_GROUP"!==e.formCode&&1!==e.originality&&e.tiepNhanState?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-2"},on:{click:function(t){e.tiepNhanHoSo()}}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("save")]),e._v("   \n          "),"UPDATE"===e.formCode?o("span",[e._v("Lưu hồ sơ")]):o("span",[e._v("Tiếp nhận")]),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),1!==e.originality&&"UPDATE"!==e.formCode&&"COPY"!==e.formCode&&"NEW_GROUP"!==e.formCode&&e.tiepNhanState?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-4"},on:{click:function(t){e.tiepNhanHoSo("add")}}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("note_add")]),e._v("   \n          "),o("span",[e._v("Tiếp nhận và thêm mới")]),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),1===e.originality?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-3"},on:{click:e.luuHoSo}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("save")]),e._v("  \n          Lưu\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-5"},on:{click:e.goBack}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"18"}},[e._v("reply")]),e._v("  \n          Quay lại\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1):e._e(),"version_2.0"===e.formTemplate?o("div",[o("div",{staticStyle:{display:"none"}},[o("input",{attrs:{id:"validate_required",type:"text"},domProps:{value:!0}}),o("input",{attrs:{id:"serviceCode_hidden",type:"text"},domProps:{value:e.serviceCode_hidden}}),o("input",{attrs:{id:"serviceName_hidden",type:"text"},domProps:{value:e.serviceName_hidden}}),o("input",{attrs:{id:"govAgencyCode_hidden",type:"text"},domProps:{value:e.govAgencyCode_hidden}}),o("input",{attrs:{id:"dossierTemplateNo_hidden",type:"text"},domProps:{value:e.dossierTemplateNo_hidden}}),o("input",{attrs:{id:"eformCode_hidden",type:"text"},domProps:{value:e.eformCode_hidden}})]),o("div",{staticClass:"row-header"},[o("div",{staticClass:"background-triangle-big"},["UPDATE"===e.formCode?o("span",[e._v("SỬA HỒ SƠ")]):"COPY"===e.formCode?o("span",[e._v("SAO CHÉP HỒ SƠ")]):e.isOffLine?o("span",[e._v("NỘP HỒ SƠ TRỰC TUYẾN")]):o("span",[e._v("THÊM MỚI HỒ SƠ")])]),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:e.templateName}},[e._v("\n          "+e._s(e.templateName)+"\n        ")]),o("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[o("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:e.goBack}},[o("v-icon",{attrs:{size:"18"}},[e._v("reply")]),e._v("  \n            Quay lại\n          ")],1)],1)])]),e.loadingForm?o("div",{staticClass:"text-xs-center mt-5"},[o("v-progress-circular",{attrs:{size:50,color:"#dedede",indeterminate:""}})],1):o("div",[o("v-card",{attrs:{flat:"",color:"#fff"}},[o("div",{staticClass:"mb-5 pt-0",attrs:{id:"formAlpacaNewTemplate"}})]),o("v-tabs",{staticClass:"mb-4",attrs:{"icons-and-text":"",centered:""}},[o("v-tabs-slider",{attrs:{color:"primary"}}),1!==e.originality&&e.tiepNhanState?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-2"},on:{click:function(t){e.tiepNhanHoSoNewTemplate()}}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("save")]),e._v("   \n            "),"UPDATE"===e.formCode?o("span",[e._v("Lưu hồ sơ")]):o("span",[e._v("Tiếp nhận")]),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),1===e.originality?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-3"},on:{click:e.luuHoSo}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("save")]),e._v("  \n            Lưu\n            "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-5"},on:{click:e.goBack}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"18"}},[e._v("reply")]),e._v("  \n            Quay lại\n            "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)]):e._e()])},Ne=[],we=o("9f67"),ke=we["a"],Fe=o("cd55"),Me=o("49e2"),Le=o("71a3"),He=o("fe57"),Ue=o("9a96"),Re=Object(d["a"])(ke,Oe,Ne,!1,null,null,null),Be=Re.exports;u()(Re,{VBtn:m["a"],VCard:Z["a"],VCardText:ee["b"],VExpansionPanel:Fe["a"],VExpansionPanelContent:Me["a"],VFlex:re["a"],VForm:ce["a"],VIcon:f["a"],VLayout:le["a"],VProgressCircular:P["a"],VTab:Le["a"],VTabs:He["a"],VTabsSlider:Ue["a"],VTextField:me["a"],VTextarea:ge["a"]});var Ve=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-form",{ref:"formTiepNhanHoSo",attrs:{"lazy-validation":""},model:{value:e.validTNHS,callback:function(t){e.validTNHS=t},expression:"validTNHS"}},[o("div",{staticClass:"row-header"},[o("div",{staticClass:"background-triangle-big"},[o("span",[e._v("THÔNG TIN NHÓM HỒ SƠ")])]),o("div",{staticClass:"layout wrap header_tools row-blue"},[o("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:e.thongTinNhomHoSo.serviceName}},[e._v("\n          "+e._s(e.thongTinNhomHoSo.serviceName)+"\n        ")])])]),e.activeAddDossierIntoGroup?e._e():o("div",[o("v-layout",{staticStyle:{background:"#fff","border-bottom":"1px solid #dedede"},attrs:{wrap:""}},[o("v-flex",{staticClass:"my-2",attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-header pt-2"},[e._v("Tên nhóm hồ sơ: ")])],1),o("v-flex",{staticClass:"my-2 pr-3",attrs:{xs12:"",sm10:""}},[o("v-text-field",{staticClass:"mt-1",model:{value:e.thongTinNhomHoSo.dossierName,callback:function(t){e.$set(e.thongTinNhomHoSo,"dossierName",t)},expression:"thongTinNhomHoSo.dossierName"}})],1)],1),o("thong-tin-chu-ho-so",{ref:"thongtinnguoinophoso",attrs:{showApplicant:!0,showDelegate:!1}}),o("div",{staticStyle:{position:"relative","border-top":"1px solid #dedede"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:0}},[o("v-expansion-panel-content",[o("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("\n              Thành phần hồ sơ theo nhóm    \n            ")]),o("thanh-phan-ho-so-1",{ref:"thanhphanhoso1",attrs:{onlyView:!1,id:"nm",partTypes:e.inputTypes}})],1)],1)],1),o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{key:1},[o("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("\n              Kết quả xử lý theo nhóm    \n            ")]),o("thanh-phan-ho-so-2",{ref:"thanhphanhoso2",attrs:{onlyView:!0,id:"nm",partTypes:e.outputTypesGroup}})],1)],1)],1),o("div",{staticStyle:{position:"relative","border-bottom":"1px solid #dedede"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{key:1},[o("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("\n              Hồ sơ trong nhóm    \n            ")]),e.dossiersIntoGroupRender.length>0?o("div",{staticClass:"mb-3"},[o("v-layout",{staticClass:"my-2",attrs:{wrap:""}},[o("v-flex",{staticStyle:{width:"120px"}},[o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Bước xử lý: ")])],1),o("v-flex",{staticClass:"pr-3",staticStyle:{width:"calc(100% - 120px)"}},[o("v-select",{attrs:{items:e.stepList,"item-text":"stepName","item-value":"stepCode","return-object":"",clearable:""},on:{change:e.changeStep},model:{value:e.stepSelected,callback:function(t){e.stepSelected=t},expression:"stepSelected"}})],1)],1),o("div",{staticClass:"btn_wrap_actions my-2 mr-2"},e._l(e.btnDynamics,function(t,i){return o("v-btn",{key:i,attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(o){e.btnActionEvent(t,i)}}},[e._v("\n                  "+e._s(t.title)+e._s(t.tiltle)+"\n                  "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])}),1),o("v-data-table",{staticClass:"table-landing table-bordered",attrs:{"select-all":"",headers:e.headers,items:e.dossiersIntoGroupRender,pagination:e.pagination,"hide-actions":"","item-key":"dossierId"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"headers",fn:function(t){return[o("tr",[o("th",{staticClass:"v_data_table_check_all",staticStyle:{"padding-left":"14px !important"},attrs:{width:"32px"}},[o("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(t){return e.toggleAll(t)}}})],1),e._l(e.headers,function(t){return o("th",{key:t.text,class:t["class"]?t["class"]:"",attrs:{width:t["width"]?t["width"]+"px":""}},[o("v-tooltip",{attrs:{bottom:""}},[o("span",{attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(t.text))]),o("span",[e._v(e._s(t.text))])])],1)})],2)]}},{key:"items",fn:function(t){return[o("tr",{staticStyle:{cursor:"pointer"}},[o("td",{staticClass:"text-xs-center pl-3",staticStyle:{height:"40px !important"},attrs:{width:"32px"}},[o("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:t.selected,callback:function(o){e.$set(t,"selected",o)},expression:"props.selected"}})],1),o("td",{staticClass:"text-xs-center",staticStyle:{height:"40px !important"},attrs:{width:"50px"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[o("span",[e._v(e._s(e.pagination.page*e.pagination.rowsPerPage-e.pagination.rowsPerPage+t.index+1))])]),o("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"250px"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n                      "+e._s(t.item.dossierNo)+"\n                    ")]),o("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n                      "+e._s(t.item.applicantName)+"\n                    ")]),o("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"200px"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n                      "+e._s(t.item.dossierSubStatusText?t.item.dossierSubStatusText:t.item.dossierStatusText)+"\n                    ")])])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),e.dossiersIntoGroupRender.length>10?o("div",{staticClass:"text-xs-center layout wrap mt-2 pr-1",staticStyle:{position:"relative"}},[o("div",{staticClass:"flex pagging-table px-2"},[o("tiny-pagination",{attrs:{total:e.dossiersIntoGroupRender.length,currentLimit:10,page:e.pagination.page,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingData}})],1)]):e._e()],1):o("div",{staticClass:"pl-4 py-2"},[e._v("Chưa có hồ sơ nào")]),o("v-flex",{staticClass:"text-right mb-3 mr-2",attrs:{xs12:""}},[o("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"dossierImport"},on:{change:function(t){e.uploadfileDossierImport(t)}}}),o("v-btn",{staticClass:"mx-0 my-0 mr-2",staticStyle:{height:"36px !important"},attrs:{color:"primary"},on:{click:e.createDossierIntoGroup}},[o("v-icon",{attrs:{size:"20"}},[e._v("add")]),e._v("   \n                "),o("span",[e._v("Thêm hồ sơ vào nhóm")])],1),o("v-btn",{staticClass:"mx-0 my-0 mr-1",staticStyle:{height:"36px !important"},attrs:{color:"primary"},on:{click:e.importIntoGroup}},[o("v-icon",{attrs:{size:"20"}},[e._v("cloud_upload")]),e._v("   \n                "),o("span",[e._v("Import hồ sơ vào nhóm")])],1)],1)],1)],1)],1)],1),e.activeAddDossierIntoGroup?o("div",[e.activeAddDossierIntoGroup?o("thong-tin-chu-ho-so",{ref:"thongtinchuhoso",attrs:{showApplicant:!1,showDelegate:!0}}):e._e(),e.activeAddDossierIntoGroup?o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:0}},[o("v-expansion-panel-content",[o("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("\n              Thành phần hồ sơ     \n            ")]),o("thanh-phan-ho-so",{ref:"thanhphanhoso",attrs:{onlyView:!1,id:"nm",partTypes:e.inputTypesIntoGroup}})],1)],1)],1):e._e(),0!==e.viaPortalDetail?o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:0}},[o("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"2"}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("Dịch vụ chuyển phát kết quả")]),o("dich-vu-chuyen-phat-ket-qua",{ref:"dichvuchuyenphatketqua",on:{changeViapostal:e.changeViapostal}})],1)],1)],1):e._e(),o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"2"}},[e.showThuPhi?o("thu-phi",{attrs:{viaPortal:e.viaPortalDetail},model:{value:e.payments,callback:function(t){e.payments=t},expression:"payments"}}):e._e()],1)],1)],1)],1):e._e(),e.activeAddDossierIntoGroup||e.activeAddGroup?o("v-tabs",{staticClass:"mb-0 mt-4",attrs:{"icons-and-text":"",centered:""}},[e.activeAddGroup?o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-1"},on:{click:function(t){e.putGroupDossier()}}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("save")]),e._v("   \n          "),o("span",[e._v("Cập nhật")]),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1):e._e(),e.activeAddGroup?e._e():o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-1"},on:{click:function(t){e.tiepNhanHoSo()}}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("save")]),e._v("   \n          "),o("span",[e._v("Tiếp nhận hồ sơ")]),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1),e.activeAddGroup?e._e():o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-2"},on:{click:function(t){e.tiepNhanHoSo("add")}}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"20"}},[e._v("note_add")]),e._v("   \n          "),o("span",[e._v("Tiếp nhận và thêm mới")]),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1),o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-2"},on:{click:e.goBack}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"18"}},[e._v("reply")]),e._v("  \n          Quay lại\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1):e._e()],1),o("v-dialog",{attrs:{"max-width":"700",transition:"fade-transition"},model:{value:e.dialogImportDosier,callback:function(t){e.dialogImportDosier=t},expression:"dialogImportDosier"}},[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("Import hồ sơ")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogImportDosier=!1}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",{staticClass:"pt-0 pb-0 px-0"},[o("v-flex",{staticClass:"text-xs-center"},[o("v-progress-circular",{staticClass:"my-2",attrs:{rotate:-90,size:70,width:10,value:e.valueProgress,color:"primary"}},[o("span",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[e._v(e._s(e.countDossierProgress))])]),o("div",{staticClass:"pb-0",staticStyle:{margin:"0 auto"}},[o("v-card",{staticClass:"py-0"},[o("span",{staticStyle:{color:"green"}},[e._v("Thành công: "+e._s(e.countDossierSuccess)+" hồ sơ")]),o("p",{staticStyle:{color:"red"}},[e._v("Lỗi: "+e._s(e.dossierError.length)+" hồ sơ")])])],1)],1),e.dossierError.length&&!e.loadingImportDossier?o("div",{staticClass:"px-2",staticStyle:{margin:"0 auto"}},[o("span",{staticStyle:{"font-size":"1.2em","font-weight":"bold"}},[e._v("Danh sách hồ sơ bị lỗi:")]),o("v-data-table",{staticClass:"table-landing table-bordered mt-2",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:e.headers,items:e.dossierError,"hide-actions":"","item-key":"dossierId"},scopedSlots:e._u([{key:"items",fn:function(t){return[o("tr",{staticStyle:{cursor:"pointer"}},[o("td",{staticClass:"text-xs-center",attrs:{width:""}},[o("span",[e._v(e._s(t.index+1))])]),o("td",{staticClass:"text-xs-left",attrs:{width:""}},[e._v("\n                  "+e._s(t.item.applicantName)+"\n                ")]),o("td",{staticClass:"text-xs-left"},[e._v("\n                  "+e._s(t.item.applicantIdNo)+"\n                ")]),o("td",{staticClass:"text-xs-left",attrs:{width:""}},[e._v("\n                  "+e._s(t.item.address)+"\n                ")])])]}}])})],1):e._e()],1),o("v-card-actions",[o("v-spacer"),e.dossierError.length?o("v-btn",{attrs:{color:"primary",loading:e.loadingImportDossier,disabled:e.loadingImportDossier},nativeOn:{click:function(t){e.addDossierAgain()}}},[o("v-icon",[e._v("send")]),e._v(" \n            Thực hiện lại\n            "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1):e._e(),o("v-btn",{staticStyle:{color:"#fff"},attrs:{color:"red",loading:e.loadingImportDossier,disabled:e.loadingImportDossier},nativeOn:{click:function(t){e.dialogImportDosier=!1}}},[o("v-icon",[e._v("reply")]),e._v(" \n          Quay lại\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1),o("v-dialog",{attrs:{"max-width":"1000",transition:"fade-transition"},model:{value:e.dialogSelectDosier,callback:function(t){e.dialogSelectDosier=t},expression:"dialogSelectDosier"}},[o("v-card",{attrs:{flat:""}},[o("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("Chọn hồ sơ đính kèm tài liệu")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.cancelAddFile(t)}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",{staticClass:"pt-0 pb-0 px-0"},[e.dossiersIntoGroupRender.length>0?o("div",{staticClass:"mb-3"},[o("v-layout",{staticClass:"my-2",attrs:{wrap:""}},[o("v-flex",{staticStyle:{width:"120px"}},[o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Bước xử lý: ")])],1),o("v-flex",{staticClass:"pr-3",staticStyle:{width:"calc(100% - 120px)"}},[o("v-select",{attrs:{items:e.stepList,"item-text":"stepName","item-value":"stepCode","return-object":"",clearable:""},on:{change:e.changeStep},model:{value:e.stepSelected,callback:function(t){e.stepSelected=t},expression:"stepSelected"}})],1)],1),o("v-data-table",{staticClass:"table-landing table-bordered",attrs:{"select-all":"",headers:e.headers,items:e.dossiersIntoGroupRender,pagination:e.pagination,"hide-actions":"","item-key":"dossierId"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"headers",fn:function(t){return[o("tr",[o("th",{staticClass:"v_data_table_check_all",staticStyle:{"padding-left":"14px !important"},attrs:{width:"32px"}},[o("v-checkbox",{attrs:{"input-value":t.all,indeterminate:t.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(t){return e.toggleAllSelectDialog(t)}}})],1),e._l(e.headers,function(t){return o("th",{key:t.text,class:t["class"]?t["class"]:"",attrs:{width:t["width"]?t["width"]+"px":""}},[o("v-tooltip",{attrs:{bottom:""}},[o("span",{attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(t.text))]),o("span",[e._v(e._s(t.text))])])],1)})],2)]}},{key:"items",fn:function(t){return[o("tr",{staticStyle:{cursor:"pointer"}},[o("td",{staticClass:"text-xs-center pl-3",staticStyle:{height:"40px !important"},attrs:{width:"32px"}},[o("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:t.selected,callback:function(o){e.$set(t,"selected",o)},expression:"props.selected"}})],1),o("td",{staticClass:"text-xs-center",staticStyle:{height:"40px !important"},attrs:{width:"50px"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[o("span",[e._v(e._s(e.pagination.page*e.pagination.rowsPerPage-e.pagination.rowsPerPage+t.index+1))])]),o("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"250px"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n                  "+e._s(t.item.dossierNo)+"\n                ")]),o("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n                  "+e._s(t.item.applicantName)+"\n                ")]),o("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"200px"},on:{click:function(o){e.viewDetail(t.item,t.index)}}},[e._v("\n                  "+e._s(t.item.dossierSubStatusText?t.item.dossierSubStatusText:t.item.dossierStatusText)+"\n                ")])])]}}]),model:{value:e.selectedAttach,callback:function(t){e.selectedAttach=t},expression:"selectedAttach"}}),e.dossiersIntoGroupRender.length>10?o("div",{staticClass:"text-xs-center layout wrap mt-2 pr-1",staticStyle:{position:"relative"}},[o("div",{staticClass:"flex pagging-table px-2"},[o("tiny-pagination",{attrs:{total:e.dossiersIntoGroupRender.length,currentLimit:10,page:e.pagination.page,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingData}})],1)]):e._e()],1):e._e()]),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){e.addFileToDossier()}}},[o("v-icon",[e._v("send")]),e._v(" \n          Xác nhận\n        ")],1),o("v-btn",{staticStyle:{color:"#fff"},attrs:{color:"red"},nativeOn:{click:function(t){return e.cancelAddFile(t)}}},[o("v-icon",[e._v("close")]),e._v(" \n          Bỏ qua\n        ")],1)],1)],1)],1)],1)},$e=[],Ke=o("5176"),je=o.n(Ke),We=o("bd86"),qe=o("854a"),Ge=o.n(qe),ze=o("1157"),Ye=o.n(ze),Qe=o("826a"),Je=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-card",{attrs:{flat:""}},[e._l(e.dossierTemplateItemsFilter,function(t,i){return o("div",{key:t.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{expand:"",value:e.currentFormView==="formAlpaca"+t.partNo+e.id?[!0]:[!1]}},[o("v-expansion-panel-content",{attrs:{"hide-actions":""}},[o("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(t){e.stateView=!1}},slot:"header"},[o("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:e.checkStyle(t)}},[o("div",{staticClass:"mr-2",staticStyle:{"min-width":"20px",display:"flex"},on:{click:function(o){(!e.onlyView||!t.hasForm)&&e.loadAlpcaFormClick(t)}}},[o("div",{staticClass:"header__tphs",staticStyle:{"min-width":"20px"}},[o("span",{staticClass:"text-bold"},[e._v(e._s(i+1)+".")]),e._v("  ")]),o("div",{staticClass:"header__tphs",staticStyle:{"text-align":"justify"}},[t.partTip&&t.partTip["tip"]?o("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[o("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n                      "+e._s(t.partName)+"\n                      "),t.required?o("span",{staticStyle:{color:"red"}},[e._v("   (*) ")]):e._e()]),t.partTip["tip"]?o("span",[e._v(e._s(t.partTip["tip"]))]):e._e()]):o("span",[e._v("\n                    "+e._s(t.partName)+" "),t.required?o("span",{staticStyle:{color:"red"}},[e._v("   (*) ")]):e._e(),t.hasForm?o("span",{staticStyle:{color:"#004b94"}},[e._v("(Bản khai trực tuyến)")]):e._e()]),e._v("\n                    \n                  "),!t.hasForm&&t.hasFileTemp?o("v-tooltip",{attrs:{top:""}},[o("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(o){o.stopPropagation(),e.downloadFileTemplate(t,i)}},slot:"activator"},[e._v("save_alt")]),o("span",[e._v("Biểu mẫu điền thủ công")])],1):e._e()],1)]),o("div",{staticStyle:{display:"flex"}},[1===e.checkInput&&2===t.fileCheck&&t.stateEditFileCheck?o("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(e){return!!e||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(o){if(!("button"in o)&&e._k(o.keyCode,"enter",13,o.key,"Enter"))return null;e.changeFileComment(t,i)}},model:{value:t.fileComment,callback:function(o){e.$set(t,"fileComment",o)},expression:"item.fileComment"}}):e._e(),1===e.checkInput&&2===t.fileCheck&&t.stateEditFileCheck?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){o.stopPropagation(),e.changeFileComment(t,i)}},slot:"activator"},[o("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[e._v("send")])],1),o("span",[e._v("Gửi")])],1):e._e()],1),t.fileComment&&!t.stateEditFileCheck?o("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[e._v(e._s(t.fileComment))]):e._e(),t.fileComment&&!t.stateEditFileCheck&&1===e.checkInput?o("v-tooltip",{attrs:{top:""}},[o("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.stateEditFileCheck=!t.stateEditFileCheck}},slot:"activator"},[e._v("edit")]),o("span",[e._v("Chỉnh sửa ý kiến")])],1):e._e(),e._l(e.dossierFilesItems,function(i,a){return t.partNo===i.dossierPartNo?o("div",{key:a},[i.eForm?e._e():o("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"0px"}},[o("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile2(i)}}},[0!==i.fileSize?o("v-icon",{staticClass:"mr-1",attrs:{color:e.getDocumentTypeIcon(i.fileType)["color"],size:e.getDocumentTypeIcon(i.fileType)["size"]}},[e._v("\n                      "+e._s(e.getDocumentTypeIcon(i.fileType)["icon"])+"\n                    ")]):e._e(),e._v("\n                    "+e._s(i.displayName)+" - \n                    "),o("i",[e._v(e._s(i.modifiedDate))])],1),e.onlyView||1===e.checkInput?e._e():o("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(t){t.stopPropagation(),e.deleteSingleFile(i,a)}}},[o("v-icon",{staticStyle:{color:"red"}},[e._v("delete_outline")])],1)],1)]):e._e()}),o("div",{staticClass:"mr-3 my-2 py-2",staticStyle:{display:"none","max-height":"250px","overflow-y":"scroll",border:"1px dashed #f3ae75","border-radius":"5px",position:"relative"},attrs:{id:"fileApplicant-"+t.partNo}},[e._l(e.dossierFilesApplicant,function(a,n){return a.dossierTemplateNo===e.thongTinHoSo["dossierTemplateNo"]&&t.partNo===a.dossierPartNo?o("div",{key:n},[a.eForm&&0!==a.fileSize?o("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"3px"}},[o("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[o("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.viewGiayToDaNop(a)}},slot:"activator"},[o("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),e._v("  \n                        "+e._s(a.dossierTemplateNo?a.dossierTemplateNo:a.referenceUid)+"."+e._s(a.fileType)+" - \n                        "),o("i",[e._v(e._s(a.modifiedDate))])]),o("span",[e._v("Bản khai trực tuyến")])]),e.progressUploadPart===a.dossierFileId?o("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e._e(),e.onlyView||e.progressUploadPart?e._e():o("v-tooltip",{staticClass:"ml-2",attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(t){e.attachToDossier(a,i)}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[e._v("cloud_download")])],1)],1),o("span",[e._v("Sử dụng giấy tờ này")])],1)],1):o("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"3px"}},[o("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[o("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.viewGiayToDaNop(a)}},slot:"activator"},[0!==a.fileSize?o("v-icon",{staticStyle:{color:"#0d71bb"}},[e._v("attach_file")]):e._e(),e._v("\n                        "+e._s(a.displayName)+" - \n                        "),o("i",[e._v(e._s(a.modifiedDate))])],1),o("span",[e._v("Đính kèm")])]),e.progressUploadPart===a.dossierFileId?o("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e._e(),e.onlyView||e.progressUploadPart?e._e():o("v-tooltip",{staticClass:"ml-2",attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(t){e.attachToDossier(a,i)}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[e._v("cloud_download")])],1)],1),o("span",[e._v("Sử dụng giấy tờ này")])],1)],1)]):e._e()}),o("v-btn",{staticClass:"mx-0 my-0",staticStyle:{position:"absolute",right:"0px",top:"0px"},attrs:{flat:"",icon:"",color:"red"},on:{click:function(o){o.stopPropagation(),e.showFilesApplicant(t.partNo)}}},[o("v-icon",[e._v("clear")])],1)],2)],2)]),t.hasForm&&!e.onlyView?o("v-card",{attrs:{flat:""}},[o("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[o("v-layout",{attrs:{wrap:""}},[e.stateView?e._e():o("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[o("div",{style:e.pstFixed>e.pstEl&&e.pstFixed<e.endEl+e.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+t.partNo+e.id}},[t["editForm"]&&t.hasForm&&!e.onlyView&&1!==e.checkInput?o("v-btn",{attrs:{color:"primary"},on:{click:function(o){o.stopPropagation(),e.saveAlpacaForm(t,i)}}},[o("v-icon",{attrs:{color:"white"}},[e._v("save")]),e._v(" \n                      Lưu lại\n                    ")],1):e._e(),t["editForm"]&&t.daKhai&&t.hasForm?o("v-btn",{attrs:{color:"primary"},on:{click:function(o){o.stopPropagation(),e.previewFormAlpaca(t,i)}}},[o("v-icon",{attrs:{color:"white"}},[e._v("print")]),e._v(" \n                      Xem\n                    ")],1):e._e(),t["editForm"]||!t.hasForm||e.onlyView?e._e():o("v-btn",{attrs:{color:"primary"},on:{click:function(o){o.stopPropagation(),e.editFormAlpaca(t)}}},[o("v-icon",{attrs:{color:"white"}},[e._v("edit")]),e._v(" \n                      Sửa\n                    ")],1),t.daKhai&&t.hasForm&&!e.onlyView&&1!==e.checkInput?o("v-btn",{attrs:{color:"primary"},on:{click:function(o){o.stopPropagation(),e.deleteSingleFileEform(t,i)}}},[o("v-icon",{attrs:{color:"white"}},[e._v("delete")]),e._v(" \n                      Xóa\n                    ")],1):e._e()],1),t["editForm"]?o("div",{class:{no_acction__event:e.onlyView},attrs:{id:"formAlpaca"+t.partNo+e.id}}):e._e(),t["editForm"]?e._e():o("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"displayPDF"+t.partNo+e.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})])],1)],1)],1):e._e()],1)],1),o("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-layout",{attrs:{row:"",wrap:""}},[1===e.originality||e.onlyView?e._e():o("v-flex",{staticClass:"layout wrap mr-2",staticStyle:{width:"100px"}},[o("v-text-field",{staticClass:"counter-up-down text-xs-center",staticStyle:{width:"100px"},style:e.onlyView?"pointer-events: none":"",attrs:{title:"Số lượng","append-icon":"add","prepend-inner-icon":"remove","clear-icon":"mdi-close-circle",type:"number",solo:"",flat:"",height:"32"},on:{"click:append":function(t){e.increaseCounter(i)},"click:prepend-inner":function(t){e.decreaseCounter(i)},input:function(t){e.changeRecordCount(i)}},model:{value:e.dossierTemplateItems[i]["recordCount"],callback:function(t){e.$set(e.dossierTemplateItems[i],"recordCount",t)},expression:"dossierTemplateItems[index]['recordCount']"}})],1),1===e.originality||1!==t.partType||e.thongTinHoSo.online||1===e.checkInput?e._e():o("v-flex",{staticClass:"layout wrap",staticStyle:{width:"100px"}},[o("v-autocomplete",{style:e.onlyView?"pointer-events: none":"",attrs:{items:e.fileMarkItems},on:{change:function(t){e.changeFileMark(t,i)}},model:{value:e.dossierTemplateItems[i].fileMark,callback:function(t){e.$set(e.dossierTemplateItems[i],"fileMark",t)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===e.checkInput?o("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[o("v-select",{attrs:{items:e.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(t){e.changeFileCheck(t,i)}},model:{value:e.dossierTemplateItems[i].fileCheck,callback:function(t){e.$set(e.dossierTemplateItems[i],"fileCheck",t)},expression:"dossierTemplateItems[index].fileCheck"}})],1):t.fileCheck>0?o("v-flex",{staticClass:"layout wrap",style:{width:"40px","align-items":"center","margin-left":"10px","margin-top":e.thongTinHoSo.online?"10px":"0px"}},[1===t.fileCheck?o("v-tooltip",{attrs:{top:""}},[o("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"24",color:"primary"},slot:"activator"},[e._v("done")]),o("span",[e._v("Đạt")])],1):2===t.fileCheck?o("v-tooltip",{attrs:{top:""}},[o("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"24",color:"primary"},slot:"activator"},[e._v("close")]),o("span",[e._v("Không đạt")])],1):e._e()],1):e._e(),1!==e.checkInput?o("v-flex",{class:{"text-xs-right":e.onlyView},style:{width:e.onlyView?"auto":"120px"}},[t["multiple"]?o("input",{staticStyle:{display:"none"},attrs:{type:"file",multiple:"",id:"file"+t.partNo},on:{change:function(o){e.onUploadSingleFile(o,t,i)}}}):o("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+t.partNo},on:{change:function(o){e.onUploadSingleFile(o,t,i)}}}),3!==t.partType||3!==e.originality||e.onlyView?e._e():o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){e.addFileOther(t)}},slot:"activator"},[o("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[e._v("add")])],1),o("span",[e._v("Thêm giấy tờ khác")])],1),e.progressUploadPart===t.partNo?o("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e._e(),e.progressUploadPart!==t.partNo&&!e.onlyView&t.hasForm?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){o.stopPropagation(),e.loadAlpcaFormClick(t)}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"24",color:"#004b94"}},[e._v("edit")])],1)],1),o("span",[e._v("Khai trực tuyến")])],1):e._e(),e.progressUploadPart!==t.partNo&&e.onlyView&t.hasForm?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-1 my-0",staticStyle:{height:"25px",width:"25px"},attrs:{slot:"activator",fab:"",dark:"",small:"",color:"primary"},on:{click:function(o){e.loadAlpcaFormClick(t)}},slot:"activator"},[o("v-icon",{staticStyle:{"font-size":"14px"}},[e._v("visibility")])],1),o("span",[e._v("Xem")])],1):e._e(),e.progressUploadPart===t.partNo||e.onlyView?e._e():o("v-tooltip",{attrs:{left:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){e.pickFile(t)}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"24",color:"#004b94"}},[e._v("cloud_upload")])],1)],1),t.partTip["extensions"]||t.partTip["maxSize"]?o("span",[e._v("Tải giấy tờ lên (Chấp nhận tải lên các định dạng: "+e._s(t.partTip["extensions"])+". Tối đa "+e._s(t.partTip["maxSize"])+" MB)")]):o("span",[e._v("Tải giấy tờ lên")])],1),e.partNoApplicantHasFile(t.partNo)&&!e.onlyView?o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(o){e.showFilesApplicant(t.partNo)}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"24",color:"orange darken-3"}},[e._v("folder")])],1)],1),o("span",[e._v("Giấy tờ đã nộp")])],1):e._e()],1):e._e()],1)],1)],1)}),e.partTypes.includes(2)||3!==e.originality||e.partTypes.includes(6)||e.partTypes.includes(7)?e._e():o("div",[o("v-card",{attrs:{flat:""}},[o("v-card-text",{staticClass:"py-0 px-3 pl-4",attrs:{flat:""}},[e.onlyView?e._e():o("div",{staticClass:"my-2"},[o("v-textarea",{staticClass:"py-0",attrs:{box:"",rows:"3",label:"Ghi chú"},on:{input:e.changeApplicantNote},model:{value:e.applicantNoteDossier,callback:function(t){e.applicantNoteDossier=t},expression:"applicantNoteDossier"}})],1),e.onlyView&&e.applicantNoteDossier?o("v-text-field",{staticClass:"my-2",attrs:{label:"Ghi chú",readonly:"",box:""},model:{value:e.applicantNoteDossier,callback:function(t){e.applicantNoteDossier=t},expression:"applicantNoteDossier"}}):e._e()],1)],1)],1),o("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:e.dialogAddOtherTemp,callback:function(t){e.dialogAddOtherTemp=t},expression:"dialogAddOtherTemp"}},[o("v-card",[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("Tên giấy tờ")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.cancelDialog(t)}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",{staticClass:"pb-0 pt-4"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[o("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(e){return!!e||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:e.otherDossierTemplate,callback:function(t){e.otherDossierTemplate=t},expression:"otherDossierTemplate"}})],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"red darken-3",flat:"flat",loading:e.loadingAddOther},nativeOn:{click:function(t){return e.cancelDialog(t)}}},[e._v("\n              Quay lại\n              "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])]),o("v-btn",{attrs:{color:"primary",flat:"flat",loading:e.loadingAddOther},nativeOn:{click:function(t){return e.addOtherTemplate(t)}}},[e._v("\n              Đồng ý\n              "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])],1)],1)],1)],1)],2),o("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[o("v-toolbar-title",[e.pdfEform?o("span",[e._v("Bản in đã khai trực tuyến")]):o("span",[e._v("Tài liệu đính kèm")])]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[o("v-icon",[e._v("close")])],1)],1),e.dialogPDFLoading?o("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[o("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),o("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+e.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},Xe=[],Ze=o("5c68"),et=Ze["a"],tt=o("4ca6"),ot=Object(d["a"])(et,Je,Xe,!1,null,null,null),it=ot.exports;u()(ot,{VAutocomplete:J["a"],VBadge:tt["a"],VBtn:m["a"],VCard:Z["a"],VCardActions:ee["a"],VCardText:ee["b"],VDialog:ne["a"],VExpansionPanel:Fe["a"],VExpansionPanelContent:Me["a"],VFlex:re["a"],VForm:ce["a"],VIcon:f["a"],VLayout:le["a"],VProgressCircular:P["a"],VSelect:pe["a"],VSpacer:he["a"],VTextField:me["a"],VTextarea:ge["a"],VToolbar:fe["a"],VToolbarTitle:ve["b"],VTooltip:ye["a"]});var at=o("c199"),nt=o("f374"),st=o("a9a9");Ge.a.options={closeButton:!0,timeOut:"5000"};var rt={props:["index","id","formCode"],components:{"thong-tin-chu-ho-so":Qe["a"],"thanh-phan-ho-so":it,"thanh-phan-ho-so-1":it,"thanh-phan-ho-so-2":it,"thong-tin-chung":at["a"],"thu-phi":nt["a"],"dich-vu-chuyen-phat-ket-qua":st["a"],"tiny-pagination":j["a"]},data:function(){var e;return e={detailGroup:!1,dialogImportDosier:!1,dialogSelectDosier:!1,groupDossierList:[],groupDossierSelected:"",dossiersIntoGroup:[],dossiersIntoGroupRender:[],selected:[],selectedAttach:[],stepList:[],stepSelected:"",btnDynamics:[],processOptionSelected:"",thongTinNhomHoSo:"",validTNHS:!1,groupDossierNameCreate:"",currentDossierIntoGroup:"",dossierId:"",mark:!0,stateEditSample:!1,tiepNhanState:!1,activeAddGroup:!1,thongTinChiTietHoSo:{},payments:{},paymentProfile:{},briefNote:"",receiveDateEdit:"",editableDate:!1,dueDateEdit:"",viaPortalDetail:0,showThuPhi:!1,inputTypes:[6],outputTypesGroup:[7],inputTypesIntoGroup:[1,3,6],outputTypes:[2],sampleCount:0,isMobile:!1,loadingAction:!1,dialogAddGroup:!1,activeAddDossierIntoGroup:!1,headers:[{text:"STT",align:"center",sortable:!1,class:"text-xs-center"},{text:"Mã hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Tên chủ hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Trạng thái",align:"center",sortable:!1,class:"text-xs-center"}],filesGroupDossier:[],countDossierProgress:0},Object(We["a"])(e,"dialogImportDosier",!1),Object(We["a"])(e,"listDossierImport",[]),Object(We["a"])(e,"progressUploadFile",!1),Object(We["a"])(e,"loadingImportDossier",!1),Object(We["a"])(e,"dossierError",[]),Object(We["a"])(e,"dossierSuccess",[]),Object(We["a"])(e,"totalDossier",0),Object(We["a"])(e,"valueProgress",0),Object(We["a"])(e,"countDossierSuccess",0),Object(We["a"])(e,"pagination",{rowsPerPage:10,page:1}),e},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()},dichVuChuyenPhatKetQua:function(){return this.$store.getters.dichVuChuyenPhatKetQua},thongTinChuHoSo:function(){return this.$store.getters.thongTinChuHoSo},filesAdd:function(){return this.$store.getters.getFilesAdd},activeAddFileGroup:function(){return this.$store.getters.activeAddFileGroup}},created:function(){var e=this;e.$nextTick(function(){e.$router.history.current.query;var t=e.id;t&&e.getDetaiGroup(t)})},beforeDestroy:function(){var e=Ye()('meta[name="viewport"]');e.attr("content","initial-scale=1.0, width=device-width"),"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize,{passive:!0})},mounted:function(){var e=this;e.thongTinNhomHoSo&&(e.$refs.thongtinnguoinophoso.initData(e.thongTinNhomHoSo),e.$refs.thanhphanhoso1.initData(e.thongTinNhomHoSo),e.$refs.thanhphanhoso2.initData(e.thongTinNhomHoSo),e.filesGroupDossier=e.$refs.thanhphanhoso1.getFilesGroupDossier(),console.log("fileItems 1",e.filesGroupDossier))},watch:{isMobile:function(e){var t=Ye()('meta[name="viewport"]');e?t.attr("content",""):t.attr("content","initial-scale=1.0, width=device-width")},$route:function(e,t){var o=this,i=(e.query,o.id);i&&o.getDetaiGroup(i)},thongTinNhomHoSo:function(e){var t=this;e&&(t.$refs.thongtinnguoinophoso.initData(e),t.$refs.thanhphanhoso1.initData(e),t.$refs.thanhphanhoso2.initData(e),t.$store.dispatch("loadDossierFiles",e.dossierId).then(function(e){t.filesGroupDossier=e}).catch(function(e){}))},selected:function(e){},activeAddFileGroup:function(e){var t=this;console.log("val activeAddFileGroup",e),t.stepSelected="",t.dialogSelectDosier=e}},methods:{onResize:function(){var e=this,t=window.innerWidth<1024;e.isMobile=t},paggingData:function(e){var t=this;t.pagination.page=e.page},getGroupDossier:function(){var e=this,t=e.$router.history.current.query,o={service:t.serviceCode?t.serviceCode:"",template:t.template_no?t.template_no:"",agency:t.govAgencyCode?t.govAgencyCode:""};e.$store.dispatch("getGroupDossier",o).then(function(t){e.groupDossierList=t})},getDetaiGroup:function(e){var t=this;t.$store.dispatch("getDetailDossier",e).then(function(o){t.thongTinNhomHoSo=o,t.activeAddDossierIntoGroup=!1,t.activeAddGroup=!0,t.groupDossierSelected=o;var i={groupDossierId:e};t.dossiersIntoGroup=[],t.dossiersIntoGroupRender=[],t.$store.dispatch("getDossiersIntoGroup",i).then(function(e){if(t.dossiersIntoGroup=e,t.$store.commit("setSelectDossierGroup",t.dossiersIntoGroup),t.dossiersIntoGroup.length>0){var o=[],i=function(e){0===o.filter(function(o){return String(o["stepCode"])===String(t.dossiersIntoGroup[e]["stepCode"])}).length&&o.push({stepCode:t.dossiersIntoGroup[e]["stepCode"],stepName:t.dossiersIntoGroup[e]["stepName"]})};for(var a in t.dossiersIntoGroup)i(a);t.stepList=o}t.dossiersIntoGroupRender=t.dossiersIntoGroup})})},changeStep:function(){var e=this;setTimeout(function(){e.stepSelected?(e.dossiersIntoGroupRender=e.dossiersIntoGroup.filter(function(t){return String(t["stepCode"])===String(e.stepSelected["stepCode"])}),e.$store.dispatch("pullProcessSteps",e.stepSelected).then(function(t){t.hasOwnProperty("menuGroup")&&t.menuGroup?e.$store.dispatch("getDetailMenuConfig",t).then(function(t){if(t.hasOwnProperty("buttonConfig")&&t.buttonConfig)try{e.btnDynamics=JSON.parse(t["buttonConfig"])["buttons"],e.btnDynamics=e.btnDynamics.filter(function(e){return"ACTIONS"===e["form"]}),e.btnDynamics=e.btnDynamics.filter(function(t){return!t.hasOwnProperty("onlySteps")||t.hasOwnProperty("onlySteps")&&t["onlySteps"].filter(function(t){return String(t)===String(e.stepSelected["stepCode"])})>0})}catch(o){e.btnDynamics=[]}else e.btnDynamics=[]}):e.btnDynamics=[]})):(e.dossiersIntoGroupRender=e.dossiersIntoGroup,e.btnDynamics=[])},200)},btnActionEvent:function(e,t){var o=this;o.selected?o.$store.dispatch("loadActionActive",e).then(function(){o.$store.dispatch("loadDossierSelected",o.selected).then(function(){var t=o.selected.map(function(e){return e.dossierId}).join(","),i=o.$router.history.current.query;i["dossiers"]=t,i["actionActive"]=F()(e),o.$router.push({path:"/danh-sach-ho-so/0/xu-ly-ho-so",query:i})})}):alert("Chọn hồ sơ để thực hiện")},putGroupDossier:function(){var e=this,t=this.$refs.thongtinnguoinophoso?this.$refs.thongtinnguoinophoso.thongTinNguoiNopHoSo:{},o=e.$refs.thongtinnguoinophoso.showValid();if(o["validForm"]){var i=!1;if(o["validApplicant"])i=!0;else{var a=confirm(o["message"]+" Bạn có muốn tiếp tục?");a&&(i=!0)}if(i){var n=je()(e.thongTinNhomHoSo,t);n["dossierId"]=e.thongTinNhomHoSo.dossierId,n["originality"]=e.thongTinNhomHoSo.originality,n["dossierName"]=e.thongTinNhomHoSo.dossierName,console.log("data put groupDossier --\x3e",n),setTimeout(function(){e.$store.dispatch("putDossier",n).then(function(e){Ge.a.clear(),Ge.a.success("Cập nhật thành công")}).catch(function(e){Ge.a.clear(),Ge.a.error("Yêu cầu của bạn thực hiện thất bại.")})},500)}}},createDossierIntoGroup:function(){var e=this;e.$router.history.current.query;e.activeAddGroup=!1,e.activeAddDossierIntoGroup=!0;var t={serviceCode:e.thongTinNhomHoSo.serviceCode,govAgencyCode:e.thongTinNhomHoSo.govAgencyCode,templateNo:e.thongTinNhomHoSo.dossierTemplateNo,originality:e.originality,groupDossierId:e.thongTinNhomHoSo.dossierId,dossierId:""};e.$store.dispatch("postDossier",t).then(function(o){e.currentDossierIntoGroup=o,t.dossierId=o.dossierId,setTimeout(function(){o["editable"]=!1,""===o.dossierStatus?e.$store.dispatch("pullNextactions",o).then(function(t){if(t){var i=t.filter(function(e){return 1100===e.actionCode||"1100"===e.actionCode});e.$store.dispatch("processPullBtnDetail",{dossierId:o.dossierId,actionId:i[0]?i[0].processActionId:""}).then(function(t){o["editable"]=!(!t||!t.receiving)&&t.receiving.editable,o["receivingDuedate"]=t&&t.receiving&&t.receiving.dueDate?t.receiving.dueDate:null,o["receivingDate"]=t&&t.receiving?t.receiving.receiveDate:"",e.editableDate=!(!t||!t.receiving)&&t.receiving.editable,e.dueDateEdit=t&&t.receiving&&t.receiving.dueDate?t.receiving.dueDate:"",e.receiveDateEdit=t&&t.receiving?t.receiving.receiveDate:"",t&&t.payment&&t.payment.requestPayment>0&&(e.showThuPhi=!0,e.payments=t.payment)})}}):e.$refs.thongtinchunghoso&&(console.log("has thong tin chung ho so"),e.$refs.thongtinchunghoso.initData(o)),e.$refs.thongtinchuhoso.initData(o);var t=e.filesGroupDossier.filter(function(e){return 6===e["dossierPartType"]||7===e["dossierPartType"]});if(t.length>0){var i=t.map(function(e){return e.dossierFileId}).toString(),a={dossierIds:o.dossierId,dossierFileId:i};e.$store.dispatch("uploadFileDossierGroup",a).then(function(t){setTimeout(function(){e.$refs.thanhphanhoso.initData(o)},300)})}else e.$refs.thanhphanhoso.initData(o);if(e.viaPortalDetail=o.viaPostal,o.viaPostal>0){var n=o.address?o.address+", "+o.wardName+" - "+o.districtName+" - "+o.cityName:"";"NEW"===e.formCode&&1===e.originality&&(o["postalAddress"]=n,o["postalTelNo"]=e.thongTinChuHoSo["contactTelNo"]),e.$store.commit("setDichVuChuyenPhatKetQua",o)}},300),e.$store.dispatch("postDossierIntoGroup",t).then(function(e){})}).catch(function(e){})},uploadfileDossierImport:function(e){var t=this,o=t.$refs.thanhphanhoso1.dossierTemplateItems;o=o.filter(function(e){return 1===e["partType"]||6===e["partType"]}),t.$store.dispatch("loadDossierFiles",t.thongTinNhomHoSo["dossierId"]).then(function(e){var o=[];for(var i in e)1!==e[i]["dossierPartType"]&&6!==e[i]["dossierPartType"]||o.push(e[i]["dossierFileId"]);t.dossierFiles=o?o.toString():"",t.progressUploadFile=!0;var a={};t.countDossierProgress=0,t.valueProgress=0,t.listDossierImport=[],t.dossierError=[],t.dossierSuccess=[],t.countDossierSuccess=0,a["dossierId"]=t.thongTinNhomHoSo["dossierId"],a["referenceUid"]=t.thongTinNhomHoSo["referenceUid"],a["selector"]="dossierImport",a["partTip"]={tip:"",maxSize:10,extensions:"xlsx,xls"};Ye()("#dossierImport")[0].files[0];t.$store.dispatch("uploadDossierFileImport",a).then(function(e){if(t.progressUploadFile=!1,t.totalDossier=e.total,e.total){var o=confirm("Bạn có chắc chắn thực hiện hành động này?");o&&(t.dialogImportDosier=!0,t.listDossierImport=e.data,console.log(e.data),setTimeout(function(){if(t.listDossierImport.length){t.loadingImportDossier=!0;var e=[];t.listDossierImport.forEach(function(o,i){setTimeout(function(){e.push(t.doCreateDossier(o,i)),e.length===t.listDossierImport.length&&w.a.all(e).then(function(e){t.loadingImportDossier=!1,console.log("dossierSuccess 1123412",t.dossierSuccess);var o={groupDossierId:t.thongTinNhomHoSo.dossierId,dossierId:""},i=[];for(var a in t.dossierSuccess)i.push(t.dossierSuccess[a]["dossierId"]);o["dossierId"]=i.toString(),console.log("dataAddGroup",o),t.$store.dispatch("postDossierIntoGroup",o).then(function(e){0===t.dossierError.length&&(Ge.a.success("Import hồ sơ thành công"),t.getDetaiGroup(t.thongTinNhomHoSo.dossierId),t.dialogImportDosier=!1)})}).catch(function(e){t.loadingImportDossier=!1})},1e3*i)})}},300))}else t.listDossierImport=[],Ge.a.error("Dữ liệu bị lỗi, vui lòng kiểm tra lại!")}).catch(function(e){t.dialogImportDosier=!1,t.progressUploadFile=!1,Ge.a.error("Tải file lỗi, vui lòng thử lại!")})}).catch(function(e){})},importIntoGroup:function(){document.getElementById("dossierImport").value="",document.getElementById("dossierImport").click()},addDossierAgain:function(){var e=this;if(e.countDossierProgress=e.dossierSuccess.length,e.valueProgress=100*e.countDossierProgress/e.totalDossier,console.log("valueProgress++++",e.valueProgress),e.countDossierSuccess=e.dossierSuccess.length,e.dossierError.length){e.loadingImportDossier=!0;var t=[];e.dossierError.forEach(function(o,i){setTimeout(function(){t.push(e.doCreateDossier(o,i)),t.length===e.dossierError.length&&w.a.all(t).then(function(t){e.loadingImportDossier=!1,console.log("dossierSuccess 1",e.dossierSuccess);var o={groupDossierId:e.thongTinNhomHoSo.dossierId,dossierId:""},i=[];for(var a in e.dossierSuccess)i=i.push(e.dossierSuccess[a]["dossierId"]),o["dossierId"]=i.toString();e.$store.dispatch("postDossierIntoGroup",o).then(function(t){0===e.dossierError.length&&(Ge.a.success("Import hồ sơ thành công"),e.getDetaiGroup(e.thongTinNhomHoSo.dossierId),e.dialogImportDosier=!1)})}).catch(function(t){e.loadingImportDossier=!1})},1e3*i)})}},doCreateDossier:function(e,t){var o=this;return new w.a(function(i,a){var n=o,s=o.$refs.thanhphanhoso1.dossierTemplateItems,r={},c=e,l="",d="",_=n.$refs.thongtinnguoinophoso;if(r["serviceCode"]=n.thongTinNhomHoSo["serviceCode"],r["govAgencyCode"]=n.thongTinNhomHoSo["govAgencyCode"],r["dossierTemplateNo"]=n.thongTinNhomHoSo["dossierTemplateNo"],r["originality"]=n.originality,s&&s.length){var u=s.map(function(e){return{partNo:e.partNo,partName:e.partName,fileMark:e.fileMark}});l=F()(u)}else l="";if(r["dossierMarks"]=l,_&&_["thongTinNguoiNopHoSo"]){var p=_["thongTinNguoiNopHoSo"];c=je()(c,p)}r["dossiers"]=c?F()(c):"",r["dossierFiles"]=n.dossierFiles?n.dossierFiles:"",r["payment"]=d?F()(d):"",n.$store.dispatch("importDossier",r).then(function(e){n.countDossierProgress++,n.valueProgress+=100/n.totalDossier,n.listDossierImport[t]["dossierId"]=e["dossierId"],n.listDossierImport[t]["flagError"]=!1,n.countDossierSuccess<n.listDossierImport.length&&n.countDossierSuccess++,n.calDossierErrorSuccess(),i(!0)}).catch(function(e){console.log(e),n.countDossierProgress++,n.valueProgress+=100/n.totalDossier,n.listDossierImport[t]["flagError"]=!0,n.calDossierErrorSuccess(),a(e)})})},calDossierErrorSuccess:function(){var e=this;e.dossierError=e.listDossierImport.filter(function(e){return e["flagError"]}),e.dossierSuccess=e.listDossierImport.filter(function(e){return!e.hasOwnProperty("flagError")||!e["flagError"]})},tiepNhanHoSo:function(e){var t=this;t.$store.commit("setPrintPH",!1);var o=this.$refs.thongtinchuhoso.getThongTinChuHoSo(),i=this.$refs.thongtinchuhoso.getThongTinNguoiNopHoSo(),a=(this.$refs.thanhphanhoso.dossierTemplateItems,t.dichVuChuyenPhatKetQua);console.log("validate TNHS formThongtinchuhoso.validate()",t.$refs.thongtinchuhoso.showValid());var n=t.$refs.thongtinchuhoso.showValid();if(n["validForm"]){var s=!0;if(s){if(t.loadingAction=!0,!t.$refs.thanhphanhoso.validDossierTemplate())return void(t.loadingAction=!1);if(2===a.viaPostal&&!t.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat())return void(t.loadingAction=!1);var r=t.$refs.thanhphanhoso.dossierFilesItems,c=[];r&&r.forEach(function(e,o){e.eForm&&(e["dossierId"]=t.dossierId,c.push(t.$store.dispatch("putAlpacaForm",e)))}),i={sameUser:!1,delegateName:t.thongTinNhomHoSo["delegateName"],delegateCityCode:t.thongTinNhomHoSo["delegateCityCode"],delegateAddress:t.thongTinNhomHoSo["delegateAddress"],delegateDistrictCode:t.thongTinNhomHoSo["delegateDistrictCode"],delegateWardCode:t.thongTinNhomHoSo["delegateWardCode"],delegateEmail:t.thongTinNhomHoSo["delegateEmail"],delegateTelNo:t.thongTinNhomHoSo["delegateTelNo"],delegateIdNo:t.thongTinNhomHoSo["delegateIdNo"]};var l=je()(o,i,a);l["dossierId"]=t.currentDossierIntoGroup.dossierId,l["sampleCount"]=t.currentDossierIntoGroup.sampleCount,l["originality"]=t.originality,t.$store.dispatch("putDossier",l).then(function(o){if(t.loadingAction=!1,"UPDATE"===t.formCode)t.goBack();else{var i=t.$store.getters.loadingInitData,a=i.user.userName?i.user.userName:"",n={};t.showThuPhi&&(n={requestPayment:t.payments["requestPayment"],paymentNote:t.payments["paymentNote"],advanceAmount:Number(t.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(t.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(t.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(t.payments["shipAmount"].toString().replace(/\./g,""))});var s={dueDate:t.editableDate&&l.dueDate?l.dueDate:t.dueDateEdit,receiveDate:t.receiveDateEdit},r={dossierId:t.currentDossierIntoGroup.dossierId,actionCode:1100,actionNote:"",actionUser:a,payload:s,security:"",assignUsers:"",payment:n,createDossiers:""};t.loadingAction=!0,t.$store.dispatch("postAction",r).then(function(o){t.loadingAction=!1,e?t.createDossierIntoGroup():(Ge.a.success("Thêm hồ sơ vào nhóm thành công"),t.getDetaiGroup(t.id),t.activeAddDossierIntoGroup=!1)}).catch(function(e){t.loadingAction=!1})}}).catch(function(e){t.loadingAction=!1,Ge.a.clear(),Ge.a.error("Yêu cầu của bạn thực hiện thất bại.")})}}},changeViapostal:function(e){this.viaPortalDetail=e?2:1},durationText:function(e,t){var o;if(1===e&&t>8){var i,a=Math.floor(t/8)+" ngày";i=t%8!==0?8*(t/8-Math.floor(t/8))+" giờ":"",o="".concat(a," ").concat(i)}else 0===e?o=t+" ngày":1===e&&t<=8&&(o=t+" giờ");return o},viewDetail:function(e,t){var o=this;o.$router.history.current.query;o.$router.push("/danh-sach-ho-so/0/chi-tiet-ho-so/"+e["dossierId"])},addFileToDossier:function(){var e=this,t=e.selectedAttach.map(function(e){return e.dossierId}).toString(),o=e.filesAdd.map(function(e){return e.dossierFileId}).toString(),i={dossierIds:t,dossierFileId:o};e.$store.dispatch("uploadFileDossierGroup",i).then(function(t){Ge.a.success("Đính kèm tài liệu thành công"),e.$store.commit("setActiveAddFileGroup",!1)})},cancelAddFile:function(){var e=this;e.$store.commit("setActiveAddFileGroup",!1)},toggleAll:function(){var e=this;e.selected.length?e.selected=[]:e.selected=e.dossiersIntoGroupRender},toggleAllSelectDialog:function(){var e=this;console.log("toggleAllSelectDialog",e.dossiersIntoGroupRender,e.selectedAttach),e.selectedAttach.length?e.selectedAttach=[]:e.selectedAttach=e.dossiersIntoGroupRender,console.log("toggleAllSelectDialog 2",e.selectedAttach)},goBack:function(){var e=this,t=e.$router.history.current.params,o=e.$router.history.current.query;e.activeAddDossierIntoGroup?(e.activeAddDossierIntoGroup=!1,e.getDetaiGroup(e.id)):e.$router.push({path:"/danh-sach-ho-so/"+t.index,query:o})}}},ct=rt,lt=o("e0c7"),dt=Object(d["a"])(ct,Ve,$e,!1,null,null,null),_t=dt.exports;u()(dt,{VBtn:m["a"],VCard:Z["a"],VCardActions:ee["a"],VCardText:ee["b"],VCheckbox:te["a"],VDataTable:ae["a"],VDialog:ne["a"],VExpansionPanel:Fe["a"],VExpansionPanelContent:Me["a"],VFlex:re["a"],VForm:ce["a"],VIcon:f["a"],VLayout:le["a"],VProgressCircular:P["a"],VSelect:pe["a"],VSpacer:he["a"],VSubheader:lt["a"],VTab:Le["a"],VTabs:He["a"],VTextField:me["a"],VToolbar:fe["a"],VToolbarTitle:ve["b"],VTooltip:ye["a"]});var ut=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-chitiet"},[e.viewScript?o("div",[e.loadingForm?o("div",{staticClass:"text-xs-center mt-5"},[o("v-progress-circular",{attrs:{size:50,color:"#dedede",indeterminate:""}})],1):o("div",[o("v-card",{attrs:{flat:"",color:"#fff"}},[o("div",{staticClass:"mb-5 pt-0",attrs:{id:"formScriptTemplate"}})])],1)]):o("div",[e.loading?o("content-placeholders",{staticClass:"mt-3"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("div",{staticClass:"row-header"},[o("div",{staticClass:"background-triangle-big"},[o("span",[e._v("CHI TIẾT HỒ SƠ")])]),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:e.thongTinChiTietHoSo.serviceName}},[e._v("\n          "+e._s(e.thongTinChiTietHoSo.serviceCode)+" - "+e._s(e.thongTinChiTietHoSo.serviceName)+"\n        ")]),o("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[o("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:e.goBack}},[o("v-icon",{attrs:{size:"18"}},[e._v("reply")]),e._v("  \n            Quay lại\n          ")],1)],1)])]),o("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[o("v-toolbar-title",[e._v(e._s(e.titleDialogPdf))]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[o("v-icon",[e._v("close")])],1)],1),e.dialogPDFLoading?o("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[o("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),o("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),o("thong-tin-co-ban-ho-so",{ref:"thong-tin-co-ban-ho-so",attrs:{detailDossier:e.thongTinChiTietHoSo}}),o("div",[o("v-tabs",{attrs:{"icons-and-text":""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[o("v-tabs-slider",{attrs:{color:"primary"}}),o("v-tab",{key:1,attrs:{href:"#tabs-1"},on:{click:function(t){e.getNextActions()}}},[o("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[3===e.originality?o("span",[e._v("XỬ LÝ HỒ SƠ")]):o("span",[e._v("CHUẨN BỊ HỒ SƠ")])])],1),o("v-tab",{key:2,attrs:{href:"#tabs-2"},on:{click:function(t){e.loadTPHS()}}},[o("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e.thongTinChiTietHoSo.finishDate?o("span",[e._v("THÀNH PHẦN HỒ SƠ VÀ KẾT QUẢ")]):o("span",[e._v("THÀNH PHẦN HỒ SƠ")])])],1),e.paymentDetail?o("v-tab",{key:3,attrs:{href:"#tabs-3"},on:{click:function(t){e.loadPaymentFile()}}},[o("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n            THANH TOÁN\n          ")])],1):e._e(),1!==e.originality&&e.listLienThong.length>0?o("v-tab",{key:4,attrs:{href:"#tabs-4"},on:{click:function(t){e.loadHoSoLienThong()}}},[o("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n            LIÊN THÔNG\n          ")])],1):e._e(),1!==e.originality?o("v-tab",{key:5,attrs:{href:"#tabs-5"},on:{click:function(t){e.loadDossierActions()}}},[o("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n            TIẾN TRÌNH THỤ LÝ\n          ")])],1):e._e(),o("v-tabs-items",{staticStyle:{overflow:"visible!important"},attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[o("v-tab-item",{key:1,attrs:{value:"tabs-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[o("div",{staticClass:"px-4 pt-2"},[e.btnStateVisible&&3===e.originality&&!e.thongTinChiTietHoSo.finishDate?o("div",{staticClass:"px-2 py-2",style:e.filterNextActionEnable(e.btnDossierDynamics)||e.usersNextAction&&Array.isArray(e.usersNextAction)&&e.usersNextAction.length>0?"border:1px solid #4caf50;border-radius: 3px":""},[o("p",{staticClass:"mb-2"},[o("span",[e._v("Chuyển đến bởi: ")]),o("b",[e._v(" "+e._s(e.thongTinChiTietHoSo.lastActionUser))]),e.thongTinChiTietHoSo.lastActionNote&&"null"!==e.thongTinChiTietHoSo.lastActionNote?o("span",[o("span",[e._v(" - Ý kiến: ")]),o("span",{staticStyle:{color:"#0b72ba"}},[e._v(" "+e._s(e.thongTinChiTietHoSo.lastActionNote))])]):e._e()]),o("v-layout",{staticClass:"mb-0",attrs:{wrap:"",xs12:""}},[o("v-flex",{staticStyle:{width:"calc(100% - 110px)","text-align":"justify"}},[o("span",[e._v("Người thực hiện:  ")]),e.usersNextAction&&Array.isArray(e.usersNextAction)&&e.usersNextAction.length>0?o("span",[e._l(e.usersNextAction,function(t,i){return o("span",{key:t.userId},[e._v("\n                         "),o("b",[e._v(e._s(t.userName))]),i!==e.usersNextAction.length-1?o("span",[e._v(",")]):e._e()])}),e.stepOverdueNextAction?o("span",[e._v(" - ")]):e._e(),o("span",{style:e.stepOverdueNextAction&&e.stepOverdueNextAction.indexOf("Quá hạn")<0?"color:green":"color:red"},[e._v("\n                        "+e._s(e.stepOverdueNextAction)+"\n                      ")])],2):e._e()]),e.showReasign&&e.checkPemissionPhanCongLai(e.currentUser)?o("v-flex",{staticClass:"text-xs-right",staticStyle:{width:"100px"},attrs:{id:"reAssign"}},[o("v-btn",{staticClass:"mx-0 my-0 right",staticStyle:{height:"26px"},attrs:{disabled:!1===e.checkPemissionPhanCongLai(e.currentUser)&&String(e.currentUser["userId"])!==String(e.thongTinChiTietHoSo.lastActionUserId),small:"",color:"primary"},on:{click:e.reAsign}},[e._v("\n                      Ủy quyền\n                      ")])],1):e._e()],1)],1):e._e(),e.thongTinChiTietHoSo.finishDate&&e.btnStateVisible?o("div",{staticClass:"px-2 py-2",staticStyle:{border:"1px solid #4caf50"}},[o("p",{staticClass:"mb-2"},[e._v("\n                  Hồ sơ đã hoàn thành quá trình xử lý\n                ")])]):e._e()]),0!==e.checkInput&&e.filterNextActionEnable(e.btnDossierDynamics)?o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{key:1,attrs:{"hide-actions":""}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),2===e.checkInput?o("span",[e._v("Chỉnh sửa thành phần hồ sơ")]):o("span",[e._v("Kiểm tra thành phần hồ sơ")]),e._v("     \n                  ")]),o("thanh-phan-ho-so",{ref:"thanhphanhoso",attrs:{checkInput:e.checkInput,onlyView:2!==e.checkInput,id:"ci",partTypes:e.inputTypes}})],1)],1)],1):e._e(),e.btnStateVisible?o("div",{staticClass:"px-4 py-3",staticStyle:{"border-bottom":"1px solid #dddddd"}},[e._l(e.btnDossierDynamics,function(t,i){return t.enable>0||"special"===t["autoEvent"]&&e.thongTinChiTietHoSo["permission"].indexOf("write")>=0?o("v-btn",{key:i,staticClass:"ml-0 mr-2",class:{deactive__btn:String(e.btnIndex)===String(i)},attrs:{color:"primary",loading:e.loadingAction&&i===e.btnIndex,disabled:e.loadingAction||2===t.enable},nativeOn:{click:function(o){e.processPullBtnDetail(t,i)}}},[e._v("\n                "+e._s(t.actionName)+"\n                "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])]):e._e()}),e._l(e.btnPlugins,function(t,i){return o("v-btn",{key:i,staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:e.loadingPlugin,disabled:e.loadingPlugin},nativeOn:{click:function(o){e.processPullBtnplugin(t,i)}}},[e._v("\n                "+e._s(t.pluginName)+" \n                "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])}),e.detailPreAction&&Number(e.detailPreAction["allowAssignUser"])>2?o("v-btn",{staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){return e.phanCongLai(t)}}},[e._v("\n                Phân công lại\n                "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])]):e._e(),e.btnStepsDynamics.length>0&&e.thongTinChiTietHoSo["permission"].indexOf("write")>=0?o("v-menu",{staticStyle:{display:"inline-block",position:"relative !important"},attrs:{bottom:"","offset-y":""}},[o("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Khác   "),o("v-icon",{attrs:{size:"18"}},[e._v("arrow_drop_down")])],1),o("v-list",e._l(e.btnStepsDynamics,function(t,i){return o("v-list-tile",{key:i,on:{click:function(o){e.btnActionEvent(t,i)}}},[o("v-list-tile-title",[e._v(e._s(t.title))])],1)}),1)],1):e._e()],2):e._e(),e.loadingAction?o("content-placeholders",[o("content-placeholders-img"),o("content-placeholders-heading")],1):e._e(),e.dialogActionProcess&&!e.loadingAction?o("v-layout",{attrs:{wrap:""}},[e.showFormBoSungThongTinNgan?o("form-bo-sung-thong-tin",{ref:"formBoSungThongTinNgan",attrs:{dossier_id:Number(e.id),action_id:Number(e.actionIdCurrent)}}):e._e(),e.showPhanCongNguoiThucHien?o("phan-cong",{ref:"phancong",attrs:{detailDossier:e.thongTinChiTietHoSo,data_uyquyen:e.reAsignUsers,type:e.type_assign},model:{value:e.assign_items,callback:function(t){e.assign_items=t},expression:"assign_items"}}):e._e(),e.showTaoTaiLieuKetQua?o("tai-lieu-ket-qua",{ref:"tailieuketqua",attrs:{detailDossier:e.thongTinChiTietHoSo,createFiles:e.createFiles}}):e._e(),e.showTraKetQua?o("tra-ket-qua",{attrs:{detailDossier:e.thongTinChiTietHoSo,createFiles:e.returnFiles}}):e._e(),e.showThuPhi?o("thu-phi",{attrs:{viaPortal:e.viaPortalDetail,detailDossier:e.thongTinChiTietHoSo},model:{value:e.payments,callback:function(t){e.payments=t},expression:"payments"}}):e._e(),e.showThanhToanDienTu?o("thanh-toan-dien-tu",{ref:"epayment",attrs:{paymentProfile:e.paymentProfile,detailDossier:e.thongTinChiTietHoSo}}):e._e(),e.showKyPheDuyetTaiLieu?o("ky-duyet",{ref:"kypheduyettailieu",style:""===e.dataEsign["signatureType"]?"display:none":"",attrs:{detailDossier:e.thongTinChiTietHoSo,dataEsign:e.dataEsign,filesPdfSignPlugin:e.filesPdfSign}}):e._e(),e.showExtendDateEdit?o("ngay-gia-han",{ref:"ngaygiahan",attrs:{type:e.typeExtendDate,extendDateEdit:e.extendDateEdit}}):e._e(),e.showEditDate?o("ngay-hen-tra",{ref:"ngayhentra",attrs:{dueDateEdit:e.dueDateEdit}}):e._e(),e.showPostalService?o("thong-tin-buu-chinh",{attrs:{postalService:e.thongTinChiTietHoSo}}):e._e(),e.showYkienCanBoThucHien?o("y-kien-can-bo",{ref:"ykiencanbo",attrs:{user_note:e.userNote,configNote:e.configNote}}):e._e(),o("div",{staticClass:"px-4 pt-0 pb-2",staticStyle:{width:"100%","border-bottom":"1px solid #dddddd"}},[e.dialogActionProcess?o("v-btn",{staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:e.loadingActionProcess,disabled:e.loadingActionProcess},nativeOn:{click:function(t){e.processAction(e.dossierItemDialogPick,e.itemDialogPick,e.resultDialogPick,e.indexDialogPick,!1)}}},[o("v-icon",[e._v("save")]),e._v(" \n                  Xác nhận\n                  "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1):e._e()],1)],1):e._e(),e.btnStateVisible?e._e():o("v-alert",{staticClass:"mx-3",attrs:{outline:"",color:e.alertObj.color,icon:e.alertObj.icon,value:!0}},[e._v("\n              "+e._s(e.alertObj.message)+"\n            ")]),e.rollbackable||e.printDocument?o("div",{staticClass:"ml-2 py-2",staticStyle:{width:"100%","border-bottom":"1px solid #dddddd"}},[e.rollbackable?o("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.rollBack()}}},[e._v("Quay lại bước trước")]):e._e(),e.printDocument?o("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.printViewDocument()}}},[e._v("In văn bản hành chính")]):e._e()],1):e._e()],1),o("v-tab-item",{key:2,attrs:{value:"tabs-2","reverse-transition":"fade-transition",transition:"fade-transition"}},[o("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{key:1},[o("div",{staticClass:"text-bold",attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[e._v(" I.")]),e._v("\n                  Tài liệu nộp     \n                  "),0===e.thongTinChiTietHoSo.sampleCount||e.thongTinChiTietHoSo.online?e._e():o("span",[e._v("("+e._s(0===e.thongTinChiTietHoSo.sampleCount?"?":e.thongTinChiTietHoSo.sampleCount)+" bộ hồ sơ)")])]),o("thanh-phan-ho-so",{ref:"thanhphanhoso1",attrs:{onlyView:!0,id:"nm",partTypes:e.inputTypes}})],1)],1),e.stateViewResult?o("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{key:1},[o("div",{staticClass:"text-bold",attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[e._v(" II.")]),e._v("\n                  Kết quả xử lý\n                ")]),o("thanh-phan-ho-so",{ref:"thanhphanhoso2",attrs:{onlyView:!0,id:"kq",partTypes:e.outputTypes},on:{"tp:change-state-view-result":e.changeStateViewResult}})],1)],1):e._e(),e.documents&&e.documents.length>0?o("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{key:1},[o("div",{staticClass:"text-bold",attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[e.stateViewResult?o("span",[e._v("III.")]):o("span",[e._v("II.")])]),e._v("\n                  Văn bản hành chính\n                ")]),e._l(e.documents,function(t,i){return o("div",{key:i,staticStyle:{"border-bottom":"1px solid #dedede"}},[o("v-card",[o("v-layout",{staticClass:"pl-4 pr-2 py-1 align-center row-list-style",attrs:{wrap:""}},[o("v-flex",{attrs:{xs11:""}},[o("span",{staticClass:"text-bold",staticStyle:{position:"absolute"}},[e._v(e._s(i+1)+".")]),o("div",{staticStyle:{"margin-left":"20px"}},[e._v(e._s(t.documentName))])]),o("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",staticStyle:{height:"25px",width:"25px"},attrs:{slot:"activator",fab:"",dark:"",small:"",color:"primary"},on:{click:function(o){e.viewFileDocument(t)}},slot:"activator"},[o("v-icon",{staticStyle:{"font-size":"14px"}},[e._v("visibility")])],1),o("span",[e._v("Xem")])],1)],1)],1)],1)],1)})],2)],1):e._e()],1),o("v-tab-item",{key:3,attrs:{value:"tabs-3","reverse-transition":"fade-transition",transition:"fade-transition"}},[o("v-card",[o("chi-tiet-thanh-toan",{ref:"thongtinthanhtoan",attrs:{payments:e.paymentDetail,dossierDetail:e.thongTinChiTietHoSo}})],1)],1),e.listLienThong.length>0?o("v-tab-item",{key:4,attrs:{value:"tabs-4","reverse-transition":"fade-transition",transition:"fade-transition"}},[o("v-card",[e.listLienThong.length>0?o("ho-so-lien-thong",{attrs:{listLienThong:e.listLienThong,dossierDetail:e.thongTinChiTietHoSo}}):o("v-card-text",[o("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[o("span",[e._v("Không có hồ sơ liên thông")])])],1)],1)],1):e._e(),1!==e.originality?o("v-tab-item",{key:5,attrs:{value:"tabs-5","reverse-transition":"fade-transition",transition:"fade-transition"}},[o("v-flex",{staticStyle:{height:"42px"},attrs:{xs12:""}},[o("v-radio-group",{staticClass:"absolute__btn pt-1",staticStyle:{width:"350px"},attrs:{row:""},on:{change:function(t){e.changeTypeTienTrinh(t)}},model:{value:e.typeTienTrinh,callback:function(t){e.typeTienTrinh=t},expression:"typeTienTrinh"}},[o("v-radio",{attrs:{label:"Xem dạng bảng",value:1}}),o("v-radio",{attrs:{label:"Xem dạng biểu đồ",value:2}})],1)],1),1===e.typeTienTrinh?o("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:e.headers,items:e.dossierActions,"hide-actions":"","no-data-text":"Không có dữ liệu"},scopedSlots:e._u([{key:"headerCell",fn:function(t){return[o("v-tooltip",{attrs:{bottom:""}},[o("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n                    "+e._s(t.header.text)+"\n                  ")]),o("span",[e._v("\n                    "+e._s(t.header.text)+"\n                  ")])])]}},{key:"items",fn:function(t){return[o("td",{staticClass:"text-xs-center"},[e._v(e._s(t.index+1))]),o("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.sequenceRole))]),o("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.sequenceName))]),o("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("getThoiHanQuyDinh")(t.item.durationCount)))]),o("td",{staticClass:"text-xs-left"},[e._v(e._s(e._f("dateTimeView")(t.item.startDate)))]),o("td",{staticClass:"text-xs-left"},e._l(t.item.assignUsers,function(t){return o("div",{key:t.userId},[e._v("\n                    "+e._s(t.userName)+" "),o("br")])}),0),o("td",{staticClass:"text-xs-left"},[e._l(t.item.actions,function(t,i){return o("div",{key:i},[e._v("\n                    "+e._s(e._f("dateTimeView")(t.createDate))+" : "),o("span",{staticStyle:{color:"#0b72ba"}},[e._v(e._s(t.actionName))]),t.actionNote&&"null"!==t.actionNote?o("span",[e._v(" - "),o("i",[e._v(e._s(t.actionNote))])]):e._e(),Array.isArray(t.files)&&t.files.length>0?o("div",e._l(t.files,function(t,i){return o("div",{key:i,attrs:{title:"Tải xuống"}},[t.dossierDocumentId?o("p",{on:{click:function(o){e.downloadFileDocument(t.dossierReferenceUid?t.dossierReferenceUid:"")}}},[o("v-icon",{attrs:{size:"18",color:"#0b72ba"}},[e._v("\n                            get_app\n                          ")]),o("span",{staticStyle:{color:"#0b72ba",cursor:"pointer"}},[e._v("\n                            "+e._s(t.fileName)+"\n                          ")])],1):e._e(),t.dossierFileId?o("p",{on:{click:function(o){e.downloadFileLogs(t.dossierFileId)}}},[o("v-icon",{attrs:{size:"18",color:"#0b72ba"}},[e._v("\n                            get_app\n                          ")]),o("span",{staticStyle:{color:"#0b72ba",cursor:"pointer"}},[e._v("\n                            "+e._s(t.fileName)+"\n                          ")])],1):e._e()])}),0):e._e()])}),t.item.statusText?o("div",["done"===e.thongTinChiTietHoSo["dossierStatus"]||"unresolved"===e.thongTinChiTietHoSo["dossierStatus"]?o("span",{staticStyle:{color:"green"}},[e._v("\n                      "+e._s(t.item.statusText.replace("Đang thực hiện:",""))+"\n                    ")]):o("span",{staticStyle:{color:"green"}},[e._v("\n                      "+e._s(t.item.statusText)+"\n                    ")])]):e._e()],2)]}}])}):o("div",[e.loadingMermaidgraph?o("content-placeholders",[o("content-placeholders-img"),o("content-placeholders-heading")],1):e._e(),o("div",{staticClass:"mermaid",staticStyle:{padding:"15px"},attrs:{id:"mermaid_dossier"}})],1)],1):e._e()],1)],1),o("v-tabs",{attrs:{"icons-and-text":""},model:{value:e.activeTab2,callback:function(t){e.activeTab2=t},expression:"activeTab2"}},[o("v-tabs-slider",{attrs:{color:"primary"}}),1===e.originality&&"done"===e.thongTinChiTietHoSo["dossierStatus"]?o("v-tab",{key:1,attrs:{href:"#tabs-1b"}},[o("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n            ĐÁNH GIÁ\n          ")])],1):e._e(),1===e.originality&&"new"!==e.thongTinChiTietHoSo["dossierStatus"]||3===e.originality?o("v-tab",{key:2,attrs:{href:"#tabs-2b"}},[o("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n            TRAO ĐỔI\n          ")])],1):e._e(),o("v-tab",{key:3,attrs:{href:"#tabs-3b"},on:{click:function(t){e.loadDossierLogs()}}},[o("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n            NHẬT KÝ SỬA ĐỔI\n          ")])],1),o("v-tabs-items",{attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"},model:{value:e.activeTab2,callback:function(t){e.activeTab2=t},expression:"activeTab2"}},[1===e.originality&&"done"===e.thongTinChiTietHoSo["dossierStatus"]?o("v-tab-item",{key:1,attrs:{value:"tabs-1b","reverse-transition":"fade-transition",transition:"fade-transition"}},[o("div",{staticClass:"px-2 py-2"},[e._l(e.votingItems,function(t,i){return e.votingItems.length>0?o("div",{key:i},[o("div",{staticClass:"text-bold"},[e._v("\n                  "+e._s(i+1)+".  "+e._s(t.subject)+"\n                ")]),o("v-radio-group",{staticClass:"ml-3 mt-2",attrs:{column:""},model:{value:t.selected,callback:function(o){e.$set(t,"selected",o)},expression:"item.selected"}},e._l(t.choices,function(t,i){return o("v-radio",{key:i,staticClass:"ml-2",attrs:{label:t,value:i+1,disabled:3===e.originality}})}),1)],1):e._e()}),0===e.votingItems.length?o("div",{staticClass:"mx-3"},[o("v-alert",{attrs:{outline:"",color:"warning",icon:"priority_high",value:!0}},[e._v("\n                  Không có đánh giá\n                ")])],1):e._e(),e.votingItems.length>0&&1===e.originality?o("div",{staticClass:"ml-3 mt-4"},[o("v-btn",{attrs:{color:"primary",loading:e.loadingVoting,disabled:e.loadingVoting},on:{click:e.submitVoting}},[e._v("Gửi đánh giá")])],1):e._e()],2)]):e._e(),1===e.originality&&"new"!==e.thongTinChiTietHoSo["dossierStatus"]||3===e.originality?o("v-tab-item",{key:2,attrs:{value:"tabs-2b","reverse-transition":"fade-transition",transition:"fade-transition"}},[e.thongTinChiTietHoSo.online&&!e.thongTinChiTietHoSo.originDossierNo?o("div",[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{key:1,attrs:{"hide-actions":""}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),3===e.originality?o("span",[e._v("Trao đổi với người làm thủ tục")]):o("span",[e._v("Trao đổi với cán bộ xử lý")])]),o("v-card",[o("v-card-text",{staticClass:"px-0 py-0 pr-3"},[o("v-flex",{attrs:{xs12:""}},[e.dossierSyncs.length>0?o("ul",{staticClass:"timeline overflowComment",staticStyle:{"max-height":"300px",overflow:"auto"}},e._l(e.dossierSyncs,function(t,i){return 0!==t.syncType&&0!==t.infoType&&t.actionNote&&"null"!==t.actionNote?o("li",{key:i,staticClass:"timeline-item"},[o("div",{staticClass:"timeline-badge",class:2===t.syncType?"primary":"warning"},[o("v-icon",{attrs:{color:"grey lighten-4",size:"20"}},[e._v(e._s(2===t.syncType?"account_balance":"perm_identity"))])],1),o("div",{staticClass:"timeline-panel"},[o("div",{staticClass:"timeline-heading"},[o("div",{staticClass:"timeline-panel-controls"},[o("div",{staticClass:"timestamp"},[o("small",{staticClass:"text-muted"},[e._v(e._s(e._f("dateTimeView")(t.createDate)))])])])]),o("div",{staticClass:"timeline-body"},[2===t.syncType?o("span",[e._v("Cán bộ trả lời")]):e._e(),2===t.syncType&&t.actionNote&&"null"!==t.actionNote?o("span",[e._v(": ")]):e._e(),t.actionNote&&"null"!==t.actionNote?o("span",{staticStyle:{color:"#0b72ba"}},[e._v(e._s(t.actionNote))]):e._e()])])]):e._e()}),0):o("div",{staticClass:"no-comments no-data my-2"},[o("i",{staticClass:"fa fa-comments",staticStyle:{"font-size":"25px"}}),o("br"),o("span",{staticStyle:{"font-size":"18px"}},[e._v("Không có trao đổi nào")])]),o("div",{staticStyle:{position:"relative"}},[o("v-text-field",{staticClass:"pl-4 my-3",attrs:{label:"Nhập trao đổi",box:""},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.postChat(t):null}},model:{value:e.messageChat,callback:function(t){e.messageChat=t},expression:"messageChat"}}),o("v-icon",{staticClass:"hover-pointer",staticStyle:{position:"absolute",right:"10px",bottom:"18px","font-size":"14px"},attrs:{color:"blue"},on:{click:e.postChat}},[e._v("send")])],1)])],1)],1)],1)],1)],1):e._e(),1!==e.originality?o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("\n                    Trao đổi nội bộ      \n                  ")]),o("comment",{ref:"comment",attrs:{classPK:e.id,className:e.className}})],1)],1)],1):e._e()]):e._e(),o("v-tab-item",{key:3,attrs:{value:"tabs-3b","reverse-transition":"fade-transition",transition:"fade-transition"}},e._l(e.listHistoryProcessing,function(t,i){return o("div",{key:t.dossierLogId,staticClass:"list_history_style"},[o("td",{staticClass:"px-2 pt-2",class:i%2!==0?"col-tien-trinh-1":"col-tien-trinh-2"},[e._v(e._s(i+1))]),o("td",{staticClass:"text-xs-left px-2 pt-2 pb-1"},[o("p",{staticClass:"mb-1"},[o("span",[e._v(e._s(e._f("dateTimeView")(t.createDate)))]),e._v(" - "),o("b",[e._v(e._s(t.author))]),e._v(": "),o("span",{staticStyle:{color:"#0b72ba"}},[e._v(e._s(t.payload.stepName))])]),""!==t.content&&null!==t.content?o("p",{staticClass:"mb-1"},[e._v("Ý kiến: "),o("span",{domProps:{innerHTML:e._s(t.content)}})]):e._e(),e._l(t.payload.files,function(t,i){return o("div",{key:i},[t.dossierFileId?o("p",{staticClass:"history__download__link hover-pointer-download mb-1",staticStyle:{cursor:"pointer"},attrs:{title:"Tải xuống"},on:{click:function(o){o.preventDefault(),o.stopPropagation(),e.downloadFileLogs(t.dossierFileId)}}},[o("v-icon",[e._v("file_download")]),o("span",[e._v(e._s(t.fileName))])],1):e._e(),t.dossierDocumentId?o("p",{staticClass:"history__download__link hover-pointer-download mb-1",staticStyle:{cursor:"pointer"},attrs:{title:"Tải xuống"},on:{click:function(o){o.preventDefault(),o.stopPropagation(),e.downloadFileDocument(t.dossierReferenceUid?t.dossierReferenceUid:"")}}},[o("v-icon",[e._v("file_download")]),o("span",[e._v(e._s(t.fileName))])],1):e._e()])})],2)])}),0)],1)],1)],1)],1),o("object",{attrs:{id:"plugin0",type:"application/x-cryptolib05plugin",width:"0",height:"0"}}),o("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_reAsign,callback:function(t){e.dialog_reAsign=t},expression:"dialog_reAsign"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("Chọn người thực hiện")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog_reAsign=!1}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",[o("phan-cong-lai",{ref:"phanconglai",attrs:{type:1},model:{value:e.reAsignUsers,callback:function(t){e.reAsignUsers=t},expression:"reAsignUsers"}})],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},on:{click:function(t){e.doReAsign()}}},[o("v-icon",[e._v("how_to_reg")]),e._v("  \n          Đồng ý\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary"},nativeOn:{click:function(t){e.dialog_reAsign=!1}}},[o("v-icon",[e._v("reply")]),e._v("  \n          Hủy\n        ")],1)],1)],1)],1),o("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{persistent:"",overlay:!1,"max-width":800,transition:"dialog-transition"},model:{value:e.dialogPlugin,callback:function(t){e.dialogPlugin=t},expression:"dialogPlugin"}},[o("v-card",[o("v-card-title",{staticClass:"px-0 py-0"},[o("v-toolbar",{attrs:{dark:"",color:"primary",height:"40"}},[null!==e.modelPlugin&&void 0!==e.modelPlugin?o("div",{staticClass:"text-bold"},[e._v(e._s(e.modelPlugin["pluginName"]))]):e._e(),o("v-spacer"),o("v-toolbar-items",[o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPlugin=!1}}},[o("v-icon",[e._v("close")])],1)],1)],1)],1),o("v-card-text",{staticClass:"pr-0 py-0"},[null===e.modelPlugin?o("div",{staticClass:"text-xs-center center-all",staticStyle:{width:"100%",height:"400px"}},[o("v-progress-circular",{attrs:{indeterminate:"",size:100,color:"purple"}})],1):e.modelPlugin.pending?o("div",[e._v("\n          Hồ sơ chờ đồng bộ ...\n        ")]):e.modelPlugin["plugin"]?o("div",[e.modelPlugin.pdf?o("div",[o("div",{staticClass:"flex xs12 sm12 text-center"},[e.modelPlugin.no_pdf?e._e():o("object",{attrs:{id:"dossierPDFViewPlugin",data:"",width:"100%",height:"100%"}},[o("iframe",{staticStyle:{"min-height":"500px !important","padding-left":"0"},attrs:{src:e.modelPlugin.url,width:"100%"}})]),o("div",{staticClass:"text-center",attrs:{id:"dossierPDFViewNotFound"}},[e._v(e._s(e.modelPlugin.no_pdf))])])]):e._e(),e.modelPlugin["html"]?o("div",[o("input",{staticClass:"dossierFilePartNo",attrs:{type:"hidden",id:"dossierFilePartNo",name:""}}),o("div",{staticClass:"expansion-panel__header",attrs:{id:"alpacajs_form_plugin"}}),o("div",{staticClass:"text-center",attrs:{id:"dossierAlpacaNotFound"}},[e._v(e._s(e.modelPlugin.no_html))])]):e._e()]):o("div")])],1)],1)],1)},pt=[],ht=o("eff4"),mt=ht["a"],gt=o("c671"),ft=o("aac8"),vt=Object(d["a"])(mt,ut,pt,!1,null,null,null),yt=vt.exports;u()(vt,{VAlert:p["a"],VBtn:m["a"],VCard:Z["a"],VCardActions:ee["a"],VCardText:ee["b"],VCardTitle:xe["a"],VDataTable:ae["a"],VDialog:ne["a"],VExpansionPanel:Fe["a"],VExpansionPanelContent:Me["a"],VFlex:re["a"],VIcon:f["a"],VLayout:le["a"],VList:v["a"],VListTile:C["a"],VListTileTitle:T["c"],VMenu:de["a"],VProgressCircular:P["a"],VRadio:_e["a"],VRadioGroup:ue["a"],VSpacer:he["a"],VTab:Le["a"],VTabItem:gt["a"],VTabs:He["a"],VTabsItems:ft["a"],VTabsSlider:Ue["a"],VTextField:me["a"],VToolbar:fe["a"],VToolbarItems:ve["a"],VToolbarTitle:ve["b"],VTooltip:ye["a"]});var Ct=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.loading?o("content-placeholders",{staticClass:"mt-3"},[o("content-placeholders-text",{attrs:{lines:1}})],1):e.dossierSelected.length>0?o("div",{staticClass:"row-header"},[o("div",{staticClass:"background-triangle-big"},[o("span",[e._v(e._s(e.actionActive["tiltle"]?e.actionActive["tiltle"]:"XỬ LÝ HỒ SƠ"))])]),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:e.dossierSelected[0].serviceName}},[e._v("\n        "+e._s(e.dossierSelected[0].serviceName)+"\n      ")]),o("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[o("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:e.goBack}},[o("v-icon",{attrs:{size:"16"}},[e._v("reply")]),e._v("  \n          Quay lại\n        ")],1)],1)])]):e._e(),e.dossierSelected.length>0?o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("v-card",[o("v-card-text",{staticClass:"px-0 pt-0"},[o("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:e.headersTable,items:e.dossierSelected,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[o("tr",{class:{active:t.index%2==1}},[o("td",{staticClass:"text-xs-center"},[o("div",[o("span",[e._v(e._s(t.index+1))])])]),o("td",{staticClass:"text-xs-left"},[o("div",[o("span",[e._v(e._s(t.item.dossierNo))]),o("br"),t.item.online?o("span",{staticStyle:{color:"blue"}},[e._v("Hồ sơ trực tuyến")]):o("span",{staticStyle:{color:"green"}},[e._v("Hồ sơ một cửa")])])]),o("td",{staticClass:"text-xs-left"},[o("div",[o("span",[e._v(e._s(t.item.applicantName))])])]),o("td",{staticClass:"text-xs-left"},[o("div",[o("span",[e._v(e._s(t.item.wardName)+", "+e._s(t.item.districtName)+", "+e._s(t.item.cityName))])])])])]}}])})],1)],1)],1)],1):e._e(),o("v-dialog",{attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("File đính kèm")]),o("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[o("v-icon",[e._v("clear")])],1),e.dialogPDFLoading?o("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[o("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),o("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),o("div",[e.btnStateVisible?o("v-layout",{attrs:{wrap:""}},[e.showFormBoSungThongTinNgan?o("form-bo-sung-thong-tin",{ref:"formBoSungThongTinNgan",attrs:{dossier_id:Number(e.id),action_id:Number(e.actionIdCurrent)}}):e._e(),e.showPhanCongNguoiThucHien?o("phan-cong",{ref:"phancong",attrs:{type:e.type_assign},model:{value:e.assign_items,callback:function(t){e.assign_items=t},expression:"assign_items"}}):e._e(),e.showTaoTaiLieuKetQua?o("tai-lieu-ket-qua",{attrs:{detailDossier:e.thongTinChiTietHoSo,createFiles:e.createFiles}}):e._e(),e.showExtendDateEdit?o("ngay-gia-han",{ref:"ngaygiahan",attrs:{type:e.typeExtendDate,extendDateEdit:e.extendDateEdit}}):e._e(),e.showEditDate?o("ngay-hen-tra",{ref:"ngayhentra",attrs:{dueDateEdit:e.dueDateEdit}}):e._e(),e.showTraKetQua?o("tra-ket-qua",{attrs:{detailDossier:e.thongTinChiTietHoSo,createFiles:e.returnFiles}}):e._e(),e.showThuPhi?o("thu-phi",{attrs:{viaPortal:e.viaPortalDetail,detailDossier:e.thongTinChiTietHoSo},model:{value:e.payments,callback:function(t){e.payments=t},expression:"payments"}}):e._e(),e.showPostalService?o("thong-tin-buu-chinh",{attrs:{postalService:e.thongTinChiTietHoSo}}):e._e(),e.showYkienCanBoThucHien?o("y-kien-can-bo",{ref:"ykiencanbo",attrs:{user_note:e.userNote}}):e._e(),o("div",{staticClass:"my-2 mx-3"},[o("v-btn",{attrs:{color:"primary",loading:e.loadingActionProcess,disabled:e.loadingActionProcess},nativeOn:{click:function(t){e.processAction()}}},[o("v-icon",[e._v("save")]),e._v(" \n          Xác nhận\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),o("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.goBack()}}},[o("v-icon",{attrs:{size:"16"}},[e._v("reply")]),e._v("  \n          Quay lại\n        ")],1)],1)],1):e._e(),e.btnStateVisible?e._e():o("v-alert",{attrs:{outline:"",color:"success",icon:"check_circle",value:!0}},[e._v("\n      Thực hiện thành công!\n    ")])],1),o("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_statusAction,callback:function(t){e.dialog_statusAction=t},expression:"dialog_statusAction"}},[o("v-card",[o("v-card-title",{staticClass:"headline"},[e._v("\n        Trạng thái xử lý\n      ")]),o("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.closeDialogStatusAction(t)}}},[o("v-icon",[e._v("clear")])],1),o("v-card-text",{staticStyle:{"max-height":"350px"}},e._l(e.dossierSelected,function(t,i){return o("div",{key:t.dossierId},[o("v-layout",{staticClass:"py-1 align-center row-list-style",staticStyle:{"border-bottom":"1px solid #ddd",position:"relative"},attrs:{wrap:""}},[o("v-flex",{attrs:{xs11:""}},[o("span",{staticClass:"text-bold",staticStyle:{position:"absolute"}},[e._v(e._s(i+1)+".")]),o("div",{staticClass:"ml-4"},[o("span",{staticClass:"text-bold"},[e._v(e._s(t.dossierNo))]),e._v(" - "+e._s(t.applicantName))])]),o("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[t.statusAction?o("v-tooltip",{attrs:{top:""}},[o("v-icon",{attrs:{slot:"activator",size:"20",color:"primary"},slot:"activator"},[e._v("\n                  check\n                ")]),o("span",[e._v("Thành công")])],1):o("v-tooltip",{attrs:{top:""}},[o("v-icon",{attrs:{slot:"activator",size:"20",color:"red darken-3"},slot:"activator"},[e._v("\n                  block\n                ")]),o("span",[e._v("Thất bại")])],1)],1)],1)],1)}),0),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){e.processAction()}}},[o("v-icon",{attrs:{size:"20"}},[e._v("refresh")]),e._v(" \n          Thử lại\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),o("v-btn",{attrs:{color:"red",dark:"",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){return e.closeDialogStatusAction(t)}}},[o("v-icon",[e._v("undo")]),e._v(" \n          Thoát\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)],1)},Dt=[],Tt=(o("f576"),o("a745")),St=o.n(Tt),Pt=o("1136"),bt=o("c23d"),xt=o("4a3a"),Et=o("24fb"),It=o("6e92"),At=o("0838"),Ot=o("26ed"),Nt=o("8bf2"),wt={props:["index"],components:{"thong-tin-co-ban-ho-so":Pt["a"],"phan-cong":W["a"],"tra-ket-qua":bt["a"],"thu-phi":nt["a"],"ky-duyet":xt["a"],"y-kien-can-bo":q["a"],"tai-lieu-ket-qua":Et["a"],"form-bo-sung-thong-tin":z["a"],"thanh-phan-ho-so":It["a"],"ngay-hen-tra":At["a"],"ngay-gia-han":Ot["a"],"thong-tin-buu-chinh":Nt["a"]},data:function(){return{headersTable:[{text:"#",align:"center",sortable:!1},{text:"Mã hồ sơ",align:"center",sortable:!1},{text:"Chủ hồ sơ",align:"center",sortable:!1},{text:"Địa chỉ",align:"center",sortable:!1}],mutilpleAction:!1,actionExits:[],dossierProcess:[],countProcessed:0,activeNotify:!1,dialog_statusAction:!1,thongTinChiTietHoSo:{},nextActions:[],payments:"",dossierActions:[],itemselect:"",actionNote:"",actionsSubmitLoading:!1,showThongTinCoBanHoSo:!1,showYkienCanBoThucHien:!1,showFormBoSungThongTinNgan:!1,showPhanCongNguoiThucHien:!1,showTaoTaiLieuKetQua:!1,showKyPheDuyetTaiLieu:!1,showTraKetQua:!1,showThuPhi:!1,showEditDate:!1,showExtendDateEdit:!1,showPostalService:!1,dueDateEdit:"",checkInput:0,viaPortalDetail:0,showThucHienThanhToanDienTu:!1,dossierItemDialogPick:"",itemDialogPick:"",resultDialogPick:"",indexDialogPick:"",userNote:0,partView:"",stateView:!1,payment_type:0,type_assign:0,returnFiles:[],assign_items:[],btnStateVisible:!0,dialogActionProcess:!1,rollbackable:!1,dialogPDF:!1,dialogPDFLoading:!1,loadingActionProcess:!1,loadingAction:!1,arrDossierId:[],actionActiveTmp:[]}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()},dossierSelected:function(){var e=this;return e.$store.getters.dossierSelected},actionActive:function(){return console.log("actionActive-------",this.$store.getters.actionActive),this.$store.getters.actionActive},activeGetCounter:function(){return this.$store.getters.activeGetCounter}},created:function(){var e=this;e.$nextTick(function(){e.btnIndex=-1;var t=e.$router.history.current.query;if(console.log("currentQuery",t),0===e.dossierSelected.length){var o=[];if(t.hasOwnProperty("dossiers")){var i=t.dossiers.split(",");e.arrDossierId=i,i.forEach(function(t){o.push(e.$store.dispatch("getDetailDossier",t))}),w.a.all(o).then(function(t){e.$store.dispatch("loadDossierSelected",t)}).catch(function(e){})}}else{var a=[];if(t.hasOwnProperty("dossiers")){var n=t.dossiers.split(",");e.arrDossierId=n,n.forEach(function(t){a.push(e.$store.dispatch("getDetailDossier",t))}),w.a.all(a).then(function(t){e.$store.dispatch("loadDossierSelected",t)}).catch(function(e){})}}try{if(void 0===e.actionActive.action||null===e.actionActive.action||""===e.actionActive.action){var s=JSON.parse(t.actionActive);s&&e.$store.dispatch("loadActionActive",s)}}catch(r){console.log(r)}e.getNextActions()})},updated:function(){var e=this;e.$nextTick(function(){})},watch:{},methods:{initData:function(e){},goBack:function(){window.history.back()},processPullBtnDetailRouter:function(e,t,o,i){console.log("result Nextaction",o);var a=this,n=!1;if(a.dossierId=e.dossierId,a.showYkienCanBoThucHien=!1,a.showFormBoSungThongTinNgan=!1,a.showPhanCongNguoiThucHien=!1,a.showTaoTaiLieuKetQua=!1,a.showKyPheDuyetTaiLieu=!1,a.showTraKetQua=!1,a.showThuPhi=!1,a.showEditDate=!1,a.showThucHienThanhToanDienTu=!1,a.dossierItemDialogPick=e,a.itemDialogPick=t,a.resultDialogPick=o,a.indexDialogPick=i,a.userNote=0,null!==o&&void 0!==o&&"undefined"!==o&&(o.hasOwnProperty("userNote")||o.hasOwnProperty("extraForm")||o.hasOwnProperty("allowAssignUser")||o.hasOwnProperty("createFiles")||o.hasOwnProperty("eSignature")||o.hasOwnProperty("returnFiles")||o.hasOwnProperty("payment")||o.hasOwnProperty("checkInput"))){if(!o.hasOwnProperty("userNote")||1!==o.userNote&&"1"!==o.userNote&&2!==o.userNote&&"2"!==o.userNote||(n=!0,a.showYkienCanBoThucHien=!0,a.userNote=o.userNote),o.hasOwnProperty("extraForm")&&o.extraForm&&(n=!0,a.showFormBoSungThongTinNgan=!0),o.hasOwnProperty("allowAssignUser")&&0!==o.allowAssignUser&&(console.log("allowAssignUser",o.toUsers),St()(o.toUsers)?a.assign_items=o.toUsers:a.assign_items=[o.toUsers],a.type_assign=o.allowAssignUser,n=!0,a.showPhanCongNguoiThucHien=!0),o.hasOwnProperty("createFiles")&&null!==o.createFiles&&void 0!==o.createFiles&&"undefined"!==o.createFiles&&o.createFiles.length>0&&(n=!0,a.showTaoTaiLieuKetQua=!0,a.createFiles=o.createFiles),o.hasOwnProperty("eSignature")&&o.eSignature&&(n=!0,a.showKyPheDuyetTaiLieu=!0),o.hasOwnProperty("returnFiles")&&null!==o.returnFiles&&void 0!==o.returnFiles&&"undefined"!==o.returnFiles&&o.returnFiles.length>0&&(n=!0,a.showTraKetQua=!0,a.returnFiles=o.returnFiles),o.hasOwnProperty("payment")&&null!==o.payment&&void 0!==o.payment&&"undefined"!==o.payment&&o.payment.requestPayment>0)if(3===o.payment.requestPayment||"3"===o.payment.requestPayment){n=!0,a.showThanhToanDienTu=!0;var s={dossierId:a.dossierId,referenceUid:e.referenceUid};a.$store.dispatch("loadDossierPayments",s).then(function(e){a.paymentProfile=e}).catch(function(e){})}else n=!0,a.showThuPhi=!0,a.payments=o.payment,a.viaPortalDetail=e.viaPostal;o.hasOwnProperty("checkInput")&&null!==o.checkInput&&void 0!==o.checkInput&&"undefined"!==o.checkInput&&(a.checkInput=o.checkInput,2===o.checkInput&&(n=!0,a.$refs.thanhphanhoso.initData(a.thongTinChiTietHoSo))),o.hasOwnProperty("receiving")&&null!==o.receiving&&void 0!==o.receiving&&"undefined"!==o.receiving&&!0===o.receiving.editable&&(n=!0,a.showEditDate=!0,a.dueDateEdit=""!==o.receiving.dueDate?new Date(o.receiving.dueDate):"",a.receiveDateEdit=o.receiving.receiveDate)}n&&(a.dialogActionProcess=!0,a.loadingActionProcess=!1)},processPullBtnDetail:function(e,t){var o=this;o.btnIndex=t,o.itemAction=e,o.actionIdCurrent=e.processActionId;var i={dossierId:o.dossierSelected[0].dossierId,actionId:e.processActionId};o.dialogActionProcess=!1,o.$store.dispatch("processPullBtnDetail",i).then(function(i){o.processPullBtnDetailRouter(o.dossierSelected[0],e,i,t)})},doCopy:function(e,t,o,i){var a=this,n={dossierId:e.dossierId};a.loadingAction=!0,a.$store.dispatch("doCopy",n).then(function(e){a.loadingAction=!1,a.indexAction=-1,a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/ho-so/"+e.dossierId+"/"+a.itemAction.form,query:a.$router.history.current.query})})},doCancel:function(e,t,o,i){var a=this;if(a.loadingAction=!0,i)console.log(a.selected);else{var n={dossierId:e.dossierId};a.$store.dispatch("doCancel",n).then(function(e){a.loadingAction=!1,a.indexAction=-1,a.$router.push({path:"/danh-sach-ho-so/"+a.index+"/ho-so/"+e.dossierId+"/"+a.itemAction.form,query:a.$router.history.current.query})})}},processAction:function(){var e=this,t=e.$store.getters.loadingInitData,o=t.user.userName?t.user.userName:"";if(e.dossierProcess=e.dossierSelected.filter(function(e){return!1===e["statusAction"]||!e["statusAction"]}),e.countProcessed=0,e.mutilpleAction){for(var i in e.actionExits)for(var a in e.dossierSelected)if(!1===e.dossierSelected[a]["statusAction"]||!e.dossierSelected[a]["statusAction"]){var n={dossierId:e.dossierSelected[a].dossierId,actionCode:e.actionExits[i].actionCode,actionUser:o};e.postAction(n,e.dossierSelected[a],a)}}else for(var s in e.dossierSelected)if(!1===e.dossierSelected[s]["statusAction"]||!e.dossierSelected[s]["statusAction"]){var r={dossierId:e.dossierSelected[s].dossierId,actionCode:e.actionActive.action,actionUser:o};e.postAction(r,e.dossierSelected[s],s)}},postAction:function(e,t,o){var i=this,a=!0,n=!0;if(i.showPhanCongNguoiThucHien){e["toUsers"]=i.assign_items;var s=i.$refs.phancong.doExport();console.log("validPhanCong",s),a=!!s}var r=null;if(i.payments&&(r={requestPayment:i.payments["requestPayment"],advanceAmount:Number(i.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(i.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(i.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(i.payments["shipAmount"].toString().replace(/\./g,""))}),i.showThuPhi&&(e["payment"]=r),i.showFormBoSungThongTinNgan&&(e["payload"]=i.$refs.formBoSungThongTinNgan.formSubmitData()),i.showKyPheDuyetTaiLieu)i.$refs.kypheduyettailieu.doExport();if(i.showEditDate){var c=i.$refs.ngayhentra.getDateInput();console.log("dueDateEdit",c);var l={dueDate:c,receiveDate:i.receiveDateEdit};e["payload"]=l}if(i.showYkienCanBoThucHien){var d=i.$refs.ykiencanbo.doExport(),_="";d.valid?(n=!0,_=d.text):n=!1,e["userNote"]=_}i.validateAction=!(!a||!n);i.$router.history.current.query;i.showYkienCanBoThucHien,i.validateAction&&(i.loadingActionProcess=!0,i.$store.dispatch("processDossierRouter",e).then(function(e){i.countProcessed+=1,i.dossierSelected[o]["statusAction"]=!0,i.countProcessed===i.dossierProcess.length*i.actionExits.length&&i.activeNotify?i.dialog_statusAction=!0:i.countProcessed===i.dossierProcess.length*i.actionExits.length&&(i.loadingActionProcess=!1,i.loadingAction=!1,i.btnStateVisible=!1,setTimeout(function(){i.goBack()},500))}).catch(function(e){i.countProcessed+=1,i.activeNotify=!0,i.dossierSelected[o]["statusAction"]=!1,i.countProcessed===i.dossierProcess.length*i.actionExits.length&&i.activeNotify?i.dialog_statusAction=!0:i.countProcessed===i.dossierProcess.length*i.actionExits.length&&(i.loadingActionProcess=!1,i.loadingAction=!1,i.btnStateVisible=!1,setTimeout(function(){i.goBack()},500))}))},doPrint02:function(e,t,o,i){var a=this;if(null===a.thuTucHanhChinhSelected||void 0===a.thuTucHanhChinhSelected||"undefined"===a.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{var n={document:t.document,serviceCode:a.thuTucHanhChinhSelected.serviceCode,govAgencyCode:a.thuTucHanhChinhSelected.govAgencyCode,dossiers:F()(a.selected)};a.dialogPDFLoading=!0,a.dialogPDF=!0,a.$store.dispatch("doPrint02",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})}},doPrint03:function(e,t,o,i){var a=this;a.dialogPDFLoading=!0,a.dialogPDF=!0;var n={dossierId:e.dossierId,document:t.document};a.$store.dispatch("doPrint03",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doGuiding:function(e,t,o,i){var a=this;if(null===a.thuTucHanhChinhSelected||void 0===a.thuTucHanhChinhSelected||"undefined"===a.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{var n={serviceConfigId:a.thuTucHanhChinhSelected.serviceConfigId};a.dialogPDFLoading=!0,a.dialogPDF=!0,a.$store.dispatch("doGuiding",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})}},getNextActions:function(){var e=this;console.log("run next action");e.$router.history.current.query;var t={};e.dossierSelected.length>0?t["dossierId"]=e.dossierSelected[0].dossierId:t["dossierId"]=e.arrDossierId[0];var o=e.$router.history.current.query;e.$store.dispatch("pullNextactions",t).then(function(t){t=t.filter(function(e){return 1===e.enable});var i=[];if(void 0!==e.actionActive.action&&null!==e.actionActive.action&&"undefined"!==e.actionActive.action&&""!==e.actionActive.action&&(i=e.actionActive.action.split(",")),1===i.length){e.actionExits=i;var a=t.filter(function(t){return t.actionCode.toString()===e.actionActive.action.toString()});e.dialogActionProcess=!0,e.mutilpleAction=!1,e.processPullBtnDetail(a[0],o.btnIndex)}else{for(var n in e.mutilpleAction=!0,e.actionExits=[],i){var s,r=!1;for(var c in t)if(i[n].toString()===t[c].actionCode.toString()){r=!0,s=t[c];break}r&&e.actionExits.push(s)}e.dialogActionProcess=!0,console.log("actionExits",e.actionExits[0]),e.actionExits[0]&&e.processPullBtnDetail(e.actionExits[0],o.btnIndex)}})},postNextActions:function(e){var t=this;if(e["dossierId"]=t.thongTinChiTietHoSo.dossierId,e.allowAssignUser>0)t.$store.dispatch("reassignDossier",e).then(function(o){console.log(o);var i={dossierId:t.dossierId,actionCode:e.actionCode,actionNote:t.actionNote,actionUser:"",payload:"",security:"",assignUsers:"",payment:"",createDossiers:""};t.$store.dispatch("postAction",i).then(function(e){console.log(e)})});else{var o={dossierId:t.dossierId,actionCode:e.actionCode,actionNote:t.actionNote,actionUser:"",payload:"",security:"",assignUsers:"",payment:"",createDossiers:""};t.$store.dispatch("postAction",o).then(function(e){console.log(e)})}},closeDialogStatusAction:function(){var e=this;e.dialog_statusAction=!1,e.btnStateVisible=!1,setTimeout(function(){e.goBack()},500)}},filters:{dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," | ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}return""},getMaxDueDate:function(e){var t=Math.max.apply(Math,e.map(function(e){return e.actionOverdue}));return t}}},kt=wt,Ft=Object(d["a"])(kt,Ct,Dt,!1,null,null,null),Mt=Ft.exports;u()(Ft,{VAlert:p["a"],VBtn:m["a"],VCard:Z["a"],VCardActions:ee["a"],VCardText:ee["b"],VCardTitle:xe["a"],VDataTable:ae["a"],VDialog:ne["a"],VExpansionPanel:Fe["a"],VExpansionPanelContent:Me["a"],VFlex:re["a"],VIcon:f["a"],VLayout:le["a"],VProgressCircular:P["a"],VSpacer:he["a"],VTooltip:ye["a"]});var Lt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"row-header"},[o("div",{staticClass:"background-triangle-big"},[e._v(" HOÀN THIỆN BỔ SUNG HỒ SƠ ")]),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold"},[e._v("\n        "+e._s(e.thongTinChiTietHoSo.serviceName)+"\n      ")]),o("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[o("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:e.goBack}},[e._v("\n        Quay lại  \n          "),o("v-icon",{attrs:{size:"16"}},[e._v("undo")])],1)],1)])]),o("v-expansion-panel",{staticClass:"expansion-p0",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{attrs:{value:!0}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[e._v("I. ")]),e._v("THÔNG TIN HỒ SƠ\n      ")]),o("v-card",{staticClass:"mb-2"},[o("v-card-text",[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Loại hồ sơ: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0 text-header header-text-field"},[o("v-chip",{staticClass:"pl-0 mx-0 my-0",attrs:{small:""}},[e._v(" Hồ sơ trực tuyến ")])],1)],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Mã hồ sơ: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),o("v-subheader",{staticClass:"pl-0 text-header header-text-field"},[e._v(e._s(e.thongTinChiTietHoSo.dossierIdCTN))])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Ngày tiếp nhận: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),o("v-subheader",{staticClass:"pl-0 text-header header-text-field"},[e._v(e._s(e.thongTinChiTietHoSo.receiveDate))])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Chủ hồ sơ: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),o("v-subheader",{staticClass:"pl-0 text-header header-text-field"},[e._v(e._s(e.thongTinChiTietHoSo.applicantName))])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Địa chỉ: ")])],1),o("v-flex",{attrs:{xs12:"",sm10:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),o("v-subheader",{staticClass:"pl-0 text-header header-text-field"},[e._v(e._s(e.thongTinChiTietHoSo.address))])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Người nộp: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),o("v-subheader",{staticClass:"pl-0 text-header header-text-field"},[e._v(e._s(e.thongTinChiTietHoSo.delegateName))])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):o("v-subheader",{staticClass:"pl-0 text-header"},[e._v("Số CMND: ")])],1),o("v-flex",{attrs:{xs12:"",sm4:""}},[e.loading?o("content-placeholders",{staticClass:"mt-1"},[o("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),o("v-subheader",{staticClass:"pl-0 text-header header-text-field"},[e._v(e._s(e.thongTinChiTietHoSo.applicantIdNo))])],1)],1)],1)],1)],1)],1),o("v-expansion-panel",{staticClass:"expansion-p0",staticStyle:{position:"relative"},attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{attrs:{value:!0}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[e._v("II. ")]),e._v("THÀNH PHẦN HỒ SƠ\n      ")]),o("thanh-phan-ho-so",{ref:"thanhphanhoso"})],1)],1),o("div",{staticClass:"text-center mt-2"},[e._l(e.btnDossierDynamics,function(t,i){return e.visibleBtnNextAction?o("v-btn",{key:i,attrs:{color:"primary"},on:{click:function(o){e.nextAction(t,i)}}},[e._v("\n      "+e._s(t.actionName)+"\n      "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])]):e._e()}),o("v-btn",{attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},nativeOn:{click:function(t){return e.goBack(t)}}},[o("v-icon",[e._v("undo")]),e._v("  \n      Quay lại\n      "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],2)],1)},Ht=[],Ut={props:["index","id"],data:function(){return{dialog_addTHPHS:!1,loadingAction:!1,thongTinChiTietHoSo:{},btnDossierDynamics:[],visibleBtnNextAction:!0}},computed:{loading:function(){return this.$store.getters.loading}},components:{"thanh-phan-ho-so":It["a"]},created:function(){var e=this;e.initData(e.id),e.getNextActions(e.id)},watch:{},methods:{initData:function(e){var t=this;t.$store.dispatch("getDetailDossier",e).then(function(e){t.thongTinChiTietHoSo=e,t.$refs.thanhphanhoso.initData(e)})},goBack:function(){window.history.back()},getNextActions:function(e){var t=this,o={dossierId:e};t.$store.dispatch("pullNextactions",o).then(function(e){t.btnDossierDynamics=e})},nextAction:function(e,t){console.log("Đã bổ sung");var o=this;console.log("luu Ho So--------------------"),o.$store.commit("setPrintPH",!1);var i=this.$refs.thanhphanhoso.dossierTemplateItems,a=o.$refs.thanhphanhoso.dossierFilesItems,n=i,s=[],r=[];n&&(n.forEach(function(e,t){1===e.partType&&(e["dossierId"]=o.thongTinChiTietHoSo.dossierId,r.push(o.$store.dispatch("postDossierMark",e)))}),0!==a.length?a.forEach(function(e,t){e.eForm&&(e["dossierId"]=o.thongTinChiTietHoSo.dossierId,s.push(o.$store.dispatch("putAlpacaForm",e)))}):n.forEach(function(e,t){1===e.partType&&e.hasForm&&(e["dossierId"]=o.thongTinChiTietHoSo.dossierId,s.push(o.$store.dispatch("postEform",e)))})),w.a.all(r).then(function(e){}).catch(function(e){}),w.a.all(s).then(function(t){console.log(t);var i={dossierId:o.thongTinChiTietHoSo.dossierId,actionCode:e.actionCode},a=o.$router.history.current.query;o.loadingActionProcess=!0,o.$store.dispatch("processDossierRouter",i).then(function(e){o.visibleBtnNextAction=!1,o.$router.push({path:o.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:a["q"]}})})}).catch(function(e){console.log("reject=============",e)})}}},Rt=Ut,Bt=Object(d["a"])(Rt,Lt,Ht,!1,null,null,null),Vt=Bt.exports;u()(Bt,{VBtn:m["a"],VCard:Z["a"],VCardText:ee["b"],VChip:oe["a"],VExpansionPanel:Fe["a"],VExpansionPanelContent:Me["a"],VFlex:re["a"],VIcon:f["a"],VLayout:le["a"],VSubheader:lt["a"]});var $t=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",["NEW"===e.formCode||"NEW_GROUP"===e.formCode||"UPDATE"===e.formCode||"COPY"===e.formCode?o("tiep-nhan-ho-so-detail",{ref:"tiepnhanhosodetail",attrs:{formCode:e.formCode}}):e._e()],1)},Kt=[],jt={props:["id","formCode"],components:{"tiep-nhan-ho-so-detail":Be},data:function(){return{initData:null,step:""}},beforeCreate:function(){var e=this;e.$nextTick(function(){var t=e.$router.history.current.query;t.hasOwnProperty("step")&&(e.step=t.step),e.$store.dispatch("loadInitResource").then(function(t){if(e.initData=t,null!==e.initData){var o=e.$refs.tiepnhanhosodetail,i=e.$refs.hoanthienbosunghosodetail,a=e.$refs.traketquadetail,n=e.$refs.chuyenphatketquadetail,s=e.$refs.xemchitiethosodetailcanbo,r=e.$refs.xemchitiethosotinhtrangxulylienthong,c=e.$refs.xemchitiethosolienthong;null!==o&&void 0!==o&&"undefined"!==o?e.$refs.tiepnhanhosodetail.initData(e.id):null!==i&&void 0!==i&&"undefined"!==i?e.$refs.hoanthienbosunghosodetail.initData(e.id):null!==a&&void 0!==a&&"undefined"!==a?e.$refs.traketquadetail.initData(e.id):null!==n&&void 0!==n&&"undefined"!==n?e.$refs.chuyenphatketquadetail.initData(e.id):null!==s&&void 0!==s&&"undefined"!==s?e.$refs.xemchitiethosodetailcanbo.initData(e.id):null!==r&&void 0!==r&&"undefined"!==r?e.$refs.xemchitiethosotinhtrangxulylienthong.initData(e.id):null!==c&&void 0!==c&&"undefined"!==c&&e.$refs.xemchitiethosolienthong.initData(e.id)}})})},watch:{$route:function(e,t){var o=this,i=e.query;i.hasOwnProperty("step")&&(o.step=i.step),o.$store.dispatch("loadInitResource").then(function(e){if(o.initData=e,null!==o.initData){var t=o.$refs.tiepnhanhosodetail,i=o.$refs.hoanthienbosunghosodetail,a=o.$refs.traketquadetail,n=o.$refs.chuyenphatketquadetail,s=o.$refs.xemchitiethosodetailcanbo,r=o.$refs.xemchitiethosotinhtrangxulylienthong,c=o.$refs.xemchitiethosolienthong;null!==t&&void 0!==t&&"undefined"!==t?o.$refs.tiepnhanhosodetail.initData(o.id):null!==i&&void 0!==i&&"undefined"!==i?o.$refs.hoanthienbosunghosodetail.initData(o.id):null!==a&&void 0!==a&&"undefined"!==a?o.$refs.traketquadetail.initData(o.id):null!==n&&void 0!==n&&"undefined"!==n?o.$refs.chuyenphatketquadetail.initData(o.id):null!==s&&void 0!==s&&"undefined"!==s?o.$refs.xemchitiethosodetailcanbo.initData(o.id):null!==r&&void 0!==r&&"undefined"!==r?o.$refs.xemchitiethosotinhtrangxulylienthong.initData(o.id):null!==c&&void 0!==c&&"undefined"!==c&&o.$refs.xemchitiethosolienthong.initData(o.id)}})}}},Wt=jt,qt=Object(d["a"])(Wt,$t,Kt,!1,null,null,null),Gt=qt.exports,zt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",["0"===String(e.serviceCode)||e.selectOption?o("div",[o("div",{staticClass:"row-header no__hidden_class"},[null!==e.trangThaiHoSoList?o("div",{staticClass:"background-triangle-big"},[o("span",[e._v("DANH SÁCH THỦ TỤC HÀNH CHÍNH")])]):e._e(),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{position:"relative"}},[o("v-text-field",{attrs:{placeholder:"Tìm kiếm theo tên thủ tục",solo:"",chips:"",multiple:"","deletable-chips":"","item-value":"value","item-text":"text","content-class":"adv__search__select","return-object":""},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.filterServiceName(t):null}},model:{value:e.serviceNameKey,callback:function(t){e.serviceNameKey=t},expression:"serviceNameKey"}})],1),o("div",{staticClass:"flex text-right",staticStyle:{"margin-left":"auto","max-width":"50px"}},[o("v-btn",{staticClass:"my-0 mx-2",attrs:{icon:""},nativeOn:{click:function(t){return e.filterServiceName(t)}}},[o("v-icon",{attrs:{size:"16"}},[e._v("search")])],1)],1)])]),o("v-layout",{staticClass:"white pt-3",attrs:{wrap:""}},[o("v-flex",{staticStyle:{width:"calc(100% - 230px)"}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"px-2",attrs:{xs6:""}},[o("v-autocomplete",{staticClass:"select-border",attrs:{items:e.govAgencyList,label:"Chọn cơ quan","item-text":"govAgencyName","item-value":"govAgencyCode","hide-selected":!0,clearable:"",box:""},on:{change:e.changeFilterAgency},model:{value:e.govAgencyFilter,callback:function(t){e.govAgencyFilter=t},expression:"govAgencyFilter"}})],1),o("v-flex",{staticClass:"px-2",attrs:{xs6:""}},[o("v-autocomplete",{staticClass:"select-border",attrs:{items:e.domainList,label:"Chọn lĩnh vực","item-text":"domainName","item-value":"domainCode","hide-selected":!0,clearable:"",box:""},on:{change:e.changeFilterDomain},model:{value:e.domainFilter,callback:function(t){e.domainFilter=t},expression:"domainFilter"}})],1)],1)],1),o("v-flex",{staticClass:"pl-2",staticStyle:{width:"230px"}},[o("v-chip",{staticClass:"my-0",staticStyle:{height:"48px","border-radius":"5px"},attrs:{label:"",color:"primary","text-color":"white"}},[o("v-checkbox",{staticClass:"mt-0",attrs:{color:"white","hide-details":""},model:{value:e.serviceLastest,callback:function(t){e.serviceLastest=t},expression:"serviceLastest"}},[o("template",{slot:"label"},[o("div",{staticClass:"white--text"},[e._v("THỦ TỤC NỘP GẦN ĐÂY")])])],2)],1)],1)],1),o("v-divider",{staticClass:"my-0 py-0"}),e.domainFilter||e.activeFilterKey||e.serviceLastest?e._e():o("v-expansion-panel",{staticClass:"expand__select__gov",attrs:{expand:""},model:{value:e.panelAgency,callback:function(t){e.panelAgency=t},expression:"panelAgency"}},e._l(e.govAgencyRender,function(t,i){return o("v-expansion-panel-content",{key:i},[o("div",{staticClass:"ml-3 text-bold",attrs:{slot:"header"},slot:"header"},[o("v-icon",{staticStyle:{"font-size":"14px","margin-top":"-4px","padding-right":"5px"}},[e._v("account_balance")]),e._v("\n          "+e._s(t.govAgencyName)+"\n        ")],1),o("v-card",[o("v-card-text",{staticClass:"grey lighten-3 px-0 py-0"},[o("v-expansion-panel",{staticClass:"expand__select__domain",attrs:{expand:""},model:{value:e.panelDomain[i],callback:function(t){e.$set(e.panelDomain,i,t)},expression:"panelDomain[index]"}},e._l(t.domains,function(i,a){return t.domains?o("v-expansion-panel-content",{key:a,staticClass:"blue darken-3",attrs:{value:!0}},[o("div",{staticClass:"text-bold white--text",staticStyle:{"margin-left":"14px"},attrs:{slot:"header"},slot:"header"},[o("v-icon",{staticClass:"pr-2 theme--dark"},[e._v("navigate_next")]),o("span",{staticStyle:{position:"absolute","margin-top":"1px"}},[e._v(e._s(i.domainName))])],1),o("v-card",e._l(i.serviceConfigs,function(a,n){return i.serviceConfigs?o("v-card-text",{key:n,staticClass:"card__text__gov"},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm9:""}},[o("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(n+1)+".")]),e._v("  \n                        "),o("span",[e._v(e._s(a.serviceInfoName))])]),o("v-flex",{staticClass:"text-xs-center pt-1",attrs:{xs12:"",sm1:""}},[o("span",[e._v("Mức "+e._s(a.level))])]),o("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm2:""}},[o("v-menu",{attrs:{left:"","offset-x":""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",small:""},on:{click:function(o){e.pullServiceOptions(a,t.govAgencyCode)}},slot:"activator"},[e._v("\n                            Chọn\n                          ")]),e.serviceOptions.length>1?o("v-list",e._l(e.serviceOptions,function(i,n){return o("v-list-tile",{key:n,on:{click:function(o){e.selectServiceOption(i,t.govAgencyCode,a)}}},[o("v-list-tile-title",[e._v(e._s(i.optionName))])],1)}),1):e._e()],1)],1)],1)],1):e._e()}),1)],1):e._e()}),1)],1)],1)],1)}),1),e.govAgencyFilter||e.domainFilter||e.activeFilterKey||e.serviceLastest||!(e.govAgencyFilterList.length>e.numberPerPage)?e._e():o("div",{staticClass:"my-2"},[o("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative"}},[o("div",{staticClass:"flex pagging-table px-2"},[o("tiny-pagination",{attrs:{total:e.govAgencyFilterList.length,page:e.agencyPage,currentLimit:10,nameRecord:"đơn vị","custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.changePage}})],1)])]),e.domainFilter?o("v-card",[o("v-card-text",{staticClass:"grey lighten-3 px-0 py-0"},[o("v-expansion-panel",{staticClass:"expand__select__domain",attrs:{expand:""},model:{value:e.panelDomainList,callback:function(t){e.panelDomainList=t},expression:"panelDomainList"}},e._l(e.domainListRender,function(t,i){return o("v-expansion-panel-content",{key:i,staticClass:"blue darken-3",attrs:{value:!0}},[o("div",{staticClass:"text-bold white--text",staticStyle:{"margin-left":"14px"},attrs:{slot:"header"},slot:"header"},[o("v-icon",{staticClass:"pr-2 theme--dark"},[e._v("navigate_next")]),o("span",{staticStyle:{position:"absolute","margin-top":"1px"}},[e._v(e._s(t.domainName)+" "),e.domainListRender.length>1?o("span",[e._v(" - "+e._s(t.govAgencyName))]):e._e()])],1),o("v-card",e._l(t.serviceConfigs,function(i,a){return t.serviceConfigs?o("v-card-text",{key:a,staticClass:"card__text__gov"},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm9:""}},[o("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(a+1)+".")]),e._v("  \n                    "),o("span",[e._v(e._s(i.serviceInfoName))])]),o("v-flex",{staticClass:"text-xs-center pt-1",attrs:{xs12:"",sm1:""}},[o("span",[e._v("Mức "+e._s(i.level))])]),o("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm2:""}},[o("v-menu",{attrs:{left:"","offset-x":""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",small:""},on:{click:function(o){e.pullServiceOptions(i,t.govAgencyCode)}},slot:"activator"},[e._v("\n                        Chọn\n                      ")]),e.serviceOptions.length>1?o("v-list",e._l(e.serviceOptions,function(a,n){return o("v-list-tile",{key:n,on:{click:function(o){e.selectServiceOption(a,t.govAgencyCode,i)}}},[o("v-list-tile-title",[e._v(e._s(a.optionName))])],1)}),1):e._e()],1)],1)],1)],1):e._e()}),1)],1)}),1)],1)],1):e._e(),e.activeFilterKey||e.serviceLastest?o("v-card",[e.serviceConfigListRender.length>0?o("div",e._l(e.serviceConfigListRender,function(t,i){return o("v-card-text",{key:i,staticClass:"card__text__gov"},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm9:""}},[o("span",{staticStyle:{"font-weight":"bold"}},[e._v(e._s(i+1)+".")]),e._v("  \n              "),o("span",[e._v(e._s(t.serviceInfoName))]),e._v(" \n              "),t.govAgencyNameRender?o("span",{staticClass:"primary--text"},[e._v("("+e._s(t.govAgencyNameRender)+")")]):e._e()]),o("v-flex",{staticClass:"text-xs-center pt-1",attrs:{xs12:"",sm1:""}},[o("span",[e._v("Mức "+e._s(e.serviceLastest?t.serviceLevel:t.level))])]),o("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm2:""}},[o("v-menu",{attrs:{left:"","offset-x":""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",small:""},on:{click:function(o){e.pullServiceOptions(t,t.govAgencyCode)}},slot:"activator"},[e._v("\n                  Chọn\n                ")]),e.serviceOptions.length>1?o("v-list",e._l(e.serviceOptions,function(i,a){return o("v-list-tile",{key:a,on:{click:function(o){e.selectServiceOption(i,t.govAgencyCode,t)}}},[o("v-list-tile-title",[e._v(e._s(i.optionName))])],1)}),1):e._e()],1)],1)],1)],1)}),1):o("div",{staticClass:"my-3 mx-2"},[o("v-alert",{attrs:{outline:"",color:"warning",icon:"priority_high",value:!0}},[e._v("\n          Không có thủ tục nào\n        ")])],1)]):e._e(),o("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:e.dialog_captcha,callback:function(t){e.dialog_captcha=t},expression:"dialog_captcha"}},[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("Xác thực người dùng")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog_captcha=!1}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",[o("v-form",{ref:"formCaptcha",attrs:{"lazy-validation":""},model:{value:e.validCaptcha,callback:function(t){e.validCaptcha=t},expression:"validCaptcha"}},[o("v-layout",{staticClass:"py-1 align-center row-list-style",attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("captcha",{ref:"captcha"})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},on:{click:e.doCreateDossier}},[o("v-icon",[e._v("done")]),e._v("  \n            Đồng ý\n            "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1),o("v-btn",{staticClass:"mr-3",attrs:{color:"primary",loading:e.loadingAction,disabled:e.loadingAction},on:{click:function(t){e.dialog_captcha=!1}}},[o("v-icon",[e._v("clear")]),e._v("  \n            Hủy nộp hồ sơ\n            "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)],1):o("div",{staticClass:"text-center mt-5"},[o("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}}),o("p",{staticClass:"mt-5"},[e._v("Đang tạo hồ sơ ...")])],1)])},Yt=[],Qt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{staticClass:"py-2",staticStyle:{display:"flex","align-items":"center",background:"#dedede","justify-content":"center"},attrs:{xs12:""}},[o("img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.chapchablob,alt:"capcha"}}),o("v-btn",{staticClass:"right ml-3 mx-0 my-0",attrs:{title:"refresh",flat:"",icon:""},nativeOn:{click:function(t){return e.makeImageCap(t)}}},[o("v-icon",{attrs:{color:"primary",size:"32"}},[e._v("refresh")])],1)],1),o("v-flex",{staticClass:"mt-2",attrs:{xs12:""}},[o("v-text-field",{attrs:{box:"",placeholder:"Nhập mã captcha",rules:[function(e){return!!e||"Vui lòng nhập mã captcha"}],required:""},model:{value:e.j_captcha_response,callback:function(t){e.j_captcha_response=t},expression:"j_captcha_response"}})],1)],1)},Jt=[],Xt={props:["index"],components:{},data:function(){return{j_captcha_response:"",chapchablob:"",options:{},arrCaptcha:[],captcha:"",currentlyDragging:null,loggedEvent:"",images:[{name:"Image 1",src:"http://placehold.it/100/000000/ffffff"},{name:"Image 2",src:"http://placehold.it/100/C93742/ffffff"},{name:"Image 3",src:"http://placehold.it/100/6894D1/ffffff"}]}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){var e=this;e.makeImageCap()},watch:{},methods:{makeImageCap:function(){var e=this;e.chapchablob="",e.$store.dispatch("makeImageCap").then(function(t){e.chapchablob=t}).catch(function(t){e.chapchablob=""})},makeRandomString:function(){for(var e=this,t="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;i<4;i++)t+=o.charAt(Math.floor(Math.random()*o.length));t&&(e.arrCaptcha=e.shuffleArrCaptcha(t.split(""))),e.captcha=t},shuffleArrCaptcha:function(e){var t=e.length,o=null,i=0;while(t>0)i=Math.floor(Math.random()*t),t--,o=e[t],e[t]=e[i],e[i]=o;return e},checkValidCaptcha:function(){var e=this,t="",o=Ye()("#captcha").children();console.log(o);for(var i=0;i<o.length;i++)t+=o[i].innerHTML;return e.captcha===t}},filters:{dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear())}return""}}},Zt=Xt,eo=(o("6561"),Object(d["a"])(Zt,Qt,Jt,!1,null,null,null)),to=eo.exports;u()(eo,{VBtn:m["a"],VFlex:re["a"],VIcon:f["a"],VLayout:le["a"],VTextField:me["a"]}),Ge.a.options={closeButton:!0,timeOut:"3000"};var oo={props:["serviceCode"],components:{captcha:to,"tiny-pagination":j["a"]},data:function(){return{dialog_captcha:!1,validCaptcha:!1,govAgencyList:[],govAgencyFilter:"",domainList:[],domainListRender:[],panelDomainList:[!0],domainFilter:"",panelAgency:[],panelDomain:[],govAgencies:[],govAgencyFilterList:[],govAgencyRender:[],serviceOptions:[],serviceConfigSelect:"",serviceConfigList:[],serviceConfigListRender:[],serviceInfoIdSelect:"",serviceOptionsProcess:[],selectOption:!1,govAgencyCodeSelect:"",serviceNameKey:"",activeFilterKey:!1,loadingMutiple:!0,dataPostDossier:"",serviceLastest:!1,numberPerPage:10,agencyPage:1}},computed:{currentIndex:function(){return this.$store.getters.index}},created:function(){var e=this;console.log("run created 2");var t=e.$router.history.current,o=t.query;e.$store.dispatch("loadServiceConfigsGov",{}).then(function(t){for(var i in e.govAgencies=t,e.govAgencyFilterList=e.govAgencies,e.govAgencyList=[],e.domainList=[],e.serviceConfigList=[],e.govAgencies){var a={govAgencyCode:e.govAgencies[i]["govAgencyCode"],govAgencyName:e.govAgencies[i]["govAgencyName"]};e.govAgencyList.push(a);var n=e.govAgencies[i]["domains"];for(var s in n){var r={govAgencyCode:e.govAgencies[i]["govAgencyCode"],govAgencyName:e.govAgencies[i]["govAgencyName"],domainCode:n[s]["domainCode"],domainName:n[s]["domainName"],serviceConfigs:n[s]["serviceConfigs"]};e.domainList.push(r);var c=e.govAgencies[i]["domains"][s]["serviceConfigs"];for(var l in c){var d={level:c[l]["level"],serviceConfigId:c[l]["serviceConfigId"],serviceInfoId:c[l]["serviceInfoId"],serviceInfoName:c[l]["serviceInfoName"],govAgencyCode:e.govAgencies[i]["govAgencyCode"]};e.serviceConfigList.push(d)}}}if(e.serviceConfigListRender=e.serviceConfigList,e.domainListRender=e.domainList,o["domain"]&&(e.domainFilter=o["domain"]),o["agency"]&&(e.govAgencyFilter=o["agency"]),"0"===String(e.serviceCode)&&e.filterAndSort(),"0"!==String(e.serviceCode))for(var _ in e.govAgencies){var u=e.govAgencies[_].govAgencyCode;for(var p in e.govAgencies[_].domains)for(var h in e.govAgencies[_].domains[p].serviceConfigs){var m=e.govAgencies[_].domains[p].serviceConfigs[h],g=m.serviceConfigId;if(String(e.serviceCode)===String(g)){e.govAgencyCodeSelect=u,e.serviceInfoIdSelect=m.serviceInfoId,e.pullServiceOptions(m,u);break}}}})},updated:function(){},watch:{$route:function(e,t){var o=this;o.filterAndSort()},serviceLastest:function(e){var t=this;e?(t.govAgencyFilter="",t.domainFilter="",t.serviceNameKey="",t.filterService()):t.filterService()}},methods:{changeFilterAgency:function(){var e=this;e.domainFilter="",e.serviceNameKey="",e.activeFilterKey=!1,e.serviceLastest=!1,e.filterService()},changeFilterDomain:function(){var e=this;e.govAgencyFilter="",e.serviceNameKey="",e.activeFilterKey=!1,e.serviceLastest=!1,e.panelDomainList=[!0],e.filterService()},filterServiceName:function(){var e=this;e.serviceNameKey&&e.serviceNameKey.length>5?(e.govAgencyFilter="",e.domainFilter="",e.serviceLastest=!1,e.activeFilterKey=!0,e.filterService()):(e.govAgencyFilter="",e.domainFilter="",e.serviceNameKey="",e.serviceLastest=!1,e.activeFilterKey=!1,e.filterService())},changePage:function(e){var t=this,o=t.$router.history.current,i=o.query,a="?";for(var n in t.agencyPage=e.page,i["page"]="",i)""!==i[n]&&"undefined"!==i[n]&&void 0!==i[n]&&null!==i[n]&&"null"!==i[n]&&(a+=n+"="+i[n]+"&");a+="page="+t.agencyPage,t.$router.push({path:o.path+a,query:{renew:Math.floor(100*Math.random())+1}})},filterService:function(){var e=this;setTimeout(function(){var t=e.$router.history.current,o=t.query,i="?";for(var a in o["agency"]=e.govAgencyFilter,o["domain"]=e.domainFilter,e.serviceLastest?o["lastest"]=e.serviceLastest:o["lastest"]="",o["keyword"]=String(e.serviceNameKey).trim(),e.govAgencyFilter||(o["page"]=1),o)""!==o[a]&&"undefined"!==o[a]&&void 0!==o[a]&&null!==o[a]&&(i+=a+"="+o[a]+"&");e.$router.push({path:t.path+i,query:{renew:Math.floor(100*Math.random())+1}})},5)},filterAndSort:function(){var e=this;e.govAgencyRender=[],e.govAgencyRender=[],e.domainListRender=[];var t=e.$router.history.current,o=t.query;if(!o.hasOwnProperty("agency")&&!o.hasOwnProperty("domain")&&!o.hasOwnProperty("keyword")&&!o["lastest"]){if(e.govAgencyFilterList=e.govAgencies,o.hasOwnProperty("page")&&o["page"]){e.agencyPage=o["page"];var i=e.agencyPage*e.numberPerPage-e.numberPerPage,a=e.agencyPage*e.numberPerPage;e.govAgencyRender=e.govAgencyFilterList.slice(i,a)}else{e.agencyPage=1;var n=e.agencyPage*e.numberPerPage-e.numberPerPage,s=e.agencyPage*e.numberPerPage;e.govAgencyRender=e.govAgencyFilterList.slice(n,s)}console.log("vm.govAgencyRender",e.govAgencyRender)}if(o.hasOwnProperty("agency")&&o.agency&&(e.govAgencyRender=e.govAgencies.filter(function(e){return String(e["govAgencyCode"])===o.agency})),o.hasOwnProperty("domain")&&o.domain&&(e.domainListRender=e.domainList.filter(function(e){return String(e["domainCode"])===o.domain})),o.hasOwnProperty("keyword")&&o.keyword){var r=e.convertString(o.keyword);e.serviceConfigListRender=e.serviceConfigList.filter(function(t){return e.convertString(String(t["serviceInfoName"])).indexOf(r)>=0})}if(o.hasOwnProperty("lastest")&&o.lastest&&"false"!==String(o.lastest)&&e.$store.dispatch("getServiceRecently").then(function(t){if(t.length>0){var o=[];for(var i in t)if(St()(t[i]["serviceConfigs"]))for(var a in t[i]["serviceConfigs"])t[i]["serviceConfigs"][a].serviceInfoId=t[i]["serviceConfigs"][a]["serviceInfoId"],t[i]["serviceConfigs"][a].serviceInfoName=t[i]["serviceName"],t[i]["serviceConfigs"][a].govAgencyNameRender=t[i]["serviceConfigs"][a]["govAgencyName"],o.push(t[i]["serviceConfigs"][a]);else t[i]["serviceConfigs"].serviceInfoId=t[i]["serviceInfoId"],t[i]["serviceConfigs"].serviceInfoName=t[i]["serviceName"],o.push(t[i]["serviceConfigs"]);e.serviceConfigListRender=o,console.log("serviceConfigListRender 2",e.serviceConfigListRender)}else e.serviceConfigListRender=[]}).catch(function(){e.serviceConfigListRender=[]}),!e.domainFilter&&!e.serviceNameKey)if(1===e.govAgencyRender.length)if(e.panelAgency=[!0],1===e.govAgencyRender[0].domains.length)e.panelDomain=[],e.panelDomain[0]=[!0];else{for(var c in e.govAgencyRender[0].domains)e.panelDomain.push([]),e.panelDomain[c].push(!1);e.panelDomain[0]=[!0]}else for(var l in e.govAgencyRender)if(e.panelAgency.push(!1),e.panelDomain.push([]),1===e.govAgencyRender[l].domains.length)e.panelDomain[0]=[!0];else for(var d in e.govAgencyRender[l].domains[d])e.panelDomain[l].push(!1)},pullServiceOptions:function(e,t){var o=this;o.serviceConfigSelect=e,o.govAgencyCodeSelect=t,o.serviceInfoIdSelect=e.serviceInfoId,o.$store.dispatch("getServiceOpionByProcess",e).then(function(i){o.serviceOptions=i,1===i.length?(o.selectOption=!1,o.$store.dispatch("getServiceInfo",{serviceInfoId:e.serviceInfoId}).then(function(e){var a={serviceCode:e.serviceCode,govAgencyCode:t,templateNo:i[0].templateNo,originality:o.getOriginality(),j_captcha_response:""};o.isOffLine?(o.dataPostDossier=a,o.$refs.captcha.makeImageCap(),o.dialog_captcha=!0):o.$store.dispatch("postDossier",a).then(function(e){o.loadingAction=!1,o.indexAction=-1,o.$router.push({path:"/danh-sach-ho-so/0/ho-so/"+e.dossierId+"/NEW",query:o.$router.history.current.query})})})):(o.serviceOptionsProcess=i,o.selectOption=!0)}).catch(function(e){o.serviceOptions=[]})},selectServiceOption:function(e,t,o){var i=this;i.serviceConfigSelect=o,i.govAgencyCodeSelect=t,i.serviceInfoIdSelect=o.serviceInfoId,i.loadingMutiple=!0,i.$store.dispatch("getServiceInfo",{serviceInfoId:i.serviceConfigSelect.serviceInfoId}).then(function(o){var a={serviceCode:o.serviceCode,govAgencyCode:t,templateNo:e.templateNo,originality:i.getOriginality(),j_captcha_response:""};i.isOffLine?(i.dataPostDossier=a,i.$refs.captcha.makeImageCap(),i.dialog_captcha=!0):i.$store.dispatch("postDossier",a).then(function(e){i.loadingAction=!1,i.indexAction=-1,i.$router.push({path:"/danh-sach-ho-so/0/ho-so/"+e.dossierId+"/NEW",query:i.$router.history.current.query})})})},selectServiceOptionCRD:function(e,t){var o=this;o.$store.dispatch("getServiceInfo",{serviceInfoId:o.serviceInfoIdSelect}).then(function(i){var a={serviceCode:i.serviceCode,govAgencyCode:t,templateNo:e.templateNo,originality:o.getOriginality()};o.$store.dispatch("postDossier",a).then(function(e){o.loadingAction=!1,o.indexAction=-1,o.$router.push({path:"/danh-sach-ho-so/0/ho-so/"+e.dossierId+"/NEW",query:o.$router.history.current.query})})})},doCreateDossier:function(){var e=this;e.$refs.formCaptcha.resetValidation();var t=e.$refs.captcha.j_captcha_response;e.$refs.formCaptcha.validate()&&(e.dataPostDossier["j_captcha_response"]=t,e.createDossier(e.dataPostDossier))},createDossier:function(e){var t=this;t.$store.dispatch("postDossier",e).then(function(e){void 0!==e["status"]&&203===e["status"]?(t.loadingAction=!1,Ge.a.clear(),Ge.a.error("Mã captcha không chính xác. Vui lòng thử lại"),t.$refs.captcha.makeImageCap()):(t.loadingAction=!1,t.dialog_captcha=!1,t.indexAction=-1,t.$router.push({path:"/danh-sach-ho-so/0/ho-so/"+e.data.dossierId+"/NEW",query:t.$router.history.current.query}))}).catch(function(e){Ge.a.error("Nộp hồ sơ không thành công"),t.$refs.captcha.makeImageCap()})},getColor:function(e){return 2===e?"green":3===e?"orange":4===e?"red":void 0},goBack:function(){window.history.back()},convertString:function(e){return e=e.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a"),e=e.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),e=e.replace(/ì|í|ị|ỉ|ĩ/g,"i"),e=e.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o"),e=e.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),e=e.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),e=e.replace(/đ/g,"d"),e=e.replace(/À|Á|Ạ|Ả|Ã|Â|Ầ|Ấ|Ậ|Ẩ|Ẫ|Ă|Ằ|Ắ|Ặ|Ẳ|Ẵ/g,"A"),e=e.replace(/È|É|Ẹ|Ẻ|Ẽ|Ê|Ề|Ế|Ệ|Ể|Ễ/g,"E"),e=e.replace(/Ì|Í|Ị|Ỉ|Ĩ/g,"I"),e=e.replace(/Ò|Ó|Ọ|Ỏ|Õ|Ô|Ồ|Ố|Ộ|Ổ|Ỗ|Ơ|Ờ|Ớ|Ợ|Ở|Ỡ/g,"O"),e=e.replace(/Ù|Ú|Ụ|Ủ|Ũ|Ư|Ừ|Ứ|Ự|Ử|Ữ/g,"U"),e=e.replace(/Ỳ|Ý|Ỵ|Ỷ|Ỹ/g,"Y"),e=e.replace(/Đ/g,"D"),e=e.toLocaleLowerCase().replace(/\s/g,""),e}}},io=oo,ao=o("ce7e"),no=Object(d["a"])(io,zt,Yt,!1,null,null,null),so=no.exports;u()(no,{VAlert:p["a"],VAutocomplete:J["a"],VBtn:m["a"],VCard:Z["a"],VCardActions:ee["a"],VCardText:ee["b"],VCheckbox:te["a"],VChip:oe["a"],VDialog:ne["a"],VDivider:ao["a"],VExpansionPanel:Fe["a"],VExpansionPanelContent:Me["a"],VFlex:re["a"],VForm:ce["a"],VIcon:f["a"],VLayout:le["a"],VList:v["a"],VListTile:C["a"],VListTileTitle:T["c"],VMenu:de["a"],VProgressCircular:P["a"],VSpacer:he["a"],VTextField:me["a"],VToolbar:fe["a"],VToolbarTitle:ve["b"]});var ro=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"form-chitiet",staticStyle:{"background-color":"#ffff"}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{attrs:{xs12:"",sm12:""}},[o("div",{staticClass:"row-header"},[o("div",{staticClass:"background-triangle-big"},[o("span",[e._v("TÊN THỦ TỤC")])]),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:e.thongTinChungHoSo.serviceName}},[e._v("\n              "+e._s(e.thongTinChungHoSo.serviceName)+"\n            ")]),o("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}})])])]),o("v-flex",{staticClass:"text-xs-center mt-4",attrs:{xs12:"",sm12:""}},[o("h3",{staticClass:"text-xs-center"},[e._v("NỘP HỒ SƠ THÀNH CÔNG")])]),o("v-flex",{attrs:{xs12:""},domProps:{innerHTML:e._s(e.thongTinChungHoSo.submissionNote)}}),o("v-flex",{attrs:{xs12:"",sm12:""}},[o("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.goBack()}}},[o("v-icon",{attrs:{size:"16"}},[e._v("reply")]),e._v("  Quay lại danh sách ")],1)],1)],1)],1)},co=[],lo={props:{id:{type:Number,default:function(){return 0}},index:{type:Number,default:function(){return 0}}},data:function(){return{thongTinChungHoSo:{},dossierTemplateItems:[],dossierFilesItems:[],dossierTemplateSendItems:[]}},created:function(){var e=this;e.$nextTick(function(){e.$store.dispatch("getDetailDossier",e.id).then(function(t){e.thongTinChungHoSo=t;var o=[];o.push(e.$store.dispatch("loadDossierTemplates",t)),o.push(e.$store.dispatch("loadDossierFiles",t.dossierId)),w.a.all(o).then(function(t){e.dossierTemplateItems=t[0],e.dossierFilesItems=t[1],e.dossierTemplateSendItems=e.filterDossierTemplateSend()}).catch(function(e){})})})},computed:{loading:function(){return this.$store.getters.loading}},methods:{initData:function(e){var t=this;t.thongTinChungHoSo=e},goBack:function(){var e=this;e.$router.push({path:"/danh-sach-ho-so/0",query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:"/o/rest/v2/dossiers/todo?owner=true&order=true&step=110,130,510"}})},filterDossierTemplateSend:function(){var e=this,t=[];return e.dossierTemplateItems.length>0&&e.dossierFilesItems.length>0?(e.dossierTemplateItems.forEach(function(o){var i=e.dossierFilesItems.findIndex(function(e){return o.partNo===e.dossierPartNo});-1!==i&&t.push(o)}),t):[]},back:function(){},dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}},formatDateInput:function(e){return"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}},filters:{dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}return""}}},_o=lo,uo=Object(d["a"])(_o,ro,co,!1,null,null,null),po=uo.exports;u()(uo,{VBtn:m["a"],VFlex:re["a"],VIcon:f["a"],VLayout:le["a"]});var ho=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-card",[o("div",{staticClass:"row-header"},[o("div",{staticClass:"background-triangle-big"},[o("span",[e._v("THÔNG TIN THANH TOÁN")])]),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[o("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:e.goBack}},[e._v("\n            Quay lại  \n            "),o("v-icon",{attrs:{size:"16"}},[e._v("undo")])],1)],1)])]),o("div",[o("div",{staticClass:"mx-2 my-3"},[e.statusDeal?o("v-alert",{attrs:{outline:"",value:!0,type:"success"}},[e._v("\n          Giao dịch thanh toán thành công\n        ")]):o("v-alert",{attrs:{outline:"",value:!0,type:"error"}},[e._v("\n          Giao dịch thực hiện thất bại. "+e._s(e.keypayStatusText)+"\n        ")])],1),o("v-card",{staticClass:"mx-2"},[o("v-card-text",{staticClass:"px-0 py-0"},[o("div",{staticClass:"table-bordered",staticStyle:{"border-top":"1px solid #dedede"}},[o("div",{staticClass:"table__overflow"},[o("table",{staticClass:"datatable table"},[o("tbody",[o("tr",[o("td",{attrs:{width:"200"}},[o("span",{staticClass:"text-bold"},[e._v("Tên hồ sơ")])]),o("td",[o("span",[e._v(e._s(e.dossierDetail.serviceName))])])]),o("tr",[o("td",[o("span",{staticClass:"text-bold"},[e._v("Mã hồ sơ")])]),o("td",[o("span",[e._v(e._s(e.dossierDetail.dossierNo))])])]),o("tr",[o("td",[o("span",{staticClass:"text-bold"},[e._v("Cơ quan thực hiện")])]),o("td",[o("span",[e._v(e._s(e.dossierDetail.govAgencyName))])])]),o("tr",[o("td",[o("span",{staticClass:"text-bold"},[e._v("Tên phí, lệ phí")])]),o("td",[o("span",[e._v(e._s(e.dossierDetail.paymentFee))])])]),o("tr",[o("td",[o("span",{staticClass:"text-bold"},[e._v("Tổng tiền")])]),o("td",[o("span",[e._v(e._s(e.currency(e.dossierDetail.paymentAmount))+" VNĐ")])])]),e.statusDeal?o("tr",[o("td",[o("span",{staticClass:"text-bold"},[e._v("Mã giao dịch trực tuyến")])]),o("td",[o("span",[e._v(e._s(e.dossierDetail.transId))])])]):e._e(),e.statusDeal?o("tr",[o("td",[o("span",{staticClass:"text-bold"},[e._v("Mã đơn hàng")])]),o("td",[o("span",[e._v(e._s(e.dossierDetail.goodCode))])])]):e._e(),e.statusDeal?o("tr",[o("td",[o("span",{staticClass:"text-bold"},[e._v("Cổng thanh toán")])]),o("td",[o("span",[e._v(e._s(e.dossierDetail.paymentPortal))])])]):e._e()])])])])])],1)],1)])],1)},mo=[],go={props:[],components:{},data:function(){return{loading:!0,loadingAction:!1,statusDeal:!1,keypayStatusText:"",dossierDetail:{serviceName:"",dossierNo:"",govAgencyName:"",paymentFee:"",paymentAmount:"",transId:"",goodCode:"",paymentPortal:""},keypayStatusCode:{"00":"Thành công","01":"Đại lý không tồn tại trong hệ thống","02":"Chuỗi mã hóa không hợp lệ","03":"Mã giao dịch đại lý không hợp lệ","04":"Không tìm thấy giao dịch trong hệ thống","05":"Mã dịch vụ không hợp lệ","06":"Lỗi xác nhận giao dịch: giao dịch đã được xác nhận (thành công/ không thành công trước đó và không thể xác nhận lại)","07":"Mã quốc gia không hợp lệ","08":"Không nhận được thông điệp trả về từ Ngân Hàng","09":"Mô tả đơn hàng không hợp lệ",10:"Mã đơn hàng không hợp lệ",11:"Số tiền không hợp lệ",12:"Phí vận chuyển không hợp lệ",13:"Thuế không hợp lệ",14:"Đại lý chưa được cấu hình phí",15:"Sai mã Ngân hàng",16:"Số tiền thanh toán của Đại lý không nằm trong khoảng cho phép",17:"Tài khoản không đủ tiền",18:"Khách hàng đã Hủy giao dịch",19:"Thời gian thanh toán không hợp lệ",20:"Kiểu nhận mã OTP không hợp lệ",21:"Mã OTP sai",25:"Nhập sai thông tin chủ thẻ lần 1",26:"Nhập sai thông tin chủ thẻ lần 2",27:"Nhập sai thông tin chủ thẻ lần 3",30:"Phiên bản không hợp lệ",31:"Mã lệnh không hợp lệ",32:"Loại tiền tệ không hợp lệ",33:"Ngôn ngữ không hợp lệ",34:"Thông tin thêm (desc 1) không hợp lệ",35:"Thông tin thêm (desc 2) không hợp lệ",36:"Thông tin thêm (desc 3) không hợp lệ",37:"Thông tin thêm (desc 4) không hợp lệ",38:"Thông tin thêm (desc 5) không hợp lệ",39:"Chuỗi trả về - Return URL không hợp lệ",40:"Loại thẻ không hợp lệ",41:"Thẻ nghi vấn (thẻ đánh mất, hot card)",54:"Thẻ hết hạn",57:"Chưa đăng ký dịch vụ thanh toán trực tuyến",61:"Quá hạn mức giao dịch trong ngày",62:"Thẻ bị khóa",65:"Quá hạn mức 1 lần giao dịch",97:"Ngân hàng chưa sẵn sàng",98:"Giao dịch không",99:"Lỗi hệ thống"}}},computed:{},created:function(){var e=this;e.$nextTick(function(){var e=this,t=e.$router.history.current.query,o=t.hasOwnProperty("response_code")?t.response_code:"",i=t.hasOwnProperty("dossierId")?t.dossierId:"",a=t.hasOwnProperty("referenceUid")?t.referenceUid:"",n=t.hasOwnProperty("actionCode")?t.actionCode:"";i&&("00"===o?e.statusDeal=!0:(e.statusDeal=!1,e.keypayStatusText=e.keypayStatusCode["responseCode"]?e.keypayStatusCode["responseCode"]:""),e.$store.dispatch("getDetailDossier",a).then(function(o){e.dossierDetail["serviceName"]=o.serviceName,e.dossierDetail["dossierNo"]=o.dossierNo,e.dossierDetail["govAgencyName"]=o.govAgencyName,e.dossierDetail["transId"]=t.transId,e.dossierDetail["goodCode"]=t.goodCode,e.dossierDetail["paymentPortal"]=t.paymentPortal,e.dossierDetail["paymentAmount"]=t.net_cost;var i={dossierId:o.dossierId,referenceUid:a||o.referenceUid},s={dossierId:a||o.referenceUid};!0===e.statusDeal?e.$store.dispatch("putPayments",i).then(function(t){if(e.$store.dispatch("loadDossierPayments",s).then(function(t){e.dossierDetail["paymentFee"]=e.getEPaymentProfile(t.epaymentProfile).paymentFee}).catch(function(e){}),n){var i={dossierId:a||o.referenceUid,actionCode:n};e.$store.dispatch("processDossierRouter",i).then(function(e){}).catch(function(){})}}).catch(function(e){}):e.$store.dispatch("loadDossierPayments",s).then(function(t){e.dossierDetail["paymentFee"]=e.getEPaymentProfile(t.epaymentProfile).paymentFee}).catch(function(e){})}))})},watch:{},methods:{currency:function(e){return e&&e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):0},goBack:function(){var e=window.themeDisplay.getLayoutRelativeURL().substring(0,window.themeDisplay.getLayoutRelativeURL().lastIndexOf("/")),t=e+"/dich-vu-cong#/";window.open(t,"_self")},getEPaymentProfile:function(e){if(!e)return"";try{return JSON.parse(e),JSON.parse(e)}catch(t){return""}}}},fo=go,vo=Object(d["a"])(fo,ho,mo,!1,null,null,null),yo=vo.exports;u()(vo,{VAlert:p["a"],VBtn:m["a"],VCard:Z["a"],VCardText:ee["b"],VIcon:f["a"]});var Co=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",{attrs:{fluid:""}},[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}})],1)],1)},Do=[],To={},So=To,Po=o("a523"),bo=Object(d["a"])(So,Co,Do,!1,null,null,null),xo=bo.exports;u()(bo,{VContainer:Po["a"],VFlex:re["a"],VLayout:le["a"]});var Eo=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-form",{ref:"formImport",attrs:{"lazy-validation":""},model:{value:e.validTNHS,callback:function(t){e.validTNHS=t},expression:"validTNHS"}},[o("div",{staticClass:"row-header"},[o("div",{staticClass:"background-triangle-big"},[o("span",[e._v("IMPORT HỒ SƠ")])]),o("div",{staticClass:"layout row wrap header_tools row-blue"},[o("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:e.thongTinChiTietHoSo.serviceName}},[e._v("\n        "+e._s(e.thongTinChiTietHoSo.serviceName)+"\n      ")]),o("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[o("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:e.goBack}},[o("v-icon",{attrs:{size:"18"}},[e._v("reply")]),e._v("  \n          Quay lại\n        ")],1)],1)])]),o("div",{staticStyle:{position:"relative"}},[o("thong-tin-chu-ho-so",{ref:"thongtinchuhoso",attrs:{showApplicant:!0}})],1),o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{staticStyle:{display:"flex","align-items":"center"},attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("\n          Thành phần hồ sơ     \n          "),e.stateEditSample||1===e.originality?1!==e.originality?o("v-text-field",{staticClass:"px-0 py-0",staticStyle:{width:"90px","max-width":"90px"},attrs:{type:"number"},model:{value:e.thongTinChiTietHoSo.sampleCount,callback:function(t){e.$set(e.thongTinChiTietHoSo,"sampleCount",t)},expression:"thongTinChiTietHoSo.sampleCount"}}):e._e():o("span",[e._v("("+e._s(0===e.thongTinChiTietHoSo.sampleCount?"?":e.thongTinChiTietHoSo.sampleCount)+" bộ hồ sơ)")]),e._v("  \n          "),e.stateEditSample||1===e.originality?1!==e.originality?o("v-icon",{staticStyle:{cursor:"pointer"},attrs:{size:"16",color:"primary"},on:{click:function(t){t.stopPropagation(),e.stateEditSample=!e.stateEditSample}}},[e._v("done")]):e._e():o("v-icon",{staticStyle:{cursor:"pointer"},attrs:{size:"16",color:"primary"},on:{click:function(t){t.stopPropagation(),e.stateEditSample=!e.stateEditSample}}},[e._v("edit")])],1),o("thanh-phan-ho-so",{ref:"thanhphanhoso",attrs:{onlyView:!1,id:"nm",partTypes:e.inputTypes}})],1)],1)],1),o("div",{staticStyle:{position:"relative"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",{attrs:{"hide-actions":"",value:"2"}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("Dịch vụ chuyển phát kết quả")]),o("dich-vu-chuyen-phat-ket-qua",{ref:"dichvuchuyenphatketqua"})],1)],1)],1),o("div",{staticClass:"py-2",staticStyle:{position:"relative"}},[o("div",{staticClass:"text-xs-center",staticStyle:{width:"100%"}},[o("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"dossierImport"},on:{change:function(t){e.uploadfileDossierImport(t)}}}),o("span",{staticClass:"text-bold",staticStyle:{color:"#004b94!important"}},[e._v("Tải lên file thông tin chủ hồ sơ (Định dạng: .xlsx, .xls)")]),e.progressUploadFile?o("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):o("v-tooltip",{staticClass:"ml-2",attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(t){e.pickFile()}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"24",color:"#004b94"}},[e._v("cloud_upload")])],1)],1),o("span",[e._v("Tải file lên")])],1)],1)]),o("v-tabs",{staticClass:"mb-4",attrs:{"icons-and-text":"",centered:""}},[o("v-tabs-slider",{attrs:{color:"primary"}}),o("v-tab",{staticClass:"px-0 py-0",attrs:{href:"#tab-5"},on:{click:e.goBack}},[o("v-btn",{attrs:{flat:"",loading:e.loadingAction,disabled:e.loadingAction}},[o("v-icon",{attrs:{size:"18"}},[e._v("reply")]),e._v("  \n        Quay lại\n        "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1),o("v-dialog",{attrs:{"max-width":"700",transition:"fade-transition"},model:{value:e.dialogImportDosier,callback:function(t){e.dialogImportDosier=t},expression:"dialogImportDosier"}},[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("Import hồ sơ")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogImportDosier=!1}}},[o("v-icon",[e._v("close")])],1)],1),o("v-card-text",{staticClass:"pt-0 pb-0 px-0"},[o("v-flex",{staticClass:"text-xs-center"},[o("v-progress-circular",{staticClass:"my-2",attrs:{rotate:-90,size:70,width:10,value:e.valueProgress,color:"primary"}},[o("span",{staticStyle:{"font-size":"1.5em","font-weight":"bold"}},[e._v(e._s(e.countDossierProgress))])]),o("div",{staticClass:"pb-0",staticStyle:{margin:"0 auto"}},[o("v-card",{staticClass:"py-0"},[o("span",{staticStyle:{color:"green"}},[e._v("Thành công: "+e._s(e.countDossierSuccess)+" hồ sơ")]),o("p",{staticStyle:{color:"red"}},[e._v("Lỗi: "+e._s(e.dossierError.length)+" hồ sơ")])])],1)],1),e.dossierError.length&&!e.loadingImportDossier?o("div",{staticClass:"px-2",staticStyle:{margin:"0 auto"}},[o("span",{staticStyle:{"font-size":"1.2em","font-weight":"bold"}},[e._v("Danh sách hồ sơ bị lỗi:")]),o("v-data-table",{staticClass:"table-landing table-bordered mt-2",staticStyle:{"border-left":"1px solid #dedede"},attrs:{headers:e.headers,items:e.dossierError,"hide-actions":"","item-key":"dossierId"},scopedSlots:e._u([{key:"items",fn:function(t){return[o("tr",{staticStyle:{cursor:"pointer"}},[o("td",{staticClass:"text-xs-center",attrs:{width:""}},[o("span",[e._v(e._s(t.index+1))])]),o("td",{staticClass:"text-xs-left",attrs:{width:""}},[e._v("\n                  "+e._s(t.item.applicantName)+"\n                ")]),o("td",{staticClass:"text-xs-left"},[e._v("\n                  "+e._s(t.item.applicantIdNo)+"\n                ")]),o("td",{staticClass:"text-xs-left",attrs:{width:""}},[e._v("\n                  "+e._s(t.item.address)+"\n                ")])])]}}])})],1):e._e()],1),o("v-card-actions",[o("v-spacer"),e.dossierError.length?o("v-btn",{attrs:{color:"primary",loading:e.loadingImportDossier,disabled:e.loadingImportDossier},nativeOn:{click:function(t){e.addDossierAgain()}}},[o("v-icon",[e._v("send")]),e._v(" \n            Thực hiện lại\n            "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1):e._e(),o("v-btn",{staticStyle:{color:"#fff"},attrs:{color:"red",loading:e.loadingImportDossier,disabled:e.loadingImportDossier},nativeOn:{click:function(t){e.dialogImportDosier=!1}}},[o("v-icon",[e._v("reply")]),e._v(" \n          Quay lại\n          "),o("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])],1)],1)],1)],1)],1)},Io=[];Ge.a.options={closeButton:!0,timeOut:"5000"};var Ao={props:["index","id","formCode"],components:{"thong-tin-chu-ho-so":Qe["a"],"thanh-phan-ho-so":It["a"],"dich-vu-chuyen-phat-ket-qua":st["a"]},data:function(){return{validTNHS:!1,dossierId:"",mark:!0,dossierFiles:"",stateEditSample:!1,tiepNhanState:!0,thongTinChiTietHoSo:{},payments:{},paymentProfile:{},briefNote:"",receiveDateEdit:"",editableDate:!1,dueDateEdit:"",viaPortalDetail:0,showThuPhi:!1,inputTypes:[1,3],outputTypes:[2],sampleCount:0,isMobile:!1,loadingAction:!1,countDossierProgress:0,dialogImportDosier:!1,listDossierImport:[],progressUploadFile:!1,loadingImportDossier:!1,dossierError:[],dossierSuccess:[],totalDossier:0,valueProgress:0,countDossierSuccess:0,headers:[{text:"STT",align:"center",sortable:!1},{text:"Chủ hồ sơ",align:"center",sortable:!1},{text:"Mã CMND/CCCD",align:"center",sortable:!1},{text:"Địa chỉ",align:"center",sortable:!1}]}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()},dichVuChuyenPhatKetQua:function(){return this.$store.getters.dichVuChuyenPhatKetQua}},created:function(){var e=this;e.$nextTick(function(){e.listDossierImport=[],e.thongTinChiTietHoSo={},e.dossierId=e.id,e.initData(e.id)})},beforeDestroy:function(){var e=Ye()('meta[name="viewport"]');e.attr("content","initial-scale=1.0, width=device-width"),"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize,{passive:!0})},mounted:function(){this.onResize(),window.addEventListener("resize",this.onResize,{passive:!0})},watch:{isMobile:function(e){var t=Ye()('meta[name="viewport"]');e?t.attr("content",""):t.attr("content","initial-scale=1.0, width=device-width")}},methods:{uploadfileDossierImport:function(e){var t=this,o=t.$refs.thanhphanhoso.dossierTemplateItems;o=o.filter(function(e){return 1===e["partType"]}),t.$store.dispatch("loadDossierFiles",t.thongTinChiTietHoSo["dossierId"]).then(function(e){var o=[];for(var i in e)1===e[i]["dossierPartType"]&&o.push(e[i]["dossierFileId"]);t.dossierFiles=o?o.toString():"",t.progressUploadFile=!0;var a={};t.countDossierProgress=0,t.valueProgress=0,t.listDossierImport=[],t.dossierError=[],t.dossierSuccess=[],t.countDossierSuccess=0,a["dossierId"]=t.thongTinChiTietHoSo["dossierId"],a["referenceUid"]=t.thongTinChiTietHoSo["referenceUid"],a["selector"]="dossierImport",a["partTip"]={tip:"",maxSize:10,extensions:"xlsx,xls"};Ye()("#dossierImport")[0].files[0];t.$store.dispatch("uploadDossierFileImport",a).then(function(e){if(t.progressUploadFile=!1,t.totalDossier=e.total,e.total){var o=confirm("Bạn có chắc chắn thực hiện hành động này?");o&&(t.dialogImportDosier=!0,t.listDossierImport=e.data,console.log(e.data),setTimeout(function(){if(t.listDossierImport.length){t.loadingImportDossier=!0;var e=[];t.listDossierImport.forEach(function(o,i){setTimeout(function(){e.push(t.doCreateDossier(o,i)),e.length===t.listDossierImport.length&&w.a.all(e).then(function(e){t.loadingImportDossier=!1,0===t.dossierError.length&&(Ge.a.success("Import hồ sơ thành công"),setTimeout(function(){t.goBack()},1e3))}).catch(function(e){t.loadingImportDossier=!1})},1e3*i)})}},300))}else t.listDossierImport=[],Ge.a.error("Dữ liệu bị lỗi, vui lòng kiểm tra lại!")}).catch(function(e){t.dialogImportDosier=!1,t.progressUploadFile=!1,Ge.a.error("Tải file lỗi, vui lòng thử lại!")})}).catch(function(e){})},addDossierAgain:function(){var e=this;if(console.log(e.dossierSuccess),e.countDossierProgress=e.dossierSuccess.length,e.valueProgress=100*e.countDossierProgress/e.totalDossier,console.log("valueProgress++++",e.valueProgress),e.countDossierSuccess=e.dossierSuccess.length,e.dossierError.length){e.loadingImportDossier=!0;var t=[];e.dossierError.forEach(function(o,i){setTimeout(function(){t.push(e.doCreateDossier(o,i)),t.length===e.dossierError.length&&w.a.all(t).then(function(t){e.loadingImportDossier=!1,0===e.dossierError.length&&(Ge.a.success("Import hồ sơ thành công"),setTimeout(function(){e.goBack()},1e3))}).catch(function(t){e.loadingImportDossier=!1})},1e3*i)})}},doCreateDossier:function(e,t){var o=this;return new w.a(function(i,a){var n=o,s=o.$refs.thanhphanhoso.dossierTemplateItems,r={},c=e,l="",d="",_=n.$refs.thongtinchuhoso;n.$refs.dichvuchuyenphatketqua;if(r["serviceCode"]=n.thongTinChiTietHoSo["serviceCode"],r["govAgencyCode"]=n.thongTinChiTietHoSo["govAgencyCode"],r["dossierTemplateNo"]=n.thongTinChiTietHoSo["dossierTemplateNo"],r["originality"]=n.originality,s&&s.length){var u=s.map(function(e){return{partNo:e.partNo,partName:e.partName,fileMark:e.fileMark}});l=F()(u)}else l="";if(r["dossierMarks"]=l,_&&_["thongTinNguoiNopHoSo"]){var p=_["thongTinNguoiNopHoSo"];c=je()(c,p)}c=je()(c,n.dichVuChuyenPhatKetQua),r["dossiers"]=c?F()(c):"",r["dossierFiles"]=n.dossierFiles?n.dossierFiles:"",r["payment"]=d?F()(d):"",n.$store.dispatch("importDossier",r).then(function(e){n.countDossierProgress++,n.valueProgress+=100/n.totalDossier,n.listDossierImport[t]["flagError"]=!1,n.countDossierSuccess<n.listDossierImport.length&&n.countDossierSuccess++,n.calDossierErrorSuccess(),i(!0)}).catch(function(e){console.log(e),n.countDossierProgress++,n.valueProgress+=100/n.totalDossier,n.listDossierImport[t]["flagError"]=!0,n.calDossierErrorSuccess(),a(e)})})},calDossierErrorSuccess:function(){var e=this;e.dossierError=e.listDossierImport.filter(function(e){return e["flagError"]}),e.dossierSuccess=e.listDossierImport.filter(function(e){return!e.hasOwnProperty("flagError")||!e["flagError"]})},onResize:function(){var e=this,t=window.innerWidth<1024;e.isMobile=t},initData:function(e){var t=this;t.$store.dispatch("getDetailDossier",e).then(function(e){t.dossierId=e.dossierId,t.briefNote=e.dossierName?e.dossierName:"",e["editable"]=!1,t.thongTinChiTietHoSo=e,t.$refs.thanhphanhoso.initData(e),t.$refs.thongtinchuhoso.initData(e);var o={viaPostal:1,postalServiceCode:"VNPOST",postalAddress:"",postalCityCode:"",postalDistrictCode:"",postalWardCode:"",postalTelNo:""};t.$store.commit("setDichVuChuyenPhatKetQua",o)}).catch(function(e){console.log(e)})},pickFile:function(){var e=this,t=e.$refs.thongtinchuhoso.showValid(),o=this.$refs.dichvuchuyenphatketqua?this.$refs.dichvuchuyenphatketqua.dichVuChuyenPhatKetQua:{};if(2===o.viaPostal){if(!e.$refs.dichvuchuyenphatketqua.validDichVuChuyenPhat()||!t["validForm"])return void Ge.a.error("Vui lòng kiểm tra lại các thông tin bắt buộc trước khi thực hiện!")}else if(!t["validForm"])return void Ge.a.error("Vui lòng kiểm tra lại các thông tin bắt buộc trước khi thực hiện!");document.getElementById("dossierImport").value="",document.getElementById("dossierImport").click()},goBack:function(){var e=this,t=(e.$router.history.current.params,e.$router.history.current.query);e.$router.push({path:"/danh-sach-ho-so/0",query:t})}}},Oo=Ao,No=Object(d["a"])(Oo,Eo,Io,!1,null,null,null),wo=No.exports;u()(No,{VBadge:tt["a"],VBtn:m["a"],VCard:Z["a"],VCardActions:ee["a"],VCardText:ee["b"],VDataTable:ae["a"],VDialog:ne["a"],VExpansionPanel:Fe["a"],VExpansionPanelContent:Me["a"],VFlex:re["a"],VForm:ce["a"],VIcon:f["a"],VProgressCircular:P["a"],VSpacer:he["a"],VTab:Le["a"],VTabs:He["a"],VTabsSlider:Ue["a"],VTextField:me["a"],VToolbar:fe["a"],VToolbarTitle:ve["b"],VTooltip:ye["a"]});var ko=[{path:"/danh-sach-ho-so/:index",name:"Landing",component:De,props:!0},{path:"/m/danh-sach-ho-so/:index",name:"LandingMobile",component:Ae,props:!0},{path:"/danh-sach-ho-so/:index/tiep-nhan-ho-so/:id/:formCode",name:"TiepNhanHoSoDetail",component:Be,props:!0},{path:"/danh-sach-ho-so/:index/nhom-ho-so/:id",name:"TiepNhanNhomHoSo",component:_t,props:!0},{path:"/danh-sach-ho-so/:index/chi-tiet-ho-so/:id",name:"XemChiTietHoSoDetailCanBo",component:yt,props:!0},{path:"/danh-sach-ho-so/:index/xu-ly-ho-so",name:"XuLyHoSo",component:Mt,props:!0},{path:"/danh-sach-ho-so/:index/bo-sung-ho-so/:id",name:"HoanThienBoSungHoSoDetail",component:Vt,props:!0},{path:"/danh-sach-ho-so/:index/ho-so/:id/:formCode",name:"DetailForward",component:Gt,props:!0},{path:"/add-dvc/:serviceCode",name:"DanhSachThuTuc",component:so,props:!0},{path:"/danh-sach-ho-so/:index/nop-thanh-cong/:id",name:"NopThanhCong",component:po,props:!0},{path:"/thanh-toan-thanh-cong",name:"ThanhToanThanhCong",component:yo,props:!0},{path:"/import-ho-so/:id",name:"ImportHoSo",component:wo,props:!0},{path:"*",name:"NotFound",component:xo}];i["a"].use(E["a"]);var Fo=new E["a"]({routes:ko}),Mo=Fo,Lo=o("4360"),Ho=o("967d"),Uo=(o("5a9d"),o("a576"),o("470b"),o("bc3a")),Ro=o.n(Uo);Ro.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",i["a"].use(Ho["default"]),i["a"].config.productionTip=!1,i["a"].mixin({data:function(){return{isOffLine:!window.themeDisplay||!window.themeDisplay.isSignedIn()}},methods:{getOriginality:function(){return 1}}}),new i["a"]({router:Mo,store:Lo["a"],beforeCreate:function(){var e=this;e.$store.dispatch("loadInitResource")},render:function(e){return e(x)}}).$mount("#app")},cb0a:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("v-card",[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),o("span",[e._v("Thông tin thanh toán")])]),o("v-card",{},[o("v-card-text",{staticClass:"px-0 py-0"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Lệ phí: ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.payments.feeAmount?e.currency(e.payments.feeAmount.toString().replace(/\./g,"")):0)+"    vnđ")])]),o("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Phí: ")])],1),o("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm3:""}},[o("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.payments.serviceAmount?e.currency(e.payments.serviceAmount.toString().replace(/\./g,"")):0)+"    vnđ")])]),o("v-flex",{attrs:{xs12:"",sm3:""}}),2!==e.dossierDetail.viaPortal&&"2"!==e.dossierDetail.viaPortal||0===e.payments.shipAmount?e._e():o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Phí chuyển phát: ")])],1),2!==e.dossierDetail.viaPortal&&"2"!==e.dossierDetail.viaPortal||0===e.payments.shipAmount?e._e():o("v-flex",{attrs:{xs12:"",sm2:""}},[o("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.payments.shipAmount?e.currency(e.payments.shipAmount.toString().replace(/\./g,"")):0)+"    vnđ")])]),2!==e.dossierDetail.viaPortal&&"2"!==e.dossierDetail.viaPortal||0===e.payments.shipAmount?e._e():o("v-flex",{attrs:{xs12:"",sm8:""}}),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[o("span",{staticClass:"text-bold"},[e._v("Tổng: ")])])],1),o("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[o("span",[e._v(e._s(e.payments.paymentAmount?e.currency(e.payments.paymentAmount.toString().replace(/\./g,"")):0)+"    vnđ")])]),o("v-flex",{attrs:{xs12:"",sm7:""}}),o("v-flex",{staticClass:"my-0 pl-3 py-1",staticStyle:{width:"100px"}},[o("span",{staticClass:"red--text"},[e._v("* ")]),e._v(" Ghi chú:")]),o("v-flex",{staticStyle:{width:"calc(100% - 100px)"}},[o("p",{staticClass:"px-2 my-0 py-1"},[e._v("\n                  "+e._s(e.ePaymentProfile["paymentNote"]?e.ePaymentProfile["paymentNote"]:"")+"   \n                ")])])],1)],1)],1)],1)],1),o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),o("span",[e._v("Tình trạng thanh toán")])]),o("v-card",{},[o("v-card-text",{staticClass:"px-0 py-0"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Trạng thái: ")])],1),o("v-flex",{attrs:{xs12:"",sm3:""}},[o("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.getPaymentStatus(e.payments.paymentStatus)))])]),o("v-flex",{attrs:{xs12:"",sm7:""}}),Number(e.payments.paymentStatus)>=3?o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Hình thức thanh toán: ")])],1),o("v-flex",{attrs:{xs12:"",sm3:""}},[o("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.payments["paymentMethod"]))])]),o("v-flex",{attrs:{xs12:"",sm7:""}}),e.paymentFile&&"Chuyển khoản"===e.payments["paymentMethod"]?o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Chứng từ kèm theo: ")])],1):e._e(),e.paymentFile&&"Chuyển khoản"===e.payments["paymentMethod"]?o("v-flex",{attrs:{xs12:"",sm10:""}},[o("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile()}}},[o("v-icon",[e._v("attach_file")]),e._v("\n                    "+e._s(e.paymentFileName)+"\n                  ")],1),o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:"",ripple:""},on:{click:function(t){t.stopPropagation(),e.downloadPaymentFile(e.item)}},slot:"activator"},[o("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{size:"16",color:"primary"}},[e._v("save_alt")])],1),o("span",[e._v("Tải xuống")])],1)],1):e._e(),"Keypay"===e.payments["paymentMethod"]?o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Mã giao dịch: ")])],1):e._e(),"Keypay"===e.payments["paymentMethod"]?o("v-flex",{attrs:{xs12:"",sm3:""}},[o("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.transId))])]):e._e(),"Keypay"===e.payments["paymentMethod"]?o("v-flex",{attrs:{xs12:"",sm7:""}}):e._e(),"Keypay"===e.payments["paymentMethod"]?o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Mã đơn hàng: ")])],1):e._e(),"Keypay"===e.payments["paymentMethod"]?o("v-flex",{attrs:{xs12:"",sm3:""}},[o("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.goodCode))])]):e._e(),"Keypay"===e.payments["paymentMethod"]?o("v-flex",{attrs:{xs12:"",sm7:""}}):e._e()],1):e._e()],1)],1)],1)],1)],1),Number(e.payments.paymentStatus)>=3?o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),o("span",[e._v("Hóa đơn thanh toán")])]),o("v-card",{staticClass:"pl-2"},[o("v-card-text",{staticClass:"px-0 py-0"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Mẫu số hóa đơn : ")])],1),o("v-flex",{attrs:{xs12:"",sm3:""}},[o("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.eInvoiceInfo&&e.eInvoiceInfo["supplierTaxCode"]?e.eInvoiceInfo["invoiceTemplateNo"]:e.payments.invoiceTemplateNo))])]),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Số hóa đơn trên hệ thống : ")])],1),o("v-flex",{attrs:{xs12:"",sm3:""}},[o("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.eInvoiceInfo&&e.eInvoiceInfo["supplierTaxCode"]?e.eInvoiceInfo["invoiceNo"]:e.payments.invoiceNo))])]),o("v-flex",{attrs:{xs12:"",sm2:""}}),e.eInvoiceInfo&&e.eInvoiceInfo["supplierTaxCode"]?o("v-flex",{attrs:{xs12:""}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Mã số thuế: ")])],1),o("v-flex",{attrs:{xs12:"",sm3:""}},[o("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.eInvoiceInfo["supplierTaxCode"]))])]),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Mã bí mật tra cứu hóa đơn: ")])],1),o("v-flex",{attrs:{xs12:"",sm3:""}},[o("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.eInvoiceInfo["reservationCode"]))])]),o("v-flex",{attrs:{xs12:"",sm2:""}})],1)],1):o("v-flex",{attrs:{xs12:""}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Mã tra cứu trên hệ thống : ")])],1),o("v-flex",{attrs:{xs12:"",sm3:""}},[o("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.getEinvoiceCode(e.payments.einvoice)))])]),o("v-flex",{attrs:{xs12:"",sm7:""}})],1)],1),o("v-flex",{staticClass:"ml-3 mb-3",attrs:{xs12:"",sm12:""}},[o("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.tracuuhoadon()}}},[o("v-icon",[e._v("search")]),e._v(" \n                  Tra cứu hóa đơn\n                ")],1),3===e.originality?o("v-btn",{staticClass:"ml-3",attrs:{color:"primary"},on:{click:function(t){e.printPay()}}},[o("v-icon",[e._v("print")]),e._v("  \n                  In biên lai\n                ")],1):e._e()],1)],1)],1)],1)],1)],1):e._e()],1),o("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[e.activePrintPay?o("v-toolbar-title",[e._v("In biên lai thanh toán")]):o("v-toolbar-title",[e._v("File đính kèm")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[o("v-icon",[e._v("close")])],1)],1),e.dialogPDFLoading?o("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[o("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),o("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},a=[],n=(o("6b54"),o("a481"),o("28a5"),{props:{payments:{type:Object,default:function(){}},dossierDetail:{type:Object,default:function(){}}},components:{},data:function(){return{loading:!0,loadingAction:!1,paymentFile:"",dialogPDF:!1,dialogPDFLoading:!0,activePrintPay:!1,transId:"",goodCode:""}},computed:{paymentFileName:function(){return this.$store.getters.getPaymentFileName},originality:function(){var e=this;return e.getOriginality()},ePaymentProfile:function(){var e=this;return e.getEPaymentProfile(e.payments["epaymentProfile"])},eInvoiceInfo:function(){var e=this;try{return JSON.parse(e.payments["einvoice"])}catch(t){return console.log("Không có thông tin hóa đơn - einvoice"),""}}},created:function(){var e=this;e.$nextTick(function(){})},watch:{dossierDetail:function(e){},payments:function(e){var t=this;t.paymentFile||"Chuyển khoản"!==e["paymentMethod"]||(t.payments.paymentMethod="Keypay");var o=t.getEPaymentProfile(e.epaymentProfile);o&&o["keypayUrl"]&&(t.transId=o["keypayUrl"].split("&").filter(function(e){return e.indexOf("merchant_trans_id")>=0})[0].split("=")[1],t.goodCode=o["keypayUrl"].split("&").filter(function(e){return e.indexOf("good_code")>=0})[0].split("=")[1])}},methods:{getPaymentFiles:function(){var e=this,t=e.dossierDetail;e.$store.dispatch("getPaymentFiles",t).then(function(t){e.paymentFile=t})},currency:function(e){if(e){var t=(e/1).toFixed(0).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""},viewFile:function(){var e=this;e.activePrintPay=!1,e.dialogPDFLoading=!0,e.dialogPDF=!0;var t={dossierId:e.dossierDetail.dossierId,referenceUid:e.dossierDetail.referenceUid};e.$store.dispatch("viewPaymentFile",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPreview").src=t})},getEPaymentProfile:function(e){if(!e)return"";try{return JSON.parse(e),JSON.parse(e)}catch(t){return""}},downloadPaymentFile:function(e){var t=this,o="/o/rest/v2/dossiers/"+t.dossierDetail.dossierId+"/payments/"+t.dossierDetail.referenceUid+"/confirmfile";window.open(o)},printPay:function(){var e=this;e.activePrintPay=!0;var t={dossierId:e.dossierDetail.dossierId,referenceUid:e.payments.referenceUid};e.dialogPDFLoading=!0,e.dialogPDF=!0,e.$store.dispatch("printPay",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPreview").src=t})},getEinvoiceNo:function(e){if(e&&e.indexOf("#")>=0){var t=e.split("#")[1]?e.split("#")[1]:"";return t.indexOf("}")<0&&t.indexOf('"')<0?t:""}return""},getEinvoiceCode:function(e){if(e&&e.indexOf("#")>=0){var t=e.split("#")[3]?e.split("#")[3].split(",")[0].replace('"',""):"";return t}return""},tracuuhoadon:function(){var e,t=this;e=t.eInvoiceInfo&&t.eInvoiceInfo["supplierTaxCode"]?t.eInvoiceInfo["sInvoiceUrl"]:"http://tracuu.cmcsoft.com",window.open(e,"_blank")},getPaymentStatus:function(e){return 1===e||"1"===e?"Yêu cầu nộp tiền tạm ứng ":2===e||"2"===e?"Yêu cầu quyết toán phí":3===e||"3"===e?"Báo đã nộp phí trực tuyến":4===e||"4"===e?"Yêu cầu nộp lại phí trực tuyến":5===e||"5"===e?"Đã hoàn thành thu phí":""}}}),s=n,r=o("2877"),c=o("6544"),l=o.n(c),d=o("8336"),_=o("b0af"),u=o("99d9"),p=o("169a"),h=o("cd55"),m=o("49e2"),g=o("0e8f"),f=o("132d"),v=o("a722"),y=o("490a"),C=o("9910"),D=o("e0c7"),T=o("71d9"),S=o("2a7f"),P=o("3a2f"),b=Object(r["a"])(s,i,a,!1,null,null,null);t["a"]=b.exports;l()(b,{VBtn:d["a"],VCard:_["a"],VCardText:u["b"],VDialog:p["a"],VExpansionPanel:h["a"],VExpansionPanelContent:m["a"],VFlex:g["a"],VIcon:f["a"],VLayout:v["a"],VProgressCircular:y["a"],VSpacer:C["a"],VSubheader:D["a"],VToolbar:T["a"],VToolbarTitle:S["b"],VTooltip:P["a"]})},d80f:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{width:"100%"}},["dieuchinhdulieu"!==e.type&&e.formBuilder.length>0?o("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:e.panel,expand:""}},e._l(e.formBuilder,function(t,i){return o("v-expansion-panel-content",{key:i},[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),e._v("\n      "+e._s(t.fieldLabel)+" "),!0===t.required||"true"===t.required?o("span",{staticStyle:{color:"red"}},[e._v(" *")]):e._e()]),o("v-card",[o("v-card-text",{staticClass:"py-2 px-2"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"mx-3",attrs:{xs12:""}},["textarea"===t.fieldType?o("v-text-field",{attrs:{box:"",id:t.fieldName,value:t.value,placeholder:t.placeholder,"multi-line":"",rules:!0===t.required||"true"===t.required?[e.rules.required]:[],required:!0===t.required||"true"===t.required},on:{input:function(o){e.inputChangeValue(t)}}}):e._e(),"string"===t.fieldType?o("v-text-field",{attrs:{box:"",id:t.fieldName,value:t.value,placeholder:t.placeholder,rules:!0===t.required||"true"===t.required?[e.rules.required]:[],required:!0===t.required||"true"===t.required},on:{input:function(o){e.inputChangeValue(t)}}}):e._e(),"number"===t.fieldType?o("v-text-field",{attrs:{box:"",id:t.fieldName,value:t.value,placeholder:t.placeholder,rules:!0===t.required||"true"===t.required?[e.rules.required]:[e.rules.number],required:!0===t.required||"true"===t.required},on:{input:function(o){e.inputChangeValue(t)}}}):e._e(),"date"===t.fieldType?o("v-layout",{staticClass:"pl-2",attrs:{wrap:""}},[o("v-icon",{attrs:{color:"blue"}},[e._v("event")]),o("vue-ctk-date-time-picker",{ref:"datepicker",refInFor:!0,staticClass:"ml-2",staticStyle:{width:"auto!important"},attrs:{label:t.value?"":"Chọn ngày",id:t.fieldName,formatted:"DD/MM/YYYY HH:mm",format:"YYYY-MM-DDTHH:mm","time-format":"HH:mm","min-date":e.getCurentDateTime(),"without-header":!0},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"item.value"}})],1):e._e()],1)],1)],1),o("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-date-picker",{attrs:{"full-width":"",landscape:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),o("v-card-actions",{staticStyle:{background:"#fff"}},[o("v-spacer"),o("v-btn",{attrs:{color:"primary",flat:""},on:{click:e.pickDateCustom}},[e._v("\n              Xác nhận\n            ")])],1)],1)],1)],1)}),1):e._e(),"dieuchinhdulieu"===e.type?o("div",{staticClass:"ext__form px-3"},[e._l(e.formBuilder,function(t,i){return e.formBuilder.length>0?o("div",{key:i,staticClass:"mb-2",attrs:{"hide-actions":""}},[o("div",{staticClass:"py-1",staticStyle:{"border-bottom":"1px solid #8a898942"}},[o("span",{staticClass:"text-bold"},[e._v(e._s(i+1)+". ")]),e._v(e._s(t.fieldLabel)+" "),!0===t.required||"true"===t.required?o("span",{staticStyle:{color:"red"}},[e._v(" *")]):e._e()]),o("v-form",{ref:"form",refInFor:!0,attrs:{"lazy-validation":""},model:{value:e.valid2,callback:function(t){e.valid2=t},expression:"valid2"}},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{staticClass:"px-3 mt-2",attrs:{xs12:""}},["textarea"===t.fieldType?o("v-text-field",{attrs:{box:"",id:t.fieldName,value:t.value,placeholder:t.placeholder,"multi-line":"",rules:!0===t.required||"true"===t.required?[e.rules.required]:[],required:!0===t.required||"true"===t.required},on:{input:function(o){e.inputChangeValue(t)}}}):e._e()],1),o("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["string"===t.fieldType?o("v-text-field",{attrs:{box:"",id:t.fieldName,value:t.value,placeholder:t.placeholder,rules:!0===t.required||"true"===t.required?[e.rules.required]:[],required:!0===t.required||"true"===t.required},on:{input:function(o){e.inputChangeValue(t)}}}):e._e()],1),o("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["number"===t.fieldType?o("v-text-field",{attrs:{box:"",id:t.fieldName,value:t.value,placeholder:t.placeholder,rules:!0===t.required||"true"===t.required?[e.rules.required]:[e.rules.number],required:!0===t.required||"true"===t.required},on:{input:function(o){e.inputChangeValue(t)}}}):e._e()],1),o("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["date"===t.fieldType?o("v-layout",{staticClass:"mt-2",attrs:{wrap:""}},[o("v-icon",{attrs:{color:"blue"}},[e._v("event")]),o("vue-ctk-date-time-picker",{ref:"datepicker",refInFor:!0,staticClass:"ml-2",staticStyle:{width:"auto!important"},attrs:{label:t.value?"":"Chọn ngày",id:t.fieldName,formatted:"DD/MM/YYYY HH:mm",format:"YYYY-MM-DDTHH:mm","time-format":"HH:mm","without-header":!0},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"item.value"}})],1):e._e()],1),o("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["status"===t.fieldType?o("v-text-field",{attrs:{box:"",id:t.fieldName,value:t.value,placeholder:t.placeholder,rules:!0===t.required||"true"===t.required?[e.rules.required]:[],required:!0===t.required||"true"===t.required},on:{input:function(o){e.inputChangeValue(t)}}}):e._e()],1)],1)],1),o("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-date-picker",{attrs:{"full-width":"",landscape:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),o("v-card-actions",{staticStyle:{background:"#fff"}},[o("v-spacer"),o("v-btn",{attrs:{color:"primary",flat:""},on:{click:e.pickDateCustom}},[e._v("\n            Xác nhận\n          ")])],1)],1)],1):e._e()}),0===e.formBuilder.length?o("div",[o("v-alert",{attrs:{outline:"",color:"warning",icon:"priority_high",value:!0}},[e._v("\n        Không có form điều chỉnh dữ liệu\n      ")])],1):e._e()],2):e._e()],1)},a=[],n=(o("28a5"),o("768b")),s=(o("6b54"),o("f576"),o("ac6a"),o("75fc")),r=(o("c5f6"),{components:{"vue-ctk-date-time-picker":window["vue-ctk-date-time-picker"]},props:{dossier_id:{type:Number},action_id:{type:Number},type:{type:String,default:function(){return""}}},data:function(){return{itemId:null,fieldNameID:"",date:null,dialog:!1,formBuilder:[],panel:[],valid:!1,valid2:!1,rulesValid:{number:function(e){var t=/^\d+$/;return t.test(e)||"Kiểu dữ liệu sai định dạng."}},rules:{required:function(e){return!!e||"Trường dữ liệu bắt buộc"},number:function(e){var t=/^\d+$/;return t.test(e)||"Kiểu dữ liệu sai định dạng."}}}},watch:{dossier_id:function(){var e=this,t={dossierId:e.dossier_id,actionId:e.action_id};e.$store.dispatch("getExtraForm",t).then(function(t){if(e.formBuilder=t,e.formBuilder.length>0)for(var o in e.formBuilder)"date"===e.formBuilder[o]["fieldType"]&&e.formBuilder[o]["value"]&&isNaN(new Date(e.formBuilder[o]["value"]).getTime())?e.formBuilder[o]["value"]="":"date"===e.formBuilder[o]["fieldType"]&&e.formBuilder[o]["value"]&&!isNaN(new Date(e.formBuilder[o]["value"]).getTime())&&(e.formBuilder[o]["value"]=new Date(e.formBuilder[o]["value"]))}).catch(function(){e.formBuilder=[]})},formBuilder:function(){var e=this;e.allExpand(e.formBuilder)}},created:function(){var e=this;e.$nextTick(function(){var t={dossierId:e.dossier_id,actionId:e.action_id};t["dossierId"]&&t["actionId"]&&e.$store.dispatch("getExtraForm",t).then(function(t){if(e.formBuilder=t,e.formBuilder.length>0){for(var o in e.formBuilder)"date"===e.formBuilder[o]["fieldType"]&&e.formBuilder[o]["value"]&&isNaN(new Date(e.formBuilder[o]["value"]).getTime())?e.formBuilder[o]["value"]="":"date"===e.formBuilder[o]["fieldType"]&&e.formBuilder[o]["value"]&&!isNaN(new Date(e.formBuilder[o]["value"]).getTime())&&(e.formBuilder[o]["value"]=new Date(e.formBuilder[o]["value"]));e.allExpand(e.formBuilder)}})})},methods:{allExpand:function(e){var t=this;t.panel=Object(s["a"])(Array(e.length).keys()).map(function(e){return!0})},openDialogCustom:function(e,t){var o=this;o.dialog=!0,o.fieldNameID=t,o.itemId=e},pickDateCustom:function(){var e=this;console.log(e.date),e.date&&(e.itemId.value=new Date(e.date)),e.dialog=!1},inputChangeValue:function(e){e.value=document.getElementById(e.fieldName).value},showDatePicker:function(){this.$refs.datepicker.showDatePicker()},dateTimeView:function(e){if(e){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear())}return""},parseCurrentDate:function(e){if(!e)return null;var t=e.split("/"),o=Object(n["a"])(t,3),i=o[0],a=o[1],s=o[2];return"".concat(s,"-").concat(a.padStart(2,"0"),"-").concat(i.padStart(2,"0"))},checkValid:function(){var e=this,t=!0;if(e.formBuilder.length>0)for(var o in e.formBuilder)if((!0===e.formBuilder[o]["required"]||"true"===e.formBuilder[o]["required"])&&!e.formBuilder[o]["value"])return t=!1,alert(e.formBuilder[o]["fieldLabel"]+" là bắt buộc!"),t;return t},formSubmitData:function(){var e=this,t={};if(e.formBuilder.length>0)for(var o in e.formBuilder){var i=e.formBuilder[o].value;"date"===e.formBuilder[o].fieldType&&(i=new Date(e.formBuilder[o].value).getTime()?new Date(e.formBuilder[o].value).getTime():""),t[e.formBuilder[o].fieldName]=i}else t="";return t},getCurentDateTime:function(){var e=new Date;return"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0"))}},filters:{parseDate:function(e){if(!e)return"";var t="";return t=isNaN(Number(e))?new Date(e):new Date(Number(e)),t?"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0")):""}}}),c=r,l=o("2877"),d=o("6544"),_=o.n(d),u=o("0798"),p=o("8336"),h=o("b0af"),m=o("99d9"),g=o("2e4b"),f=o("169a"),v=o("cd55"),y=o("49e2"),C=o("0e8f"),D=o("4bd4"),T=o("132d"),S=o("a722"),P=o("9910"),b=o("2677"),x=Object(l["a"])(c,i,a,!1,null,null,null);t["a"]=x.exports;_()(x,{VAlert:u["a"],VBtn:p["a"],VCard:h["a"],VCardActions:m["a"],VCardText:m["b"],VDatePicker:g["a"],VDialog:f["a"],VExpansionPanel:v["a"],VExpansionPanelContent:y["a"],VFlex:C["a"],VForm:D["a"],VIcon:T["a"],VLayout:S["a"],VSpacer:P["a"],VTextField:b["a"]})},dbf2:function(e,t,o){},e211:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("20d6"),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("795b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__),toastr__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_6__),_TiepNhan_HoSoTrongNhom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("335e");toastr__WEBPACK_IMPORTED_MODULE_6___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:{id:{type:String,default:function(){return"nm"}},detailDossier:{type:Object,default:function(){}},createFiles:{type:Array,default:function(){return[]}}},components:{"ho-so-nhom":_TiepNhan_HoSoTrongNhom__WEBPACK_IMPORTED_MODULE_7__["a"]},data:function(){return{dialogConfirm:!1,labelConfirm:"",dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],sampleCount:0,fileTemplateItems:[],currentFormView:"",pstFixed:0,pstEl:0,endEl:0,dialogSelectDosier:!1,dossierIntoGroup:[],filesAdd:[],documentType:"Tài liệu đính kèm"}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData},dossierIntoGroupSelect:function(){return this.$store.getters.getDossierIntoGroup}},created:function(){var e=this;e.page=1,e.$nextTick(function(){if(e.detailDossier["dossierId"]){var t=[];t.push(e.$store.dispatch("loadDossierFiles",e.detailDossier.dossierId)),t.push(e.$store.dispatch("loadDossierTemplates",e.detailDossier)),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3___default.a.all(t).then(function(t){var o=t[1],i=t[0];e.dossierFilesItems=i,e.createFiles=e.mergeDossierTemplateVsDossierFiles(e.createFiles,i),0!==o.length&&e.createFiles.forEach(function(e){var t=o.find(function(t){return e.partNo===t.partNo});t&&(e["required"]=t["required"],e["partTip"]=t["partTip"])})}),e.detailDossier["groupDossierId"]&&e.getDossierIntoGroup(e.detailDossier["groupDossierId"])}})},mounted:function(){var e=this;e.$nextTick(function(){e.createFiles.length>0&&setTimeout(function(){e.genAllAlpacaForm(e.dossierFilesItems,e.createFiles)},300)})},methods:{genAllAlpacaForm:function(e,t){var o=this;if(e.length>0){var i=e.filter(function(e){return e.eForm}),a=t.filter(function(e){return e.eForm});i.length>0?i.forEach(function(e){e.eForm&&o.$store.dispatch("loadAlpcaForm",e)}):t.forEach(function(e){e.eForm&&(e["templateFileNo"]=o.detailDossier.dossierTemplateNo,o.showAlpacaJSFORM(e))}),a.length!==i.length&&a.forEach(function(e){var t=i.findIndex(function(t){return e.partNo===t.dossierPartNo});-1===t&&(e["templateFileNo"]=o.detailDossier.dossierTemplateNo,o.showAlpacaJSFORM(e))})}else t.forEach(function(e){e.eForm&&(e["templateFileNo"]=o.detailDossier.dossierTemplateNo,o.showAlpacaJSFORM(e))})},mergeDossierTemplateVsDossierFiles:function(e,t){return 0!==t.length?e.forEach(function(e){var o=t.find(function(t){return e.partNo===t.dossierPartNo&&0!==t.fileSize});o?e["daKhai"]=!0:!o&&e.eForm&&(e["daKhai"]=!1)}):e.forEach(function(e){e.eForm&&(e["daKhai"]=!1)}),e},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item["dossierId"]=vm.detailDossier.dossierId,vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){var formScript,formData;window.$("#formAlpaca"+item.partNo+vm.id).empty(),formScript=resScript?eval("("+resScript+")"):{},formData=resData?eval("("+resData+")"):{},formScript.data=formData,window.$('div[id="formAlpaca'+item.partNo+vm.id+'"]').alpaca(formScript)})})},saveAlpacaForm:function(e,t){var o=this;console.log("itemSave",e);var i=o.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm});i?(i["dossierId"]=o.detailDossier.dossierId,i["id"]=o.id,o.$store.dispatch("putAlpacaForm",i).then(function(e){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.success("Yêu cầu của bạn thực hiện thành công"),o.createFiles[t].daKhai=!0,o.dossierIntoGroup.length>0&&(o.labelConfirm="Đính kèm giấy tờ này cho hồ sơ khác?",o.dialogConfirm=!0,o.filesAdd=[e]),o.$store.dispatch("loadDossierFiles",o.detailDossier.dossierId).then(function(e){o.dossierFilesItems=e}).catch(function(e){})}).catch(function(e){console.log("run saveForm"),toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})):(e["dossierId"]=o.detailDossier.dossierId,e["id"]=o.id,o.$store.dispatch("postEform",e).then(function(e){o.dossierIntoGroup.length>0&&(o.labelConfirm="Đính kèm giấy tờ này cho hồ sơ khác?",o.dialogConfirm=!0,o.filesAdd=[resData]),setTimeout(function(){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.success("Yêu cầu của bạn thực hiện thành công"),o.createFiles[t].daKhai=!0},3e3),o.$store.dispatch("loadDossierFiles",o.detailDossier.dossierId).then(function(e){o.dossierFilesItems=e}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},onDeleteAttackFiles:function(e){var t=this;console.log("delete");var o=confirm("Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?");o&&t.dossierFilesItems.forEach(function(o){o.dossierPartNo===e.partNo&&(o["dossierId"]=t.detailDossier.dossierId,t.$store.dispatch("deleteAttackFiles",o).then(function(e){t.$store.dispatch("loadDossierFiles",t.detailDossier.dossierId)}).catch(function(e){}))})},pickFile:function(e){var t=this;t.stateAddFileOther=!1,document.getElementById("file"+e.partNo).value="",document.getElementById("file"+e.partNo).click()},onUploadSingleFile:function(e,t){var o=this;o.dossierTemplatesItemSelect=t,o.progressUploadPart=t.partNo,t["dossierId"]=o.detailDossier.dossierId,t["dossierTemplateNo"]=o.detailDossier.dossierTemplateNo,o.$store.dispatch("uploadSingleFile",t).then(function(e){o.progressUploadPart="",o.$store.dispatch("loadDossierFiles",o.detailDossier.dossierId).then(function(e){o.dossierFilesItems=e,o.createFiles=o.mergeDossierTemplateVsDossierFiles(o.createFiles,o.dossierFilesItems),console.log("createFiles",o.createFiles)}),console.log("vm.dossierIntoGroup",o.dossierIntoGroup),o.dossierIntoGroup.length>0&&(o.labelConfirm="Đính kèm giấy tờ này cho hồ sơ khác?",o.dialogConfirm=!0,o.filesAdd=e)}).catch(function(e){o.progressUploadPart=""})},loadAlpcaForm:function(e){var t=this,o=t.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm});o?(o["id"]=t.id,t.$store.dispatch("loadAlpcaForm",o)):t.createFiles.forEach(function(o){o.eForm&&e.partNo===o.partNo&&(o["templateFileNo"]=t.detailDossier.dossierTemplateNo,t.showAlpacaJSFORM(o))})},loadAlpcaFormClick:function(e){var t=this;t.currentFormView==="formAlpaca"+e.partNo+t.id?t.currentFormView="":t.currentFormView="formAlpaca"+e.partNo+t.id,t.pstEl=t.endEl=0,setTimeout(function(){$("#formAlpaca"+e.partNo+t.id).height()>200&&(t.pstEl=$("#wrapForm"+e.partNo+t.id).offset().top,t.endEl=$("#formAlpaca"+e.partNo+t.id).height(),$(window).scroll(function(){t.pstFixed=$(window).scrollTop()}))},300);var o=t.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm});o?(o["id"]=t.id,t.$store.dispatch("loadAlpcaForm",o)):t.createFiles.forEach(function(o){o.eForm&&e.partNo===o.partNo&&(o["templateFileNo"]=t.detailDossier.dossierTemplateNo,t.showAlpacaJSFORM(o))})},deleteSingleFileEform:function(e,t){var o=this,i=confirm("Bạn có muốn xóa?");i&&(o.dossierFilesItems.forEach(function(t){t.dossierPartNo===e.partNo&&t.eForm&&(t["dossierId"]=o.detailDossier.dossierId,o.$store.dispatch("deleteDossierFile",t).then(function(t){console.log("success!"),o.$store.dispatch("loadDossierFiles",o.detailDossier.dossierId).then(function(t){o.dossierFilesItems=t;var i=o.dossierFilesItems.filter(function(t){return t.dossierPartNo===e.partNo&&!t.eForm});i&&(o.fileViews=i)})}))}),o.createFiles[t].daKhai=!1)},previewFileEfom:function(e,t){var o=this;o.dossierFilesItems.forEach(function(t){t.dossierPartNo===e.partNo&&t.eForm&&(t["dossierId"]=o.detailDossier.dossierId,o.dialogPDFLoading=!0,o.documentType="Tài liệu khai trực tuyến",o.dialogPDF=!0,t["id"]=o.id,o.$store.dispatch("putAlpacaForm",t).then(function(e){setTimeout(function(){o.$store.dispatch("viewFile",t).then(function(e){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+o.id).src=e})},1e3)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))})},deleteSingleFile:function(e,t){var o=this,i=confirm("Bạn có muốn xóa?");i&&(e["dossierId"]=o.detailDossier.dossierId,o.$store.dispatch("deleteDossierFile",e).then(function(i){o.fileViews.splice(t,1),o.partView=e.dossierPartNo,o.$store.dispatch("loadDossierFiles",o.detailDossier.dossierId).then(function(e){o.dossierFilesItems=e,o.createFiles=o.mergeDossierTemplateVsDossierFiles(o.createFiles,o.dossierFilesItems)})}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},viewFile:function(e){var t=this,o=this;o.dossierFilesItems.forEach(function(i){i["dossierId"]=o.detailDossier.dossierId,i.dossierPartNo===e.partNo&&t.$store.dispatch("viewFile",i)})},viewFile2:function(e){var t=this;if("doc"===e.fileType||"docx"===e.fileType||"xlsx"===e.fileType||"xls"===e.fileType||"zip"===e.fileType||"rar"===e.fileType||"txt"===e.fileType){var o=t.initDataResource.dossierApi+"/"+t.detailDossier.dossierId+"/files/"+e.referenceUid;window.location.assign(o)}else t.dialogPDFLoading=!0,t.documentType="Tài liệu đính kèm",t.dialogPDF=!0,e["dossierId"]=t.detailDossier.dossierId,t.$store.dispatch("viewFile",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+t.id).src=e})},viewFileWithPartNo:function(e){var t=this;if(t.dossierFilesItems){var o=t.dossierFilesItems.filter(function(t){return t.dossierPartNo===e.partNo&&!t.eForm});if(!o)return;t.fileViews=o,t.partView!==e.partNo?(t.stateView=!0,t.partView=e.partNo):(t.stateView=!t.stateView,t.partView=e.partNo)}},checkStyle:function(e){return"calc(100% - 140px)"},downloadFileTemplate:function(e,t){var o=this;if(o.fileTemplateItems.length>0){var i=o.fileTemplateItems.find(function(t){return e.fileTemplateNo===t.fileTemplateNo});if(i){var a=o.initDataResource.serviceInfoApi+"/"+i.serviceCode+"/filetemplates/"+i.fileTemplateNo;window.location.assign(a)}else console.log("ko thay file")}},cancelDialog:function(){var e=this;e.dialogAddOtherTemp=!1,e.progressUploadPart=""},addFileOther:function(e){var t=this;t.dialogAddOtherTemp=!0,t.stateAddFileOther=!0,t.dossierTemplatesItemSelect=e},changeDisplayName:function(e,t){var o=this,i={dossierId:o.detailDossier.dossierId,value:value};o.$store.dispatch("changeDisplayNameFile",i).then(function(e){o.fileViews[t].displayName=e.displayName,o.stateEdit=!1}).catch(function(e){console.log("error")})},validCreateFileTemplate:function(){var e=this;if(e.createFiles.length>0){for(var t=0;t<e.createFiles.length;t++)if(e.createFiles[t]["required"]&&!e.createFiles[t]["daKhai"]){var o="Chú ý :"+e.createFiles[t].partName+" là thành phần bắt buộc!";return toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error(o),!1}return!0}return!0},getDossierIntoGroup:function(e){var t=this,o={groupDossierId:e};t.dossierIntoGroup=[],t.$store.dispatch("getDossiersIntoGroup",o).then(function(e){t.dossierIntoGroup=e,t.dossierIntoGroup=t.dossierIntoGroup.filter(function(e){return String(e["stepCode"])===String(t.detailDossier["stepCode"])&&String(e["dossierId"])!==String(t.detailDossier["dossierId"])})})},addFileToDossier:function(){var e=this,t=e.dossierIntoGroupSelect.map(function(e){return e.dossierId}).toString(),o=e.filesAdd.map(function(e){return e.dossierFileId}).toString(),i={dossierIds:t,dossierFileId:o};e.$store.dispatch("uploadFileDossierGroup",i).then(function(t){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.success("Đính kèm tài liệu thành công"),e.dialogSelectDosier=!1,e.filesAdd=[],e.$store.commit("setSelectDossierGroup",[])})},attachOtherDossier:function(e){var t=this;t.filesAdd=[e],t.dialogSelectDosier=!0},cancelAddFile:function(){var e=this;e.dialogSelectDosier=!1,e.filesAdd=[],e.$store.commit("setSelectDossierGroup",[])},confirmAction:function(e){var t=this;t.dialogConfirm=!1,t.dialogSelectDosier=!0},getDocumentTypeIcon:function(e){var t="doc,docx",o="xls,xlsx",i="png,jpg,jpeg";return e?t.indexOf(e.toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:o.indexOf(e.toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===e.toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:i.indexOf(e.toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:{icon:"attach_file",color:"primary",size:14}}}}},eff4:function(module,__webpack_exports__,__webpack_require__){"use strict";var d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("bd86"),core_js_modules_es7_string_pad_start__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f576"),core_js_modules_es7_string_pad_start__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es7_string_pad_start__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("20d6"),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_2__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("795b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_4__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("f499"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_9__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("a745"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_14__),jquery__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_15__),toastr__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_16__),_Comment_vue__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("4ea3"),_form_xu_ly_ThongTinCoBanHoSo_vue__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("1136"),_form_xu_ly_PhanCongNguoiThucHien_vue__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("7121"),_form_xu_ly_TraKetQua_vue__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("c23d"),_form_xu_ly_FeeDetail_vue__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("f374"),_ChiTietThanhToan_vue__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("cb0a"),_form_xu_ly_ThucHienThanhToanDienTu_vue__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("fc7b"),_form_xu_ly_KyPheDuyetTaiLieu_vue__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("4a3a"),_form_xu_ly_YkienCanBoThucHien_vue__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("87c1"),_form_xu_ly_TaoTaiLieuKetQua_vue__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("24fb"),_form_xu_ly_FormBoSungThongTinNgan_vue__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("d80f"),_TiepNhan_TiepNhanHoSo_ThanhPhanHoSoNew_vue__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("6e92"),_form_xu_ly_EditDate_vue__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("0838"),_form_xu_ly_ExtendDateEdit_vue__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("26ed"),_HoSoLienThong_vue__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("3677"),_form_xu_ly_PhanCongLai_vue__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("885b"),_form_xu_ly_ThongTinGuiBuuChinh_vue__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("8bf2"),_props$components$dat;mermaid.initialize({theme:"forest",startOnLoad:!1}),__webpack_exports__["a"]=(_props$components$dat={props:["index","id"],components:{comment:_Comment_vue__WEBPACK_IMPORTED_MODULE_17__["a"],"thong-tin-co-ban-ho-so":_form_xu_ly_ThongTinCoBanHoSo_vue__WEBPACK_IMPORTED_MODULE_18__["a"],"phan-cong":_form_xu_ly_PhanCongNguoiThucHien_vue__WEBPACK_IMPORTED_MODULE_19__["a"],"tra-ket-qua":_form_xu_ly_TraKetQua_vue__WEBPACK_IMPORTED_MODULE_20__["a"],"thu-phi":_form_xu_ly_FeeDetail_vue__WEBPACK_IMPORTED_MODULE_21__["a"],"thanh-toan-dien-tu":_form_xu_ly_ThucHienThanhToanDienTu_vue__WEBPACK_IMPORTED_MODULE_23__["a"],"ky-duyet":_form_xu_ly_KyPheDuyetTaiLieu_vue__WEBPACK_IMPORTED_MODULE_24__["a"],"y-kien-can-bo":_form_xu_ly_YkienCanBoThucHien_vue__WEBPACK_IMPORTED_MODULE_25__["a"],"tai-lieu-ket-qua":_form_xu_ly_TaoTaiLieuKetQua_vue__WEBPACK_IMPORTED_MODULE_26__["a"],"form-bo-sung-thong-tin":_form_xu_ly_FormBoSungThongTinNgan_vue__WEBPACK_IMPORTED_MODULE_27__["a"],"thanh-phan-ho-so":_TiepNhan_TiepNhanHoSo_ThanhPhanHoSoNew_vue__WEBPACK_IMPORTED_MODULE_28__["a"],"ngay-hen-tra":_form_xu_ly_EditDate_vue__WEBPACK_IMPORTED_MODULE_29__["a"],"thong-tin-buu-chinh":_form_xu_ly_ThongTinGuiBuuChinh_vue__WEBPACK_IMPORTED_MODULE_33__["a"],"ngay-gia-han":_form_xu_ly_ExtendDateEdit_vue__WEBPACK_IMPORTED_MODULE_30__["a"],"chi-tiet-thanh-toan":_ChiTietThanhToan_vue__WEBPACK_IMPORTED_MODULE_22__["a"],"ho-so-lien-thong":_HoSoLienThong_vue__WEBPACK_IMPORTED_MODULE_31__["a"],"phan-cong-lai":_form_xu_ly_PhanCongLai_vue__WEBPACK_IMPORTED_MODULE_32__["a"]},data:function(){return{isMobile:!1,inputTypes:[1,3,6],outputTypes:[2,7],actionIdCurrent:0,validateAction:!0,btnIndex:-1,processActionCurrent:0,activeTab:"tabs-1",activeTab2:"",btnDossierDynamics:[],btnStepsDynamics:[],loadingAction:!1,indexAction:-1,indexActionStep:-1,dossierId:"",className:"org.opencps.dossiermgt.model.Dossier",dossierFilesItems:[],dossierTemplatesItems:[],fileViews:[],showContactDetail:!1,listHistoryProcessing:[],dossierTemplatesTN:[],dossierTemplatesKQ:[],thongTinChiTietHoSo:{},dialogPDF:!1,dialogPDFLoading:!0,loadingAlpacajsForm:!1,nextActions:[],createFiles:[],returnFiles:[],processSteps:[],documents:[],payments:"",dossierActions:[],reAsignUsers:[],showReasign:!1,itemselect:"",dossierSyncs:[],stepModel:null,actionNote:"",actionsSubmitLoading:!1,showThongTinCoBanHoSo:!1,showYkienCanBoThucHien:!1,showFormBoSungThongTinNgan:!1,showPhanCongNguoiThucHien:!1,showTaoTaiLieuKetQua:!1,showKyPheDuyetTaiLieu:!1,dataEsign:"",filesPdfSign:[{fileName:"Tài liệu ký duyệt 001",time:"20/08/2019 11:20:30",url:"http://103.101.163.17:8080/documents/35166/0/testKS.pdf",fileSigned:!1},{fileName:"Tài liệu ký duyệt 002",time:"21/08/2019 10:10:13",url:"http://103.101.163.17:8080/documents/35166/0/testKS.pdf",fileSigned:!1}],typeEsign:"",showTraKetQua:!1,showThuPhi:!1,showPostalService:!1,showThanhToanDienTu:!1,showEditDate:!1,showExtendDateEdit:!1,checkInput:0,viaPortalDetail:0,showThucHienThanhToanDienTu:!1,dossierItemDialogPick:"",itemDialogPick:"",resultDialogPick:"",indexDialogPick:"",userNote:0,partView:"",stateView:!1,paymentDetail:"",paymentProfile:"",payment_type:0,type_assign:0,assign_items:[],btnStateVisible:!0,extendDateEdit:"",typeExtendDate:"",dueDateEdit:"",receiveDateEdit:"",dialogActionProcess:!1,rollbackable:!1,configNote:null,actionSpecial:!1,btnPlugins:[],loadingPlugin:!1,listDossierFiles:[],detailPreAction:"",headers:[{text:"#",align:"center",sortable:!1},{text:"Vai trò",align:"center",sortable:!1,class:"vaitro_column"},{text:"Công việc",align:"center",sortable:!1,class:"congviec_column"},{text:"Thời hạn quy định",align:"center",sortable:!1,class:"thoihanquydinh_column"},{text:"Ngày bắt đầu",align:"center",sortable:!1,class:"ngaybatdau_column"},{text:"Người thực hiện",align:"center",sortable:!1,class:"nguoithuchien_column"},{text:"Kết quả",align:"center",sortable:!1,class:"ketqua_column"}],headerSyncs:[{text:"Nhật kí hồ sơ",align:"center",sortable:!1,class:"nhatki_column"},{text:"Trao đổi trực tuyến",align:"center",sortable:!1,class:"traodoitructuyen_column"}],filterDossierActionItems:[{text:"Tất cả",value:""},{text:"Có thao tác thực hiện",value:"1"},{text:"Không thao tác thực hiện",value:"2"}],filterDossierAction:null,filterDossierSyncItems:[{text:"Tất cả",value:"1,2"},{text:"Thông tin trao đổi",value:"2"}],filterDossierSync:null,messageChat:"",isCallBack:!0,printDocument:!1,alertObj:{icon:"check_circle",color:"success",message:"Thực hiện thành công!"},stateViewResult:!0,stateViewDocument:!0,listLienThong:[],modelPlugin:null,dialogPlugin:!1,dialog_reAsign:!1,loadingMermaidgraph:!1,typeTienTrinh:1,votingItems:[],loadingVoting:!1,titleDialogPdf:"Tài liệu đính kèm",viewScript:!1,loadingForm:!1}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()},dataCreateFile:function(){return this.$store.getters.getDataCreateFile},getCheckInput:function(){return this.$store.getters.getCheckInput},usersNextAction:function(){return this.$store.getters.getUsersNextAction},stepOverdueNextAction:function(){return this.$store.getters.getStepOverdueNextAction},currentUser:function(){return this.$store.getters.loadingInitData.user},kysoSuccess:function(){return this.$store.getters.kysoSuccess},menuConfigs:function(){return this.$store.getters.getMenuConfigsTodo}},beforeDestroy:function(){"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize,{passive:!0})},mounted:function(){this.onResize(),window.addEventListener("resize",this.onResize,{passive:!0})},created:function(){var e=this;e.$nextTick(function(){if(e.menuConfigs&&e.menuConfigs[e.index]["viewScript"]){e.viewScript=!0,console.log("viewScript",e.menuConfigs[e.index]["viewScript"]),e.loadingForm=!0;var t={menuGroup:e.menuConfigs[e.index]["menuGroup"]};e.$store.dispatch("getScriptViewDetail",t).then(function(t){var o,i;e.loadingForm=!1,o=t,e.$store.dispatch("getDetailDossier",e.id).then(function(e){i=e,o.data=i,window.$("#formScriptTemplate").alpaca(o)}).catch(function(){window.$("#formScriptTemplate").alpaca(o)})}).catch(function(){e.loadingForm=!1})}else{e.viewScript=!1,e.initData(e.id),e.btnIndex=-1;var o=e.$router.history.current.query;o.hasOwnProperty("activeTab")&&(e.activeTab=o.activeTab,e.btnIndex=o["btnIndex"],o.hasOwnProperty("actionSpecial")&&null!==o["actionSpecial"]&&void 0!==o["actionSpecial"]&&"undefined"!==o["actionSpecial"]&&(e.actionSpecial=o["actionSpecial"]),e.thongTinChiTietHoSo["dossierId"]=e.id,e.btnStateVisible=!0),e.$store.commit("setKysoSuccess",!1)}})},updated:function(){var e=this;e.$nextTick(function(){})}},Object(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["a"])(_props$components$dat,"beforeDestroy",function(){var e=jquery__WEBPACK_IMPORTED_MODULE_15___default()('meta[name="viewport"]');e.attr("content","initial-scale=1.0, width=device-width")}),Object(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["a"])(_props$components$dat,"watch",{$route:function(e,t){e.query},menuConfigs:function(e){var t=this;if(e)if(t.menuConfigs&&t.menuConfigs[t.index]["viewScript"]){t.viewScript=!0,console.log("viewScript",t.menuConfigs[t.index]["viewScript"]),t.loadingForm=!0;var o={menuGroup:t.menuConfigs[t.index]["menuGroup"]};t.$store.dispatch("getScriptViewDetail",o).then(function(e){var o,i;t.loadingForm=!1,o=e,t.$store.dispatch("getDetailDossier",t.id).then(function(e){i=e,o.data=i,window.$("#formScriptTemplate").alpaca(o)}).catch(function(){window.$("#formScriptTemplate").alpaca(o)})}).catch(function(){t.loadingForm=!1})}else{t.initData(t.id),t.btnIndex=-1;var i=t.$router.history.current.query;i.hasOwnProperty("activeTab")&&(t.activeTab=i.activeTab,t.btnIndex=i["btnIndex"],i.hasOwnProperty("actionSpecial")&&null!==i["actionSpecial"]&&void 0!==i["actionSpecial"]&&"undefined"!==i["actionSpecial"]&&(t.actionSpecial=i["actionSpecial"]),t.thongTinChiTietHoSo["dossierId"]=t.id,t.btnStateVisible=!0),t.$store.commit("setKysoSuccess",!1)}},isMobile:function(e){var t=jquery__WEBPACK_IMPORTED_MODULE_15___default()('meta[name="viewport"]');e?t.attr("content",""):t.attr("content","initial-scale=1.0, width=device-width")},kysoSuccess:function(e){var t=this;e&&(t.loadingAction=!1,t.dialogActionProcess=!1,t.loadingActionProcess=!1,t.alertObj={icon:"check_circle",color:"success",message:"Thực hiện thành công!"},t.btnStateVisible=!1)}}),Object(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["a"])(_props$components$dat,"methods",{onResize:function(){var e=this,t=window.innerWidth<1024;e.isMobile=t},initData:function(e){var t=this;t.dossierId=e,t.activeTab2="tabs-2b",t.$store.dispatch("getDetailDossier",e).then(function(o){t.thongTinChiTietHoSo=o,t.loadThanhToan(),t.loadHoSoLienThong(),t.getNextActions(),t.getPreAction(),o["dossierSubStatus"]&&t.$store.dispatch("pullBtnConfigStep",o).then(function(e){t.btnStepsDynamics=e}),1===t.originality&&"done"===o["dossierStatus"]&&(t.activeTab2="tabs-1b",t.loadVoting()),1===t.originality&&"new"===o["dossierStatus"]&&(t.activeTab2="tabs-3b",t.loadDossierLogs()),3===t.originality&&t.runComment(),t.$store.dispatch("getListDossierFiles",e).then(function(e){t.listDossierFiles=e}),t.$refs.thanhphanhoso&&t.$refs.thanhphanhoso.initData(o)})},recountFileTemplates:function(){var e=this;e.dossierTemplatesItems.forEach(function(t){t.count=0,e.dossierFilesItems.forEach(function(e){t.partNo===e.dossierPartNo&&t.count++})})},runComment:function(){var e=this;e.$refs.comment&&e.$refs.comment.runComment()},goBack:function(){window.history.back()},viewFile:function(e){var t=this,o=this;o.dossierFilesItems.forEach(function(i){i["dossierId"]=o.thongTinChiTietHoSo.dossierId,i.dossierPartNo===e.partNo&&t.$store.dispatch("viewFile",i)})},downloadFileLogs:function(e){var t=this,o={fileAttachId:e,dossierId:t.id};this.$store.dispatch("downloadFile",o).then(function(e){e&&(t.dialogPDFLoading=!1,t.dialogPDF=!0,document.getElementById("dialogPDFPreview").src=e)})},downloadFileDocument:function(e){var t=this,o={referenceUid:e,dossierId:t.id};t.$store.dispatch("downloadFileDocument",o).then(function(e){e&&(t.dialogPDFLoading=!1,t.dialogPDF=!0,document.getElementById("dialogPDFPreview").src=e)})},loadDossierActions:function(e){var t=this;if(t.thongTinChiTietHoSo.dossierId){var o={dossierId:t.thongTinChiTietHoSo.dossierId,stepType:e};t.$store.dispatch("loadDossierActions",o).then(function(e){if(e.data&&0!==e.data.length){for(var o=e.data,i=0;i<o.length;i++)if(o[i].hasOwnProperty("actions")&&null!==o[i]["actions"]&&void 0!==o[i]["actions"]&&!d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(o[i]["actions"])){var a=[];a.push(o[i]["actions"]),o[i]["actions"]=a}t.dossierActions=o}else if(t.thongTinChiTietHoSo["submissionNote"])try{JSON.parse(t.thongTinChiTietHoSo["submissionNote"]);var n=JSON.parse(t.thongTinChiTietHoSo["submissionNote"]).data;for(i=0;i<n.length;i++)if(n[i].hasOwnProperty("actions")&&null!==n[i]["actions"]&&void 0!==n[i]["actions"]&&!d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(n[i]["actions"])){var s=[];s.push(n[i]["actions"]),n[i]["actions"]=s}t.dossierActions=n}catch(r){}}).catch(function(){if(t.thongTinChiTietHoSo["submissionNote"])try{JSON.parse(t.thongTinChiTietHoSo["submissionNote"]);for(var e=JSON.parse(t.thongTinChiTietHoSo["submissionNote"]).data,o=0;o<e.length;o++)if(e[o].hasOwnProperty("actions")&&null!==e[o]["actions"]&&void 0!==e[o]["actions"]&&!d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(e[o]["actions"])){var i=[];i.push(e[o]["actions"]),e[o]["actions"]=i}t.dossierActions=e}catch(a){}})}},loadMermaidgraph:function(e){var t=this;if(document.getElementById("mermaid_dossier").innerHTML="",t.thongTinChiTietHoSo.dossierId){var o={dossierId:t.thongTinChiTietHoSo.dossierId};t.loadingMermaidgraph=!0,t.$store.dispatch("loadMermaidgraph",o).then(function(e){t.loadingMermaidgraph=!1,mermaid.render("theGraph",e,function(e){document.getElementById("mermaid_dossier").innerHTML=e})}).catch(function(){t.loadingMermaidgraph=!1})}},loadDossierSyncs:function(e){var t=this;if(t.thongTinChiTietHoSo.dossierId){var o={dossierId:t.thongTinChiTietHoSo.dossierId,info:"1,2"};t.$store.dispatch("loadDossierSyncs",o).then(function(e){null!==e&&void 0!==e&&"undefined"!==e?d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(e)?t.dossierSyncs=e:t.dossierSyncs=[e]:t.dossierSyncs=[]})}},changeTypeTienTrinh:function(e){var t=this;2===e&&setTimeout(function(){t.loadMermaidgraph()},200)},loadDossierLogs:function(e){var t=this,o={dossierId:t.thongTinChiTietHoSo.dossierId},i=t.$store.dispatch("getListHistoryProcessingItems",o);i.then(function(e){t.listHistoryProcessing=[],t.listHistoryProcessing=e})},deleteDossierFileVersion:function(e){var t=this;e["dossierId"]=t.thongTinChiTietHoSo.dossierId,t.$store.dispatch("deleteAttackFiles",e).then(function(e){})},pickFile:function(e){document.getElementById("file"+e.partNo).click()},postChat:function(){var e=this;if(e.messageChat){var t={dossierId:e.thongTinChiTietHoSo.dossierId,actionCode:3===e.originality?"8200":"8100",actionNote:e.messageChat,actionUser:""};e.$store.dispatch("postAction",t).then(function(t){e.loadDossierSyncs()}),e.messageChat=""}},getNextAction:function(e){var t=this;if(t.actionIdCurrent=e.processActionId,1===e.type){var o={dossierId:t.thongTinChiTietHoSo.dossierId,actionId:e.processActionId};t.$store.dispatch("getNextAction",o).then(function(e){t.stepModel=e}).catch(function(e){t.stepModel=null})}else{var i={dossierId:t.thongTinChiTietHoSo.dossierId,actionId:e.processActionId};t.$store.dispatch("loadPlugin",i).then(function(e){t.stepModel=e}).catch(function(e){t.stepModel=null})}},processPullBtnplugin:function(e,t){var o=this,i={dossierId:o.thongTinChiTietHoSo.dossierId,processPluginId:e.processPluginId};o.dialogPlugin=!0,o.loadingPlugin=!0,o.$store.dispatch("loadPlugin",i).then(function(t){o.modelPlugin=t,o.modelPlugin["pluginName"]=e.pluginName,o.loadingPlugin=!1}).catch(function(e){o.modelPlugin=null,o.loadingPlugin=!1})},processPullBtnDetailRouter:function(e,t,o,i){var a=this,n=!1;if(a.dossierId=e.dossierId,a.showYkienCanBoThucHien=!1,a.showFormBoSungThongTinNgan=!1,a.showPhanCongNguoiThucHien=!1,a.showTaoTaiLieuKetQua=!1,a.showKyPheDuyetTaiLieu=!1,a.showTraKetQua=!1,a.showThuPhi=!1,a.showPostalService=!1,a.showThanhToanDienTu=!1,a.showEditDate=!1,a.showExtendDateEdit=!1,a.showThucHienThanhToanDienTu=!1,a.dossierItemDialogPick=e,a.itemDialogPick=t,a.resultDialogPick=o,a.indexDialogPick=i,a.userNote=0,o.hasOwnProperty("configNote")&&null!==o.configNote&&void 0!==o.configNote&&"undefined"!==o.configNote)try{a.configNote=JSON.parse(o.configNote),a.configNote.confirm&&(n=!0)}catch(r){}if(null!==o&&void 0!==o&&"undefined"!==o&&(o.hasOwnProperty("userNote")||o.hasOwnProperty("extraForm")||o.hasOwnProperty("allowAssignUser")||o.hasOwnProperty("createFiles")||o.hasOwnProperty("eSignature")||o.hasOwnProperty("returnFiles")||o.hasOwnProperty("payment")||o.hasOwnProperty("checkInput")||o.hasOwnProperty("overdue")||o.hasOwnProperty("betimes")||o.hasOwnProperty("preoverdue"))){if(!o.hasOwnProperty("userNote")||1!==o.userNote&&"1"!==o.userNote&&2!==o.userNote&&"2"!==o.userNote||(n=!0,a.showYkienCanBoThucHien=!0,a.userNote=o.userNote),o.hasOwnProperty("extraForm")&&o.extraForm&&(n=!0,a.showFormBoSungThongTinNgan=!0),o.hasOwnProperty("allowAssignUser")&&0!==o.allowAssignUser&&(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(o.toUsers)?a.assign_items=o.toUsers:a.assign_items=[o.toUsers],a.type_assign=o.allowAssignUser,n=!0,a.showPhanCongNguoiThucHien=!0),o.hasOwnProperty("createFiles")&&null!==o.createFiles&&void 0!==o.createFiles&&"undefined"!==o.createFiles&&(n=!0,d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(o.createFiles)?a.createFiles=o.createFiles:a.createFiles=[o.createFiles],a.showTaoTaiLieuKetQua=!0),o.hasOwnProperty("eSignature")&&o.eSignature&&(n=!0,a.showKyPheDuyetTaiLieu=!0,a.dataEsign=o),o.hasOwnProperty("returnFiles")&&null!==o.returnFiles&&void 0!==o.returnFiles&&"undefined"!==o.returnFiles&&(n=!0,d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(o.returnFiles)?a.returnFiles=o.returnFiles:a.returnFiles=[o.returnFiles],a.showTraKetQua=!0),o.hasOwnProperty("preCondition")&&null!==o.preCondition&&void 0!==o.preCondition&&"undefined"!==o.preCondition&&o.preCondition.indexOf("sendViaPostal=1")>=0&&(n=!0,a.showPostalService=!0),o.hasOwnProperty("payment")&&null!==o.payment&&void 0!==o.payment&&"undefined"!==o.payment&&o.payment.requestPayment>0)if(3===o.payment.requestPayment||"3"===o.payment.requestPayment){n=!0,a.showThanhToanDienTu=!0;var s={dossierId:a.dossierId,referenceUid:e.referenceUid};a.$store.dispatch("loadDossierPayments",s).then(function(e){a.paymentProfile=e}).catch(function(e){})}else n=!0,a.showThuPhi=!0,a.payments=o.payment,a.viaPortalDetail=e.viaPostal;o.hasOwnProperty("receiving")&&null!==o.receiving&&void 0!==o.receiving&&"undefined"!==o.receiving&&!0===o.receiving.editable&&(n=!0,a.showEditDate=!0,a.dueDateEdit=""!==o.receiving.dueDate?new Date(o.receiving.dueDate):"",a.receiveDateEdit=o.receiving.receiveDate),o.hasOwnProperty("overdue")&&(n=!0,a.showExtendDateEdit=!0,a.extendDateEdit=o.overdue,a.typeExtendDate="overdue"),o.hasOwnProperty("preoverdue")&&(n=!0,a.showExtendDateEdit=!0,a.extendDateEdit=o.preoverdue,a.typeExtendDate="preoverdue"),o.hasOwnProperty("betimes")&&(n=!0,a.showExtendDateEdit=!0,a.extendDateEdit=o.betimes,a.typeExtendDate="betimes")}n?(a.loadingAction=!1,a.dialogActionProcess=!0,a.loadingActionProcess=!1):(a.loadingAction=!0,a.processAction(a.thongTinChiTietHoSo,t,o,i,!1))},processPullBtnDetail:function(e,t){var o=this;o.btnIndex=t,o.itemAction=e,o.actionIdCurrent=e.processActionId,o.processActionCurrent=e.processActionId;var i={dossierId:o.thongTinChiTietHoSo.dossierId,actionId:e.processActionId};o.dossierId=o.thongTinChiTietHoSo.dossierId,o.loadingAction=!0,o.dialogActionProcess=!1,o.loadingActionProcess=!0,o.$store.dispatch("processPullBtnDetail",i).then(function(i){o.loadingActionProcess=!1,o.processPullBtnDetailRouter(o.thongTinChiTietHoSo,e,i,t)}).catch(function(e){o.loadingAction=!1,o.loadingActionProcess=!1})},btnActionEvent:function(e,t){var o=this;if(o.btnIndex=-1,o.itemAction=e,o.indexAction=t,e&&e.title?o.titleDialogPdf=e.title:o.titleDialogPdf="Tài liệu đính kèm",console.log("vm.titleDialogPdf++++++++++",o.titleDialogPdf),"UPDATE"===String(e.form))o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/ho-so/"+o.thongTinChiTietHoSo.dossierId+"/"+o.itemAction.form,query:o.$router.history.current.query});else if("ADD"===String(e.form))o.$router.push({path:"/danh-sach-ho-so/"+o.index+"/bo-sung-ho-so/"+o.thongTinChiTietHoSo.dossierId,query:o.$router.history.current.query});else if("COPY"===String(e.form))o.doCopy(o.thongTinChiTietHoSo,e,t);else if("CANCEL"===String(e.form))o.doCancel(o.thongTinChiTietHoSo,e,t);else if("PRINT_01"===String(e.form))o.doPrint01(o.thongTinChiTietHoSo,e,t);else if("PRINT_02"===String(e.form))o.doPrint02(o.thongTinChiTietHoSo,e,t);else if("PRINT_03"===String(e.form))o.doPrint03(o.thongTinChiTietHoSo,e,t);else if("GUIDE"===String(e.form));else if("PREVIEW"===String(e.form))o.doPreview(o.thongTinChiTietHoSo,e,t);else if("ACTIONS"===String(e.form));else if("DELETE"===String(e.form))o.doDeleteDossier(o.thongTinChiTietHoSo,e,t);else if("ROLLBACK_01"===String(e.form)){var i={dossierId:o.thongTinChiTietHoSo.dossierId,actionCode:9e3};o.doActionSpecial(i)}else if("ROLLBACK_02"===String(e.form)){var a={dossierId:o.thongTinChiTietHoSo.dossierId,actionCode:9e3};o.doActionSpecial(a)}else if("OVERDUE"===String(e.form)){o.btnIndex=8500;var n={actionCode:8500,dossierId:o.thongTinChiTietHoSo.dossierId,overdue:o.thongTinChiTietHoSo["extendDate"]?o.thongTinChiTietHoSo["extendDate"]:""};o.processPullBtnDetailRouter(o.thongTinChiTietHoSo,null,n,null)}else if("PREOVERDUE"===String(e.form)){o.btnIndex=8501;var s={actionCode:8501,dossierId:o.thongTinChiTietHoSo.dossierId,preoverdue:o.thongTinChiTietHoSo["extendDate"]?o.thongTinChiTietHoSo["extendDate"]:""};o.processPullBtnDetailRouter(o.thongTinChiTietHoSo,null,s,null)}else if("BETIMES"===String(e.form)){o.btnIndex=8400;var r={actionCode:8400,dossierId:o.thongTinChiTietHoSo.dossierId,betimes:o.thongTinChiTietHoSo["extendDate"]?o.thongTinChiTietHoSo["extendDate"]:""};o.processPullBtnDetailRouter(o.thongTinChiTietHoSo,null,r,null)}},doPrint01:function(e,t,o){var i=this;i.dialogPDFLoading=!0,i.dialogPDF=!0;var a={dossierId:e.dossierId,document:t.document};i.$store.dispatch("doPrint01",a).then(function(e){i.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doPreview:function(e,t,o){var i=this;i.dialogPDFLoading=!0,i.dialogPDF=!0;var a={dossierId:e.dossierId,document:t.document};i.$store.dispatch("doPrint03",a).then(function(e){i.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doCopy:function(e,t,o){var i=this,a={dossierId:e.dossierId};i.loadingAction=!0,i.$store.dispatch("doCopy",a).then(function(e){i.loadingAction=!1,i.$router.push({path:"/danh-sach-ho-so/"+i.index+"/ho-so/"+e.dossierId+"/"+i.itemAction.form,query:i.$router.history.current.query})}).catch(function(e){i.loadingAction=!1})},doDeleteDossier:function(e,t,o){var i=this,a=confirm("Bạn có muốn thực hiện hành động này?");if(!a)return!1;var n={dossierId:e.dossierId};i.$router.history.current.query;i.$store.dispatch("deleteDossier",n).then(function(e){i.dialogActionProcess=!1,i.loadingActionProcess=!1,i.goBack()})},doCancel:function(e,t,o){var i=this;i.loadingAction=!0;var a={dossierId:e.dossierId};i.$store.dispatch("doCancel",a).then(function(e){i.loadingAction=!1,i.indexAction=-1,i.$router.push({path:"/danh-sach-ho-so/"+i.index+"/ho-so/"+e.dossierId+"/"+i.itemAction.form,query:i.$router.history.current.query})}).catch(function(e){i.loadingAction=!1})},doCreateDossier:function(){var e=this,t={serviceCode:e.serviceCode,govAgencyCode:e.govAgencyCode,templateNo:e.templateNo,originality:e.getOriginality()};e.loadingAction=!0,e.$store.dispatch("postDossier",t).then(function(t){e.loadingAction=!1,e.indexAction=-1,e.$router.push({path:"/danh-sach-ho-so/"+e.index+"/ho-so/"+t.dossierId+"/"+e.itemAction.form,query:e.$router.history.current.query})}).catch(function(t){e.loadingAction=!1})},rollBack:function(){var e=this,t={dossierId:e.thongTinChiTietHoSo.dossierId};e.loadingAction=!0,e.$store.dispatch("rollBack",t).then(function(t){setTimeout(function(){e.loadingAction=!1,e.getNextActions(),e.rollbackable=!1,e.dialogActionProcess=!1,e.btnStateVisible=!0},500)}).catch(function(t){e.loadingAction=!1,e.alertObj={icon:"error",color:"error",message:"Trả lại bước trước không thành công!"},e.btnStateVisible=!1})},rollBackDossier:function(e){var t=this,o={dossierId:t.thongTinChiTietHoSo.dossierId,actionCode:9e3};if(e)t.doActionSpecial(o);else{var i=confirm("Bạn có chắc chắn thực hiện hành động này?");if(i){var a={dossierId:t.thongTinChiTietHoSo.dossierId};t.$store.dispatch("rollBack",a).then(function(e){}).catch(function(){})}}},processAction:function(e,t,o,i,a){var n=this,s=!0,r=!0,c=!0,l=!0,d=!0,_=!0,u=!1,p=n.$store.getters.loadingInitData,h=p.user.userName?p.user.userName:"",m={dossierId:e.dossierId,actionCode:o.actionCode,actionUser:h};if(n.showPhanCongNguoiThucHien){m["toUsers"]=n.assign_items;var g=n.$refs.phancong.doExport();s=!!g||(3===n.type_assign||4===n.type_assign)&&n.reAsignUsers.filter(function(e){return Number(e.assigned)>0}).length>0}var f=null;if(n.payments&&(f={requestPayment:n.payments["requestPayment"],paymentNote:n.payments["paymentNote"],advanceAmount:Number(n.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(n.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(n.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(n.payments["shipAmount"].toString().replace(/\./g,""))}),n.showThuPhi){m["payment"]=f;var v=f["feeAmount"]+f["serviceAmount"]+f["shipAmount"]-f["advanceAmount"];if(0===v&&3===n.originality){var y=confirm("Tổng phí còn phải nộp: 0 đồng. Bạn có muốn tiếp tục?");if(!y)return void(n.loadingActionProcess=!1)}}if(n.showThanhToanDienTu){n.$refs.epayment.validPayment();var C=n.$refs.epayment.validPayment(),D=n.$store.getters.getPaymentProfile;if(D&&D["paymentFile"]&&C){d=!0,m["payment"]={requestPayment:3,advanceAmount:D.advanceAmount?D.advanceAmount:0,feeAmount:D.feeAmount?D.feeAmount:0,paymentAmount:D.paymentAmount?D.paymentAmount:0,paymentNote:D.paymentNote?D.paymentNote:"",serviceAmount:D.serviceAmount?D.serviceAmount:0,shipAmount:D.shipAmount?D.shipAmount:0};var T=m["payment"],S=T["feeAmount"]+T["serviceAmount"]+T["shipAmount"]-T["advanceAmount"];if(0===S&&3===n.originality){var P=confirm("Tổng phí còn phải nộp: 0 đồng. Bạn có muốn tiếp tục?");if(!P)return void(n.loadingActionProcess=!1)}}else d=!1}if(n.showEditDate){var b=n.$refs.ngayhentra.getDateInput(),x={dueDate:b,receiveDate:n.receiveDateEdit};m["payload"]=x}if(n.showExtendDateEdit){var E=n.$refs.ngaygiahan.doExport();c=!!E.valid;var I={extendDate:E.extendDate};"overdue"===n.typeExtendDate?I={extendDate:E.extendDate,delayNote:E.text,lockState:""}:"preoverdue"===n.typeExtendDate&&(I={extendDate:E.extendDate,delayNote:E.text,lockState:"CONFIRM"}),m["payload"]=I}if(n.showFormBoSungThongTinNgan){m["payload"]=n.$refs.formBoSungThongTinNgan.formSubmitData();var A=n.$refs.formBoSungThongTinNgan.checkValid();_=!!A}if(n.showYkienCanBoThucHien){var O=n.$refs.ykiencanbo.doExport(),N="";O.valid?(r=!0,N=O.text):r=!1,m["userNote"]=N}if(n.showTaoTaiLieuKetQua&&(l=n.$refs.tailieuketqua.validCreateFileTemplate()),n.showKyPheDuyetTaiLieu){var w=n.$refs.kypheduyettailieu.doExport();w.required?u=!0:(u=!1,"digital"!==n.dataEsign.signatureType&&alert("Yêu cầu xác thực ký duyệt"))}n.validateAction=!!(s&&r&&c&&d&&_&&l),n.dossierId=e.dossierId;var k=n.$router.history.current.query;if(n.loadingActionProcess=!0,a){var F=confirm("Bạn có muốn thực hiện hành động này?");if(!F||!n.validateAction)return!1;n.loadingActionProcess=!0,n.$store.dispatch("processDossierRouter",m).then(function(e){n.loadingAction=!1,n.dialogActionProcess=!1,n.loadingActionProcess=!1,n.alertObj={icon:"check_circle",color:"success",message:"Thực hiện thành công!"},n.btnStateVisible=!1,e.hasOwnProperty("rollbackable")&&null!==e["rollbackable"]&&void 0!==e["rollbackable"]&&(n.rollbackable=e.rollbackable),e.hasOwnProperty("dossierDocumentId")&&null!==e["dossierDocumentId"]&&void 0!==e["dossierDocumentId"]&&0!==e["dossierDocumentId"]&&"0"!==e["dossierDocumentId"]&&(n.printDocument=!0),n.$router.push({path:n.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:k["q"]}})}).catch(function(e){n.loadingAction=!1,n.loadingActionProcess=!1})}else if(n.validateAction){if(2===n.checkInput&&null!==n.$refs.thanhphanhoso&&void 0!==n.$refs.thanhphanhoso&&"undefined"!==n.$refs.thanhphanhoso){var M=n.$refs.thanhphanhoso.validDossierTemplate();if(!M)return n.loadingAction=!1,void(n.loadingActionProcess=!1)}if(n.loadingActionProcess=!0,n.showKyPheDuyetTaiLieu){if(u){var L={dossierId:n.thongTinChiTietHoSo.dossierId,actionId:n.processActionCurrent};n.$store.dispatch("processPullBtnDetail",L).then(function(e){n.dataEsign=e;var t=n.$refs.kypheduyettailieu.checkCreateFile(n.dataEsign);if(t){var o,i;if(n.dataEsign.createFiles)if(o=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(n.dataEsign.createFiles)?n.dataEsign.createFiles:[n.dataEsign.createFiles],o=o.filter(function(e){return!0===e.eForm}),o.length>0)(function(){for(var e=o.length,t=0,a=function(a){var s=o[a];i=n.listDossierFiles.find(function(e){return e.dossierPartNo===s.partNo}),i?(i["dossierId"]=n.thongTinChiTietHoSo.dossierId,n.$store.dispatch("putAlpacaForm",i).then(function(o){t+=1,t===e&&(n.loadingAction=!1,n.loadingActionProcess=!1,n.doAction())}).catch(function(e){})):(s["dossierId"]=n.thongTinChiTietHoSo.dossierId,n.$store.dispatch("postEformEsignature",s).then(function(o){t+=1,t===e&&(n.loadingAction=!1,n.loadingActionProcess=!1,n.doAction())}).catch(function(e){}))},s=0;s<e;s++)a(s)})();else n.loadingAction=!1,n.loadingActionProcess=!1,alert("Chưa có tài liệu ký duyệt")}else{var a="";if(n.showThuPhi){a={requestPayment:n.payments["requestPayment"],paymentNote:n.payments["paymentNote"],advanceAmount:Number(n.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(n.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(n.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(n.payments["shipAmount"].toString().replace(/\./g,""))},e["payment"]=a;var s=a["feeAmount"]+a["serviceAmount"]+a["shipAmount"]-a["advanceAmount"];if(0===s&&3===n.originality){var c=confirm("Tổng phí còn phải nộp: 0 đồng. Bạn có muốn tiếp tục?");if(!c)return void(n.loadingActionProcess=!1)}}if(n.showYkienCanBoThucHien){var l=n.$refs.ykiencanbo.doExport(),d="";l.valid?(r=!0,d=l.text):r=!1,e["userNote"]=d}n.loadingAction=!1,n.loadingActionProcess=!1,n.$refs.kypheduyettailieu.kySo(e)}}).catch(function(e){n.loadingAction=!1,n.loadingActionProcess=!1})}}else if(!n.showPhanCongNguoiThucHien||3!==n.type_assign&&4!==n.type_assign)n.$store.dispatch("processDossierRouter",m).then(function(e){2!==n.checkInput&&"2"!==n.checkInput||n.$store.dispatch("updateApplicantNote",n.thongTinChiTietHoSo).then(function(e){}),n.loadingAction=!1,n.dialogActionProcess=!1,n.loadingActionProcess=!1,n.alertObj={icon:"check_circle",color:"success",message:"Thực hiện thành công!"},n.btnStateVisible=!1,e.hasOwnProperty("rollbackable")&&null!==e["rollbackable"]&&void 0!==e["rollbackable"]&&(n.rollbackable=e.rollbackable),e.hasOwnProperty("dossierDocumentId")&&null!==e["dossierDocumentId"]&&void 0!==e["dossierDocumentId"]&&0!==e["dossierDocumentId"]&&"0"!==e["dossierDocumentId"]&&(n.printDocument=!0),"new"===n.thongTinChiTietHoSo.dossierStatus&&1===n.originality&&n.$router.push("/danh-sach-ho-so/"+n.index+"/nop-thanh-cong/"+n.thongTinChiTietHoSo.dossierId),n.checkInput=0,n.$store.commit("setCheckInput",0),"ACTIONS"===String(t.form)||n.$router.push({path:n.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:k["q"]}}),jquery__WEBPACK_IMPORTED_MODULE_15___default()("html, body").animate({scrollTop:0},500,"linear")}).catch(function(e){n.loadingAction=!1,n.loadingActionProcess=!1});else{var H=n.$refs.phancong.getDataDelegacy();console.log("data_delegacy",H);var U={dossierId:n.thongTinChiTietHoSo.dossierId,users:H,delegacy:1};n.$store.dispatch("postDossierUserAsign",U).then(function(e){m["toUsers"]&&m["toUsers"].filter(function(e){return Number(e.assigned)>0}).length>0?n.$store.dispatch("processDossierRouter",m).then(function(e){2!==n.checkInput&&"2"!==n.checkInput||n.$store.dispatch("updateApplicantNote",n.thongTinChiTietHoSo).then(function(e){}),n.loadingAction=!1,n.dialogActionProcess=!1,n.loadingActionProcess=!1,n.alertObj={icon:"check_circle",color:"success",message:"Thực hiện thành công!"},n.btnStateVisible=!1,e.hasOwnProperty("rollbackable")&&null!==e["rollbackable"]&&void 0!==e["rollbackable"]&&(n.rollbackable=e.rollbackable),e.hasOwnProperty("dossierDocumentId")&&null!==e["dossierDocumentId"]&&void 0!==e["dossierDocumentId"]&&0!==e["dossierDocumentId"]&&"0"!==e["dossierDocumentId"]&&(n.printDocument=!0),"new"===n.thongTinChiTietHoSo.dossierStatus&&1===n.originality&&n.$router.push("/danh-sach-ho-so/"+n.index+"/nop-thanh-cong/"+n.thongTinChiTietHoSo.dossierId),n.checkInput=0,n.$store.commit("setCheckInput",0),"ACTIONS"===String(t.form)||n.$router.push({path:n.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:k["q"]}}),jquery__WEBPACK_IMPORTED_MODULE_15___default()("html, body").animate({scrollTop:0},500,"linear")}).catch(function(e){n.loadingAction=!1,n.loadingActionProcess=!1}):(toastr__WEBPACK_IMPORTED_MODULE_16___default.a.success("Yêu cầu thực hiện thành công"),setTimeout(function(){n.goBack()},300))}).catch(function(e){})}}},doPrint02:function(e,t,o,i){var a=this;if(null===a.thuTucHanhChinhSelected||void 0===a.thuTucHanhChinhSelected||"undefined"===a.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{var n={document:t.document,serviceCode:a.thuTucHanhChinhSelected.serviceCode,govAgencyCode:a.thuTucHanhChinhSelected.govAgencyCode,dossiers:d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_5___default()(a.selected)};a.dialogPDFLoading=!0,a.dialogPDF=!0,a.$store.dispatch("doPrint02",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})}},doPrint03:function(e,t,o,i){var a=this;a.dialogPDFLoading=!0,a.dialogPDF=!0;var n={dossierId:e.dossierId,document:t.document};a.$store.dispatch("doPrint03",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},doGuiding:function(e,t,o,i){var a=this;if(null===a.thuTucHanhChinhSelected||void 0===a.thuTucHanhChinhSelected||"undefined"===a.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{var n={serviceConfigId:a.thuTucHanhChinhSelected.serviceConfigId};a.dialogPDFLoading=!0,a.dialogPDF=!0,a.$store.dispatch("doGuiding",n).then(function(e){a.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})}},doActionSpecial:function(e){var t=this,o=t.$router.history.current.query;t.loadingAction=!0,t.$store.dispatch("postAction",e).then(function(e){t.loadingAction=!1,t.dialogActionProcess=!1,t.loadingActionProcess=!1,t.btnStateVisible=!1,e.hasOwnProperty("rollbackable")&&null!==e["rollbackable"]&&void 0!==e["rollbackable"]&&(t.rollbackable=e.rollbackable),e.hasOwnProperty("dossierDocumentId")&&null!==e["dossierDocumentId"]&&void 0!==e["dossierDocumentId"]&&0!==e["dossierDocumentId"]&&"0"!==e["dossierDocumentId"]&&(t.printDocument=!0),t.checkInput=0,t.$store.commit("setCheckInput",0),t.$router.push({path:t.$router.history.current.path,query:{recount:Math.floor(100*Math.random())+1,renew:Math.floor(100*Math.random())+1,q:o["q"]}})}).catch(function(e){t.loadingActionProcess=!1,t.loadingAction=!1})},getNextActions:function(){var e=this,t=(e.$router.history.current.query,{dossierId:e.thongTinChiTietHoSo.dossierId}),o=e.$router.history.current.query;e.dossierId=e.thongTinChiTietHoSo.dossierId,e.$store.dispatch("pullNextactions",t).then(function(t){if(e.btnDossierDynamics=t,o.hasOwnProperty("btnIndex")&&null!==o.btnIndex&&""!==o.btnIndex)if(e.btnStateVisible=!0,e.dialogActionProcess=!0,"8500"===o.btnIndex.toString()){var i={actionCode:8500,dossierId:e.thongTinChiTietHoSo.dossierId,overdue:e.thongTinChiTietHoSo["extendDate"]};e.processPullBtnDetailRouter(e.thongTinChiTietHoSo,null,i,null)}else if("8501"===o.btnIndex.toString()){var a={actionCode:8501,dossierId:e.thongTinChiTietHoSo.dossierId,preoverdue:e.thongTinChiTietHoSo["extendDate"]};e.processPullBtnDetailRouter(e.thongTinChiTietHoSo,null,a,null)}else if("8400"===o.btnIndex.toString()){var n={actionCode:8400,dossierId:e.thongTinChiTietHoSo.dossierId,betimes:e.thongTinChiTietHoSo["extendDate"]};e.processPullBtnDetailRouter(e.thongTinChiTietHoSo,null,n,null)}else 1===e.btnDossierDynamics[o.btnIndex].enable||2===e.btnDossierDynamics[o.btnIndex].enable?e.processPullBtnDetail(e.btnDossierDynamics[o.btnIndex],o.btnIndex):e.dialogActionProcess=!1;e.checkInput=e.getCheckInput,null!==e.getCheckInput&&void 0!==e.getCheckInput&&0!==e.checkInput&&setTimeout(function(){e.$refs.thanhphanhoso.initData(e.thongTinChiTietHoSo)},300),e.loadUserReAsign()}),e.$store.dispatch("loadPlugins",{dossierId:e.thongTinChiTietHoSo.dossierId}).then(function(t){e.btnPlugins=t}).catch(function(t){e.btnPlugins=[]}),e.thongTinChiTietHoSo.online&&!e.thongTinChiTietHoSo.originDossierNo&&(1===e.originality&&"new"!==e.thongTinChiTietHoSo["dossierStatus"]||3===e.originality)&&e.loadDossierSyncs(e.thongTinChiTietHoSo.dossierId)},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item.eform&&vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){var formScript,formData;formScript=resScript?eval("("+resScript+")"):{},formData=resData?eval("("+resData+")"):{},formScript.data=formData,window.$("#formAlpaca"+item.partNo).alpaca(formScript)})})},onUploadSingleFile:function(e,t,o){var i=this;e.dataItem=t,e["dossierId"]=i.thongTinChiTietHoSo.dossierId,e["dossierTemplateNo"]=i.thongTinChiTietHoSo.dossierTemplateNo,i.$store.dispatch("uploadSingleFile",e).then(function(e){}).catch(function(e){})},submitAlpacajsForm:function(e){var t=this,o={dossierId:t.thongTinChiTietHoSo.dossierId,dossierPartNo:e.partNo};t.$store.dispatch("putAlpacaForm",o)},postNextActions:function(e){var t=this;if(e["dossierId"]=t.thongTinChiTietHoSo.dossierId,e.allowAssignUser>0)t.$store.dispatch("reassignDossier",e).then(function(o){var i={dossierId:t.dossierId,actionCode:e.actionCode,actionNote:t.actionNote,actionUser:"",payload:"",security:"",assignUsers:"",payment:"",createDossiers:""};t.$store.dispatch("postAction",i).then(function(e){})});else{var o={dossierId:t.dossierId,actionCode:e.actionCode,actionNote:t.actionNote,actionUser:"",payload:"",security:"",assignUsers:"",payment:"",createDossiers:""};t.$store.dispatch("postAction",o).then(function(e){})}},viewFileWithPartNo:function(e){var t=this;if(t.dossierFilesItems){var o=t.dossierFilesItems.filter(function(t){return t.dossierPartNo===e.partNo});if(!o)return;t.fileViews=o,t.partView!==e.partNo?(t.stateView=!0,t.partView=e.partNo):(t.stateView=!t.stateView,t.partView=e.partNo)}},viewFile2:function(e){var t=this;t.dialogPDFLoading=!0,t.dialogPDF=!0,e["dossierId"]=t.thongTinChiTietHoSo.dossierId,t.$store.dispatch("viewFile",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},viewFileDocument:function(e){var t=this;t.dialogPDFLoading=!0,t.titleDialogPdf="Văn bản hành chính",t.dialogPDF=!0,e["dossierId"]=t.thongTinChiTietHoSo.dossierId,t.$store.dispatch("viewDocument",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=e})},loadTPHS:function(){var e=this;e.$refs.thanhphanhoso1&&setTimeout(function(){e.$refs.thanhphanhoso1.initData(e.thongTinChiTietHoSo)},150),e.$refs.thanhphanhoso2&&setTimeout(function(){e.$refs.thanhphanhoso2.initData(e.thongTinChiTietHoSo)},150),e.$store.dispatch("loadDossierDocuments",e.thongTinChiTietHoSo).then(function(t){d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(t)?e.documents=t:e.documents.push(t)})},loadThanhToan:function(){var e=this,t={dossierId:e.thongTinChiTietHoSo.referenceUid};e.$store.dispatch("loadDossierPayments",t).then(function(t){e.paymentDetail=t}).catch(function(e){})},loadPaymentFile:function(){var e=this;e.$refs.thongtinthanhtoan&&e.$refs.thongtinthanhtoan.getPaymentFiles()},loadHoSoLienThong:function(){var e=this,t=e.thongTinChiTietHoSo.dossierId;e.$store.dispatch("loadDossierLienThong",t).then(function(t){e.listLienThong=t}).catch(function(e){console.log(e)})},loadVoting:function(){var e=this,t={className:"dossier",classPk:e.id};e.$store.dispatch("loadVoting",t).then(function(t){e.votingItems=t,console.log("votingItems",e.votingItems)}).catch(function(e){})},getPreAction:function(){var e=this,t={dossierId:e.id};e.$store.dispatch("getPreAction",t).then(function(t){e.detailPreAction=t}).catch(function(e){})},submitVoting:function(){var e=this,t=[];if(e.votingItems.length>0){for(var o in e.loadingVoting=!0,e.votingItems)e.votingItems[o]["className"]="dossier",e.votingItems[o]["classPk"]=e.id,e.votingItems[o]["serverCode"]="SERVER_"+e.thongTinChiTietHoSo["govAgencyCode"],t.push(e.$store.dispatch("submitVoting",e.votingItems[o]));d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3___default.a.all(t).then(function(t){e.loadingVoting=!1,e.loadVoting(),toastr__WEBPACK_IMPORTED_MODULE_16___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_16___default.a.success("Đánh giá của bạn được gửi thành công")}).catch(function(t){e.loadingVoting=!1,toastr__WEBPACK_IMPORTED_MODULE_16___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_16___default.a.error("Gửi đánh giá không thành công")})}},doAction:function(){var e=this,t={dossierId:e.thongTinChiTietHoSo.dossierId,actionId:e.processActionCurrent};e.$store.dispatch("processPullBtnDetail",t).then(function(t){var o="";if(e.showThuPhi&&(o={requestPayment:e.payments["requestPayment"],paymentNote:e.payments["paymentNote"],advanceAmount:Number(e.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(e.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(e.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(e.payments["shipAmount"].toString().replace(/\./g,""))},t["payment"]=o),e.showYkienCanBoThucHien){var i=e.$refs.ykiencanbo.doExport();t["userNote"]=i.text}e.$refs.kypheduyettailieu.kySo(t)}).catch(function(t){e.loadingAction=!1,e.loadingActionProcess=!1})},printViewDocument:function(){var e=this;e.dialogPDFLoading=!0,e.dialogPDF=!0;var t={dossierId:e.thongTinChiTietHoSo.dossierId};e.$store.dispatch("doPrint03",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=t})},filterNextActionEnable:function(e){var t=!1;if(e&&d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(e))for(var o in e)0!==e[o]["enable"]&&(t=!0);return t},checkPemissionSpecialAction:function(e,t,o){var i=this,a=!0;if("PRINT_01"!==e&&"PRINT_02"!==e&&"PRINT_03"!==e&&"GUIDE"!==e&&"PREVIEW"!==e&&"BETIMES"!==e){var n=i.$store.getters.getUsersNextAction;if(n.length>0){var s=n.filter(function(e){if(void 0!==e&&void 0!==t)return e["userId"].toString()===t["userId"].toString()});a=s.length>0}else a=!1}return"ROLLBACK_01"!==e&&"ROLLBACK_02"!==e&&"ROLLBACK_03"!==e||(a=!1),a},checkPemissionPhanCongLai:function(e){var t=this,o=!0,i=t.$store.getters.getUsersNextAction,a=(t.thongTinChiTietHoSo.lastActionUserId&&t.thongTinChiTietHoSo.lastActionUserId,i);if(a.length>0){var n=a.filter(function(t){if(void 0!==t&&void 0!==e)return t["userId"].toString()===e["userId"].toString()});o=n.length>0}else o=!1;return o},reAsign:function(){var e=this;e.dialog_reAsign=!0},loadUserReAsign:function(){var e=this;e.$store.dispatch("getDossierUserAsign",e.thongTinChiTietHoSo.dossierId).then(function(t){t.length>0&&(e.reAsignUsers=t.filter(function(t){return Number(t["userId"])!==Number(e.currentUser["userId"])})),e.showReasign=!0,0===e.reAsignUsers.length&&(e.showReasign=!1),1===e.usersNextAction.length&&1===e.reAsignUsers.length&&Number(e.reAsignUsers[0]["userId"])===Number(e.usersNextAction[0]["userId"])&&(e.showReasign=!1)})},phanCongLai:function(){var e=this;e.dialog_reAsign=!0,e.reAsignUsers=e.detailPreAction["toUsers"]},doReAsign:function(){var e=this,t={dossierId:e.thongTinChiTietHoSo.dossierId,users:e.reAsignUsers,delegacy:0},o=e.$refs.phanconglai.doExport();o?(e.loadingAction=!0,e.$store.dispatch("postDossierUserAsign",t).then(function(t){toastr__WEBPACK_IMPORTED_MODULE_16___default.a.success("Thực hiện thành công"),setTimeout(function(){e.getNextActions()},300),e.dialog_reAsign=!1,e.loadingAction=!1}).catch(function(t){e.loadingAction=!1,console.log(t)})):toastr__WEBPACK_IMPORTED_MODULE_16___default.a.error("Vui lòng chọn người thực hiện")},changeStateViewResult:function(e){var t=this;t.stateViewResult=e},getUser:function(e){var t=this,o=t.$store.getters.getUser.role;if(!o)return!1;var i=o.findIndex(function(t){return t===e});return i>=0},checkActionSpecial:function(e){var t=this;if(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_10___default()(e)){var o=0;return jquery__WEBPACK_IMPORTED_MODULE_15___default()(e).each(function(e,i){if("PRINT_01"!==i.form&&"PRINT_02"!==i.form&&"PRINT_03"!==i.form&&"GUIDE"!==i.form&&"PREVIEW"!==i.form&&"BETIMES"!==i.form){var a=t.$store.getters.getUsersNextAction;if(a.length>0){var n=a.filter(function(e){if(void 0!==e&&void 0!==currentUser)return e["userId"].toString()===currentUser["userId"].toString()});n.length>0&&(o+=1)}}}),o>0}return!1}}),Object(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_onegate_21_fe_node_modules_babel_runtime_corejs2_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["a"])(_props$components$dat,"filters",{dateTimeView:function(e){if(e){var t=new Date(Number(e));return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear()," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))}return""},getMaxDueDate:function(e){var t=Math.max.apply(Math,e.map(function(e){return e.actionOverdue}));return t},getThoiHanQuyDinh:function(e){return e>0?e+" ngày":""}}),_props$components$dat)},f374:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"payment-info",staticStyle:{width:"100%"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),1===e.data_payment.requestPayment||4===e.data_payment.requestPayment||5===e.data_payment.requestPayment?o("span",[e._v(e._s(e.data_payment.paymentFee))]):e._e(),2===e.data_payment.requestPayment?o("span",[e._v("Lập phiếu thanh toán")]):e._e()]),o("v-card",[o("v-card-text",{staticClass:"pb-1"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Lệ phí: ")])],1),o("v-flex",{attrs:{xs12:"",sm3:""}},[1===e.data_payment.editable||3===e.data_payment.editable?o("v-text-field",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:e.changeFee},model:{value:e.data_payment.feeAmount,callback:function(t){e.$set(e.data_payment,"feeAmount",t)},expression:"data_payment.feeAmount"}}):o("p",{staticClass:"mt-1 mb-0"},[e._v(e._s(e.currency(e.data_payment.feeAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),o("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Phí: ")])],1),o("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm3:""}},[2===e.data_payment.editable||3===e.data_payment.editable?o("v-text-field",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:e.changeFee},model:{value:e.data_payment.serviceAmount,callback:function(t){e.$set(e.data_payment,"serviceAmount",t)},expression:"data_payment.serviceAmount"}}):o("p",{staticClass:"mt-1 mb-0"},[e._v(e._s(e.currency(e.data_payment.serviceAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}}),2!==e.viaPortal&&"2"!==e.viaPortal||0===e.data_payment.shipAmount?e._e():o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Phí chuyển phát: ")])],1),2!==e.viaPortal&&"2"!==e.viaPortal||0===e.data_payment.shipAmount?e._e():o("v-flex",{attrs:{xs12:"",sm3:""}},[1===e.data_payment.editable||3===e.data_payment.editable?o("v-text-field",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:e.changeFee},model:{value:e.data_payment.shipAmount,callback:function(t){e.$set(e.data_payment,"shipAmount",t)},expression:"data_payment.shipAmount"}}):o("p",{staticClass:"mt-1 mb-0"},[e._v(e._s(e.currency(e.data_payment.shipAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),o("v-flex",{attrs:{xs12:"",sm2:""}})],1)],1),o("v-card-text",{staticClass:"pt-0"},[o("v-layout",{attrs:{wrap:""}},[1===e.data_payment.requestPayment?o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[o("span",{staticClass:"text-bold"},[e._v("Tổng: ")])])],1):e._e(),1===e.data_payment.requestPayment?o("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[o("span",[e._v(e._s(e.currency(e.feeTong.toString().replace(/\./g,"")))+"    vnđ")])]):e._e(),1===e.data_payment.requestPayment?o("v-flex",{attrs:{xs12:"",sm1:""}}):e._e(),2===e.data_payment.requestPayment?o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[o("span",{staticClass:"text-bold"},[e._v("Tổng: ")])])],1):e._e(),2===e.data_payment.requestPayment?o("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[o("span",[e._v(e._s(e.currency(e.totalFee.toString().replace(/\./g,"")))+"    vnđ")])]):e._e(),2===e.data_payment.requestPayment?o("v-flex",{attrs:{xs12:"",sm1:""}}):e._e(),4===e.data_payment.requestPayment||5===e.data_payment.requestPayment?o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[o("span",{staticClass:"text-bold"},[e._v("Tổng: ")])])],1):e._e(),4===e.data_payment.requestPayment||5===e.data_payment.requestPayment?o("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[o("span",[e._v(e._s(e.currency(e.feeTong.toString().replace(/\./g,"")))+"    vnđ")])]):e._e(),4===e.data_payment.requestPayment?o("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[o("span",{staticClass:"text-bold"},[e._v("Đã tạm nộp: ")])])],1):e._e(),4===e.data_payment.requestPayment?o("v-flex",{staticClass:"pt-1",staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[1===e.data_payment.editable||3===e.data_payment.editable?o("v-text-field",{directives:[{name:"money",rawName:"v-money",value:e.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:e.changeFee},model:{value:e.data_payment.advanceAmount,callback:function(t){e.$set(e.data_payment,"advanceAmount",t)},expression:"data_payment.advanceAmount"}}):o("span",[e._v(e._s(e.currency(Number(e.data_payment.advanceAmount.toString().replace(/\./g,"")).toString().replace(/\./g,"")))+"    vnđ")])],1):e._e(),4===e.data_payment.requestPayment?o("v-flex",{attrs:{xs12:"",sm1:""}}):e._e(),4===e.data_payment.requestPayment?o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[o("span",{staticClass:"text-bold"},[e._v("Còn phải nộp: ")])])],1):e._e(),4===e.data_payment.requestPayment?o("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[o("span",[e._v(e._s(e.currency(e.totalFee.toString().replace(/\./g,"")))+"    vnđ")])]):e._e(),4===e.data_payment.requestPayment?o("v-flex",{attrs:{xs12:"",sm1:""}}):e._e()],1),o("v-layout",{staticStyle:{position:"relative"},attrs:{wrap:""}},[o("v-flex",{staticClass:"my-0 py-1",staticStyle:{width:"70px"}},[o("span",{staticClass:"red--text"},[e._v("* ")]),e._v(" Ghi chú:")]),o("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[0==e.activeEdit?o("div",{staticClass:"pl-2"},[o("v-textarea",{staticClass:"py-0",attrs:{row:"2",readonly:e.activeEdit,required:""},model:{value:e.data_payment.paymentNote,callback:function(t){e.$set(e.data_payment,"paymentNote",t)},expression:"data_payment.paymentNote"}})],1):e._e(),e.activeEdit||""===e.data_payment.paymentNote?o("p",{staticClass:"px-2 my-0 py-1"},[e._v("\n                "+e._s(e.data_payment.paymentNote)+"   \n                "),1==e.activeEdit?o("v-icon",{staticClass:"hover-pointer btn-add mx-0 my-0",attrs:{color:"blue",size:"20",title:"Sửa",grey:"","darken-4":""},on:{click:function(t){t.stopPropagation(),e.activeEdit=!1}}},[e._v("\n                  create\n                ")]):e._e()],1):e._e(),o("span",{staticStyle:{position:"absolute",top:"15px",right:"10px"}},[0==e.activeEdit?o("v-icon",{staticClass:"hover-pointer btn-add mx-0 my-0",attrs:{color:"green",size:"25",grey:"","darken-4":""},on:{click:function(t){t.stopPropagation(),e.activeEdit=!0}}},[e._v("\n                  check\n                ")]):e._e()],1)])],1),e.paymentFile&&5===e.data_payment.requestPayment?o("div",[o("span",[o("span",{staticClass:"red--text"},[e._v("* ")]),e._v(" File báo thanh toán:")]),e._v(" \n            "),o("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile()}}},[o("v-icon",[e._v("attach_file")]),e._v("\n              "+e._s(e.paymentFileName)+"\n            ")],1),o("v-tooltip",{attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:"",ripple:""},on:{click:function(t){t.stopPropagation(),e.downloadPaymentFile(e.item)}},slot:"activator"},[o("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{size:"16",color:"primary"}},[e._v("save_alt")])],1),o("span",[e._v("Tải xuống")])],1)],1):e._e()],1)],1)],1)],1),o("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[o("v-card",[o("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("File đính kèm")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[o("v-icon",[e._v("close")])],1)],1),e.dialogPDFLoading?o("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[o("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),o("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},a=[],n=(o("6b54"),o("a481"),o("c5f6"),o("cadf"),o("551c"),o("097d"),o("716b")),s={props:{payments:{type:Object,default:function(){}},viaPortal:{type:Number,default:function(){return 0}},detailDossier:{type:Object,default:function(){}}},model:{prop:"payments"},data:function(){return{data_payment:{},money:{decimal:"",thousands:".",prefix:"",suffix:"",precision:0,masked:!1},totalFee:0,feeTamThu:0,feeTong:0,checkPaid:!0,activeEdit:!0,paymentFile:"",dialogPDF:!1,dialogPDFLoading:!0}},directives:{money:n["VMoney"]},created:function(){var e=this;e.data_payment=e.payments,e.payments&&setTimeout(function(){var t="number"===typeof e.payments.feeAmount?Number(e.payments.feeAmount):Number(e.payments.feeAmount.toString().replace(/\./g,""));if(1===e.payments.requestPayment){var o="number"===typeof e.payments.serviceAmount?Number(e.payments.serviceAmount):Number(e.payments.serviceAmount.toString().replace(/\./g,""));e.feeTong=t+o,e.totalFee=t+o}else if(2===e.payments.requestPayment){var i=e.payments.serviceAmount?Number(e.payments.serviceAmount.toString().replace(/\./g,"")):0,a=e.payments.shipAmount?Number(e.payments.shipAmount.toString().replace(/\./g,"")):0;2!==e.viaPortal&&"2"!==e.viaPortal||0===a?e.totalFee=t+i:e.totalFee=t+i+a}else{var n=e.payments.advanceAmount?Number(e.payments.advanceAmount.toString().replace(/\./g,"")):0,s=e.payments.serviceAmount?Number(e.payments.serviceAmount.toString().replace(/\./g,"")):0,r=e.payments.shipAmount?Number(e.payments.shipAmount.toString().replace(/\./g,"")):0;if(2!==e.viaPortal&&"2"!==e.viaPortal||0===r?(e.feeTong=t+s,e.totalFee=t+s-n):(e.feeTong=t+s+r,e.totalFee=t+s+r-n),5===e.payments.requestPayment){var c=e.detailDossier;e.$store.dispatch("getPaymentFiles",c).then(function(t){e.paymentFile=t})}}e.totalFee<0&&(e.totalFee=0)},300)},computed:{paymentFileName:function(){return this.$store.getters.getPaymentFileName},originality:function(){var e=this;return e.getOriginality()}},watch:{viaPortal:function(e){console.log("viaPortal",e),this.changeFee()},detailDossier:function(e){var t=this;if(5===t.payments.requestPayment){var o=e;console.log("run get paymentfile",o),t.$store.dispatch("getPaymentFiles",o).then(function(e){t.paymentFile=e})}}},methods:{changeFee:function(){var e=this,t=e.data_payment,o=t.feeAmount?Number(t.feeAmount.toString().replace(/\./g,"")):0;if(1===t.requestPayment){var i=e.payments.serviceAmount?Number(e.payments.serviceAmount.toString().replace(/\./g,"")):0;e.feeTong=o+i,e.totalFee=o+i}else if(2===t.requestPayment){var a=e.payments.serviceAmount?Number(e.payments.serviceAmount.toString().replace(/\./g,"")):0,n=e.payments.shipAmount?Number(e.payments.shipAmount.toString().replace(/\./g,"")):0;2!==e.viaPortal&&"2"!==e.viaPortal||0===n?e.totalFee=o+a:e.totalFee=o+a+n}else{var s=Number(t.advanceAmount.toString().replace(/\./g,"")),r=Number(t.serviceAmount.toString().replace(/\./g,"")),c=Number(t.shipAmount.toString().replace(/\./g,""));2!==e.viaPortal&&"2"!==e.viaPortal||0===c?(e.feeTong=o+r,e.totalFee=o+r-s):(e.feeTong=o+r+c,e.totalFee=o+r+c-s)}e.totalFee<0&&(e.totalFee=0)},viewFile:function(){var e=this;e.dialogPDFLoading=!0,e.dialogPDF=!0;var t={dossierId:e.detailDossier.dossierId,referenceUid:e.detailDossier.referenceUid};e.$store.dispatch("viewPaymentFile",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPreview").src=t})},downloadPaymentFile:function(e){var t=this,o="/o/rest/v2/dossiers/"+t.detailDossier.dossierId+"/payments/"+t.detailDossier.referenceUid+"/confirmfile";window.open(o)},currency:function(e){if(e){var t=(e/1).toFixed(0).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""},goBack:function(){window.history.back()}},filters:{}},r=s,c=o("2877"),l=o("6544"),d=o.n(l),_=o("8336"),u=o("b0af"),p=o("99d9"),h=o("169a"),m=o("cd55"),g=o("49e2"),f=o("0e8f"),v=o("132d"),y=o("a722"),C=o("490a"),D=o("9910"),T=o("e0c7"),S=o("2677"),P=o("a844"),b=o("71d9"),x=o("2a7f"),E=o("3a2f"),I=Object(c["a"])(r,i,a,!1,null,null,null);t["a"]=I.exports;d()(I,{VBtn:_["a"],VCard:u["a"],VCardText:p["b"],VDialog:h["a"],VExpansionPanel:m["a"],VExpansionPanelContent:g["a"],VFlex:f["a"],VIcon:v["a"],VLayout:y["a"],VProgressCircular:C["a"],VSpacer:D["a"],VSubheader:T["a"],VTextField:S["a"],VTextarea:P["a"],VToolbar:b["a"],VToolbarTitle:x["b"],VTooltip:E["a"]})},f716:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("20d6"),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__),toastr__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_3__);toastr__WEBPACK_IMPORTED_MODULE_3___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:{id:{type:String,default:function(){return"nm"}},detailDossier:{type:Object,default:function(){}},createFiles:{type:Array,default:function(){return[]}}},data:function(){return{dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],sampleCount:0,fileTemplateItems:[]}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData}},created:function(){var e=this;e.page=1,e.$nextTick(function(){console.log("vm.detailDossier------------",e.detailDossier),e.detailDossier["dossierId"]&&e.$store.dispatch("loadDossierFiles",e.detailDossier.dossierId).then(function(t){e.dossierFilesItems=t,e.createFiles=e.mergeDossierTemplateVsDossierFiles(e.createFiles,t),console.log("vm.createFiles------------",e.createFiles),console.log("vm.dossierFilesItems------------",e.dossierFilesItems)}).catch(function(e){})})},mounted:function(){var e=this;e.$nextTick(function(){e.createFiles.length>0&&setTimeout(function(){console.log("vm.createFiles------------",e.createFiles),console.log("vm.dossierFilesItems------------",e.dossierFilesItems),e.genAllAlpacaForm(e.dossierFilesItems,e.createFiles)},300)})},methods:{genAllAlpacaForm:function(e,t){var o=this;if(e.length>0){var i=e.filter(function(e){return e.eForm}),a=t.filter(function(e){return e.eForm});i.length>0?i.forEach(function(e){e.eForm&&o.$store.dispatch("loadAlpcaForm",e)}):t.forEach(function(e){e.eForm&&(e["templateFileNo"]=o.detailDossier.dossierTemplateNo,o.showAlpacaJSFORM(e))}),a.length!==i.length&&a.forEach(function(e){var t=i.findIndex(function(t){return e.partNo===t.dossierPartNo});-1===t&&(e["templateFileNo"]=o.detailDossier.dossierTemplateNo,o.showAlpacaJSFORM(e))})}else t.forEach(function(e){e.eForm&&(e["templateFileNo"]=o.detailDossier.dossierTemplateNo,o.showAlpacaJSFORM(e))})},mergeDossierTemplateVsDossierFiles:function(e,t){return 0!==t.length?e.forEach(function(e){var o=t.find(function(t){return e.partNo===t.dossierPartNo&&t.eForm});o?e["daKhai"]=!0:!o&&e.eForm&&(e["daKhai"]=!1)}):e.forEach(function(e){e.eForm&&(e["daKhai"]=!1)}),e},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item["dossierId"]=vm.detailDossier.dossierId,vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){var formScript,formData;window.$("#formAlpaca"+item.partNo+vm.id).empty(),formScript=resScript?eval("("+resScript+")"):{},formData=resData?eval("("+resData+")"):{},formScript.data=formData,window.$("#formAlpaca"+item.partNo+vm.id).alpaca(formScript)})})},loadAlpcaForm:function(e){var t=this,o=t.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm});o?(o["id"]=t.id,t.$store.dispatch("loadAlpcaForm",o)):t.createFiles.forEach(function(o){o.eForm&&e.partNo===o.partNo&&(o["templateFileNo"]=t.detailDossier.dossierTemplateNo,t.showAlpacaJSFORM(o))})},previewFileEfom:function(e,t){var o=this;o.dossierFilesItems.forEach(function(t){t.dossierPartNo===e.partNo&&t.eForm&&(t["dossierId"]=o.detailDossier.dossierId,o.dialogPDFLoading=!0,o.dialogPDF=!0,t["id"]=o.id,o.$store.dispatch("putAlpacaForm",t).then(function(e){setTimeout(function(){o.$store.dispatch("viewFile",t).then(function(e){o.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+o.id).src=e})},1e3)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_3___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")}))})},viewFile:function(e){var t=this,o=this;o.dossierFilesItems.forEach(function(i){i["dossierId"]=o.detailDossier.dossierId,i.dossierPartNo===e.partNo&&t.$store.dispatch("viewFile",i)})},viewFile2:function(e){var t=this;if("doc"===e.fileType||"docx"===e.fileType||"xlsx"===e.fileType||"xls"===e.fileType||"zip"===e.fileType||"rar"===e.fileType||"txt"===e.fileType){var o=t.initDataResource.dossierApi+"/"+t.detailDossier.dossierId+"/files/"+e.referenceUid;window.open(o)}else t.dialogPDFLoading=!0,t.dialogPDF=!0,e["dossierId"]=t.detailDossier.dossierId,t.$store.dispatch("viewFile",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+t.id).src=e})},viewFileWithPartNo:function(e){var t=this;if(t.dossierFilesItems){var o=t.dossierFilesItems.filter(function(t){return t.dossierPartNo===e.partNo&&!t.eForm});if(!o)return;t.fileViews=o,t.partView!==e.partNo?(t.stateView=!0,t.partView=e.partNo):(t.stateView=!t.stateView,t.partView=e.partNo)}},checkStyle:function(e){return"calc(100% - 50px)"},downloadFileTemplate:function(e,t){var o=this;if(o.fileTemplateItems.length>0){var i=o.fileTemplateItems.find(function(t){return e.fileTemplateNo===t.fileTemplateNo});if(i){var a=o.initDataResource.serviceInfoApi+"/"+i.serviceCode+"/filetemplates/"+i.fileTemplateNo;window.open(a)}else console.log("ko thay file")}}}}},fc7b:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"payment-info",staticStyle:{width:"100%"}},[o("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[o("v-expansion-panel-content",[o("div",{attrs:{slot:"header"},slot:"header"},[o("div",{staticClass:"background-triangle-small"},[o("v-icon",{attrs:{size:"18",color:"white"}},[e._v("star_rate")])],1),o("span",[e._v(e._s(e.paymentProfile.paymentFee))])]),o("v-card",[o("v-card-text",{staticClass:"px-4 pb-1"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Lệ phí: ")])],1),o("v-flex",{attrs:{xs12:"",sm3:""}},[o("p",{staticClass:"mt-1 mb-0"},[e._v(e._s(e.currency(Number(e.paymentProfile.feeAmount)))+"    vnđ")])]),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Phí: ")])],1),o("v-flex",{attrs:{xs12:"",sm3:""}},[o("p",{staticClass:"mt-1 mb-0"},[e._v(e._s(e.currency(Number(e.paymentProfile.serviceAmount)))+"    vnđ")])]),o("v-flex",{attrs:{xs12:"",sm2:""}}),2!==e.detailDossier.viaPostal&&"2"!==e.detailDossier.viaPostal||0===e.paymentProfile.shipAmount?e._e():o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[e._v("Phí chuyển phát: ")])],1),o("v-flex",{attrs:{xs12:"",sm3:""}},[2!==e.detailDossier.viaPostal&&"2"!==e.detailDossier.viaPostal||0===e.paymentProfile.shipAmount?e._e():o("p",{staticClass:"mt-1 mb-0"},[e._v("\n                "+e._s(e.currency(Number(e.paymentProfile.shipAmount)))+"    vnđ\n              ")])])],1)],1),o("v-card-text",{staticClass:"px-4 pt-0"},[o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[o("span",{staticClass:"text-bold"},[e._v("Tổng: ")])])],1),o("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[o("span",[e._v(e._s(e.currency(Number(e.feeTong)))+"    vnđ")])]),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[o("span",{staticClass:"text-bold"},[e._v("Đã tạm nộp: ")])])],1),o("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[o("span",[e._v(e._s(e.currency(Number(e.paymentProfile.advanceAmount)))+"    vnđ")])]),o("v-flex",{attrs:{xs12:"",sm1:""}}),o("v-flex",{attrs:{xs12:"",sm2:""}},[o("v-subheader",{staticClass:"pl-0 text-right"},[o("span",{staticClass:"text-bold"},[e._v("Còn phải nộp: ")])])],1),o("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[o("span",[e._v(e._s(e.currency(e.totalFee))+"    vnđ")])]),o("v-flex",{attrs:{xs12:"",sm1:""}})],1),o("v-layout",{staticStyle:{position:"relative"},attrs:{wrap:""}},[o("v-flex",{staticClass:"my-0 py-1",staticStyle:{width:"70px"}},[o("span",{staticClass:"red--text"},[e._v("* ")]),e._v(" Ghi chú:")]),o("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[o("p",{staticClass:"px-2 my-0 py-1"},[e._v("\n                "+e._s(e.paymentProfile.paymentNote)+"   \n              ")])])],1),o("p",{staticClass:"mb-0"},[o("span",{staticClass:"red--text"},[e._v("* ")]),e._v(" Lựa chọn hình thức thanh toán:")]),o("v-btn",{staticClass:"ml-3 mr-2",attrs:{dark:"",small:"",color:"blue darken-1"},nativeOn:{click:function(t){return function(){return e.isBank=!0}()}}},[o("v-icon",[e._v("account_balance")]),e._v("  \n            Thanh toán chuyển khoản\n          ")],1),e.getEPaymentProfile(e.paymentProfile.epaymentProfile)?o("v-btn",{staticClass:"ml-2 mr-2",attrs:{dark:"",small:"",color:"amber accent-4"},nativeOn:{click:function(t){e.toKeyPay(e.getEPaymentProfile(e.paymentProfile.epaymentProfile).keypayUrl)}}},[o("v-icon",[e._v("payment")]),e._v("  \n            Thanh toán điện tử\n          ")],1):e._e(),e.isBank?o("div",{staticClass:"ml-3 mt-2 px-2 py-1",staticStyle:{border:"1px solid #004b9485","border-radius":"3px"}},[o("div",[o("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"paymentFile1"},on:{change:function(t){e.uploadPaymentFile(t)}}}),o("span",{staticClass:"text-bold",staticStyle:{color:"#004b94!important"}},[e._v("Tải lên file báo thanh toán chuyển khoản (Định dạng: .png, .jpg, .jpeg)")]),e.progressUploadPart?o("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):o("v-tooltip",{staticClass:"ml-2",attrs:{top:""}},[o("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(t){e.pickFile()}},slot:"activator"},[o("v-badge",[o("v-icon",{attrs:{size:"24",color:"#004b94"}},[e._v("cloud_upload")])],1)],1),o("span",[e._v("Tải file lên")])],1)],1),e.paymentFile?o("div",[o("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile()}}},[o("v-icon",{attrs:{size:"24",color:"#004b94"}},[e._v("insert_drive_file")]),o("span",{staticClass:"ml-2"},[e._v(e._s(e.paymentFileName))]),o("v-btn",{staticClass:"ml-3 mr-2",attrs:{dark:"",small:"",color:"blue darken-1"},on:{click:function(t){t.stopPropagation(),e.downloadPaymentFile(e.item)}}},[o("v-icon",[e._v("cloud_download")]),e._v("  \n                  Tải xuống\n                ")],1),o("v-btn",{staticClass:"ml-2 mr-2",attrs:{dark:"",small:"",color:"blue darken-1"},on:{click:function(t){t.stopPropagation(),e.pickFile()}}},[o("v-icon",[e._v("cloud_upload")]),e._v("  \n                  Cập nhật\n                ")],1)],1)]):e._e(),e.epaymentValid?e._e():o("span",{staticStyle:{color:"#f44336"}},[e._v("* Yêu cầu tải lên file báo thanh toán")])]):e._e(),!e.isBank&&e.errorNotSelect?o("p",{staticStyle:{color:"#f44336"}},[e._v("* Yêu cầu lựa chọn hình thức thanh toán")]):e._e()],1)],1)],1)],1),o("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:"primary"}},[o("v-toolbar-title",[e._v("File đính kèm")]),o("v-spacer"),o("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[o("v-icon",[e._v("close")])],1)],1),e.dialogPDFLoading?o("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[o("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),o("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},a=[],n=(o("6b54"),o("a481"),o("c5f6"),o("1157")),s=o.n(n),r=o("854a"),c=o.n(r),l=o("716b");c.a.options={closeButton:!0,timeOut:"5000"};var d={props:{paymentProfile:{type:Object,default:function(){}},detailDossier:{type:Object,default:function(){}}},data:function(){return{data_payment:{advanceAmount:"",feeAmount:"",serviceAmount:"",shipAmount:"",paymentAmount:"",paymentNote:"",paymentFile:""},paymentFile:"",epaymentValid:!0,money:{decimal:"",thousands:".",prefix:"",suffix:"",precision:0,masked:!1},totalFee:0,feeTamThu:0,feeTong:0,checkPaid:!0,activeEdit:!0,progressUploadPart:!1,dialogPDF:!1,dialogPDFLoading:!0,isBank:!1,errorNotSelect:!1}},directives:{money:l["VMoney"]},created:function(){var e=this;if(e.detailDossier.hasOwnProperty("dossierId")){var t=e.detailDossier;e.$store.dispatch("getPaymentFiles",t).then(function(t){e.paymentFile=t,e.data_payment["paymentFile"]=e.paymentFile,e.$store.commit("setPaymentProfile",e.data_payment)})}},computed:{paymentFileName:function(){return this.$store.getters.getPaymentFileName},isBank:function(e){!0===e&&(this.errorNotSelect=!1)}},watch:{paymentProfile:function(e){var t=this;t.paymentProfile&&(t.feeTong=Number(t.paymentProfile.feeAmount)+Number(t.paymentProfile.serviceAmount),2!==t.detailDossier.viaPostal&&"2"!==t.detailDossier.viaPostal||0===t.paymentProfile.shipAmount||(t.feeTong=Number(t.paymentProfile.feeAmount)+Number(t.paymentProfile.serviceAmount)+Number(t.paymentProfile.shipAmount)),console.log("feeTong",t.feeTong),t.totalFee=t.feeTong-Number(t.paymentProfile.advanceAmount),t.totalFee<0&&(t.totalFee=0),t.data_payment={advanceAmount:t.paymentProfile.advanceAmount,feeAmount:t.paymentProfile.feeAmount,serviceAmount:t.paymentProfile.serviceAmount,shipAmount:t.paymentProfile.shipAmount,paymentAmount:t.totalFee,paymentNote:t.paymentProfile.paymentNote,paymentFile:t.paymentFile},t.$store.commit("setPaymentProfile",t.data_payment))},detailDossier:function(e){var t=this;if(e.hasOwnProperty("dossierId")){var o=e;t.$store.dispatch("getPaymentFiles",o).then(function(e){t.paymentFile=e,t.data_payment["paymentFile"]=t.paymentFile,t.$store.commit("setPaymentProfile",t.data_payment)})}}},methods:{uploadPaymentFile:function(e){var t=this;t.progressUploadPart=!0;var o={};o["dossierId"]=t.detailDossier.dossierId,o["referenceUid"]=t.detailDossier.referenceUid,o["selector"]="paymentFile1",o["partTip"]={tip:"",maxSize:10,extensions:"jpg,png,jpeg"};s()("#paymentFile1")[0].files[0];t.$store.dispatch("uploadPaymentFile",o).then(function(e){t.epaymentValid=!0,t.progressUploadPart=!1,t.paymentFile=e,t.data_payment["paymentFile"]=t.paymentFile,t.$store.commit("setPaymentProfile",t.data_payment),t.$store.dispatch("getPaymentFiles",o).then(function(e){t.paymentFile=e,t.data_payment["paymentFile"]=t.paymentFile,t.$store.commit("setPaymentProfile",t.data_payment)})}).catch(function(e){t.progressUploadPart=!1})},viewFile:function(){var e=this;e.dialogPDFLoading=!0,e.dialogPDF=!0;var t={dossierId:e.detailDossier.dossierId,referenceUid:e.detailDossier.referenceUid};e.$store.dispatch("viewPaymentFile",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPreview").src=t})},getEPaymentProfile:function(e){if(!e)return"";try{return JSON.parse(e),JSON.parse(e)}catch(t){return""}},deleteFile:function(e){var t=this,o=confirm("Bạn có chắc chắn xóa file?");o&&(e["dossierId"]=t.dossierId,t.$store.dispatch("deletePaymentFile",e).then(function(e){c.a.clear(),c.a.success("Xóa file thành công."),t.paymentFile="",t.data_payment["paymentFile"]=t.paymentFile,t.$store.commit("setPaymentProfile",t.data_payment)}).catch(function(e){c.a.clear(),c.a.error("Xóa file thất bại.")}))},downloadPaymentFile:function(e){var t=this,o="/o/rest/v2/dossiers/"+t.detailDossier.dossierId+"/payments/"+t.detailDossier.referenceUid+"/confirmfile";window.open(o)},pickFile:function(){document.getElementById("paymentFile1").value="",document.getElementById("paymentFile1").click()},currency:function(e){return e&&e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):0},validPayment:function(){return this.paymentFile?this.epaymentValid=!0:this.epaymentValid=!1,this.isBank?this.errorNotSelect=!1:this.errorNotSelect=!0,!1!==this.isBank},toKeyPay:function(e){window.open(e,"_self")},goBack:function(){window.history.back()}},filters:{}},_=d,u=o("2877"),p=o("6544"),h=o.n(p),m=o("4ca6"),g=o("8336"),f=o("b0af"),v=o("99d9"),y=o("169a"),C=o("cd55"),D=o("49e2"),T=o("0e8f"),S=o("132d"),P=o("a722"),b=o("490a"),x=o("9910"),E=o("e0c7"),I=o("71d9"),A=o("2a7f"),O=o("3a2f"),N=Object(u["a"])(_,i,a,!1,null,null,null);t["a"]=N.exports;h()(N,{VBadge:m["a"],VBtn:g["a"],VCard:f["a"],VCardText:v["b"],VDialog:y["a"],VExpansionPanel:C["a"],VExpansionPanelContent:D["a"],VFlex:T["a"],VIcon:S["a"],VLayout:P["a"],VProgressCircular:b["a"],VSpacer:x["a"],VSubheader:E["a"],VToolbar:I["a"],VToolbarTitle:A["b"],VTooltip:O["a"]})}});
//# sourceMappingURL=app.js.map