(function(e){function t(t){for(var i,r,l=t[0],s=t[1],c=t[2],u=0,p=[];u<l.length;u++)r=l[u],n[r]&&p.push(n[r][0]),n[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],i=!0,l=1;l<a.length;l++){var s=a[l];0!==n[s]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=a[0]))}return e}var i={},n={app:0},o=[];function r(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=i,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;o.push(["56d7","chunk-vendors"]),a()})({"0b6e":function(module,__webpack_exports__,__webpack_require__){"use strict";var _DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fa98"),axios__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);__webpack_exports__["a"]={props:["id","datainput"],components:{DatetimePicker:_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__["a"]},data:function(){return{isCallBack:!0,config:{},pullOk:!0,pullCounter:0,valid:!0,loading:!1,data:{},cmOptions:{tabSize:4,mode:"text/javascript",theme:"base16-light",lineNumbers:!0,line:!0},rules:{required:function(e){return!!e||"Bắt buộc phải nhập."},number:function(e){var t=/^\d+$/;return t.test(e)||"Bắt buộc phải nhập kiểu số."},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Sai định dạng thư điện tử."}},dataForm:""}},created:function(){var e=this;if("0"!==String(e.id)){e.data=e.datainput;try{e.dataForm=JSON.parse(e.data["formData"])}catch(t){}}else e.processDataSource()},computed:{detailForm:function(){var e=this.$store.getters.getContentFileSimple;return""===e?[]:e},dataSocket:{get:function(){return this.$store.getters.dataSocket},set:function(e){this.$store.commit("setdataSocket",e)}},pullCounterOrg:function(){return this.$store.getters.pullCounter},activeBindFormData:function(){return this.$store.getters.getActiveBindFormData}},updated:function(){var e=this;e.$nextTick((function(){e.isCallBack&&(e.isCallBack=!1,e.processDataSource(),setTimeout((function(){if("0"!==String(e.id)){e.data=e.datainput;try{e.dataForm=JSON.parse(e.data["formData"])}catch(t){}}0===e.pullCounterOrg&&(e.pullOk=!0),setTimeout((function(){e.pullOk=!0}),1e3)}),500))}))},mounted:function(){var e=this;e.processDataSource()},watch:{data:{handler:function(e){var t=this;t.$store.commit("setChangeFormData",e),t.$store.commit("setActiveBindFormData",!t.activeBindFormData)},deep:!0},datainput:function(e){var t=this;if("0"!==String(t.id)){t.data=e;try{t.dataForm=JSON.parse(t.data["formData"])}catch(a){}}}},methods:{clearLoading:function(){this.loading=!1},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")},processChangeDataSource:function(e,t){var a=this;t.hasOwnProperty("concatina")&&(a.pullOk=!1,a.pullCounter=a.pullCounter+1)},processDataSourceVerify:function(){var e=this,t=function(t){e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")&&e.data.hasOwnProperty(e.detailForm[t]["model"])&&String(e.data[e.detailForm[t]["model"]]).startsWith("[")&&(e.data[e.detailForm[t]["model"]]=JSON.parse(e.data[e.detailForm[t]["model"]])),"0"===String(e.id)&&"subject"===e.detailForm[t]["model"]&&(e.detailForm[t]["model"]="  ",setTimeout((function(){e.detailForm[t]["model"]="subject"}),200))};for(var a in e.detailForm)t(a)},processDataSource:function(){var e=this,t=function(t){if(e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")){e.pullCounter=e.pullCounter+1;var a=e.detailForm[t]["datasource_api"];e.detailForm[t]["dependency"]&&e.detailForm[t].hasOwnProperty("pk")&&(a=a+"?pk="+e.id+"&col="+e.detailForm[t]["pk"]);var i={headers:{groupId:e.getScopeGroupId()}};axios__WEBPACK_IMPORTED_MODULE_1___default.a.get(a,i).then((function(a){var i=a.data;i["data"]?e.data[e.detailForm[t]["datasource_key"]]=i["data"]:e.data[e.detailForm[t]["datasource_key"]]=i,e.detailForm[t]["value"]&&"0"===String(e.id)&&(e.data[e.detailForm[t]["model"]]=e.detailForm[t]["value"]),e.processDataSourceVerify()})).catch((function(e){}))}};for(var a in e.detailForm)t(a)},parseDate:function(e){if(e){var t=new Date(Number(e));return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear())}return""},checkVisible:function(e,t){if(e["visible"]){var a=String(e["visible"]).split(",");return a.filter((function(e){return e===t["deliverableType"]})).length>0}return!0}},filters:{parseDateFilter:function(e){if(e){var t=new Date(Number(e));return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear())}return""}}}},"1f98":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!==e.layout_view&&void 0!==e.layout_view&&"undefined"!==e.layout_view?a("my-dynamic-view"):e._e()},n=[],o=a("f8a0"),r=o["a"],l=a("2877"),s=Object(l["a"])(r,i,n,!1,null,null,null);s.options.__file="template_rendering.vue";t["a"]=s.exports},"2af9":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",staticClass:"px-3 pt-3 vuejx__form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"mb-5 pt-0",attrs:{id:"formDelivert"}})])],1)],1)},n=[],o=a("be4e"),r=o["a"],l=a("2877"),s=a("6544"),c=a.n(s),d=a("0e8f"),u=a("4bd4"),p=a("a722"),_=Object(l["a"])(r,i,n,!1,null,null,null);_.options.__file="BbatTableEditorComponent.vue";var m=_.exports;c()(_,{VFlex:d["a"],VForm:u["a"],VLayout:p["a"]});var v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",staticClass:"px-3 py-2 grid-list",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[null!==e.detailForm&&e.detailForm.length>0?a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.detailForm,(function(t,i){return a("v-flex",{key:i,class:t["class"]},[e.checkVisible(t,e.data)?a("v-flex",["date"===t.type?a("v-text-field",{class:t["class_component"],staticStyle:{"pointer-events":"none"},attrs:{value:t["valueFormData"]?e.dataForm[t.model]:e.parseDate(e.data[t.model]),box:""}},[a("template",{slot:"label"},[e._v(e._s(t["label"])+" "),t.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2):e._e(),"avatar"===t.type?a("attached-file-avatar",{attrs:{pk:e.data[t.model],"pick-item":t,"current-data":e.data}}):e._e(),"button"===t.type&&t["link"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:"",to:t.url+"?pk="+e.data[t.pk]+"&col="+t.pk}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(t.label)+"\n        ")],1):e._e(),"button"===t.type&&t["account"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAccount(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(t.label)+"\n        ")],1):e._e(),"button"===t.type&&t["attached"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAttached(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(t.label)+"\n        ")],1):e._e(),"button"===t.type&&t["fileform"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAttached(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(t.label)+"\n        ")],1):e._e(),"selects"===t.type&&!e.pullOk&&t.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),"combobox"===t.type&&e.pullOk&&t.hasOwnProperty("datasource_key")?a("v-combobox",{class:t["class_component"],attrs:{items:e.dataSocket[t["datasource_key"]],"item-text":t.itemText,"item-value":t.itemValue,box:"",label:t.required?t["label"]+" *":t["label"],rules:e.processRules(t.rules),"no-data-text":"Không tìm thấy dữ liệu "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"selects"===t.type&&e.pullOk&&t.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:t["class_component"],style:t["disable"]?"pointer-events: none":"",attrs:{items:e.data[t["datasource_key"]],"item-text":t.itemText,"item-value":t.itemValue,box:"",rules:e.processRules(t.rules),"no-data-text":"Không tìm thấy dữ liệu "+t["label"],chips:t["chips"],multiple:t["multiple"]},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t["model"]],callback:function(a){e.$set(e.data,t["model"],a)},expression:"data[item['model']]"}},[a("template",{slot:"label"},[e._v(e._s(t["label"])+" "),t.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2):e._e(),"selects"!==t.type||t.hasOwnProperty("datasource_key")?e._e():a("v-autocomplete",{class:t["class_component"],attrs:{items:t.datasource,"item-text":t.itemText,"item-value":t.itemValue,box:"",rules:e.processRules(t.rules),"no-data-text":"Không tìm thấy dữ liệu "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[a("template",{slot:"label"},[e._v(e._s(t["label"])+" "),t.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2),"text-fields"===t.type?a("v-text-field",{class:t["class_component"],staticStyle:{"pointer-events":"none"},attrs:{value:t["valueFormData"]?e.dataForm[t.model]:e.data[t.model],rules:e.processRules(t.rules),placeholder:t["placeholder"],box:""}},[a("template",{slot:"label"},[e._v(e._s(t["label"])+" "),t.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2):e._e(),"textarea"===t.type?a("v-textarea",{class:t["class_component"],staticStyle:{"pointer-events":"none"},attrs:{value:t["valueFormData"]?e.dataForm[t.model]:e.data[t.model],rules:e.processRules(t.rules),placeholder:t["placeholder"],box:"",rows:t["rows"]?t["rows"]:5}},[a("template",{slot:"label"},[e._v(e._s(t["label"])+" "),t.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2):e._e(),"codemirror"===t.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(t["label"]))]):e._e(),"codemirror"===t.type?a("codemirror",{attrs:{options:e.cmOptions},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"v-switch"===t.type?a("v-switch",{class:t["class_component"],attrs:{label:t["label"]},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),e._l(t["alongside"],(function(i,n){return t.hasOwnProperty("alongside")?a("div",{key:n},["avatar"===i.type?a("attached-file-avatar",{class:i["class_component"],attrs:{pk:e.data[i.model],"pick-item":i}}):e._e(),"date"===i.type?a("datetime-picker",{class:i["class_component"],attrs:{item:i,"data-value":e.data[i.model]},model:{value:e.data[i.model],callback:function(t){e.$set(e.data,i.model,t)},expression:"data[itemChild.model]"}}):e._e(),"button"===i.type&&i["link"]&&(i.dependency&&"0"!==String(e.id)||!i.dependency)?a("v-btn",{class:i["class_component"],attrs:{color:"blue darken-3",dark:"",to:i.url+"?pk="+e.data[i.pk]+"&col="+i.pk}},["link"===i["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===i["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n            "+e._s(i.label)+"\n          ")],1):e._e(),"button"===i.type&&i["account"]&&(i.dependency&&"0"!==String(e.id)||!i.dependency)?a("v-btn",{class:i["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.showAccount(i)}}},["link"===i["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===i["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n            "+e._s(i.label)+"\n          ")],1):e._e(),"button"===i.type&&i["attached"]&&(i.dependency&&"0"!==String(e.id)||!i.dependency)?a("v-btn",{class:i["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.showAttached(i)}}},["link"===i["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===i["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n            "+e._s(i.label)+"\n          ")],1):e._e(),"selects"===i.type&&!e.pullOk&&i.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),"selects"===i.type&&e.pullOk&&i.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:i["class_component"],attrs:{items:e.dataSocket[i["datasource_key"]],"item-text":i.itemText,"item-value":i.itemValue,box:"",label:i.required?i["label"]+" *":i["label"],rules:e.processRules(i.rules),"no-data-text":"Không tìm thấy dữ liệu "+i["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(t){e.processChangeDataSource(t,i)}},model:{value:e.data[i.model],callback:function(t){e.$set(e.data,i.model,t)},expression:"data[itemChild.model]"}}):e._e(),"selects"!==i.type||i.hasOwnProperty("datasource_key")?e._e():a("v-autocomplete",{class:i["class_component"],attrs:{items:i.datasource,"item-text":i.itemText,"item-value":i.itemValue,box:"",label:i.required?i["label"]+" *":i["label"],rules:e.processRules(i.rules),"no-data-text":"Không tìm thấy dữ liệu "+i["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(t){e.processChangeDataSource(t,i)}},model:{value:e.data[i.model],callback:function(t){e.$set(e.data,i.model,t)},expression:"data[itemChild.model]"}}),"text-fields"===i.type?a("v-text-field",{class:i["class_component"],attrs:{label:i.required?i["label"]+" *":i["label"],rules:e.processRules(i.rules),placeholder:i["placeholder"],box:""},model:{value:e.data[i.model],callback:function(t){e.$set(e.data,i.model,t)},expression:"data[itemChild.model]"}}):e._e(),"textarea"===i.type?a("v-textarea",{class:i["class_component"],attrs:{label:i.required?i["label"]+" *":i["label"],rules:e.processRules(i.rules),placeholder:i["placeholder"],box:"",clearable:""},model:{value:e.data[i.model],callback:function(t){e.$set(e.data,i.model,t)},expression:"data[itemChild.model]"}}):e._e(),"codemirror"===i.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(i["label"]))]):e._e(),"codemirror"===i.type?a("codemirror",{attrs:{options:e.cmOptions},model:{value:e.data[i.model],callback:function(t){e.$set(e.data,i.model,t)},expression:"data[itemChild.model]"}}):e._e(),"v-switch"===i.type?a("v-switch",{class:i["class_component"],attrs:{label:i["label"]},model:{value:e.data[i.model],callback:function(t){e.$set(e.data,i.model,t)},expression:"data[itemChild.model]"}}):e._e()],1):e._e()}))],2):e._e()],1)})),1):e._e()],1)},f=[],h=a("0b6e"),g=h["a"],b=a("c6a6"),y=a("8336"),D=a("2b5d"),x=a("132d"),C=a("e0c7"),w=a("b73d"),k=a("2677"),P=a("a844"),E=Object(l["a"])(g,v,f,!1,null,null,null);E.options.__file="BbatTableEditorComponentSimple.vue";var T=E.exports;c()(E,{VAutocomplete:b["a"],VBtn:y["a"],VCombobox:D["a"],VFlex:d["a"],VForm:u["a"],VIcon:x["a"],VLayout:p["a"],VSubheader:C["a"],VSwitch:w["a"],VTextField:k["a"],VTextarea:P["a"]});var O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",position:"absolute","line-height":"46px"}},[e._v("Tổng số "),a("span",{staticClass:"text-bold primary--text"},[e._v(e._s(e.total))]),e._v(". ")]),e.total>0?a("div",{staticClass:"vue-tiny-pagination pagination layout",staticStyle:{"justify-content":"flex-end","-webkit-justify-content":"flex-end"}},[a("div",{staticClass:"px-3 xs2 flex"},[a("v-autocomplete",{attrs:{items:e.totalPagesData,"item-text":"text","item-value":"value",autocomplete:""},on:{input:e.goToPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),a("ul",{staticClass:"tiny-pagination",class:e.customClass},[a("li",{staticClass:"page-item",class:e.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:e.classFirstPage,on:{click:function(t){return t.preventDefault(),e.lastPageLast(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("first_page")])])]),a("li",{staticClass:"page-item",class:e.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:e.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(t){return t.preventDefault(),e.lastPage(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("chevron_left")])])]),a("li",{staticClass:"page-item",class:e.classLastPage,staticStyle:{"margin-right":"0"}},[a("button",{staticClass:"pagination__navigation",class:e.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(t){return t.preventDefault(),e.nextPage(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("chevron_right")])])]),a("li",{staticClass:"page-item",class:e.classLastPage},[a("button",{staticClass:"pagination__navigation",class:e.classLastPage,on:{click:function(t){return t.preventDefault(),e.nextPageLast(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("last_page")])])])])]):e._e()])},S=[],F="TinyPagination",I={name:F,props:{total:{type:Number,required:!0},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},limits:{type:Array,default:function(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0}},data:function(){return{version:"0.2.1",currentPage:1,currentLimit:15,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created:function(){this.currentPage=this.page},watch:{page:function(e){this.currentPage=parseInt(e)}},computed:{translation:function(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages:function(){return Math.ceil(this.total/this.currentLimit)},totalPagesData:function(){for(var e=[],t={},a=1;a<=this.totalPages;++a)t={value:a,text:"Trang "+a},e.push(t);return e},titlePage:function(){return"".concat(this.currentPage)},classFirstPage:function(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage:function(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}}},methods:{nextPage:function(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast:function(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast:function(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage:function(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange:function(){this.currentPage=1}}},A=I,L=Object(l["a"])(A,O,S,!1,null,null,null);L.options.__file="TinyPagination.vue";var M=L.exports;c()(L,{VAutocomplete:b["a"]});a("fa98");var U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"pdfViewerComponent",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})])},B=[],R={props:["id","datainput"],data:function(){return{data:{},dialogPDFLoading:!0,isCallBack:!0,pdfBlob:null}},created:function(){var e=this;e.$nextTick((function(){setTimeout((function(){e.data=e.datainput,e.pullPDF(e.data["fileEntryId"])}),100)}))},methods:{pullPDF:function(e){var t=this;t.dialogPDFLoading=!0,t.$store.dispatch("viewPDF",e).then((function(e){t.dialogPDFLoading=!1,document.getElementById("pdfViewerComponent").src=e}))}}},N=R,$=Object(l["a"])(N,U,B,!1,null,null,null);$.options.__file="ViewPDF.vue";var V=$.exports,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.logs,(function(t,i){return a("div",{key:i,staticClass:"list_history_style"},[a("td",{staticClass:"px-2 pt-2 col-tien-trinh-2"},[e._v(e._s(i))]),a("td",{staticClass:"text-xs-left px-2 py-2"},[a("p",{staticClass:"mb-1"},[a("span",[e._v(e._s(t.actionDate))]),e._v(" - "),a("b",[e._v(e._s(t.author))]),e._v(" : "),a("span",{staticStyle:{color:"rgb(11, 114, 186)"}},[e._v(e._s(e.support["state_"+t.deliverableAction]))])])])])})),0)},W=[],q=a("bbd0"),j={props:["id","datainput"],data:function(){return{support:q.deliverableState,dialogPDFLoading:!0,isCallBack:!0,pdfBlob:null,logs:[]}},created:function(){var e=this;e.$nextTick((function(){setTimeout((function(){e.pullLogs()}),100)}))},methods:{pullLogs:function(){var e=this;e.$store.dispatch("viewLogs",e.id).then((function(t){e.logs=t}))}}},z=j,G=Object(l["a"])(z,K,W,!1,null,null,null);G.options.__file="ViewLogs.vue";var H=G.exports,Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"mb-5",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"control-section uploader customdroparea",attrs:{xs12:"",sm5:""}},[a("div",{staticClass:"control_wrapper px-3 mx-1 py-3"},[a("div",{staticClass:"sample_wrapper tai_giay_to"},[a("div",{attrs:{id:"dropArea"}},[a("span",{staticClass:"droparea",attrs:{id:"drop"}},[e._v(" Tải giấy phép, "),a("a",{attrs:{href:"javascript:;",id:"browse"}},[e._v("Chọn từ máy tính   📤")])]),e.tempShow?a("ejs-uploader",{ref:"uploadObj",attrs:{autoUpload:e.auto,id:"templateupload",name:"UploadFiles",allowedExtensions:e.extensions,asyncSettings:e.path,dropArea:e.dropArea,success:e.onSuccess,removing:e.onFileRemove,uploading:e.addHeaders}}):e._e()],1)])])]),e.fileTemplateTotal>0?a("v-flex",{staticClass:"tai_giay_to",attrs:{xs12:"",sm7:""}},[a("div",{staticClass:"mt-3 mb-1 mx-3 text-center text-bold"},[e._v("Giấy tờ đã tải lên")]),a("div",{staticClass:"e-upload-done-list"},[a("ul",{staticClass:"e-upload-files"},[a("li",{staticClass:"e-upload-file-list"},[a("div",{staticClass:"container pt-2",staticStyle:{position:"relative","min-height":"75px"}},e._l(e.fileTemplateData,(function(t,i){return a("v-layout",{key:i,staticClass:"pl-2 py-1 mb-1",staticStyle:{background:"#f3f3f3"},attrs:{wrap:""}},[a("span",{class:["icon sf-icon-"+t["extension"]]}),a("v-flex",{staticStyle:{width:"calc(100% - 100px)"}},[a("div",{staticClass:"name file-name"},[a("span",[e._v(e._s(t["fileName"]))]),a("p",{staticStyle:{"margin-top":"5px","font-size":"10px","margin-bottom":"0"}},[e._v("\n                    ( "+e._s((t["size"]/1048576).toFixed(2))+" MB )\n                  ")])])]),a("v-flex",{staticStyle:{width:"90px"}},[a("v-btn",{attrs:{flat:"",icon:"",color:"primary",title:"Tải xuống",loading:e.loading,disabled:e.loading},nativeOn:{click:function(a){e.processDownloadFileAttach(t)}}},[a("v-icon",{attrs:{size:"14"}},[e._v("save_alt")])],1),a("v-btn",{staticClass:"mx-0",attrs:{flat:"",icon:"",color:"red darken-3",title:"Xóa",loading:e.loadingRemove,disabled:e.loadingRemove},nativeOn:{click:function(a){e.processDeleteFileAttach(t)}}},[a("v-icon",{attrs:{size:"14"}},[e._v("delete")])],1)],1)],1)})),1)])])])]):e._e()],1)},Y=[],J=a("a026"),X=a("e0e8"),Z=a("7de8");J["a"].use(X["a"]);var ee={data:function(){return{tempShow:!0,loadingRemove:!1,loading:!1,fileTemplateData:[],fileTemplateTotal:0,pathHidden:{saveUrl:"",removeUrl:""},path:{saveUrl:"",removeUrl:""},extensions:".pdf",dropArea:"dropArea",rawData:[],className:""}},props:["pk","auto"],created:function(){var e=this;e.$nextTick((function(){e.loadFileTemplate()}))},mounted:function(){var e=this;this.path={saveUrl:"/o/v1/opencps/users/upload/opencps_deliverable/org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId/"+this.pk,removeUrl:"/"+this.pk},this.className="org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId",document.getElementById("browse").onclick=function(){return document.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1},document.getElementById("dropArea").onclick=function(t){if(t.target.classList.contains("e-file-delete-btn"))for(var a=0;a<e.$refs.uploadObj.getFilesData().length;a++)t.target.closest("li").getAttribute("data-file-name")===e.$refs.uploadObj.getFilesData()[a].name&&e.$refs.uploadObj.remove(e.$refs.uploadObj.getFilesData()[a]);else t.target.classList.contains("e-file-remove-btn")&&Object(Z["s"])(t.target.closest("li"))}},methods:{doUploadLate:function(e){var t=this;if(t.$refs.uploadObj.getFilesData().length>0){t.path={saveUrl:"/o/v1/opencps/users/upload/opencps_deliverable/org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId/"+e,removeUrl:"/"+e};var a={id:e};t.$store.dispatch("uploadSingleFile",a)}},addHeaders:function(e){var t=this;e.currentRequest.setRequestHeader("Token",t.getAuthToken()),e.currentRequest.setRequestHeader("groupId",t.getScopeGroupId())},loadFileTemplate:function(){var e=this,t={className:e.className,pk:e.pk};e.$store.dispatch("getAttachFileData",t).then((function(t){e.fileTemplateData=t.data,e.fileTemplateTotal=t.total;var a=document.getElementById("rightAttachedCounter");null!==a&&void 0!==a&&e.fileTemplateTotal>0&&(a.innerHTML="Tổng số: "+e.fileTemplateTotal+" ")})).catch((function(e){}))},onSuccess:function(){var e=this;setTimeout((function(){document.getElementById("dropArea").querySelectorAll(".e-upload-success").forEach((function(e){return e.parentNode.removeChild(e)})),e.loadFileTemplate()}),2e3)},onFileRemove:function(e){e.postRawFile=!1},processDeleteFileAttach:function(e){var t=this;e["className"]=t.className,confirm("Bạn có chắc muốn xoá bản ghi này?")&&(t.loadingRemove=!0,t.$store.dispatch("removeServiceFileTemplate",e).then((function(){t.loadingRemove=!1,t.loadFileTemplate()})).catch((function(e){t.loadingRemove=!1,alert("Xoá file xảy ra lỗi."+e)})))},processDownloadFileAttach:function(e){var t=this;t.loading=!0,e["className"]=t.className,t.$store.dispatch("downloadServiceFileTemplate",e).then((function(){t.loading=!1})).catch((function(e){t.loading=!1,alert("Tải file xảy ra lỗi."+e)}))}}},te=ee,ae=Object(l["a"])(te,Q,Y,!1,null,null,null);ae.options.__file="AttachedFileTemplate.vue";var ie=ae.exports;c()(ae,{VBtn:y["a"],VFlex:d["a"],VIcon:x["a"],VLayout:p["a"]}),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return T})),a.d(t,"d",(function(){return M})),a.d(t,"f",(function(){return V})),a.d(t,"e",(function(){return H})),a.d(t,"a",(function(){return ie}))},"34e8":function(e,t,a){"use strict";var i="\n    {\n        getDeliverableLogs(fk: INPUTBODY,start: -1, end: -1) {\n            actionDate\n            author\n            deliverableAction\n        }\n    }\n";t["a"]={getDeliverableLogs:i}},"3c87":function(e,t,a){"use strict";var i='\n    {\n        getAdminConfig(code: "opencps_deliverable") {\n            detailColumns\n        }\n    }\n';t["a"]={getAdminConfig:i}},4360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return store}));var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2f62"),toastr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_2__),axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__),_support_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("bbd0"),_support_json__WEBPACK_IMPORTED_MODULE_4___namespace=__webpack_require__.t("bbd0",1),_AdminConfig__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("3c87"),jquery__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_6__),file_saver__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("21a6"),file_saver__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_7__),_DeliverableTypes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("beb1"),_Deliverable__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("eaa6"),_DeliverableLogs__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("34e8");vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(toastr__WEBPACK_IMPORTED_MODULE_2___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vuex__WEBPACK_IMPORTED_MODULE_1__["a"]);var store=new vuex__WEBPACK_IMPORTED_MODULE_1__["a"].Store({state:{userPermission:!1,groupId:void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,snackbarerror:!1,snackbarsocket:!1,refreshSocket:0,initData:{},dataSocket:{},pullCounter:0,tocken:"",loginUser:[{email:"",role:""}],user:{role:""},socket:{isConnected:!1,message:"",reconnectError:!1},isConnected:!1,endPointApi:"/o/rest/v2",getDeliverableTypes:[],getContentFile:"",getContentFileSimple:[],changeFormData:"",activeBindFormData:!1},actions:{loadInitResource:function(e){var t=e.commit,a=e.state;return new Promise((function(e){null!==window.themeDisplay&&void 0!==window.themeDisplay?(a.initData["groupId"]=window.themeDisplay.getScopeGroupId(),a.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(a.initData["groupId"]=0,a.initData["user"]={userName:"",userEmail:"",userId:20103}),""===a["user"].role?store.dispatch("getRoleUser").then((function(i){a["user"].role=i,t("setInitData",a.initData),e(a.initData)})).catch((function(i){a["user"].role=["default"],t("setInitData",a.initData),e(a.initData)})):(t("setInitData",a.initData),e(a.initData))}))},downloadServiceFileTemplate:function(e,t){var a=e.commit,i=e.state;return new Promise((function(e,n){store.dispatch("loadInitResource").then((function(){var o={headers:{groupId:i.initData.groupId,"Content-Type":"application/octet-stream"},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/users/upload/download/opencps_deliverable/"+t["className"]+"/"+t["fileAttachId"],o).then((function(a){file_saver__WEBPACK_IMPORTED_MODULE_7___default()(a.data,t["uuid"]+"."+t["extension"]),e({status:!0})})).catch((function(e){n(e),a("setsnackbarerror",!0)}))}))}))},removeServiceFileTemplate:function(e,t){var a=e.commit,i=e.state;return new Promise((function(e,n){store.dispatch("loadInitResource").then((function(){var o={headers:{groupId:i.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete("/o/v1/opencps/users/upload/delete/opencps_deliverable/"+t["className"]+"/"+t["classPK"],o).then((function(){e({status:!0})})).catch((function(e){n(e),a("setsnackbarerror",!0)}))}))}))},getAttachFileData:function(e,t){var a=e.commit,i=e.state;return new Promise((function(e,n){store.dispatch("loadInitResource").then((function(){var o={headers:{groupId:i.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/fileattach/"+t["className"]+"/"+t["pk"],o).then((function(t){var a=t.data;a.data&&e(a)})).catch((function(e){n(e),a("setsnackbarerror",!0)}))}))}))},viewPDF:function(e,t){e.commit;var a=e.state;return new Promise((function(e,i){store.dispatch("loadInitResource").then((function(n){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/deliverable/file/"+t,o).then((function(t){var a=t.data;e(a)})).catch((function(e){i(e)}))}))}))},viewLogs:function(e,t){var a=e.commit,i=e.state;return new Promise((function(e,n){store.dispatch("loadInitResource").then((function(o){var r={headers:{groupId:i.groupId,"Content-Type":"text/plain",Accept:"application/json"}},l=_DeliverableLogs__WEBPACK_IMPORTED_MODULE_10__["a"].getDeliverableLogs.replace("INPUTBODY",t);axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/deliverable",l,r).then((function(t){e(t.data["getDeliverableLogs"])})).catch((function(e){n(e),a("setsnackbarerror",!0)}))}))}))},getDeliverableTypes:function(e){var t=e.commit,a=e.state;return new Promise((function(e,i){var n={headers:{groupId:a.groupId,"Content-Type":"text/plain",Accept:"application/json"}},o=_DeliverableTypes__WEBPACK_IMPORTED_MODULE_8__["a"].getDeliverableTypes;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/deliverable",o,n).then((function(t){a.getDeliverableTypes=t.data["getDeliverableTypes"],e(t.data["getDeliverableTypes"])})).catch((function(){a.getDeliverableTypes=[],t("setsnackbarerror",!0),i(a.getDeliverableTypes)}))}))},getContentFile:function getContentFile(_ref8,fileEntryId){var commit=_ref8.commit,state=_ref8.state;return new Promise((function(resolve,reject){var options={headers:{groupId:state.groupId,Accept:"text/plain"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/fileattach/"+fileEntryId+"/text",options).then((function(response){try{state.getContentFile=eval("( "+response.data+" )"),resolve(state.getContentFile)}catch(error){resolve(response.data)}})).catch((function(){state.getContentFile="",reject(state.getContentFile)}))}))},getContentFileSimple:function getContentFileSimple(_ref9){var commit=_ref9.commit,state=_ref9.state;return new Promise((function(resolve,reject){var options={headers:{groupId:state.groupId,"Content-Type":"text/plain",Accept:"application/json"}},body=_AdminConfig__WEBPACK_IMPORTED_MODULE_5__["a"].getAdminConfig;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/adminconfig",body,options).then((function(response){state.getContentFileSimple=eval("( "+response.data["getAdminConfig"]["detailColumns"]+" )"),resolve(state.getContentFileSimple)})).catch((function(){state.getContentFileSimple=[],commit("setsnackbarerror",!0),reject(state.getContentFileSimple)}))}))},getDeliverables:function(e,t){e.commit;var a=e.state;return new Promise((function(e,i){var n={headers:{groupId:a.groupId},params:{}};t.hasOwnProperty("getAll")&&t.getAll?n["params"]={}:n["params"]={start:15*t.page-15,end:15*t.page},t.hasOwnProperty("formDataKey")&&t.formDataKey&&(n["params"]=Object.assign(n["params"],{formDataKey:t.formDataKey})),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/deliverable/"+t["type"]+"?"+t["q"],n).then((function(t){e(t.data)})).catch((function(e){i(e)}))}))},searchDeliverables:function(e,t){e.commit;var a=e.state;return new Promise((function(e,i){var n={headers:{groupId:a.groupId},params:t.hasOwnProperty("export")&&t.export?{}:{start:15*t.page-15,end:15*t.page}};"keyword"===t.typeSearch?(n.params.keyword=t.keyword,n.params.formDataKey=t.formDataKey):(n.params.keyword="",n.params.formDataKey=t.formDataKey),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/deliverable/"+t["type"],n).then((function(t){e(t.data)})).catch((function(e){i(e)}))}))},getDeliverableById:function(e,t){e.commit;var a=e.state;return new Promise((function(e,i){var n={headers:{groupId:a.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/v1/opencps/deliverable/"+t+"/detail",n).then((function(t){t.data?(t.data.govAgenciesItems=[],t.data.applicantIdNoItems=[],e(t.data)):e({})})).catch((function(e){i(e)}))}))},uploadSingleFile:function(e,t){e.commit;var a=e.state;return new Promise((function(e,i){var n=window.$("#templateupload")[0].files,o=n[0],r=new FormData;r.append("UploadFiles",o),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/users/upload/opencps_deliverable/org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId/"+t["id"],r,{headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}}).then((function(t){e(t.data)})).catch((function(e){i(e)}))}))},createDeliverable:function(e,t){var a=e.commit,i=e.state;return new Promise((function(e,n){var o={headers:{groupId:i.groupId,"Content-Type":"text/plain",Accept:"application/json"}},r=_Deliverable__WEBPACK_IMPORTED_MODULE_9__["a"].createDeliverable.replace("INPUTBODY",JSON.stringify(t).replace(/"/g,'\\"'));axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/v1/opencps/deliverable",r,o).then((function(t){e(t.data)})).catch((function(e){a("setsnackbarerror",!0),n(e)}))}))},putFormData:function(e,t){e.commit,e.state;return new Promise((function(e,a){var i={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():""}},n=new URLSearchParams;n.append("formdata",JSON.stringify(t["formData"])),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put("/o/rest/v2/deliverables/"+t["deliverableId"]+"/formdata",n,i).then((function(t){e(t)})).catch((function(e){a(e)}))}))},getRoleUser:function(e,t){e.commit,e.state;return new Promise((function(e,t){var a={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():""}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/users/login",a).then((function(t){var a=t.data;if(a&&a.length>0){var i=[];for(var n in a)a[n]["role"]&&i.push(a[n]["role"]);e(i)}else e(["default"])})).catch((function(e){t("default")}))}))}},mutations:{SOCKET_ONOPEN:function(e,t){vue__WEBPACK_IMPORTED_MODULE_0__["a"].prototype.$socket=t.currentTarget,e.socket.isConnected=!0},SOCKET_ONCLOSE:function(e,t){e.socket.isConnected=!1,e.isConnected=!1},SOCKET_ONERROR:function(e,t){},SOCKET_ONMESSAGE:function(e,t){e.socket.message=t},SOCKET_RECONNECT:function(e,t){e.isConnected=!0},SOCKET_RECONNECT_ERROR:function(e){e.socket.reconnectError=!0},setInitData:function(e,t){e.initData=t},setUserPermission:function(e,t){e.userPermission=t},setsnackbarerror:function(e,t){e.snackbarerror=t},setsnackbarsocket:function(e,t){e.snackbarsocket=t},setpullCounter:function(e,t){e.pullCounter=t},setdataSocket:function(e,t){e.dataSocket=t},setisConnected:function(e,t){e.isConnected=t},setChangeFormData:function(e,t){e.changeFormData=t},setActiveBindFormData:function(e,t){e.activeBindFormData=t}},getters:{getUser:function(e){return e.user},getUserPermission:function(e){return e.userPermission},getsnackbarerror:function(e){return e.snackbarerror},getsnackbarsocket:function(e){return e.snackbarsocket},getDeliverableTypes:function(e){return e.getDeliverableTypes},getContentFile:function(e){return e.getContentFile},getContentFileSimple:function(e){return e.getContentFileSimple},pullCounter:function(e){return e.pullCounter},dataSocket:function(e){return e.dataSocket},getisConnected:function(e){return e.isConnected},getChangeFormData:function(e){return e.changeFormData},getActiveBindFormData:function(e){return e.activeBindFormData}}})},5200:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_deliverable_new_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a34a"),D_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_deliverable_new_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(D_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_deliverable_new_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2af9"),_template_rendering_vue__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("1f98"),_ext_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("fa98"),axios__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_4__),toastr__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_5__),vue_json_excel__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("1bdd");function asyncGeneratorStep(e,t,a,i,n,o,r){try{var l=e[o](r),s=l.value}catch(c){return void a(c)}l.done?t(s):Promise.resolve(s).then(i,n)}function _asyncToGenerator(e){return function(){var t=this,a=arguments;return new Promise((function(i,n){var o=e.apply(t,a);function r(e){asyncGeneratorStep(o,i,n,r,l,"next",e)}function l(e){asyncGeneratorStep(o,i,n,r,l,"throw",e)}r(void 0)}))}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(i=(r=l.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(s){n=!0,o=s}finally{try{i||null==l["return"]||l["return"]()}finally{if(n)throw o}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}__webpack_exports__["a"]={props:["index"],components:{TinyPagination:_components__WEBPACK_IMPORTED_MODULE_1__["d"],TemplateRendering:_template_rendering_vue__WEBPACK_IMPORTED_MODULE_2__["a"],DatetimePicker:_ext_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_3__["a"],JsonExcel:vue_json_excel__WEBPACK_IMPORTED_MODULE_6__["a"]},data:function(){return{menuDate:!1,issueDatePiecker:"",filterData:{},menusss:!1,loadingTable:!1,dialogPDFLoading:!1,loadingImport:!1,dialogPDFList:!1,dialogMortgage:!1,mortGageInput:"",headerExport:[],headerExportRemoveAction:[],headers:[],hideAction:!1,hosoDatas:[],hosoDatasTotal:0,hosoDatasPage:1,dataSocket:{},filters:[],advSearchItems:[],deliverableKey:"",pageAttachs:1,viewAttach:!1,fileEntryIdAttachs:[],deliverableSelected:"",indexDeliverableSelected:"",deliverableCode:"",issueDate:null,applicantName:"",donvicu_data:"",trichyeu_data:"",loaiDuLieu:"",json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],filterExport:"",downloadFileTemplate:{lable:"",url:""},importDeliverable:!0,exportDeliverable:!0,urlRedirectDossier:""}},created:function created(){var vm=this;vm.$nextTick((function(){vm.$store.dispatch("getDeliverableTypes").then((function(result){setTimeout((function(){if(""!==vm.items[vm.index]["dataConfig"]&&(vm.filters=eval("( "+vm.items[vm.index]["dataConfig"]+" )")),""!==vm.items[vm.index]["tableConfig"]){try{var _tableConfig=eval("( "+vm.items[vm.index]["tableConfig"]+" )");vm.downloadFileTemplate=_tableConfig["downloadFileTemplate"]?_tableConfig["downloadFileTemplate"]:{url:"",lable:""}}catch(err){vm.downloadFileTemplate={url:"",lable:""}}vm.headerExport=eval("( "+vm.items[vm.index]["tableConfig"]+" )")["headers"],vm.headers=vm.headerExport.filter((function(e){return!e.hasOwnProperty("show")||e.hasOwnProperty("show")&&e.show}));var tableConfig=eval("( "+vm.items[vm.index]["tableConfig"]+" )");tableConfig.hasOwnProperty("loaiDuLieu")&&tableConfig.loaiDuLieu?vm.loaiDuLieu=tableConfig.loaiDuLieu:vm.loaiDuLieu="giấy phép",tableConfig.hasOwnProperty("importDeliverable")&&!tableConfig.importDeliverable&&(vm.importDeliverable=!1),tableConfig.hasOwnProperty("exportDeliverable")&&!tableConfig.exportDeliverable&&(vm.exportDeliverable=!1),tableConfig.hasOwnProperty("urlRedirectDossier")&&tableConfig.urlRedirectDossier&&(vm.urlRedirectDossier=tableConfig.urlRedirectDossier),vm.headerExportRemoveAction=vm.headerExport.filter((function(e){return"action"!==e.value}));for(var i=0;i<vm.headerExportRemoveAction.length;i++)vm.json_fields[vm.headerExportRemoveAction[i]["text"]]=vm.headerExportRemoveAction[i]["value"]}else vm.headers=[],vm.hosoDatas=[],vm.hosoDatasTotal=0,vm.hosoDatasPage=1,vm.loadingTable=!0,setTimeout((function(){vm.loadingTable=!1}),100);vm.pullData(vm.items[vm.index]["typeCode"]),vm.items.length>0&&vm.$store.commit("setUserPermission",vm.items[vm.index]["moderator"])}),100)}))}))},watch:{$route:function(e,t){var a=this,i=e.query;i.hasOwnProperty("keyword")&&(a.deliverableKey=i["keyword"]),i.hasOwnProperty("page")?a.hosoDatasPage=parseInt(i.page):a.hosoDatasPage=1,a.deliverableKey="",a.applicantName="",a.issueDate="",a.donvicu="",a.trichyeu="",a.deliverableCode="",a.filterDeliverable("keyword")},index:function index(val){var vm=this;if(vm.items.length>0&&vm.$store.commit("setUserPermission",vm.items[val]["moderator"]),""!==vm.items[val]["dataConfig"]?vm.filters=eval("( "+vm.items[val]["dataConfig"]+" )"):vm.filters=[],""!==vm.items[val]["tableConfig"]){vm.hosoDatasPage=1,vm.headerExport=eval("( "+vm.items[val]["tableConfig"]+" )")["headers"];try{var _tableConfig2=JSON.parse(vm.items[vm.index]["tableConfig"]);vm.downloadFileTemplate=_tableConfig2["downloadFileTemplate"]?_tableConfig2["downloadFileTemplate"]:{url:"",lable:""}}catch(err){vm.downloadFileTemplate={url:"",lable:""}}vm.headers=vm.headerExport.filter((function(e){return!e.hasOwnProperty("show")||e.hasOwnProperty("show")&&e.show})),vm.headerExportRemoveAction=vm.headerExport.filter((function(e){return"action"!==e.value}));for(var i=0;i<vm.headerExportRemoveAction.length;i++)vm.json_fields[vm.headerExportRemoveAction[i]["text"]]=vm.headerExportRemoveAction[i]["value"];var tableConfig=eval("( "+vm.items[val]["tableConfig"]+" )");tableConfig.hasOwnProperty("loaiDuLieu")&&tableConfig.loaiDuLieu?vm.loaiDuLieu=tableConfig.loaiDuLieu:vm.loaiDuLieu="giấy phép",tableConfig.hasOwnProperty("importDeliverable")&&!tableConfig.importDeliverable&&(vm.importDeliverable=!1),tableConfig.hasOwnProperty("exportDeliverable")&&!tableConfig.exportDeliverable&&(vm.exportDeliverable=!1),tableConfig.hasOwnProperty("urlRedirectDossier")&&tableConfig.urlRedirectDossier&&(vm.urlRedirectDossier=tableConfig.urlRedirectDossier)}else vm.headers=[],vm.hosoDatas=[],vm.hosoDatasTotal=0,vm.hosoDatasPage=1,vm.loadingTable=!0,setTimeout((function(){vm.loadingTable=!1}),100)},items:function(){var e=this;e.items.length>0&&e.$store.commit("setUserPermission",e.items[e.index]["moderator"])},advSearchItems:{handler:function(e,t){var a=this,i=a.$router.history.current,n=i.query,o=(i.path,"?");for(var r in n["renew"]="",a.filters)n[a.filters[r]["fieldName"]]="";for(var l in n)""!==n[l]&&"undefined"!==n[l]&&void 0!==n[l]&&(o+=l+"="+n[l]+"&");for(var s in e)e[s]["text"].endsWith(":__")||(o+=e[s]["spec"]+"="+e[s]["value"]+"&");o+="renew="+Math.floor(100*Math.random())+1,a.$router.push({path:"/danh-sach-giay-to/"+a.index+o})},deep:!0}},computed:{items:function(){return this.$store.getters.getDeliverableTypes},userPermission:function(){return this.$store.getters.getUserPermission}},methods:{pullData:function pullData(type){var vm=this,currentQuery=vm.$router.history.current.query,queryString="";for(var key in currentQuery)""!==currentQuery[key]&&"undefined"!==currentQuery[key]&&void 0!==currentQuery[key]&&(queryString+=key+"="+currentQuery[key]+"&");queryString+="1=1";var filter={type:type,page:vm.hosoDatasPage,q:queryString};vm.loadingTable=!0;try{var tableConfig=eval("( "+vm.items[vm.index]["tableConfig"]+" )");tableConfig.hasOwnProperty("paramUrl")&&tableConfig.paramUrl&&(filter=Object.assign(filter,{formDataKey:JSON.stringify(tableConfig.paramUrl)}))}catch(error){}vm.filterExport=filter,vm.$store.dispatch("getDeliverables",filter).then((function(e){vm.hosoDatasTotal=e["total"],vm.hosoDatas=e["data"],vm.loadingTable=!1})).catch((function(e){vm.loadingTable=!1})),setTimeout((function(){if(null!==vm.advSearchItems&&0===vm.advSearchItems.length)for(var e in vm.filters)currentQuery.hasOwnProperty(vm.filters[e]["fieldName"])&&(vm.filters[e].display=!0,vm.filters[e].disabled=!0,vm.advSearchItems.push({spec:vm.filters[e].fieldName,value:currentQuery[vm.filters[e]["fieldName"]],text:vm.filters[e].fieldName+":"+currentQuery[vm.filters[e]["fieldName"]],index:vm.filters[e].index}))}),200)},viewDetail:function(e,t){var a=this;if(e.hasOwnProperty("dossierId")&&e.dossierId&&"0"!==e.dossierId&&a.urlRedirectDossier){var i=a.urlRedirectDossier+"/"+e.dossierId;window.open(i,"_blank")}},editDeliverables:function(e,t){var a=this,i=a.$router.history.current,n=i.query,o="?";for(var r in n)""!==n[r]&&"undefined"!==n[r]&&void 0!==n[r]&&(o+=r+"="+n[r]+"&");a.$router.push({path:"/danh-sach-giay-to/"+a.index+"/editor/"+e["entryClassPK"]+o+"editForm=true"})},showPDFG:function(e){var t=this;t.viewAttach=!1,t.dialogPDFList=!0,t.dialogPDFLoading=!0,t.$store.dispatch("viewPDF",e["fileAttachs"]).then((function(e){t.dialogPDFLoading=!1,document.getElementById("pdfViewerListComponent").src=e}))},viewFileAttach:function(e){var t=this;t.viewAttach=!0,t.fileEntryIdAttachs=String(e["fileAttachs"]).split(","),t.loading=!0,t.dialogPDFLoading=!0,t.$store.dispatch("viewPDF",t.fileEntryIdAttachs[0]).then((function(e){t.loading=!1,t.dialogPDFLoading=!1,t.dialogPDFList=!0,document.getElementById("pdfViewerListComponent").src=e})).catch((function(){t.loading=!1,t.dialogPDFLoading=!1}))},showMortgage:function(e,t){var a=this;a.deliverableSelected=e,a.indexDeliverableSelected=t,a.mortGageInput=e["mortgageInfo_data"]?e["mortgageInfo_data"]:"",a.dialogMortgage=!0},changeMortgageInfo:function(){var e,t=this;try{e=JSON.parse(t.deliverableSelected["formData"]),e.mortgageInfo=t.mortGageInput}catch(i){e={mortgageInfo:t.mortGageInput}}var a={deliverableId:t.deliverableSelected["deliverableId"],formData:e};t.loading=!0,t.$store.dispatch("putFormData",a).then((function(e){toastr__WEBPACK_IMPORTED_MODULE_5___default.a.success("Cập nhật thành công"),t.hosoDatas[t.indexDeliverableSelected]["mortgageInfo_data"]=t.mortGageInput,t.loading=!1,t.dialogMortgage=!1})).catch((function(){t.loading=!1,toastr__WEBPACK_IMPORTED_MODULE_5___default.a.error("Cập nhật thất bại")}))},changePage:function(e){var t=this,a=Number(e)-1;t.dialogPDFLoading=!0,t.$store.dispatch("viewPDF",t.fileEntryIdAttachs[a]).then((function(e){t.dialogPDFLoading=!1,document.getElementById("pdfViewerListComponent").src=e})).catch((function(){t.dialogPDFLoading=!1}))},paggingData:function(e){var t=this,a=t.$router.history.current,i=a.query,n="?";for(var o in i["page"]="",i["keyword"]="",i)""!==i[o]&&"undefined"!==i[o]&&void 0!==i[o]&&(n+=o+"="+i[o]+"&");n+="page="+e.page+"&keyword="+t.deliverableKey,t.$router.push({path:a.path+n})},selectedAdvFilter:function(e){var t=this;t.filters[e.index].display=!0,t.filters[e.index].disabled=!0;var a=!1;for(var i in t.advSearchItems)if(t.advSearchItems[i].index===e.index){a=!0;break}a||t.advSearchItems.push({spec:t.filters[e.index].fieldName,value:"__",text:t.filters[e.index].fieldName+":__",index:e.index})},keywordEventChange:function(e){var t=this;for(var a in t.filters)for(var i in t.filters[a].display=!1,t.filters[a].disabled=!1,e)if(e[i]["index"]===t.filters[a]["index"]){t.filters[a].display=!0,t.filters[a].disabled=!0;break}},changeAdvFilterData:function(e,t){var a=this,i=e;for(var n in a.advSearchItems)if(a.advSearchItems[n].index===t.index){a.advSearchItems[n].spec=t.fieldName,a.advSearchItems[n].value=i,a.advSearchItems[n].text=t.fieldName+":"+i;break}},filterDeliverable:function filterDeliverable(type_search){var vm=this;vm.filterExport="";var current=vm.$router.history.current,newQuery=current.query;!vm.deliverableKey||vm.applicantName||vm.issueDate||vm.donvicu_data||vm.trichyeu_data||(type_search="keyword");var searchParams={};for(var key in vm.filterData)vm.filterData[key]&&(searchParams[key]="string"===typeof vm.filterData[key]?vm.filterData[key].trim():vm.filterData[key]);try{var tableConfig=eval("( "+vm.items[vm.index]["tableConfig"]+" )");searchParams=tableConfig.hasOwnProperty("paramUrl")&&tableConfig.paramUrl?"keyword"===type_search?Object.assign({},tableConfig.paramUrl):Object.assign(searchParams,tableConfig.paramUrl):"keyword"===type_search?Object.assign({}):Object.assign(searchParams,{})}catch(error){}var filter={typeSearch:type_search||"",type:vm.items[vm.index]["typeCode"],page:newQuery.hasOwnProperty("page")?newQuery["page"]:1,keyword:newQuery.hasOwnProperty("keyword")?newQuery["keyword"]:vm.deliverableKey,formDataKey:JSON.stringify(searchParams)};vm.filterExport=filter,vm.loadingTable=!0,vm.$store.dispatch("searchDeliverables",filter).then((function(e){vm.hosoDatasTotal=e.hasOwnProperty("total")?e["total"]:0,vm.hosoDatas=e.hasOwnProperty("data")?e["data"]:[],vm.loadingTable=!1})).catch((function(e){vm.loadingTable=!1,vm.hosoDatasTotal=0,vm.hosoDatas=[]}))},doImportData:function(){var e=this;e.$refs.importData.click()},onFilePicked:function(e){var t=this,a=e.target.files||e.dataTransfer.files;if(a&&a[0]){t.loadingImport=!0;var i=new FormData;i.append("file",a[0]),i.append("deliverableTypeCode",t.items[t.index]["typeCode"]),axios__WEBPACK_IMPORTED_MODULE_4___default()({method:"post",url:"/o/rest/v2/deliverables/import/files-v3",data:i,config:{headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"","Content-Type":"multipart/form-data"}}}).then((function(e){setTimeout((function(){t.loadingImport=!1,toastr__WEBPACK_IMPORTED_MODULE_5___default.a.success("Import giấy phép thành công"),t.pullData(t.items[t.index]["typeCode"])}),1e3)})).catch((function(e){t.loadingImport=!1}))}},deleteDeliverable:function deleteDeliverable(item){var vm=this,x=confirm("Bạn có muốn thực hiện thao tác này?");if(x){var param={headers:{groupId:window.themeDisplay.getScopeGroupId()}};axios__WEBPACK_IMPORTED_MODULE_4___default.a.delete("/o/rest/v2/deliverables/"+item.deliverableId,param).then((function(){toastr__WEBPACK_IMPORTED_MODULE_5___default.a.success("Thực hiện thành công"),vm.loadingTable=!0;var currentQuery=vm.$router.history.current.query,queryString="";for(var key in currentQuery)""!==currentQuery[key]&&"undefined"!==currentQuery[key]&&void 0!==currentQuery[key]&&(queryString+=key+"="+currentQuery[key]+"&");queryString+="1=1";var filter={type:vm.items[vm.index]["typeCode"],page:vm.hosoDatasPage,q:queryString};try{var tableConfig=eval("( "+vm.items[vm.index]["tableConfig"]+" )");tableConfig.hasOwnProperty("paramUrl")&&tableConfig.paramUrl&&(filter=Object.assign(filter,{formDataKey:JSON.stringify(tableConfig.paramUrl)}))}catch(error){}vm.$store.dispatch("getDeliverables",filter).then((function(e){vm.hosoDatasTotal=e["total"],vm.hosoDatas=e["data"],vm.loadingTable=!1})).catch((function(e){vm.loadingTable=!1}))})).catch((function(e){toastr__WEBPACK_IMPORTED_MODULE_5___default.a.success("Thực hiện thất bại")}))}},getState:function(e){var t=(new Date).getTime(),a=Number(e["expireDate"]);if(a<t)return"Hết hiệu lực";var i=String(e["deliverableState"]);return"0"===i?"Không xác định":"1"===i?"Đang hiệu lực":"2"===i?"Gia hạn":"4"===i?"Xóa - Thu hồi":void 0},getUser:function(e){var t=this,a=t.$store.getters.getUser.role;if(!a)return!1;var i=a.findIndex((function(t){return String(t).indexOf(e)>=0}));return i>=0},changeIssueDate:function(e){var t=this;t.menuDate=!1,t.issueDate=t.formatDate(t.issueDatePiecker),e&&(t.filterData[e]=t.formatDate(t.issueDatePiecker))},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=_slicedToArray(t,3),i=a[0],n=a[1],o=a[2];return"".concat(o,"/").concat(n,"/").concat(i)},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=_slicedToArray(t,3),i=a[0],n=a[1],o=a[2];return"".concat(o,"-").concat(n.padStart(2,"0"),"-").concat(i.padStart(2,"0"))},reloadPickerChange:function(e){},changeDate:function(e,t){this.filterData[t]=e},fetchDataExcel:function(){var e=_asyncToGenerator(D_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_deliverable_new_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark((function e(){var t,a,i,n,o,r;return D_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_deliverable_new_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n in t=this,a=t.$router.history.current.query,i="",a)""!==a[n]&&"undefined"!==a[n]&&void 0!==a[n]&&(i+=n+"="+a[n]+"&");return i+="1=1",o={type:t.items[t.index]["typeCode"],page:t.hosoDatasPage,q:i,getAll:!0},e.next=8,t.$store.dispatch("getDeliverables",o);case 8:return r=e.sent,e.abrupt("return",r.data);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),exportTracking:function exportTracking(){var vm=this;vm.loadingImport=!0,vm.filterExport=Object.assign(vm.filterExport,{export:!0}),vm.$store.dispatch("searchDeliverables",vm.filterExport).then((function(result){vm.loadingImport=!1;for(var data=result.data,dataExport=[],i=0;i<data.length;i++){var item={},indexFields=0;for(var key in vm.json_fields){var valueTemplate=void 0;if(vm.headerExportRemoveAction[indexFields].hasOwnProperty("layoutViewExport")&&vm.headerExportRemoveAction[indexFields].layoutViewExport){var str=vm.headerExportRemoveAction[indexFields]["layoutViewExport"].replace("itemData",JSON.stringify(data[i]));valueTemplate=eval(str)}item[key]=valueTemplate||data[i][vm.json_fields[key]],"counter"===vm.headerExportRemoveAction[indexFields]["value"]&&(item[key]=i+1),indexFields+=1}dataExport.push(item)}vm.json_data=dataExport,setTimeout((function(){$(".btn-export").click()}),100)})).catch((function(e){vm.loadingImport=!1}))},downloadBieuMau:function(e){var t=document.createElement("a");t.href=e,document.body.appendChild(t),t.click()},currency:function(e){return e?String(e).replace(/\B(?=(\d{3})+(?!\d))/g,"."):""}}}},"56d7":function(e,t,a){"use strict";a.r(t);a("0f18");var i=a("a026"),n=a("bb71");a("74ef");i["a"].use(n["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app_deliverable"}},[a("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"",width:"240"}},[a("v-list",{attrs:{dense:""}},e._l(e.items,(function(t,i){return a("v-list-tile",{key:i,attrs:{to:"/danh-sach-giay-to/"+i}},[a("v-list-tile-action",[String(i)===String(e.index)?a("v-icon",{attrs:{color:"blue darken-3"}},[e._v("play_arrow")]):a("v-icon",[e._v("description")])],1),a("v-list-tile-content",[a("v-list-tile-title",{attrs:{title:t.typeName}},[e._v(e._s(t.typeName))])],1)],1)})),1)],1),a("v-content",[a("router-view")],1),a("v-snackbar",{attrs:{bottom:!1,left:!1,"multi-line":!1,right:!0,timeout:2e3,top:!0,vertical:!1,color:"red darken-3"},model:{value:e.snackbarerror,callback:function(t){e.snackbarerror=t},expression:"snackbarerror"}},[e._v("\n    Yêu cầu thực hiện thất bại\n    "),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.closeError()}}},[a("v-icon",[e._v("clear")])],1)],1),a("v-snackbar",{attrs:{bottom:!0,left:!1,"multi-line":!0,right:!1,timeout:0,top:!0,vertical:!1,color:"red darken-3"},model:{value:e.snackbarsocket,callback:function(t){e.snackbarsocket=t},expression:"snackbarsocket"}},[a("v-progress-circular",{attrs:{size:20,width:1,color:"white",indeterminate:""}}),e._v("\n     \n    Mất kết nối, tự động kết nối lại trong giây lát ... \n    \n    "),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.reloadPage()}}},[a("v-icon",[e._v("replay")])],1)],1)],1)},r=[],l={props:["index"],data:function(){return{dialog:!1,drawer:null,dataSocket:{}}},created:function(){var e=this;e.$nextTick((function(){var t=e.$router.history.current.params;e.index=t["index"]}))},computed:{items:function(){return this.$store.getters.getDeliverableTypes},snackbarerror:{get:function(){return this.$store.getters.getsnackbarerror},set:function(e){this.$store.commit("setsnackbarerror",e)}},snackbarsocket:{get:function(){return this.$store.getters.getsnackbarsocket},set:function(e){this.$store.commit("setsnackbarsocket",e)}}},watch:{$route:function(e,t){var a=this,i=(e.query,e.params);a.index=i["index"]}},methods:{redirectFilter:function(e){this.$router.push(e+"?state_change="+Math.floor(100*Math.random())+1)},closeError:function(){this.$store.commit("setsnackbarerror",!1)},reloadPage:function(){window.location.reload(!0)},deliverableRouter:function(e){}}},s=l,c=a("2877"),d=a("6544"),u=a.n(d),p=a("7496"),_=a("8336"),m=a("549c"),v=a("132d"),f=a("8860"),h=a("ba95"),g=a("40fe"),b=a("5d23"),y=a("f774"),D=a("490a"),x=a("2db4"),C=Object(c["a"])(s,o,r,!1,null,null,null);C.options.__file="App.vue";var w=C.exports;u()(C,{VApp:p["a"],VBtn:_["a"],VContent:m["a"],VIcon:v["a"],VList:f["a"],VListTile:h["a"],VListTileAction:g["a"],VListTileContent:b["a"],VListTileTitle:b["b"],VNavigationDrawer:y["a"],VProgressCircular:D["a"],VSnackbar:x["a"]});var k=a("8c4f"),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n bbbbbb\n")])},E=[],T={data:function(){return{}}},O=T,S=Object(c["a"])(O,P,E,!1,null,null,null);S.options.__file="Landing.vue";var F=S.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  uuuttttttttttt 12312 3123  1231\n  "),a("v-layout",{attrs:{wrap:""}},[a("div",e._l(e.dossierCounting,(function(t,i){return a("v-chip",{key:i},["deleted"===t.key?a("v-avatar",[a("v-icon",{attrs:{size:"16"}},[e._v("delete")])],1):a("v-avatar",[e._v(e._s(t.count))]),e._v("\n        "+e._s(t.title)+"\n      ")],1)})),1)])],1)},A=[],L={props:["index"],data:function(){return{dossierCounting:[]}}},M=L,U=a("8212"),B=a("cc20"),R=a("a722"),N=Object(c["a"])(M,I,A,!1,null,null,null);N.options.__file="TiepNhanHoSoDetail.vue";var $=N.exports;u()(N,{VAvatar:U["a"],VChip:B["a"],VIcon:v["a"],VLayout:R["a"]});var V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  9816313910231203\n")])},K=[],W={props:["index"],data:function(){return{}}},q=W,j=Object(c["a"])(q,V,K,!1,null,null,null);j.options.__file="HoanThienBoSungHoSoDetail.vue";var z=j.exports,G=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  13123\n")])},H=[],Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-chitiet"},[a("div",[a("v-tabs",{attrs:{"icons-and-text":""},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),a("v-tab",{key:1,attrs:{href:"#tabs-1"},on:{click:function(t){e.getNextActions()}}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[3===e.originality?a("span",[e._v("XỬ LÝ HỒ SƠ")]):a("span",[e._v("CHUẨN BỊ HỒ SƠ")])])],1),a("v-tabs-items",{staticStyle:{overflow:"visible!important"},attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("v-tab-item",{key:1,attrs:{value:"tabs-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[0!==e.checkInput&&e.filterNextActionEnable(e.btnDossierDynamics)?a("div",{staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0]}},[a("v-expansion-panel-content",{key:1,attrs:{"hide-actions":""}},[e._v("\n                123\n              ")])],1)],1):e._e(),e.btnStateVisible?a("div",{staticClass:"px-4 py-3",staticStyle:{"border-bottom":"1px solid #dddddd"}},[e._l(e.btnPlugins,(function(t,i){return a("v-btn",{key:i,staticClass:"ml-0 mr-2",attrs:{color:"primary",loading:e.loadingPlugin,disabled:e.loadingPlugin},nativeOn:{click:function(a){e.processPullBtnplugin(t,i)}}},[e._v("\n              "+e._s(t.pluginName)+"\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])})),e.btnStepsDynamics.length>0&&e.thongTinChiTietHoSo["permission"].indexOf("write")>=0?a("v-menu",{staticStyle:{display:"inline-block",position:"relative !important"},attrs:{bottom:"","offset-y":""}},[a("v-btn",{staticClass:"deactive__btn",attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[e._v("Khác   "),a("v-icon",{attrs:{size:"18"}},[e._v("arrow_drop_down")])],1),a("v-list",e._l(e.btnStepsDynamics,(function(t,i){return a("v-list-tile",{key:i,on:{click:function(a){e.btnActionEvent(t,i)}}},[a("v-list-tile-title",[e._v(e._s(t.title))])],1)})),1)],1):e._e()],2):e._e()])],1)],1)],1)])},Y=[],J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",[e._l(e.dossierTemplateItems,(function(t,i){return e.partTypes.includes(t.partType)&&e.checkVisibleTemp(t,i)?a("div",{key:t.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative"}},[a("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{value:[e.currentFormView==="formAlpaca"+t.partNo+e.id]}},[a("v-expansion-panel-content",{attrs:{"hide-actions":""}},[a("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(t){e.stateView=!1}},slot:"header"},[a("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:e.checkStyle(t)}},[a("div",{staticClass:"mr-2",staticStyle:{"min-width":"18px",display:"flex"},on:{click:function(a){e.onlyView&&t.hasForm?e.viewFile2(t):e.loadAlpcaForm(t)}}},[a("div",{staticClass:"header__tphs"},[a("span",{staticClass:"text-bold"},[e._v(e._s(i+1)+".")]),e._v("  ")]),a("div",{staticClass:"header__tphs"},[a("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n                      "+e._s(t.partName)+"  \n                      "),t.required?a("span",{staticStyle:{color:"red"}},[e._v(" (*) ")]):e._e(),e._v("\n                        \n                    ")]),t.partTip["tip"]?a("span",[e._v(e._s(t.partTip["tip"]))]):e._e()]),t.hasForm&&t.daKhai&&(1===e.originality&&2!==t.partType||1!==e.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-text-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator","aria-hidden":"true"},slot:"activator"}),a("span",[e._v("Biểu mẫu trực tuyến (Đã khai)")])]):e._e(),t.hasForm&&!t.daKhai&&(1===e.originality&&2!==t.partType||1!==e.originality)?a("v-tooltip",{attrs:{top:""}},[a("i",{staticClass:"fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"},attrs:{slot:"activator"},slot:"activator"}),a("span",[e._v("Biểu mẫu trực tuyến (Chưa khai)")])]):e._e(),e._v("\n                    \n                  "),!t.hasForm&&t.hasFileTemp?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(a){a.stopPropagation(),e.downloadFileTemplate(t,i)}},slot:"activator"},[e._v("save_alt")]),a("span",[e._v("Biểu mẫu điền thủ công")])],1):e._e()],1)]),a("div",{staticStyle:{display:"flex"}},[1===e.checkInput&&2===t.fileCheck&&t.stateEditFileCheck?a("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(e){return!!e||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key,"Enter"))return null;e.changeFileComment(t,i)}},model:{value:t.fileComment,callback:function(a){e.$set(t,"fileComment",a)},expression:"item.fileComment"}}):e._e(),1===e.checkInput&&2===t.fileCheck&&t.stateEditFileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){a.stopPropagation(),e.changeFileComment(t,i)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[e._v("send")])],1),a("span",[e._v("Gửi")])],1):e._e()],1),t.fileComment&&!t.stateEditFileCheck?a("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[e._v(e._s(t.fileComment))]):e._e(),t.fileComment&&!t.stateEditFileCheck&&1===e.checkInput?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.stateEditFileCheck=!t.stateEditFileCheck}},slot:"activator"},[e._v("edit")]),a("span",[e._v("Chỉnh sửa ý kiến")])],1):e._e(),e._l(e.dossierFilesItems,(function(i,n){return t.partNo!==i.dossierPartNo||i.eForm?e._e():a("div",{key:n},[a("div",{style:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"0px"}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile2(i)}}},[0!==i.fileSize?a("v-icon",[e._v("attach_file")]):e._e(),e._v("\n                    "+e._s(i.displayName)+" - \n                    "),a("i",[e._v(e._s(i.modifiedDate))])],1),e.onlyView||1===e.checkInput?e._e():a("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(t){t.stopPropagation(),e.deleteSingleFile(i,n)}}},[a("v-icon",{staticStyle:{color:"red"}},[e._v("delete_outline")])],1)],1)])})),a("div",{staticClass:"mr-3 my-1 py-2",staticStyle:{display:"none",border:"1px solid #f3ae75"},attrs:{id:"fileApplicant-"+t.partNo}},e._l(e.dossierFilesApplicant,(function(i,n){return i.dossierTemplateNo===e.thongTinHoSo["dossierTemplateNo"]&&t.partNo===i.dossierPartNo?a("div",{key:n},[i.eForm?a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.viewGiayToDaNop(i)}},slot:"activator"},[a("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),e._v("  \n                        "+e._s(i.referenceUid)+"."+e._s(i.fileType)+" - \n                        "),a("i",[e._v(e._s(i.modifiedDate))])]),a("span",[e._v("Bản khai trực tuyến")])])],1):a("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"0px"}},[a("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[a("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.viewGiayToDaNop(i)}},slot:"activator"},[0!==i.fileSize?a("v-icon",{staticStyle:{color:"#0d71bb"}},[e._v("attach_file")]):e._e(),e._v("\n                        "+e._s(i.displayName)+" - \n                        "),a("i",[e._v(e._s(i.modifiedDate))])],1),a("span",[e._v("Đính kèm")])])],1)]):e._e()})),0)],2)]),t.hasForm&&!e.onlyView?a("v-card",[a("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[a("v-layout",{attrs:{wrap:""}},[e.stateView?e._e():a("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[a("div",{style:e.pstFixed>e.pstEl&&e.pstFixed<e.endEl+e.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+t.partNo+e.id}},[t.hasForm&&!e.onlyView&&1!==e.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){e.saveAlpacaForm(t,i)}}},[e._v("Lưu lại")]):e._e(),t.daKhai&&t.hasForm&&!e.onlyView&&1!==e.checkInput?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){e.deleteSingleFileEform(t,i)}}},[e._v("Xóa")]):e._e(),t.daKhai&&t.hasForm?a("v-btn",{attrs:{color:"primary"},on:{click:function(a){e.previewFileEfom(t,i)}}},[e._v("In")]):e._e()],1),!e.onlyView||t.daKhai?a("div",{class:{no_acction__event:e.onlyView},attrs:{id:"formAlpaca"+t.partNo+e.id}}):e._e()])],1)],1)],1):e._e()],1)],1),a("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[e.loading?a("content-placeholders",{staticClass:"mt-1"},[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-layout",{attrs:{row:"",wrap:""}},[1===e.originality||1!==t.partType||e.thongTinHoSo.online||1===e.checkInput?e._e():a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"110px"}},[a("v-select",{attrs:{items:e.fileMarkItems,disabled:e.onlyView},on:{change:function(t){e.changeFileMark(t,i)}},model:{value:e.dossierTemplateItems[i].fileMark,callback:function(t){e.$set(e.dossierTemplateItems[i],"fileMark",t)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===e.checkInput?a("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[a("v-select",{attrs:{items:e.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(t){e.changeFileCheck(t,i)}},model:{value:e.dossierTemplateItems[i].fileCheck,callback:function(t){e.$set(e.dossierTemplateItems[i],"fileCheck",t)},expression:"dossierTemplateItems[index].fileCheck"}})],1):t.fileCheck>0?a("v-flex",{staticClass:"layout wrap",style:{width:"20px","align-items":"center","margin-left":"10px","margin-top":e.thongTinHoSo.online?"10px":"0px"}},[1===t.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[e._v("done")]),a("span",[e._v("Đạt")])],1):2===t.fileCheck?a("v-tooltip",{attrs:{top:""}},[a("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"16",color:"primary"},slot:"activator"},[e._v("close")]),a("span",[e._v("Không đạt")])],1):e._e()],1):e._e(),1!==e.checkInput?a("v-flex",{class:{"text-xs-right":e.onlyView},style:{width:e.onlyView?"auto":"90px"}},[a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+t.partNo},on:{change:function(a){e.onUploadSingleFile(a,t,i)}}}),3!==t.partType||3!==e.originality||e.onlyView?e._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){e.addFileOther(t)}},slot:"activator"},[a("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[e._v("add")])],1),a("span",[e._v("Thêm giấy tờ khác")])],1),e.progressUploadPart===t.partNo?a("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e.progressUploadPart===t.partNo||e.onlyView?e._e():a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){e.pickFile(t)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"primary"}},[e._v("cloud_upload")])],1)],1),t.partTip["extensions"]||t.partTip["maxSize"]?a("span",[e._v("Chấp nhận tải lên các định dạng: "+e._s(t.partTip["extensions"])+". Tối đa "+e._s(t.partTip["maxSize"])+" MB ")]):a("span",[e._v("Tải file lên")])],1),e.partNoApplicantHasFile(t.partNo)&&!e.onlyView?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(a){e.showFilesApplicant(t.partNo)}},slot:"activator"},[a("v-badge",[a("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[e._v("warning")])],1)],1),a("span",[e._v("Giấy tờ đã nộp")])],1):e._e()],1):e._e()],1)],1)],1):e._e()})),e.partTypes.includes(2)?e._e():a("div",[a("v-layout",{staticClass:"mx-4",attrs:{wrap:""}},[!e.onlyView||e.onlyView&&e.applicantNoteDossier?a("v-flex",{staticClass:"my-0 py-2 text-bold",staticStyle:{width:"60px"}},[e._v("Ghi chú:")]):e._e(),a("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[e.onlyView?e._e():a("div",{staticClass:"pl-2"},[a("v-text-field",{staticClass:"py-0",attrs:{"multi-line":"",rows:"3"},on:{input:e.changeApplicantNote},model:{value:e.applicantNoteDossier,callback:function(t){e.applicantNoteDossier=t},expression:"applicantNoteDossier"}})],1),e.onlyView&&e.applicantNoteDossier?a("p",{staticClass:"my-0 py-2"},[e._v("\n            "+e._s(e.applicantNoteDossier)+" \n          ")]):e._e()])],1)],1),a("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:e.dialogAddOtherTemp,callback:function(t){e.dialogAddOtherTemp=t},expression:"dialogAddOtherTemp"}},[a("v-card",[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-card-title",{staticClass:"headline"},[e._v("Tên giấy tờ")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.cancelDialog(t)}}},[a("v-icon",[e._v("clear")])],1),e.loadingAddOther?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0}}):e._e(),a("v-card-text",{staticClass:"pb-0 pt-4"},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(e){return!!e||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:e.otherDossierTemplate,callback:function(t){e.otherDossierTemplate=t},expression:"otherDossierTemplate"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red darken-3",flat:"flat"},nativeOn:{click:function(t){return e.cancelDialog(t)}}},[e._v("\n              Quay lại\n            ")]),a("v-btn",{attrs:{color:"primary",flat:"flat",loading:e.loadingAddOther},nativeOn:{click:function(t){return e.addOtherTemplate(t)}}},[e._v("\n              Đồng ý\n              "),a("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])],1)],1)],1)],1)],2),a("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e.pdfEform?a("span",[e._v("Bản khai trực tuyến")]):a("span",[e._v("File đính kèm")])]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[a("v-icon",[e._v("clear")])],1),e.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+e.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},X=[],Z={data:function(){return{}}},ee=Z,te=a("4ca6"),ae=a("b0af"),ie=a("99d9"),ne=a("12b2"),oe=a("169a"),re=a("cd55"),le=a("49e2"),se=a("0e8f"),ce=a("4bd4"),de=a("8e36"),ue=a("b56d"),pe=a("9910"),_e=a("2677"),me=a("3a2f"),ve=Object(c["a"])(ee,J,X,!1,null,null,null);ve.options.__file="TiepNhanHoSo_ThanhPhanHoSo.vue";var fe=ve.exports;u()(ve,{VBadge:te["a"],VBtn:_["a"],VCard:ae["a"],VCardActions:ie["a"],VCardText:ie["b"],VCardTitle:ne["a"],VDialog:oe["a"],VExpansionPanel:re["a"],VExpansionPanelContent:le["a"],VFlex:se["a"],VForm:ce["a"],VIcon:v["a"],VLayout:R["a"],VProgressCircular:D["a"],VProgressLinear:de["a"],VSelect:ue["a"],VSpacer:pe["a"],VTextField:_e["a"],VTooltip:me["a"]});var he={props:["index","id"],components:{"thanh-phan-ho-so":fe},data:function(){return{}}},ge=he,be=a("e449"),ye=a("71a3"),De=a("c671"),xe=a("fe57"),Ce=a("aac8"),we=a("9a96"),ke=Object(c["a"])(ge,Q,Y,!1,null,null,null);ke.options.__file="XemChiTietHoSoDetailCanBo.vue";var Pe=ke.exports;u()(ke,{VBtn:_["a"],VExpansionPanel:re["a"],VExpansionPanelContent:le["a"],VIcon:v["a"],VList:f["a"],VListTile:h["a"],VListTileTitle:b["b"],VMenu:be["a"],VTab:ye["a"],VTabItem:De["a"],VTabs:xe["a"],VTabsItems:Ce["a"],VTabsSlider:we["a"]});var Ee={props:["id","formCode"],components:{"xem-chi-tiet-ho-so-detail-can-bo":Pe},data:function(){return{initData:null,step:""}}},Te=Ee,Oe=Object(c["a"])(Te,G,H,!1,null,null,null);Oe.options.__file="DetailForward.vue";var Se=Oe.exports,Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1)],1)],1)},Ie=[],Ae={},Le=Ae,Me=a("a523"),Ue=Object(c["a"])(Le,Fe,Ie,!1,null,null,null);Ue.options.__file="NotFound.vue";var Be=Ue.exports;u()(Ue,{VContainer:Me["a"],VFlex:se["a"],VLayout:R["a"],VProgressCircular:D["a"]});var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row-header no__hidden_class"},[a("div",{staticClass:"background-triangle-big"},[a("span",[e._v(e._s(e.items?String(e.items[e.index]["typeName"]):""))])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{position:"relative"}}),a("div",{staticClass:"flex text-right",staticStyle:{"margin-left":"auto","max-width":"115px"}},[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"my-0 mx-0 mr-2 px-0",attrs:{slot:"activator",icon:""},nativeOn:{click:function(t){e.menusss=!e.menusss}},slot:"activator"},[a("v-icon",{attrs:{size:"20"}},[e._v("fas fa fa-filter")])],1),a("span",[e._v("Tìm kiếm nâng cao")])],1)],1)])]),e.menusss?a("div",{},[a("v-layout",{attrs:{wrap:""}},[a("div",{staticClass:"adv_search px-2 my-2 mx-2",staticStyle:{background:"#eeeeee"}},[a("div",{staticClass:"searchAdvanced-content py-2"},[a("v-layout",{attrs:{wrap:""}},e._l(e.filters,(function(t,i){return t.display?a("v-flex",{key:i,staticClass:"mb-2 px-2",class:t.class},[a("div",[a("div",{staticClass:"d-inline-block text-bold",staticStyle:{"font-weight":"450",width:"150px"}},[e._v(e._s(t.fieldLabel)+":")]),"string"===t.fieldType?a("v-text-field",{staticClass:"search-input-appbar input-search d-inline-block",staticStyle:{width:"calc(100% - 150px)"},attrs:{"single-lines":"","hide-details":"",solo:"",flat:"",height:"32","min-height":"32",clearable:""},on:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filterDeliverable(t)}},model:{value:e.filterData[t.fieldName],callback:function(a){e.$set(e.filterData,t.fieldName,a)},expression:"filterData[item.fieldName]"}}):e._e(),"textarea"===t["fieldType"]?a("v-textarea",{staticClass:"search-input-appbar input-search d-inline-block",staticStyle:{width:"calc(100% - 150px)"},attrs:{"single-lines":"","hide-details":"",solo:"",flat:"",rows:"3",clearable:""},on:{keyup:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.filterDeliverable(t)}},model:{value:e.filterData[t.fieldName],callback:function(a){e.$set(e.filterData,t.fieldName,a)},expression:"filterData[item.fieldName]"}}):e._e(),"select"===t["fieldType"]?a("v-autocomplete",{staticClass:"select-search d-inline-block",staticStyle:{width:"calc(100% - 150px)"},attrs:{items:t["source"],label:t["label"],"item-value":"value","item-text":"name",clearable:t["clearable"],"hide-details":"",solo:"",flat:"",height:"32","min-height":"32"},model:{value:e.filterData[t.fieldName],callback:function(a){e.$set(e.filterData,t.fieldName,a)},expression:"filterData[item.fieldName]"}}):e._e(),"date"===t.fieldType?a("datetime-picker",{attrs:{item:t,"data-value":e.filterData[t.fieldName],"data-all":e.filterData,classTextField:"search-input-appbar input-search d-inline-block",classMenu:"d-inline-block"},on:{changeDate:function(a){e.changeDate(a,t.fieldName)}},model:{value:e.filterData[t.fieldName],callback:function(a){e.$set(e.filterData,t.fieldName,a)},expression:"filterData[item.fieldName]"}}):e._e()],1)]):e._e()})),1),a("v-flex",{staticClass:"xs12 mx-2"},[a("v-btn",{staticClass:"mx-0 mb-0",attrs:{color:"primary",dark:""},nativeOn:{click:function(t){return e.filterDeliverable(t)}}},[a("v-icon",{attrs:{size:"18"}},[e._v("search")]),e._v("   Tìm kiếm\n            ")],1)],1)],1)])])],1):e._e(),e.getUser("QUAN_LY_GIAY_PHEP")||e.userPermission?a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{attrs:{color:"blue darken-3",dark:"",to:"/danh-sach-giay-to/"+e.index+"/editor/0"}},[a("v-icon",{attrs:{size:"16"}},[e._v("add")]),e._v(" Thêm "+e._s(String(e.loaiDuLieu).toLowerCase())+"\n    ")],1),e.importDeliverable&&e.downloadFileTemplate.url?a("v-btn",{staticClass:"white--text",attrs:{color:"primary"},on:{click:function(t){e.downloadBieuMau(e.downloadFileTemplate.url)}}},[a("v-icon",[e._v("get_app")]),e._v("  \n      "+e._s(e.downloadFileTemplate.lable)+"\n    ")],1):e._e(),e.importDeliverable?a("v-btn",{staticClass:"white--text",attrs:{color:"primary",loading:e.loadingImport,disabled:e.loadingImport},on:{click:e.doImportData}},[a("v-icon",[e._v("exit_to_app")]),e._v("  \n      Import "+e._s(String(e.loaiDuLieu).toLowerCase())+"\n    ")],1):e._e(),e.exportDeliverable?a("v-btn",{attrs:{color:"primary",loading:e.loadingImport,disabled:e.loadingImport},on:{click:e.exportTracking}},[a("v-icon",[e._v("import_export")]),e._v(" \n      Export "+e._s(String(e.loaiDuLieu).toLowerCase())+"\n    ")],1):e._e(),a("JsonExcel",{staticClass:"btn btn-default btn-export",staticStyle:{display:"none"},attrs:{data:e.json_data,name:e.items?String(e.items[e.index]["typeName"]):""}},[e._v("\n      Export Excel\n    ")])],1):e._e(),a("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:e.headers,items:e.hosoDatas,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[e._l(e.headers,(function(i,n){return i.hasOwnProperty("value")&&"action"!==i.value?a("td",{key:n+"_"+t.item["_id"],staticClass:"pt-1",class:i["class_column"]},["counter"===i.value?a("div",[a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){e.viewDetail(t.item,t.index)}}},[e._v("\n              "+e._s(15*e.hosoDatasPage-15+t.index+1)+"\n            ")])]):"deliverableState"===i.value?a("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){e.viewDetail(t.item,t.index)}}},[a("span",[e._v("\n              "+e._s(e.getState(t.item))+"\n            ")])]):"mortgageable"===i.value?a("div",{staticClass:"text-xs-center",staticStyle:{cursor:"pointer"}},["true"===String(t.item["mortgageable_data"]).toLowerCase()&&t.item["mortgageInfo_data"]?a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",icon:""},on:{click:function(a){a.stopPropagation(),e.showMortgage(t.item,t.index)}},slot:"activator"},[a("v-icon",{staticClass:"green--text",attrs:{size:"24px"}},[e._v("check_circle")])],1),a("span",[e._v(e._s(t.item["mortgageInfo_data"]))])],1):e._e(),"true"!==String(t.item["mortgageable_data"]).toLowerCase()||t.item["mortgageInfo_data"]?e._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",icon:""},on:{click:function(a){a.stopPropagation(),e.showMortgage(t.item,t.index)}},slot:"activator"},[a("v-icon",{staticStyle:{color:"#D32F2F"},attrs:{size:"24px"}},[e._v("remove_circle")])],1),a("span",[e._v("Không có thông tin thế chấp")])],1)],1):"currency"===i.type?a("div",[a("span",[e._v("\n              "+e._s(e.currency(t.item[i.value]))+"\n            ")])]):a("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){e.viewDetail(t.item,t.index)}}},[i.hasOwnProperty("layout_view")?a("template-rendering",{attrs:{item:t.item,layout_view:i.layout_view}}):a("span",[e._v("\n              "+e._s(t.item[i.value])+"\n            ")])],1)]):e._e()})),e.hideAction?e._e():a("td",{staticClass:"text-xs-left px-0 py-0 pt-1",staticStyle:{width:"120px"}},[e.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),e.loadingTable?e._e():a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",disabled:!t.item["fileAttachs"]||"0"===String(t.item["fileAttachs"]),flat:"",icon:""},nativeOn:{click:function(a){e.showPDFG(t.item)}},slot:"activator"},[a("v-icon",[e._v("attach_file")])],1),a("span",[e._v("Xem  "+e._s(String(e.loaiDuLieu).toLowerCase()))])],1),e.loadingTable?e._e():a("v-tooltip",{attrs:{top:""}},[e.loadingTable?e._e():a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",disabled:"0"!==t.item["dossierId"],flat:"",icon:""},nativeOn:{click:function(a){e.editDeliverables(t.item)}},slot:"activator"},[a("v-icon",[e._v("edit")])],1),a("span",[e._v("Sửa "+e._s(String(e.loaiDuLieu).toLowerCase()))])],1),e.loadingTable?e._e():a("v-tooltip",{attrs:{top:""}},["0"!==t.item["dossierId"]||e.loadingTable?e._e():a("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",flat:"",icon:""},nativeOn:{click:function(a){e.deleteDeliverable(t.item)}},slot:"activator"},[a("v-icon",[e._v("delete")])],1),a("span",[e._v("Xóa "+e._s(String(e.loaiDuLieu).toLowerCase()))])],1)],1)],2)]}}])},[a("template",{slot:"no-data"},[a("div",{staticClass:"text-xs-center mt-2"},[e._v("\n        Không có dữ liệu\n      ")])])],2),e.loadingTable?e._e():a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative","border-top":"1px solid lightgrey"}},[a("div",{staticClass:"flex pagging-table px-2"},[a("tiny-pagination",{attrs:{total:e.hosoDatasTotal,page:e.hosoDatasPage,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingData}})],1)]),a("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition",fullscreen:""},model:{value:e.dialogPDFList,callback:function(t){e.dialogPDFList=t},expression:"dialogPDFList"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[e.viewAttach?a("span",[e._v("TÀI LIỆU ĐÍNH KÈM")]):a("span",[e._v(e._s(String(e.loaiDuLieu).toUpperCase()))])]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDFList=!1}}},[a("v-icon",[e._v("close")])],1)],1),e.dialogPDFLoading?a("div",{staticStyle:{"min-height":"650px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"650px"},attrs:{id:"pdfViewerListComponent",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}}),e.viewAttach&&e.fileEntryIdAttachs.length>1?a("v-card-actions",{staticClass:"py-0"},[a("span",{staticClass:"left primary--text text-bold",staticStyle:{"font-size":"1.25em"}},[e._v("Tổng số: "),a("span",{staticClass:"red--text"},[e._v(e._s(e.fileEntryIdAttachs.length))]),e._v(" tài liệu")]),a("div",{staticClass:"text-xs-center",staticStyle:{width:"calc(100% - 150px)"}},[a("v-pagination",{attrs:{length:e.fileEntryIdAttachs.length,circle:"","total-visible":5},on:{input:function(t){e.changePage(e.pageAttachs)}},model:{value:e.pageAttachs,callback:function(t){e.pageAttachs=t},expression:"pageAttachs"}})],1)]):e._e()],1)],1),a("v-dialog",{attrs:{"max-width":"700",persistent:"",transition:"fade-transition"},model:{value:e.dialogMortgage,callback:function(t){e.dialogMortgage=t},expression:"dialogMortgage"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("\n         Thông tin thế chấp\n        ")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogMortgage=!1}}},[a("v-icon",[e._v("close")])],1)],1),a("v-card-text",[a("v-textarea",{attrs:{placeholder:"Nhập thông tin thế chấp",box:"",rows:"7"},model:{value:e.mortGageInput,callback:function(t){e.mortGageInput=t},expression:"mortGageInput"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mr-2",attrs:{color:"red",loading:e.loading,disabled:e.loading},on:{click:function(t){e.dialogMortgage=!1}}},[a("v-icon",{staticClass:"white--text"},[e._v("clear")]),e._v("  \n          "),a("span",{staticClass:"white--text"},[e._v("Thoát")])],1),a("v-btn",{staticClass:"mr-2",attrs:{color:"primary",loading:e.loading,disabled:e.loading},on:{click:function(t){e.changeMortgageInfo()}}},[a("v-icon",[e._v("save")]),e._v("  \n          Cập nhật\n        ")],1)],1)],1)],1),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"importData",attrs:{type:"file",name:"importData",accept:""},on:{input:e.onFilePicked}})],1)},Ne=[],$e=a("5200"),Ve=$e["a"],Ke=a("c6a6"),We=a("8fea"),qe=a("891e"),je=a("a844"),ze=a("71d9"),Ge=a("2a7f"),He=Object(c["a"])(Ve,Re,Ne,!1,null,null,null);He.options.__file="DeliverableList.vue";var Qe=He.exports;u()(He,{VAutocomplete:Ke["a"],VBtn:_["a"],VCard:ae["a"],VCardActions:ie["a"],VCardText:ie["b"],VDataTable:We["a"],VDialog:oe["a"],VFlex:se["a"],VIcon:v["a"],VLayout:R["a"],VPagination:qe["a"],VProgressCircular:D["a"],VSpacer:pe["a"],VTextField:_e["a"],VTextarea:je["a"],VToolbar:ze["a"],VToolbarTitle:Ge["a"],VTooltip:me["a"]});var Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"scroll",rawName:"v-scroll",value:e.onScroll,expression:"onScroll"}]},[a("v-form",{ref:"form",staticStyle:{background:"#ffffff"},attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("div",{staticClass:"row-header no__hidden_class"},[a("div",{staticClass:"background-triangle-big"},["0"!==String(e.id)?a("span",[e._v("THÔNG TIN "+e._s(String(e.loaiDuLieu).toUpperCase()))]):a("span",[e._v("TẠO MỚI "+e._s(String(e.loaiDuLieu).toUpperCase()))])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{position:"relative"}},["0"!==String(e.id)?a("span",[e._v(e._s(e.deName))]):a("span",[e._v(e._s(e.items[e.index]["typeName"]))])])])]),e.showComponent&&"0"!==String(e.id)&&!e.editDeliverable?a("view-pdf",{ref:"viewpdf",attrs:{id:e.id,datainput:e.detail}}):e._e(),e.showComponent&&e.editDeliverable?a("bbat-table-editor-component",{ref:"bbatForm",attrs:{id:e.id,formid:e.formId,datainput:e.detail["formData"]}}):e._e(),"0"===String(e.id)||"0"!==String(e.id)&&e.editDeliverable?a("v-flex",{staticClass:"px-4",attrs:{xs12:""}},[a("div",{staticClass:"mb-2",staticStyle:{"font-size":"14px"}},[e._v("\n        Tài liệu đính kèm "),e.requiredAttachFile?a("span",{staticStyle:{color:"red"}},[e._v("(*) ")]):e._e(),e._v(":\n        "),e.detail["fileAttachs"]&&"0"!==e.detail["fileAttachs"]?a("a",{staticStyle:{color:"blue","font-style":"italic","text-decoration":"underline"},attrs:{href:e.urlFileAttach,download:""}},[e._v(" Tải xuống ")]):e._e()]),e.fileNameAttach?a("div",{staticClass:"ml-1"},[a("span",{staticClass:"ml-0"},[a("v-icon",{staticClass:"mr-1",attrs:{color:"blue",size:"16px"}},[e._v("\n            fas fa fa-paperclip\n          ")]),e._v("  \n          "+e._s(e.fileNameAttach)+" \n          "),a("i",[e._v("("+e._s(e.fileNameAttachDate)+")")])],1)]):e._e(),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"documentFileAttach"},on:{input:function(t){e.onUploadSingleFile(t,0)}}}),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"documentFileAttachSub"},on:{input:function(t){e.onUploadSingleFile(t,1)}}}),a("v-btn",{staticClass:"mx-0 mt-2",attrs:{small:"",color:"primary",dark:""},nativeOn:{click:function(t){return e.uploadFile(t)}}},[a("v-icon",[e._v("fas fa fa-upload")]),e._v("    \n        "),"0"!==String(e.id)&&e.editDeliverable&&e.detail["fileAttachs"]&&"0"!==e.detail["fileAttachs"]?a("span",[e._v("Cập nhật tài liệu đính kèm")]):a("span",[e._v("Chọn tài liệu tải lên")])],1)],1):e._e(),a("v-navigation-drawer",{attrs:{absolute:"","hide-overlay":"",right:"",temporary:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("bbat-table-editor-component-simple",{ref:"bbatFormSimple",attrs:{id:e.id,datainput:e.detail}})],1),a("v-layout",{class:{fix_tool_bottom:e.offsetCheck>300},attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-right pt-0 mt-4 ml-1 px-0 pr-3",attrs:{xs12:""}},[e.loading?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0,color:"blue darken-3"}}):e._e(),(e.getUser("QUAN_LY_GIAY_PHEP")||e.userPermission)&&e.editDeliverable?a("v-btn",{staticClass:"mr-1",attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},nativeOn:{click:function(t){e.saveToData(0)}}},[a("v-icon",[e._v("save")]),e._v("  \n          "),"0"===String(e.id)?a("span",[e._v("Tạo "+e._s(String(e.loaiDuLieu).toLowerCase()))]):a("span",[e._v("Cập nhật")])],1):e._e(),!e.getUser("QUAN_LY_GIAY_PHEP")&&!e.userPermission||e.editDeliverable||"0"===String(e.id)?e._e():a("v-btn",{staticClass:"mr-1",attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},nativeOn:{click:function(t){return e.uploadFileDeliverable(t)}}},[a("v-icon",[e._v("cloud_upload")]),e._v("  \n        Tải "+e._s(String(e.loaiDuLieu).toLowerCase())+" từ máy tính\n        ")],1),!e.getUser("QUAN_LY_GIAY_PHEP")&&!e.userPermission||e.editDeliverable||"0"!==e.detail.dossierId?e._e():a("v-btn",{staticClass:"mr-1",attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},nativeOn:{click:function(t){e.editDeliverableAction()}}},[a("v-icon",[e._v("edit")]),e._v("  \n        Sửa "+e._s(String(e.loaiDuLieu).toLowerCase())+"\n        ")],1),"0"!==String(e.id)&&e.editDeliverable&&e.detail["fileAttachs"]&&"0"!==e.detail["fileAttachs"]?a("v-btn",{staticClass:"mr-1",attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},nativeOn:{click:function(t){e.editDeliverable=!1}}},[a("v-icon",[e._v("visibility")]),e._v("  \n        Xem "+e._s(String(e.loaiDuLieu).toLowerCase())+"\n        ")],1):e._e(),a("v-btn",{staticClass:"mr-0",attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){return e.backToList(t)}}},[a("v-icon",[e._v("reply")]),e._v("  \n          Quay lại\n        ")],1)],1),a("div",{staticStyle:{display:"none"}},[a("ejs-uploader",{ref:"uploadObj",attrs:{multiple:!1,autoUpload:e.auto,id:"templateupload",name:"UploadFiles",allowedExtensions:e.extensions,dropArea:e.dropArea,maxFileSize:10485760,success:e.onSuccess,uploading:e.addHeaders}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"1200",transition:"fade-transition",fullscreen:""},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[a("v-card",[a("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Tài liệu đính kèm")]),a("v-spacer"),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[a("v-icon",[e._v("close")])],1)],1),e.dialogPDFLoading?a("div",{staticStyle:{"min-height":"650px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),a("v-card-text",{staticClass:"px-0 py-0 my-0 py-0"},[a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"650px"},attrs:{id:"pdfViewerListComponent",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})]),e.fileEntryIdAttachs.length>1?a("v-card-actions",{staticClass:"py-0"},[a("span",{staticClass:"left primary--text text-bold",staticStyle:{"font-size":"1.25em"}},[e._v("Tổng số: "),a("span",{staticClass:"red--text"},[e._v(e._s(e.fileEntryIdAttachs.length))]),e._v(" tài liệu")]),a("div",{staticClass:"text-xs-center",staticStyle:{width:"calc(100% - 150px)"}},[a("v-pagination",{attrs:{length:e.fileEntryIdAttachs.length,circle:"","total-visible":5},on:{input:function(t){e.changePage(e.pageAttachs)}},model:{value:e.pageAttachs,callback:function(t){e.pageAttachs=t},expression:"pageAttachs"}})],1)]):e._e()],1)],1)],1)},Je=[],Xe=a("952c"),Ze=Xe["a"],et=Object(c["a"])(Ze,Ye,Je,!1,null,null,null);et.options.__file="DeliverableEditor.vue";var tt=et.exports;u()(et,{VBtn:_["a"],VCard:ae["a"],VCardActions:ie["a"],VCardText:ie["b"],VDialog:oe["a"],VFlex:se["a"],VForm:ce["a"],VIcon:v["a"],VLayout:R["a"],VNavigationDrawer:y["a"],VPagination:qe["a"],VProgressCircular:D["a"],VProgressLinear:de["a"],VSpacer:pe["a"],VToolbar:ze["a"],VToolbarTitle:Ge["a"]});var at=[{path:"/danh-sach-giay-to/:index",name:"DeliverableList",component:Qe,props:!0},{path:"/danh-sach-giay-to/:index/editor/:id",name:"DeliverableEditor",component:tt,props:!0},{path:"/danh-sach-ho-so/:index",name:"Landing",component:F,props:!0},{path:"/danh-sach-ho-so/:index/tiep-nhan-ho-so/:id/:formCode",name:"TiepNhanHoSoDetail",component:$,props:!0},{path:"/danh-sach-ho-so/:index/bo-sung-ho-so/:id",name:"HoanThienBoSungHoSoDetail",component:z,props:!0},{path:"/danh-sach-ho-so/:index/ho-so/:id/:formCode",name:"DetailForward",component:Se,props:!0},{path:"*",name:"NotFound",component:Be}];i["a"].use(k["a"]);var it=new k["a"]({routes:at}),nt=it,ot=a("4360"),rt=a("967d"),lt=a("bc3a"),st=a.n(lt),ct=a("e0e8");i["a"].use(ct["a"]),i["a"].use(rt["default"]);var dt=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,ut=(void 0!==window.themeDisplay&&window.themeDisplay.getCompanyId(),void 0!==window.themeDisplay&&window.themeDisplay.getUserId(),void 0!==window.themeDisplay&&window.themeDisplay.getUserName(),void 0!==window.themeDisplay?window.themeDisplay.getPortalURL().replace("http://",""):"localhost:8080");void 0!==window.themeDisplay&&window.Liferay.authToken,ut.indexOf(":")>0&&ut.substr(0,ut.indexOf(":"));st.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",st.a.defaults.headers.common["groupId"]=dt,i["a"].config.productionTip=!0,i["a"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new i["a"]({router:nt,store:ot["a"],created:function(){var e=this;e.$nextTick((function(){e.$store.dispatch("loadInitResource"),window.location.href.endsWith("#/")&&e.$router.push("/danh-sach-giay-to/0"),e.$store.dispatch("getDeliverableTypes")}))},render:function(e){return e(w)}}).$mount("#app_deliverable")},"6c58":function(module,__webpack_exports__,__webpack_require__){"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],i=!0,n=!1,o=void 0;try{for(var r,l=e[Symbol.iterator]();!(i=(r=l.next()).done);i=!0)if(a.push(r.value),t&&a.length===t)break}catch(s){n=!0,o=s}finally{try{i||null==l["return"]||l["return"]()}finally{if(n)throw o}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}__webpack_exports__["a"]={data:function(){return{toDateFormatted:null,toDate:null,rules:{required:function(e){return!!e||"Bắt buộc phải nhập."},number:function(e){var t=/^\d+$/;return t.test(e)||"Bắt buộc phải nhập kiểu số."},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Sai định dạng thư điện tử."}}}},props:["value","item","dataValue","classTextField","classMenu"],watch:{toDate:function(e){var t=this;setTimeout((function(){var a=e.split("-"),i=_slicedToArray(a,3),n=i[0],o=i[1],r=i[2];t.dataValue="".concat(r,"/").concat(o,"/").concat(n),t.$emit("changeDate",t.dataValue)}),300)},dataValue:function(e){this.$emit("changeDate",e)}},methods:{formatDate:function(e){if(!e)return null;var t;if(isNaN(e)){if(!(String(e).indexOf("-")>=0))return e;t=e}else t=parseInt(e);var a=new Date(t);return a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear()},parseDate:function(e){var t=this,a=e;if(!e)return null;isNaN(e)||(a=t.formatDate(e));var i=a.split("/"),n=_slicedToArray(i,3),o=n[0],r=n[1],l=n[2];return"".concat(l,"-").concat(r.padStart(2,"0"),"-").concat(o.padStart(2,"0"))},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")}}}},"74ef":function(e,t,a){},"952c":function(module,__webpack_exports__,__webpack_require__){"use strict";var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),axios__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__),jquery__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_2__),_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("2af9"),toastr__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_4__),_syncfusion_ej2_vue_inputs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("e0e8"),_syncfusion_ej2_base__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("7de8");vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(_syncfusion_ej2_vue_inputs__WEBPACK_IMPORTED_MODULE_5__["a"]),__webpack_exports__["a"]={props:["index","id"],components:{BbatTableEditorComponentSimple:_components__WEBPACK_IMPORTED_MODULE_3__["c"],BbatTableEditorComponent:_components__WEBPACK_IMPORTED_MODULE_3__["b"],ViewPdf:_components__WEBPACK_IMPORTED_MODULE_3__["f"],ViewLogs:_components__WEBPACK_IMPORTED_MODULE_3__["e"],AttachedFileTemplate:_components__WEBPACK_IMPORTED_MODULE_3__["a"]},data:function(){return{drawer:null,offsetTop:0,offsetCheck:400,deName:"",valid:!1,active:-1,loading:!1,dataSocket:{},tempCounter:0,detail:{},showComponent:!1,formId:"",editDeliverable:!1,extensions:".pdf",dialogPDF:!1,dialogPDFLoading:!1,fileEntryIdAttachs:[],pageAttachs:1,loaiDuLieu:"",fileNameAttach:"",fileNameAttachDate:"",extensionsFileUpLoad:"",maxSizeFileUpLoad:"",requiredAttachFile:!1,urlFileAttach:"",indexFile:0}},created:function created(){var vm=this;vm.$nextTick((function(){var currentQuery=vm.$router.history.current.query;vm.items.length>0&&vm.$store.commit("setUserPermission",vm.items[vm.index]["moderator"]),vm.editDeliverable=!!("0"===String(vm.id)||currentQuery.hasOwnProperty("editForm")&&currentQuery.editForm),vm.$store.dispatch("getDeliverableTypes").then((function(result){setTimeout((function(){var tableConfig=eval("( "+vm.items[vm.index]["tableConfig"]+" )");tableConfig.hasOwnProperty("loaiDuLieu")&&tableConfig.loaiDuLieu?vm.loaiDuLieu=tableConfig.loaiDuLieu:vm.loaiDuLieu="giấy phép",tableConfig.hasOwnProperty("extensions")&&tableConfig.extensions?vm.extensionsFileUpLoad=tableConfig.extensions:vm.extensionsFileUpLoad="",tableConfig.hasOwnProperty("attachFile")&&tableConfig.attachFile?vm.requiredAttachFile=tableConfig.attachFile:vm.requiredAttachFile=!1,tableConfig.hasOwnProperty("maxSize")&&tableConfig.maxSize?vm.maxSizeFileUpLoad=tableConfig.maxSize:vm.maxSizeFileUpLoad="",vm.formId=vm.items[vm.index]["formScriptFileId"],vm.deName="",vm.showComponent=!1,vm.$store.dispatch("getDeliverableById",vm.id).then((function(e){"0"!==String(vm.id)&&(vm.detail=e,vm.detail["fileAttachs"]&&"0"!==vm.detail["fileAttachs"]&&vm.getFileAttach()),vm.deName=vm.detail["deliverableName"],vm.showComponent=!0,vm.$store.dispatch("getContentFileSimple"),vm.tempCounter=vm.pullCounter}))}),100)}))}))},watch:{$route:function $route(newRoute,oldRoute){var vm=this;if(vm.isConnected){vm.isConnected=!1;var formId=vm.items[vm.index]["formScriptFileId"],tableConfig=eval("( "+vm.items[vm.index]["tableConfig"]+" )");tableConfig.hasOwnProperty("loaiDuLieu")&&tableConfig.loaiDuLieu?vm.loaiDuLieu=tableConfig.loaiDuLieu:vm.loaiDuLieu="giấy phép",tableConfig.hasOwnProperty("extensions")&&tableConfig.extensions?vm.extensionsFileUpLoad=tableConfig.extensions:vm.extensionsFileUpLoad="",tableConfig.hasOwnProperty("attachFile")&&tableConfig.attachFile?vm.requiredAttachFile=tableConfig.attachFile:vm.requiredAttachFile=!1,tableConfig.hasOwnProperty("maxSize")&&tableConfig.maxSize?vm.maxSizeFileUpLoad=tableConfig.maxSize:vm.maxSizeFileUpLoad="",vm.deName="",vm.showComponent=!1,vm.$store.dispatch("getDeliverableById",vm.id).then((function(e){"0"!==String(vm.id)&&(vm.detail=e,vm.detail["fileAttachs"]&&"0"!==vm.detail["fileAttachs"]&&vm.getFileAttach()),vm.deName=vm.detail["deliverableName"],vm.showComponent=!0,vm.$store.dispatch("getContentFileSimple"),vm.tempCounter=vm.pullCounter,("0"===String(vm.id)||"0"!==String(vm.id)&&vm.editDeliverable)&&(vm.indexFile=0,document.getElementById("documentFileAttach").value="",vm.fileNameAttach="")}))}},items:function(e){var t=this;t.items.length>0&&t.$store.commit("setUserPermission",t.items[t.index]["moderator"])}},computed:{items:function(){return this.$store.getters.getDeliverableTypes},userPermission:function(){return this.$store.getters.getUserPermission},pullCounter:{get:function(){return this.$store.getters.pullCounter},set:function(e){this.$store.commit("setpullCounter",e)}},isConnected:{get:function(){return this.$store.getters.getisConnected},set:function(e){this.$store.commit("setisConnected",e)}}},mounted:function(){var e=this;jquery__WEBPACK_IMPORTED_MODULE_2___default()(".e-upload").css("display","none"),jquery__WEBPACK_IMPORTED_MODULE_2___default()("#templateupload").unbind(),jquery__WEBPACK_IMPORTED_MODULE_2___default()("#templateupload").change((function(){setTimeout((function(){e.loading=!0;var t={id:e.id};e.$store.dispatch("uploadSingleFile",t).then((function(t){setTimeout((function(){toastr__WEBPACK_IMPORTED_MODULE_4___default.a.success("Tải "+String(e.loaiDuLieu).toLowerCase()+" lên thành công"),e.loading=!1,e.$store.dispatch("getDeliverableById",e.id).then((function(t){e.detail=t,e.editDeliverable=!1,e.showComponent=!0,e.$refs.viewpdf.pullPDF(e.detail["fileEntryId"])}))}),2e3)})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_4___default.a.error("Tải "+String(e.loaiDuLieu).toLowerCase()+" lên thất bại"),e.loading=!1}))}),200)}))},methods:{onScroll:function(e){this.offsetTop=window.pageYOffset||document.documentElement.scrollTop,this.offsetCheck=document.getElementsByTagName("BODY")[0].offsetHeight-this.offsetTop},goBack:function(){window.history.back()},backToList:function(){var e=this,t=e.$router.history.current,a=t.query,i=(t.path,"?");for(var n in a["state_change"]="0",a["renew"]="",a)""!==a[n]&&"undefined"!==a[n]&&void 0!==a[n]&&(i+=n+"="+a[n]+"&");i+="renew="+Math.floor(100*Math.random())+1,e.$router.push({path:"/danh-sach-giay-to/"+e.index+i})},saveToData:function(e){var t=this;if(t.$refs.form.validate()){try{var a=window.$("#formDelivert").alpaca("get").childrenByPropertyId;if(a)for(var i in a)if(a[i].isRequired()&&""===a[i].getValue())return toastr__WEBPACK_IMPORTED_MODULE_4___default.a.clear(),void toastr__WEBPACK_IMPORTED_MODULE_4___default.a.error(a[i].options.title?a[i].options.title+" là trường dữ liệu bắt buộc":a[i].options["name"]+" là trường dữ liệu bắt buộc")}catch(l){}var n=0==t.indexFile?window.$("#documentFileAttachSub")[0].files:window.$("#documentFileAttach")[0].files;if(t.requiredAttachFile&&(!t.detail["fileEntryId"]||"0"==t.detail["fileEntryId"])&&0===n.length)return toastr__WEBPACK_IMPORTED_MODULE_4___default.a.error("Vui lòng đính kèm tài liệu!"),void(t.loading=!1);t.loading=!0;var o=t.$refs.bbatForm,r={};null!==o&&void 0!==o&&"undefined"!==o&&(r["formData"]={},r["formData"]=o.getFormData()),r["deliverableType"]=t.items[t.index]["typeCode"],-1===e?t.detail={}:("0"!==String(t.id)&&(r["deliverableCode"]=t.detail["deliverableCode"],r["deliverableId"]=t.detail["deliverableId"]),t.$store.dispatch("createDeliverable",r).then((function(e){var a=function(){var a=e.createDeliverable.deliverableId,i=0==t.indexFile?window.$("#documentFileAttachSub")[0].files:window.$("#documentFileAttach")[0].files,n=i?i[0]:"";if(n){var o=new FormData;o.append("UploadFiles",n),axios__WEBPACK_IMPORTED_MODULE_1___default.a.post("/o/v1/opencps/users/upload/opencps_deliverable/org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId/"+a,o,{headers:{groupId:window.themeDisplay.getScopeGroupId(),"Content-Type":"multipart/form-data"}}).then((function(){})).catch((function(){toastr__WEBPACK_IMPORTED_MODULE_4___default.a.error("Đính kèm tài liệu không thành công")}))}};"0"===String(t.id)?(a(),t.loading=!1,t.backToList()):setTimeout((function(){a(),setTimeout((function(){toastr__WEBPACK_IMPORTED_MODULE_4___default.a.success("Cập nhật thành công"),t.backToList(),t.loading=!1}),2e3)}),500)})).catch((function(){t.loading=!1})))}},viewFileAttach:function(e){var t=this;t.fileEntryIdAttachs=String(e["fileAttachs"]).split(","),t.loading=!0,t.dialogPDFLoading=!0,t.$store.dispatch("viewPDF",t.fileEntryIdAttachs[0]).then((function(e){t.loading=!1,t.dialogPDFLoading=!1,t.dialogPDF=!0,document.getElementById("pdfViewerListComponent").src=e})).catch((function(){t.loading=!1,t.dialogPDFLoading=!1}))},editDeliverableAction:function(){var e=this;e.editDeliverable=!0,setTimeout((function(){("0"===String(e.id)||"0"!==String(e.id)&&e.editDeliverable)&&(e.indexFile=0,document.getElementById("documentFileAttach").value="",e.fileNameAttach="")}),100)},changePage:function(e){var t=this,a=Number(e)-1;t.dialogPDFLoading=!0,t.$store.dispatch("viewPDF",t.fileEntryIdAttachs[a]).then((function(e){t.dialogPDFLoading=!1,document.getElementById("pdfViewerListComponent").src=e})).catch((function(){t.dialogPDFLoading=!1}))},uploadFileDeliverable:function(){return document.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1},getUser:function(e){var t=this,a=t.$store.getters.getUser.role;if(!a)return!1;var i=a.findIndex((function(t){return String(t).indexOf(e)>=0}));return i>=0},uploadFile:function(){var e=this;0===e.indexFile?(document.getElementById("documentFileAttach").value="",document.getElementById("documentFileAttach").click()):(document.getElementById("documentFileAttachSub").value="",document.getElementById("documentFileAttachSub").click())},onUploadSingleFile:function(e,t){var a,i=this;a=0==i.indexFile?window.$("#documentFileAttach")[0].files[0]:window.$("#documentFileAttachSub")[0].files[0];var n={file:a},o=i.validFileUpload(n);o?(0==i.indexFile?i.indexFile=1:i.indexFile=0,i.fileNameAttach=a.name,i.fileNameAttachDate=i.getCurentDateTime()):0==i.indexFile?document.getElementById("documentFileAttach").value="":document.getElementById("documentFileAttachSub").value=""},validFileUpload:function(e){var t=this,a=!0,i=e.file.name?e.file.name.split("."):"",n=i?i[i.length-1]:"",o={extensions:t.extensionsFileUpLoad,maxSize:t.maxSizeFileUpLoad},r=o["extensions"]?(o["extensions"]+","+o["extensions"].toUpperCase()).split(","):"",l=(o["maxSize"],r?r.filter((function(e){return e===n})):"");return a=!1,l&&l.length>0?Number(e.file.size)<=1048576*o["maxSize"]||!o["maxSize"]?a=!0:(toastr__WEBPACK_IMPORTED_MODULE_4___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_4___default.a.error("Tài liệu tải lên dung lượng tối đa là "+o["maxSize"]+" MB"),a=!1):o["extensions"]?(toastr__WEBPACK_IMPORTED_MODULE_4___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_4___default.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+o["extensions"]),a=!1):a=!0,a},getCurentDateTime:function(){var e=new Date;return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))},getFileAttach:function(){var e=this;e.$store.dispatch("viewPDF",e.detail["fileAttachs"]).then((function(t){e.urlFileAttach=t})).catch((function(){e.urlFileAttach=""}))}}}},bbd0:function(e){e.exports={deliverableState:{state_0:"Không rõ",state_1:"Đang hiệu lực",state_2:"Hết hiệu lực",state_3:"Tạm dừng (đình chỉ)",state_4:"Đã bị thu hồi"}}},be4e:function(module,__webpack_exports__,__webpack_require__){"use strict";var _DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fa98");__webpack_exports__["a"]={props:["id","formid","datainput"],components:{DatetimePicker:_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__["a"]},data:function(){return{pullCounter:0,isCallBack:!0,config:{},pullOk:!0,valid:!0,loading:!1,data:{},cmOptions:{tabSize:4,mode:"text/javascript",theme:"base16-light",lineNumbers:!0,line:!0},rules:{required:function(e){return!!e||"Bắt buộc phải nhập."},number:function(e){var t=/^\d+$/;return t.test(e)||"Bắt buộc phải nhập kiểu số."},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Sai định dạng thư điện tử."}},formTempalate:"",active:!1}},computed:{detailForm:function(){var e=this,t=this.$store.getters.getContentFile;return e.formTempalate=t,""===t?[]:t},alpacaFormData:function(){var e=window.$("#formDelivert").alpaca("get"),t=e.getValue();return t||{}},pullCounterOrg:function(){return this.$store.getters.pullCounter},formData:function(){return this.$store.getters.getChangeFormData},activeBindFormData:function(){return this.$store.getters.getActiveBindFormData}},updated:function(){var e=this;e.$nextTick((function(){}))},watch:{activeBindFormData:function(){}},mounted:function mounted(){var vm=this;vm.$nextTick((function(){vm.$store.dispatch("getContentFile",vm.formid).then((function(result){var formScript,formData;vm.formTempalate=result,window.$("#formDelivert").empty(),formScript=result||{},formData="0"!==String(vm.id)&&vm.datainput?eval("("+vm.datainput+")"):{},formScript.data=formData,window.$("#formDelivert").alpaca(formScript)}))}))},methods:{clearLoading:function(){this.loading=!1},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")},processChangeDataSource:function(e,t){var a=this;t.hasOwnProperty("concatina")&&(a.pullOk=!1,a.pullCounter=a.pullCounter+1,a.$store.commit("setpullCounter",a.pullCounter),a.$socket.sendObj({type:"api",cmd:"get",respone:t.concatina["datasource_key"],api:t.concatina["datasource_api"]+"?"+t.concatina["query"]+"="+e,headers:{Token:a.getAuthToken(),groupId:a.getScopeGroupId(),USER_ID:a.getUserId()}}))},processDataSourceVerify:function(){var e=this;for(var t in e.detailForm)e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")&&e.data.hasOwnProperty(e.detailForm[t]["model"])&&String(e.data[e.detailForm[t]["model"]]).startsWith("[")&&(e.data[e.detailForm[t]["model"]]=JSON.parse(e.data[e.detailForm[t]["model"]]))},processDataSource:function(){var e=this;for(var t in e.detailForm)if(e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")){e.pullOk=!1,e.pullCounter=e.pullCounter+1,e.$store.commit("setpullCounter",e.pullCounter);var a=e.detailForm[t]["datasource_api"];e.detailForm[t]["dependency"]&&e.detailForm[t].hasOwnProperty("pk")&&(a=a+"?pk="+e.id+"&col="+e.detailForm[t]["pk"]),e.$socket.sendObj({type:"api",cmd:"get",respone:e.detailForm[t]["datasource_key"],api:a,headers:{Token:e.getAuthToken(),groupId:e.getScopeGroupId(),USER_ID:e.getUserId()}})}},getFormData:function(){var e=window.$("#formDelivert").alpaca("get"),t=e.getValue();return t||{}},bindFormData:function(e){var t,a,i=this,n=e;if(window.$("#formDelivert").empty(),t=i.formTempalate?i.formTempalate:{},n)for(var o in a=n,a)String(o).toLowerCase().indexOf("date")>=0&&a[o]&&String(a[o]).indexOf("/")<0&&(a[o]=i.convertDate(a[o]));else a={};t.data=a,window.$("#formDelivert").alpaca(t)},convertDate:function(e){if(Number(e)>0){var t=new Date(e);return"".concat(t.getDate().toString().padStart(2,"0"),"/").concat((t.getMonth()+1).toString().padStart(2,"0"),"/").concat(t.getFullYear())}return""}}}},beb1:function(e,t,a){"use strict";var i="\n    {\n        getDeliverableTypes(start: -1, end: -1) {\n            typeCode\n            typeName\n            formScriptFileId\n            formReportFileId\n            dataConfig\n            tableConfig\n            moderator\n        }\n    }\n";t["a"]={getDeliverableTypes:i}},eaa6:function(e,t,a){"use strict";var i='\n    mutation {\n        createDeliverable(\n            body: "INPUTBODY"\n        ) {\n            deliverableId\n        }\n    }\n';t["a"]={createDeliverable:i}},f8a0:function(module,__webpack_exports__,__webpack_require__){"use strict";var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026");__webpack_exports__["a"]={props:{item:{type:Object,default:function(){return{dossierId:0}}},layout_view:{type:Object}},created:function created(){var vm=this;null!==vm.layout_view&&void 0!==vm.layout_view&&"undefined"!==vm.layout_view&&vue__WEBPACK_IMPORTED_MODULE_0__["a"].component("my-dynamic-view",{template:vm.layout_view["template"],data:eval(" ( "+vm.layout_view["data"]+" ) "),beforeCreate:eval(" ( "+vm.layout_view["beforeCreate"]+" ) "),created:eval(" ( "+vm.layout_view["created"]+" ) "),updated:eval(" ( "+vm.layout_view["updated"]+" ) "),methods:vm.layout_view["methods"]})}}},fa98:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{class:e.classMenu,staticStyle:{width:"calc(100% - 150px)"},attrs:{"close-on-content-click":!0,lazy:"",transition:"fade-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"}},[a("v-text-field",{class:e.classTextField,attrs:{slot:"activator","hide-details":"","single-lines":"",solo:"",flat:"",height:"32","min-height":"32","append-icon":"event",rules:e.processRules(e.item.rules),clearable:""},on:{change:function(t){e.toDate=e.parseDate(e.dataValue)}},slot:"activator",model:{value:e.dataValue,callback:function(t){e.dataValue=t},expression:"dataValue"}},[a("template",{slot:"label"},[e._v(e._s(e.item["label"])+" "),e.item.required?a("span",{staticClass:"red--text darken-3"},[e._v("*")]):e._e()])],2),a("v-date-picker",{attrs:{"no-title":""},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1)},n=[],o=a("6c58"),r=o["a"],l=a("2877"),s=a("6544"),c=a.n(s),d=a("2e4b"),u=a("e449"),p=a("2677"),_=Object(l["a"])(r,i,n,!1,null,null,null);_.options.__file="DatetimePicker.vue";t["a"]=_.exports;c()(_,{VDatePicker:d["a"],VMenu:u["a"],VTextField:p["a"]})}});