(function(e){function t(t){for(var n,s,l=t[0],r=t[1],c=t[2],u=0,p=[];u<l.length;u++)s=l[u],o[s]&&p.push(o[s][0]),o[s]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,l=1;l<a.length;l++){var r=a[l];0!==o[r]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},o={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=r;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0759":function(module,__webpack_exports__,__webpack_require__){"use strict";var _components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2af9");__webpack_exports__["a"]={props:["index","id"],components:{BbatTableEditorComponentSimple:_components__WEBPACK_IMPORTED_MODULE_0__["c"],BbatTableEditorComponent:_components__WEBPACK_IMPORTED_MODULE_0__["b"],ViewPdf:_components__WEBPACK_IMPORTED_MODULE_0__["f"],ViewLogs:_components__WEBPACK_IMPORTED_MODULE_0__["e"],AttachedFileTemplate:_components__WEBPACK_IMPORTED_MODULE_0__["a"]},data:function(){return{offsetTop:0,offsetCheck:400,deName:"",valid:!1,active:0,loading:!1,dataSocket:{},tempCounter:0,detail:{},showComponent:!1}},created:function created(){var vm=this;vm.$nextTick(function(){setTimeout(function(){var formId=vm.items[vm.index]["formScriptFileId"];vm.deName="",vm.$store.dispatch("getContentFile",formId),vm.showComponent=!1,vm.$store.dispatch("getDeliverableById",vm.id).then(function(e){vm.detail=e,vm.deName=vm.detail["deliverableName"],vm.showComponent=!0}),vm.$store.dispatch("getContentFileSimple"),vm.tempCounter=vm.pullCounter,vm.$socket.onmessage=function(data){var dataObj=eval("( "+data.data+" )");vm.dataSocket[dataObj.respone]=dataObj[dataObj.respone],console.log("vm.dataSocket",vm.dataSocket),vm.$store.commit("setdataSocket",vm.dataSocket),"api"===dataObj["type"]&&"200"===dataObj["status"]&&(vm.tempCounter=vm.tempCounter-1,vm.tempCounter<0&&(vm.tempCounter=0),vm.$store.commit("setpullCounter",vm.tempCounter))}},100)})},watch:{$route:function $route(newRoute,oldRoute){var vm=this;if(vm.isConnected){vm.isConnected=!1;var formId=vm.items[vm.index]["formScriptFileId"];vm.deName="",vm.$store.dispatch("getContentFile",formId),vm.showComponent=!1,vm.$store.dispatch("getDeliverableById",vm.id).then(function(e){vm.detail=e,vm.deName=vm.detail["deliverableName"],vm.showComponent=!0}),vm.$store.dispatch("getContentFileSimple"),vm.tempCounter=vm.pullCounter,vm.$socket.onmessage=function(data){var dataObj=eval("( "+data.data+" )");vm.dataSocket[dataObj.respone]=dataObj[dataObj.respone],console.log("vm.dataSocket",vm.dataSocket),vm.$store.commit("setdataSocket",vm.dataSocket),"api"===dataObj["type"]&&"200"===dataObj["status"]&&(vm.tempCounter=vm.tempCounter-1,vm.tempCounter<0&&(vm.tempCounter=0),vm.$store.commit("setpullCounter",vm.tempCounter))}}}},computed:{items:function(){return this.$store.getters.getDeliverableTypes},pullCounter:{get:function(){return this.$store.getters.pullCounter},set:function(e){this.$store.commit("setpullCounter",e)}},isConnected:{get:function(){return this.$store.getters.getisConnected},set:function(e){this.$store.commit("setisConnected",e)}}},methods:{onScroll:function(e){this.offsetTop=window.pageYOffset||document.documentElement.scrollTop,this.offsetCheck=document.getElementsByTagName("BODY")[0].offsetHeight-this.offsetTop,console.log("this.offsetCheck",this.offsetCheck)},goBack:function(){window.history.back()},backToList:function(){var e=this;console.log("backToList");var t=e.$router.history.current,a=t.query,n=(t.path,"?");for(var o in a["state_change"]="0",a["renew"]="",a)""!==a[o]&&"undefined"!==a[o]&&void 0!==a[o]&&(n+=o+"="+a[o]+"&");n+="renew="+Math.floor(100*Math.random())+1,e.$router.push({path:"/danh-sach-giay-to/"+e.index+n})},saveToData:function(e){var t=this;if(t.$refs.form.validate()){t.loading=!0;var a=t.$refs.bbatFormSimple,n=t.$refs.bbatForm,o={};null!==a&&void 0!==a&&"undefined"!==a&&(o=a.data),null!==n&&void 0!==n&&"undefined"!==n&&(o["formData"]={},console.log("bbatForm",n.data),o["formData"]=n.data),o["deliverableType"]=t.items[t.index]["typeCode"],console.log("submitDataObject",o),-1===e?t.detail={}:t.$store.dispatch("createDeliverable",o).then(function(e){t.loading=!1,"0"===String(t.id)&&t.$refs.attachedObj.doUploadLate(e["createDeliverable"]["deliverableId"]),t.backToList()})}}}}},1059:function(module,__webpack_exports__,__webpack_require__){"use strict";var _DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fa98");__webpack_exports__["a"]={props:["id","datainput"],components:{DatetimePicker:_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__["a"]},data:function(){return{isCallBack:!0,config:{},pullOk:!0,pullCounter:0,valid:!0,loading:!1,data:{},cmOptions:{tabSize:4,mode:"text/javascript",theme:"base16-light",lineNumbers:!0,line:!0},rules:{required:function(e){return!!e||"Bắt buộc phải nhập."},number:function(e){var t=/^\d+$/;return t.test(e)||"Bắt buộc phải nhập kiểu số."},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Sai định dạng thư điện tử."}}}},computed:{detailForm:function(){var e=this.$store.getters.getContentFileSimple;return console.log("detailDynamicSimple",e),""===e?[]:e},dataSocket:{get:function(){return this.$store.getters.dataSocket},set:function(e){this.$store.commit("setdataSocket",e)}},pullCounterOrg:function(){return this.$store.getters.pullCounter}},updated:function(){var e=this;e.$nextTick(function(){e.isCallBack&&(e.isCallBack=!1,e.processDataSource(),setTimeout(function(){e.processDataSourceVerify(),"0"!==String(e.id)&&(e.data=e.datainput),0===e.pullCounterOrg&&(e.pullOk=!0),setTimeout(function(){e.pullOk=!0},1e3)},500))})},methods:{clearLoading:function(){this.loading=!1},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")},processChangeDataSource:function(e,t){var a=this;t.hasOwnProperty("concatina")&&(a.pullOk=!1,a.pullCounter=a.pullCounter+1,console.log("vm.pullCounter",a.pullCounter),a.$socket.sendObj({type:"api",cmd:"get",respone:t.concatina["datasource_key"],api:t.concatina["datasource_api"]+"?"+t.concatina["query"]+"="+e,headers:{Token:a.getAuthToken(),groupId:a.getScopeGroupId(),USER_ID:a.getUserId()}}))},processDataSourceVerify:function(){var e=this;for(var t in e.detailForm)e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")&&e.data.hasOwnProperty(e.detailForm[t]["model"])&&String(e.data[e.detailForm[t]["model"]]).startsWith("[")&&(e.data[e.detailForm[t]["model"]]=JSON.parse(e.data[e.detailForm[t]["model"]]))},processDataSource:function(){var e=this;for(var t in e.detailForm)if(e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")){e.pullOk=!1,e.pullCounter=e.pullCounter+1,console.log("vm.pullCounter",e.pullCounter);var a=e.detailForm[t]["datasource_api"];e.detailForm[t]["dependency"]&&e.detailForm[t].hasOwnProperty("pk")&&(a=a+"?pk="+e.id+"&col="+e.detailForm[t]["pk"]),e.$socket.sendObj({type:"api",cmd:"get",respone:e.detailForm[t]["datasource_key"],api:a,headers:{Token:e.getAuthToken(),groupId:e.getScopeGroupId(),USER_ID:e.getUserId()}})}}}}},"146f":function(module,__webpack_exports__,__webpack_require__){"use strict";var _DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fa98");__webpack_exports__["a"]={props:["id","datainput"],components:{DatetimePicker:_DatetimePicker_vue__WEBPACK_IMPORTED_MODULE_0__["a"]},data:function(){return{pullCounter:0,isCallBack:!0,config:{},pullOk:!0,valid:!0,loading:!1,data:{},cmOptions:{tabSize:4,mode:"text/javascript",theme:"base16-light",lineNumbers:!0,line:!0},rules:{required:function(e){return!!e||"Bắt buộc phải nhập."},number:function(e){var t=/^\d+$/;return t.test(e)||"Bắt buộc phải nhập kiểu số."},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Sai định dạng thư điện tử."}}}},computed:{detailForm:function(){var e=this.$store.getters.getContentFile;return console.log("detailDynamic",e),""===e?[]:e},dataSocket:{get:function(){return this.$store.getters.dataSocket},set:function(e){this.$store.commit("setdataSocket",e)}},pullCounterOrg:function(){return this.$store.getters.pullCounter}},updated:function(){var e=this;e.$nextTick(function(){e.isCallBack&&(e.isCallBack=!1,e.processDataSource(),setTimeout(function(){e.processDataSourceVerify(),"0"!==String(e.id)&&(e.data=JSON.parse(e.datainput)),0===e.pullCounterOrg&&(e.pullOk=!0),setTimeout(function(){e.pullOk=!0},1e3)},500))})},methods:{clearLoading:function(){this.loading=!1},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")},processChangeDataSource:function(e,t){var a=this;t.hasOwnProperty("concatina")&&(a.pullOk=!1,a.pullCounter=a.pullCounter+1,a.$store.commit("setpullCounter",a.pullCounter),a.$socket.sendObj({type:"api",cmd:"get",respone:t.concatina["datasource_key"],api:t.concatina["datasource_api"]+"?"+t.concatina["query"]+"="+e,headers:{Token:a.getAuthToken(),groupId:a.getScopeGroupId(),USER_ID:a.getUserId()}}))},processDataSourceVerify:function(){var e=this;for(var t in e.detailForm)e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")&&e.data.hasOwnProperty(e.detailForm[t]["model"])&&String(e.data[e.detailForm[t]["model"]]).startsWith("[")&&(e.data[e.detailForm[t]["model"]]=JSON.parse(e.data[e.detailForm[t]["model"]]))},processDataSource:function(){var e=this;for(var t in e.detailForm)if(e.detailForm[t].hasOwnProperty("datasource_api")&&e.detailForm[t].hasOwnProperty("datasource_key")){e.pullOk=!1,e.pullCounter=e.pullCounter+1,e.$store.commit("setpullCounter",e.pullCounter);var a=e.detailForm[t]["datasource_api"];e.detailForm[t]["dependency"]&&e.detailForm[t].hasOwnProperty("pk")&&(a=a+"?pk="+e.id+"&col="+e.detailForm[t]["pk"]),e.$socket.sendObj({type:"api",cmd:"get",respone:e.detailForm[t]["datasource_key"],api:a,headers:{Token:e.getAuthToken(),groupId:e.getScopeGroupId(),USER_ID:e.getUserId()}})}}}}},"1a0d":function(e,t,a){"use strict";var n=a("d593"),o=a.n(n);o.a},"1f98":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!==e.layout_view&&void 0!==e.layout_view&&"undefined"!==e.layout_view?a("my-dynamic-view"):e._e()},o=[],i=a("4a57"),s=i["a"],l=a("2877"),r=Object(l["a"])(s,n,o,!1,null,null,null);r.options.__file="template_rendering.vue";t["a"]=r.exports},"2af9":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",staticClass:"px-3 py-3 vuejx__form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[null!==e.detailForm&&e.detailForm.length>0?a("v-layout",{staticStyle:{"margin-bottom":"100px","max-width":"800px",margin:"0 auto"},attrs:{row:"",wrap:""}},e._l(e.detailForm,function(t,n){return a("v-flex",{key:n,class:t["class"]},["label"===t.type?a("span",{domProps:{innerHTML:e._s(t["label"])}}):e._e(),"avatar"===t.type?a("attached-file-avatar",{attrs:{pk:e.data[t.model],"pick-item":t,"current-data":e.data}}):e._e(),"date"===t.type?a("datetime-picker",{class:t["class_component"],attrs:{item:t,"data-value":e.data[t.model]},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"button"===t.type&&t["link"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:"",to:t.url+"?pk="+e.data[t.pk]+"&col="+t.pk}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"button"===t.type&&t["account"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAccount(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"button"===t.type&&t["attached"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAttached(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"button"===t.type&&t["fileform"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAttached(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"selects"===t.type&&!e.pullOk&&t.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),"selects"===t.type&&e.pullOk&&t.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:t["class_component"],attrs:{items:e.dataSocket[t["datasource_key"]],"item-text":t.itemText,"item-value":t.itemValue,label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),"no-data-text":"Không tìm thấy dữ liệu "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[""!==t["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_prepend"])}})],1):e._e(),""!==t["label_append"]?a("template",{slot:"append-outer"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_append"])}})],1):e._e()],2):e._e(),"selects"!==t.type||t.hasOwnProperty("datasource_key")?e._e():a("v-autocomplete",{class:t["class_component"],attrs:{items:t.datasource,"item-text":t.itemText,"item-value":t.itemValue,label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),"no-data-text":"Không tìm thấy dữ liệu "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[""!==t["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_prepend"])}})],1):e._e(),""!==t["label_append"]?a("template",{slot:"append-outer"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_append"])}})],1):e._e()],2),"text-fields"===t.type?a("v-text-field",{class:t["class_component"],attrs:{label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),placeholder:t["placeholder"],clearable:""},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[""!==t["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_prepend"])}})],1):e._e(),""!==t["label_append"]?a("template",{slot:"append-outer"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_append"])}})],1):e._e()],2):e._e(),"textarea"===t.type?a("v-textarea",{class:t["class_component"],attrs:{label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),placeholder:t["placeholder"],clearable:"",rows:void 0!==t["rows"]?t["rows"]:2,box:""},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"codemirror"===t.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(t["label"]))]):e._e(),"codemirror"===t.type?a("codemirror",{attrs:{options:e.cmOptions},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"v-switch"===t.type?a("v-switch",{class:t["class_component"],attrs:{label:t["label"]},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}},[""!==t["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_prepend"])}})],1):e._e(),""!==t["label_append"]?a("template",{slot:"append"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(t["label_append"])}})],1):e._e()],2):e._e(),e._l(t["alongside"],function(n,o){return t.hasOwnProperty("alongside")?a("div",{key:o,class:n["class"],style:n["style"]},["label"===n.type?a("span",{domProps:{innerHTML:e._s(n["label"])}}):e._e(),"avatar"===n.type?a("attached-file-avatar",{class:n["class_component"],attrs:{pk:e.data[n.model],"pick-item":n}}):e._e(),"date"===n.type?a("datetime-picker",{class:n["class_component"],attrs:{item:n,"data-value":e.data[n.model]},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"button"===n.type&&n["link"]&&(n.dependency&&"0"!==String(e.id)||!n.dependency)?a("v-btn",{class:n["class_component"],attrs:{color:"blue darken-3",dark:"",to:n.url+"?pk="+e.data[n.pk]+"&col="+n.pk}},["link"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(n.label)+"\n        ")],1):e._e(),"button"===n.type&&n["account"]&&(n.dependency&&"0"!==String(e.id)||!n.dependency)?a("v-btn",{class:n["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.showAccount(n)}}},["link"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(n.label)+"\n        ")],1):e._e(),"button"===n.type&&n["attached"]&&(n.dependency&&"0"!==String(e.id)||!n.dependency)?a("v-btn",{class:n["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.showAttached(n)}}},["link"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(n.label)+"\n        ")],1):e._e(),"selects"===n.type&&!e.pullOk&&n.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),"selects"===n.type&&e.pullOk&&n.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:n["class_component"],attrs:{items:e.dataSocket[n["datasource_key"]],"item-text":n.itemText,"item-value":n.itemValue,label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),"no-data-text":"Không tìm thấy dữ liệu "+n["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(t){e.processChangeDataSource(t,n)}},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}},[""!==n["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_prepend"])}})],1):e._e(),""!==n["label_append"]?a("template",{slot:"append-outer"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_append"])}})],1):e._e()],2):e._e(),"selects"!==n.type||n.hasOwnProperty("datasource_key")?e._e():a("v-autocomplete",{class:n["class_component"],attrs:{items:n.datasource,"item-text":n.itemText,"item-value":n.itemValue,label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),"no-data-text":"Không tìm thấy dữ liệu "+n["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(t){e.processChangeDataSource(t,n)}},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}},[""!==n["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_prepend"])}})],1):e._e(),""!==n["label_append"]?a("template",{slot:"append-outer"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_append"])}})],1):e._e()],2),"text-fields"===n.type?a("v-text-field",{class:n["class_component"],attrs:{label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),placeholder:n["placeholder"],clearable:""},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}},[""!==n["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_prepend"])}})],1):e._e(),""!==n["label_append"]?a("template",{slot:"append-outer"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_append"])}})],1):e._e()],2):e._e(),"textarea"===n.type?a("v-textarea",{class:n["class_component"],attrs:{label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),placeholder:n["placeholder"],clearable:"",box:""},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"codemirror"===n.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(n["label"]))]):e._e(),"codemirror"===n.type?a("codemirror",{attrs:{options:e.cmOptions},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"v-switch"===n.type?a("v-switch",{class:n["class_component"],attrs:{label:n["label"]},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}},[""!==n["label_prepend"]?a("template",{slot:"prepend"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_prepend"])}})],1):e._e(),""!==n["label_append"]?a("template",{slot:"append"},[a("v-subheader",{staticStyle:{height:"24px",padding:"0"},domProps:{innerHTML:e._s(n["label_append"])}})],1):e._e()],2):e._e()],1):e._e()})],2)})):a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"video-preloader",attrs:{id:"video-preloader"}},[a("video",{attrs:{loop:"",id:"editor-video-preloader",width:"100%",height:"350",muted:"true",src:"https://editorassets.parastorage.com/video-preloader/editor-video-preloader-2-@2x.mp4"},domProps:{muted:!0}})])])],1)],1)},o=[],i=a("146f"),s=i["a"],l=a("2877"),r=Object(l["a"])(s,n,o,!1,null,null,null);r.options.__file="BbatTableEditorComponent.vue";var c=r.exports,d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form",staticClass:"px-3 py-2 grid-list",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[null!==e.detailForm&&e.detailForm.length>0?a("v-layout",{attrs:{row:"",wrap:""}},e._l(e.detailForm,function(t,n){return a("v-flex",{key:n,class:t["class"]},["avatar"===t.type?a("attached-file-avatar",{attrs:{pk:e.data[t.model],"pick-item":t,"current-data":e.data}}):e._e(),"date"===t.type?a("datetime-picker",{class:t["class_component"],attrs:{item:t,"data-value":e.data[t.model]},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"button"===t.type&&t["link"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:"",to:t.url+"?pk="+e.data[t.pk]+"&col="+t.pk}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"button"===t.type&&t["account"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAccount(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"button"===t.type&&t["attached"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAttached(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"button"===t.type&&t["fileform"]&&(t.dependency&&"0"!==String(e.id)||!t.dependency)?a("v-btn",{class:t["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(a){e.showAttached(t)}}},["link"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===t["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n        "+e._s(t.label)+"\n      ")],1):e._e(),"selects"===t.type&&!e.pullOk&&t.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),"combobox"===t.type&&e.pullOk&&t.hasOwnProperty("datasource_key")?a("v-combobox",{class:t["class_component"],attrs:{items:e.dataSocket[t["datasource_key"]],"item-text":t.itemText,"item-value":t.itemValue,box:"",label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),"no-data-text":"Không tìm thấy dữ liệu "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"selects"===t.type&&e.pullOk&&t.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:t["class_component"],attrs:{items:e.dataSocket[t["datasource_key"]],"item-text":t.itemText,"item-value":t.itemValue,box:"",label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),"no-data-text":"Không tìm thấy dữ liệu "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"selects"!==t.type||t.hasOwnProperty("datasource_key")?e._e():a("v-autocomplete",{class:t["class_component"],attrs:{items:t.datasource,"item-text":t.itemText,"item-value":t.itemValue,box:"",label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),"no-data-text":"Không tìm thấy dữ liệu "+t["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(a){e.processChangeDataSource(a,t)}},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}),"text-fields"===t.type?a("v-text-field",{class:t["class_component"],attrs:{label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),placeholder:t["placeholder"],box:"",clearable:""},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"textarea"===t.type?a("v-textarea",{class:t["class_component"],attrs:{label:t.required?t["label"]+" 💥":t["label"],rules:e.processRules(t.rules),placeholder:t["placeholder"],box:"",clearable:""},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"codemirror"===t.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(t["label"]))]):e._e(),"codemirror"===t.type?a("codemirror",{attrs:{options:e.cmOptions},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),"v-switch"===t.type?a("v-switch",{class:t["class_component"],attrs:{label:t["label"]},model:{value:e.data[t.model],callback:function(a){e.$set(e.data,t.model,a)},expression:"data[item.model]"}}):e._e(),e._l(t["alongside"],function(n,o){return t.hasOwnProperty("alongside")?a("div",{key:o},["avatar"===n.type?a("attached-file-avatar",{class:n["class_component"],attrs:{pk:e.data[n.model],"pick-item":n}}):e._e(),"date"===n.type?a("datetime-picker",{class:n["class_component"],attrs:{item:n,"data-value":e.data[n.model]},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"button"===n.type&&n["link"]&&(n.dependency&&"0"!==String(e.id)||!n.dependency)?a("v-btn",{class:n["class_component"],attrs:{color:"blue darken-3",dark:"",to:n.url+"?pk="+e.data[n.pk]+"&col="+n.pk}},["link"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(n.label)+"\n        ")],1):e._e(),"button"===n.type&&n["account"]&&(n.dependency&&"0"!==String(e.id)||!n.dependency)?a("v-btn",{class:n["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.showAccount(n)}}},["link"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(n.label)+"\n        ")],1):e._e(),"button"===n.type&&n["attached"]&&(n.dependency&&"0"!==String(e.id)||!n.dependency)?a("v-btn",{class:n["class_component"],attrs:{color:"blue darken-3",dark:""},nativeOn:{click:function(t){e.showAttached(n)}}},["link"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("how_to_vote")]):e._e(),"popup"===n["btn_type"]?a("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("flip_to_back")]):e._e(),e._v("\n          "+e._s(n.label)+"\n        ")],1):e._e(),"selects"===n.type&&!e.pullOk&&n.hasOwnProperty("datasource_key")?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):e._e(),"selects"===n.type&&e.pullOk&&n.hasOwnProperty("datasource_key")?a("v-autocomplete",{class:n["class_component"],attrs:{items:e.dataSocket[n["datasource_key"]],"item-text":n.itemText,"item-value":n.itemValue,box:"",label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),"no-data-text":"Không tìm thấy dữ liệu "+n["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(t){e.processChangeDataSource(t,n)}},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"selects"!==n.type||n.hasOwnProperty("datasource_key")?e._e():a("v-autocomplete",{class:n["class_component"],attrs:{items:n.datasource,"item-text":n.itemText,"item-value":n.itemValue,box:"",label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),"no-data-text":"Không tìm thấy dữ liệu "+n["label"],chips:t["chips"],multiple:t["multiple"],clearable:""},on:{change:function(t){e.processChangeDataSource(t,n)}},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}),"text-fields"===n.type?a("v-text-field",{class:n["class_component"],attrs:{label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),placeholder:n["placeholder"],box:"",clearable:""},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"textarea"===n.type?a("v-textarea",{class:n["class_component"],attrs:{label:n.required?n["label"]+" 💥":n["label"],rules:e.processRules(n.rules),placeholder:n["placeholder"],box:"",clearable:""},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"codemirror"===n.type?a("v-subheader",{staticClass:"px-0"},[e._v(e._s(n["label"]))]):e._e(),"codemirror"===n.type?a("codemirror",{attrs:{options:e.cmOptions},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e(),"v-switch"===n.type?a("v-switch",{class:n["class_component"],attrs:{label:n["label"]},model:{value:e.data[n.model],callback:function(t){e.$set(e.data,n.model,t)},expression:"data[itemChild.model]"}}):e._e()],1):e._e()})],2)})):a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"video-preloader",attrs:{id:"video-preloader"}},[a("video",{attrs:{loop:"",id:"editor-video-preloader",width:"100%",height:"350",muted:"true",src:"https://editorassets.parastorage.com/video-preloader/editor-video-preloader-2-@2x.mp4"},domProps:{muted:!0}})])])],1)],1)},u=[],p=a("1059"),_=p["a"],m=Object(l["a"])(_,d,u,!1,null,null,null);m.options.__file="BbatTableEditorComponentSimple.vue";var v=m.exports,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"text-align":"left",position:"absolute","line-height":"46px"}},[e._v("Tổng số "),a("span",{staticClass:"text-bold primary--text"},[e._v(e._s(e.total))]),e._v(" bản ghi. ")]),e.total>0?a("div",{staticClass:"vue-tiny-pagination pagination layout",staticStyle:{"justify-content":"flex-end","-webkit-justify-content":"flex-end"}},[a("div",{staticClass:"px-3 xs2 flex"},[a("v-autocomplete",{attrs:{items:e.totalPagesData,"item-text":"text","item-value":"value",autocomplete:""},on:{input:e.goToPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),a("ul",{staticClass:"tiny-pagination",class:e.customClass},[a("li",{staticClass:"page-item",class:e.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:e.classFirstPage,on:{click:function(t){return t.preventDefault(),e.lastPageLast(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("first_page")])])]),a("li",{staticClass:"page-item",class:e.classFirstPage},[a("button",{staticClass:"pagination__navigation",class:e.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(t){return t.preventDefault(),e.lastPage(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("chevron_left")])])]),a("li",{staticClass:"page-item",class:e.classLastPage,staticStyle:{"margin-right":"0"}},[a("button",{staticClass:"pagination__navigation",class:e.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(t){return t.preventDefault(),e.nextPage(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("chevron_right")])])]),a("li",{staticClass:"page-item",class:e.classLastPage},[a("button",{staticClass:"pagination__navigation",class:e.classLastPage,on:{click:function(t){return t.preventDefault(),e.nextPageLast(t)}}},[a("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[e._v("last_page")])])])])]):e._e()])},h=[],b="TinyPagination",g={name:b,props:{total:{type:Number,required:!0},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},limits:{type:Array,default:function(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0}},data:function(){return{version:"0.2.1",currentPage:1,currentLimit:15,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created:function(){this.currentPage=this.page},watch:{page:function(e){this.currentPage=parseInt(e)}},computed:{translation:function(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages:function(){return Math.ceil(this.total/this.currentLimit)},totalPagesData:function(){for(var e=[],t={},a=1;a<=this.totalPages;++a)t={value:a,text:"Trang "+a},e.push(t);return e},titlePage:function(){return"".concat(this.currentPage)},classFirstPage:function(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage:function(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}}},methods:{nextPage:function(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast:function(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast:function(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage:function(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange:function(){this.currentPage=1}}},y=g,k=Object(l["a"])(y,f,h,!1,null,null,null);k.options.__file="TinyPagination.vue";var x=k.exports,C=(a("fa98"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"pdfViewerComponent",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})])}),w=[],D={props:["id","datainput"],data:function(){return{data:{},dialogPDFLoading:!0,isCallBack:!0,pdfBlob:null}},created:function(){var e=this;e.$nextTick(function(){setTimeout(function(){e.data=e.datainput,e.pullPDF()},100)})},methods:{pullPDF:function(){var e=this;e.dialogPDFLoading=!0,console.log("pullPDF",e.data["fileEntryId"]),e.$store.dispatch("viewPDF",e.data["fileEntryId"]).then(function(t){e.dialogPDFLoading=!1,document.getElementById("pdfViewerComponent").src=t})}}},P=D,O=Object(l["a"])(P,C,w,!1,null,null,null);O.options.__file="ViewPdf.vue";var T=O.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",e._l(e.logs,function(t,n){return a("div",{key:n,staticClass:"list_history_style"},[a("td",{staticClass:"px-2 pt-2 col-tien-trinh-2"},[e._v(e._s(n))]),a("td",{staticClass:"text-xs-left px-2 py-2"},[a("p",{staticClass:"mb-1"},[a("span",[e._v(e._s(t.actionDate))]),e._v(" - "),a("b",[e._v(e._s(t.author))]),e._v(" : "),a("span",{staticStyle:{color:"rgb(11, 114, 186)"}},[e._v(e._s(e.support["state_"+t.deliverableAction]))])])])])}))},E=[],I=a("bbd0"),F={props:["id","datainput"],data:function(){return{support:I.deliverableState,dialogPDFLoading:!0,isCallBack:!0,pdfBlob:null,logs:[]}},created:function(){var e=this;e.$nextTick(function(){setTimeout(function(){console.log(e.support.deliverableState),e.pullLogs()},100)})},methods:{pullLogs:function(){var e=this;e.$store.dispatch("viewLogs",e.id).then(function(t){e.logs=t})}}},$=F,L=Object(l["a"])($,S,E,!1,null,null,null);L.options.__file="ViewLogs.vue";var M=L.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"mb-5",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"control-section uploader customdroparea",attrs:{xs12:"",sm5:""}},[a("div",{staticClass:"control_wrapper px-3 mx-1 py-3"},[a("div",{staticClass:"sample_wrapper tai_giay_to"},[a("div",{attrs:{id:"dropArea"}},[a("span",{staticClass:"droparea",attrs:{id:"drop"}},[e._v(" Tải giấy phép, "),a("a",{attrs:{href:"javascript:;",id:"browse"}},[e._v("Chọn từ máy tính   📤")])]),e.tempShow?a("ejs-uploader",{ref:"uploadObj",attrs:{autoUpload:e.auto,id:"templateupload",name:"UploadFiles",allowedExtensions:e.extensions,asyncSettings:e.path,dropArea:e.dropArea,success:e.onSuccess,removing:e.onFileRemove,uploading:e.addHeaders}}):e._e()],1)])])]),a("v-flex",{staticClass:"tai_giay_to",attrs:{xs12:"",sm7:""}},[a("div",{staticClass:"my-3 mx-3 text-center"},[e._v("Giấy tờ đã tải lên")]),e.fileTemplateTotal>0?a("div",{staticClass:"e-upload-done-list"},[a("ul",{staticClass:"e-upload-files"},e._l(e.fileTemplateData,function(t,n){return a("li",{key:n,staticClass:"e-upload-file-list"},[a("div",{staticClass:"container",staticStyle:{position:"relative","min-height":"75px"}},[a("span",{staticClass:"wrapper",staticStyle:{"line-height":"10px"}},[a("span",{class:["icon sf-icon-"+t["extension"]]}),a("div",{staticClass:"name file-name"},[a("span",[e._v(e._s(t["fileName"]))]),a("p",{staticStyle:{"margin-top":"10px","font-size":"10px","margin-bottom":"0"}},[e._v("\n                ( "+e._s((t["size"]/1048576).toFixed(2))+" MB )\n              ")])]),a("v-btn",{staticStyle:{position:"absolute",right:"5px",top:"0"},attrs:{flat:"",icon:"",color:"primary",loading:e.loading,disabled:e.loading},nativeOn:{click:function(a){e.processDownloadFileAttach(t)}}},[a("v-icon",{attrs:{size:"14"}},[e._v("link")])],1),a("v-btn",{staticStyle:{position:"absolute",right:"5px","margin-top":"-10px"},attrs:{flat:"",icon:"",color:"red darken-3",loading:e.loadingRemove,disabled:e.loadingRemove},nativeOn:{click:function(a){e.processDeleteFileAttach(t)}}},[a("v-icon",{attrs:{size:"14"}},[e._v("delete")])],1)],1)])])}))]):e._e()])],1)},R=[],B=a("a026"),U=a("e0e8"),N=a("fe7b");B["default"].use(U["a"]);var K={data:function(){return{tempShow:!0,loadingRemove:!1,loading:!1,fileTemplateData:[],fileTemplateTotal:0,pathHidden:{saveUrl:"",removeUrl:""},path:{saveUrl:"",removeUrl:""},extensions:".pdf",dropArea:"dropArea",rawData:[],className:""}},props:["pk","auto"],created:function(){var e=this;e.$nextTick(function(){e.loadFileTemplate()})},mounted:function(){var e=this;this.path={saveUrl:"/o/v1/opencps/users/upload/opencps_deliverable/org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId/"+this.pk,removeUrl:"/"+this.pk},this.className="org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId",document.getElementById("browse").onclick=function(){return document.getElementsByClassName("e-file-select-wrap")[0].querySelector("button").click(),!1},document.getElementById("dropArea").onclick=function(t){if(t.target.classList.contains("e-file-delete-btn"))for(var a=0;a<e.$refs.uploadObj.getFilesData().length;a++)t.target.closest("li").getAttribute("data-file-name")===e.$refs.uploadObj.getFilesData()[a].name&&e.$refs.uploadObj.remove(e.$refs.uploadObj.getFilesData()[a]);else t.target.classList.contains("e-file-remove-btn")&&Object(N["f"])(t.target.closest("li"))}},methods:{doUploadLate:function(e){var t=this;if(t.$refs.uploadObj.getFilesData().length>0){t.path={saveUrl:"/o/v1/opencps/users/upload/opencps_deliverable/org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId/"+e,removeUrl:"/"+e};var a={id:e};t.$store.dispatch("uploadSingleFile",a)}},addHeaders:function(e){var t=this;e.currentRequest.setRequestHeader("Token",t.getAuthToken()),e.currentRequest.setRequestHeader("groupId",t.getScopeGroupId())},loadFileTemplate:function(){var e=this,t={className:e.className,pk:e.pk};e.$store.dispatch("getAttachFileData",t).then(function(t){e.fileTemplateData=t.data,e.fileTemplateTotal=t.total;var a=document.getElementById("rightAttachedCounter");null!==a&&void 0!==a&&e.fileTemplateTotal>0&&(a.innerHTML="Tổng số: "+e.fileTemplateTotal+" ")}).catch(function(e){console.log(e)})},onSuccess:function(){var e=this;setTimeout(function(){document.getElementById("dropArea").querySelectorAll(".e-upload-success").forEach(function(e){return e.parentNode.removeChild(e)}),e.loadFileTemplate()},2e3)},onFileRemove:function(e){e.postRawFile=!1},processDeleteFileAttach:function(e){var t=this;e["className"]=t.className,confirm("Bạn có chắc muốn xoá bản ghi này?")&&(t.loadingRemove=!0,t.$store.dispatch("removeServiceFileTemplate",e).then(function(){t.loadingRemove=!1,t.loadFileTemplate()}).catch(function(e){t.loadingRemove=!1,alert("Xoá file xảy ra lỗi."+e)}))},processDownloadFileAttach:function(e){var t=this;t.loading=!0,e["className"]=t.className,t.$store.dispatch("downloadServiceFileTemplate",e).then(function(){t.loading=!1}).catch(function(e){t.loading=!1,alert("Tải file xảy ra lỗi."+e)})}}},q=K,j=Object(l["a"])(q,A,R,!1,null,null,null);j.options.__file="AttachedFileTemplate.vue";var W=j.exports;a.d(t,"b",function(){return c}),a.d(t,"c",function(){return v}),a.d(t,"d",function(){return x}),a.d(t,"f",function(){return T}),a.d(t,"e",function(){return M}),a.d(t,"a",function(){return W})},"34e8":function(e,t,a){"use strict";var n="\n    {\n        getDeliverableLogs(fk: INPUTBODY,start: -1, end: -1) {\n            actionDate\n            author\n            deliverableAction\n        }\n    }\n";t["a"]={getDeliverableLogs:n}},"3c87":function(e,t,a){"use strict";var n='\n    {\n        getAdminConfig(code: "opencps_deliverable") {\n            detailColumns\n        }\n    }\n';t["a"]={getAdminConfig:n}},4360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return store});var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2f62"),axios__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__),_DeliverableTypes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("beb1"),_AdminConfig__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("3c87"),_Deliverable__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("eaa6"),_DeliverableLogs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("34e8"),file_saver__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("21a6"),file_saver__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_7__);vue__WEBPACK_IMPORTED_MODULE_0__["default"].use(vuex__WEBPACK_IMPORTED_MODULE_1__["a"]);var store=new vuex__WEBPACK_IMPORTED_MODULE_1__["a"].Store({state:{groupId:void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,snackbarerror:!1,snackbarsocket:!1,refreshSocket:0,initData:{},dataSocket:{},pullCounter:0,tocken:"",loginUser:[{email:"",role:""}],user:null,socket:{isConnected:!1,message:"",reconnectError:!1},isConnected:!1,endPointApi:"/o/rest/v2",getDeliverableTypes:[],getContentFile:"",getContentFileSimple:[]},actions:{loadInitResource:function(e){var t=e.state;return new Promise(function(e){null!==window.themeDisplay&&void 0!==window.themeDisplay?(t.initData["groupId"]=window.themeDisplay.getScopeGroupId(),t.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(t.initData["groupId"]=0,t.initData["user"]={userName:"",userEmail:"",userId:20103}),e(t.initData)})},downloadServiceFileTemplate:function(e,t){var a=e.commit,n=e.state;return new Promise(function(e,o){store.dispatch("loadInitResource").then(function(){var i={headers:{groupId:n.initData.groupId,"Content-Type":"application/octet-stream"},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/o/v1/opencps/users/upload/download/opencps_deliverable/"+t["className"]+"/"+t["fileAttachId"],i).then(function(a){file_saver__WEBPACK_IMPORTED_MODULE_7___default()(a.data,t["uuid"]+"."+t["extension"]),e({status:!0})}).catch(function(e){o(e),a("setsnackbarerror",!0)})})})},removeServiceFileTemplate:function(e,t){var a=e.commit,n=e.state;return new Promise(function(e,o){store.dispatch("loadInitResource").then(function(){var i={headers:{groupId:n.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_2___default.a.delete("/o/v1/opencps/users/upload/delete/opencps_deliverable/"+t["className"]+"/"+t["classPK"],i).then(function(){e({status:!0})}).catch(function(e){o(e),a("setsnackbarerror",!0)})})})},getAttachFileData:function(e,t){var a=e.commit,n=e.state;return new Promise(function(e,o){store.dispatch("loadInitResource").then(function(){var i={headers:{groupId:n.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/o/v1/opencps/fileattach/"+t["className"]+"/"+t["pk"],i).then(function(t){var a=t.data;a.data&&e(a)}).catch(function(e){o(e),a("setsnackbarerror",!0)})})})},viewPDF:function(e,t){e.commit;var a=e.state;return new Promise(function(e,n){store.dispatch("loadInitResource").then(function(o){var i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/o/v1/opencps/deliverable/file/"+t,i).then(function(t){var a=t.data;e(a)}).catch(function(e){console.log(e),n(e)})})})},viewLogs:function(e,t){var a=e.commit,n=e.state;return new Promise(function(e,o){store.dispatch("loadInitResource").then(function(i){var s={headers:{groupId:n.groupId,"Content-Type":"text/plain",Accept:"application/json"}},l=_DeliverableLogs__WEBPACK_IMPORTED_MODULE_6__["a"].getDeliverableLogs.replace("INPUTBODY",t);axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("/o/v1/opencps/deliverable",l,s).then(function(t){e(t.data["getDeliverableLogs"])}).catch(function(e){o(e),a("setsnackbarerror",!0)})})})},getDeliverableTypes:function(e){var t=e.commit,a=e.state;return new Promise(function(){var e={headers:{groupId:a.groupId,"Content-Type":"text/plain",Accept:"application/json"}},n=_DeliverableTypes__WEBPACK_IMPORTED_MODULE_3__["a"].getDeliverableTypes;axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("/o/v1/opencps/deliverable",n,e).then(function(e){a.getDeliverableTypes=e.data["getDeliverableTypes"]}).catch(function(){a.getDeliverableTypes=[],t("setsnackbarerror",!0)})})},getContentFile:function getContentFile(_ref8,fileEntryId){var commit=_ref8.commit,state=_ref8.state;return new Promise(function(){var options={headers:{groupId:state.groupId,Accept:"text/plain"}};axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/o/v1/opencps/fileattach/"+fileEntryId+"/text",options).then(function(response){state.getContentFile=eval("( "+response.data+" )")}).catch(function(){state.getContentFile=""})})},getContentFileSimple:function getContentFileSimple(_ref9){var commit=_ref9.commit,state=_ref9.state;return new Promise(function(){var options={headers:{groupId:state.groupId,"Content-Type":"text/plain",Accept:"application/json"}},body=_AdminConfig__WEBPACK_IMPORTED_MODULE_4__["a"].getAdminConfig;axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("/o/v1/opencps/adminconfig",body,options).then(function(response){state.getContentFileSimple=eval("( "+response.data["getAdminConfig"]["detailColumns"]+" )"),console.log("state.getContentFileSimple",state.getContentFileSimple)}).catch(function(){state.getContentFileSimple=[],commit("setsnackbarerror",!0)})})},getDeliverables:function(e,t){e.commit;var a=e.state;return new Promise(function(e,n){var o={headers:{groupId:a.groupId},params:{start:15*t.page-15,end:15*t.page}};axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/o/v1/opencps/deliverable/"+t["type"]+"?"+t["q"],o).then(function(t){e(t.data)}).catch(function(e){n(e)})})},getDeliverableById:function(e,t){e.commit;var a=e.state;return new Promise(function(e,n){var o={headers:{groupId:a.groupId}};axios__WEBPACK_IMPORTED_MODULE_2___default.a.get("/o/v1/opencps/deliverable/"+t+"/detail",o).then(function(t){t.data["hits"]["hits"].length>0?e(t.data["hits"]["hits"][0]["_source"]):e({})}).catch(function(e){n(e)})})},uploadSingleFile:function(e,t){e.commit;var a=e.state;return new Promise(function(e,n){var o=window.$("#templateupload")[0].files,i=o[0];console.log(i);var s=new FormData;s.append("UploadFiles",i),axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("/o/v1/opencps/users/upload/opencps_deliverable/org.opencps.deliverable.model.OpenCPSDeliverableFileEntryId/"+t["id"],s,{headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}}).then(function(t){e(t.data),console.log("upload file success!")}).catch(function(e){console.log(e),toastr.error("Tải file thất bại."),n(e)})})},createDeliverable:function(e,t){var a=e.commit,n=e.state;return new Promise(function(e,o){var i={headers:{groupId:n.groupId,"Content-Type":"text/plain",Accept:"application/json"}},s=_Deliverable__WEBPACK_IMPORTED_MODULE_5__["a"].createDeliverable.replace("INPUTBODY",JSON.stringify(t).replace(/"/g,'\\"'));axios__WEBPACK_IMPORTED_MODULE_2___default.a.post("/o/v1/opencps/deliverable",s,i).then(function(t){console.log(t),e(t.data)}).catch(function(e){a("setsnackbarerror",!0),o(e)})})}},mutations:{SOCKET_ONOPEN:function(e,t){vue__WEBPACK_IMPORTED_MODULE_0__["default"].prototype.$socket=t.currentTarget,e.socket.isConnected=!0},SOCKET_ONCLOSE:function(e,t){e.socket.isConnected=!1,e.isConnected=!1},SOCKET_ONERROR:function(e,t){console.error(e,t)},SOCKET_ONMESSAGE:function(e,t){e.socket.message=t},SOCKET_RECONNECT:function(e,t){console.info(e,t),e.isConnected=!0},SOCKET_RECONNECT_ERROR:function(e){e.socket.reconnectError=!0},setInitData:function(e,t){e.initData=t},setsnackbarerror:function(e,t){e.snackbarerror=t},setsnackbarsocket:function(e,t){e.snackbarsocket=t},setpullCounter:function(e,t){e.pullCounter=t},setdataSocket:function(e,t){e.dataSocket=t},setisConnected:function(e,t){e.isConnected=t}},getters:{getsnackbarerror:function(e){return e.snackbarerror},getsnackbarsocket:function(e){return e.snackbarsocket},getDeliverableTypes:function(e){return e.getDeliverableTypes},getContentFile:function(e){return e.getContentFile},getContentFileSimple:function(e){return e.getContentFileSimple},pullCounter:function(e){return e.pullCounter},dataSocket:function(e){return e.dataSocket},getisConnected:function(e){return e.isConnected}}})},"4a57":function(module,__webpack_exports__,__webpack_require__){"use strict";var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026");__webpack_exports__["a"]={props:{item:{type:Object,default:function(){return{dossierId:0}}},layout_view:{type:Object}},created:function created(){var vm=this;console.log("vm.item",vm.item),console.log(null!==vm.layout_view&&void 0!==vm.layout_view&&"undefined"!==vm.layout_view),null!==vm.layout_view&&void 0!==vm.layout_view&&"undefined"!==vm.layout_view&&(console.log("1AAAAAAAA"),vue__WEBPACK_IMPORTED_MODULE_0__["default"].component("my-dynamic-view",{template:vm.layout_view["template"],data:eval(" ( "+vm.layout_view["data"]+" ) "),beforeCreate:eval(" ( "+vm.layout_view["beforeCreate"]+" ) "),created:eval(" ( "+vm.layout_view["created"]+" ) "),updated:eval(" ( "+vm.layout_view["updated"]+" ) "),methods:vm.layout_view["methods"]}))}}},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("a026"),o=(a("ca9a"),a("a51b"),a("c35c"),a("861c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"app"}},[a("router-view"),a("go-top",{attrs:{size:42,"bg-color":"#0064c7"}})],1)}),i=[],s=a("49ec"),l=a.n(s),r={props:["index"],data:function(){return{}},components:{GoTop:l.a},computed:{},methods:{}},c=r,d=a("2877"),u=Object(d["a"])(c,o,i,!1,null,null,null);u.options.__file="App.vue";var p=u.exports,_=a("8c4f"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-navigation-drawer",{attrs:{fixed:"",app:"",width:"240"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},e._l(e.items,function(t,n){return a("v-list-tile",{key:n,attrs:{to:"/danh-sach-giay-to/"+n}},[a("v-list-tile-action",[String(n)===String(e.index)?a("v-icon",{attrs:{color:"blue darken-3"}},[e._v("play_arrow")]):a("v-icon",[e._v("description")])],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.typeName))])],1)],1)}))],1),a("v-content",[a("router-view")],1),a("v-snackbar",{attrs:{bottom:!1,left:!1,"multi-line":!1,right:!0,timeout:2e3,top:!0,vertical:!1,color:"red darken-3"},model:{value:e.snackbarerror,callback:function(t){e.snackbarerror=t},expression:"snackbarerror"}},[e._v("\n    Yêu cầu thực hiện thất bại\n    "),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.closeError()}}},[a("v-icon",[e._v("clear")])],1)],1),a("v-snackbar",{attrs:{bottom:!0,left:!1,"multi-line":!0,right:!1,timeout:0,top:!0,vertical:!1,color:"red darken-3"},model:{value:e.snackbarsocket,callback:function(t){e.snackbarsocket=t},expression:"snackbarsocket"}},[a("v-progress-circular",{attrs:{size:20,width:1,color:"white",indeterminate:""}}),e._v("\n     \n    Mất kết nối, tự động kết nối lại trong giây lát ... \n    \n    "),a("v-btn",{attrs:{icon:""},on:{click:function(t){e.reloadPage()}}},[a("v-icon",[e._v("replay")])],1)],1)],1)},v=[],f={props:["index"],data:function(){return{dialog:!1,drawer:null,dataSocket:{}}},computed:{items:function(){return this.$store.getters.getDeliverableTypes},snackbarerror:{get:function(){return this.$store.getters.getsnackbarerror},set:function(e){this.$store.commit("setsnackbarerror",e)}},snackbarsocket:{get:function(){return this.$store.getters.getsnackbarsocket},set:function(e){this.$store.commit("setsnackbarsocket",e)}}},methods:{redirectFilter:function(e){this.$router.push(e+"?state_change="+Math.floor(100*Math.random())+1)},closeError:function(){this.$store.commit("setsnackbarerror",!1)},reloadPage:function(){window.location.reload(!0)},deliverableRouter:function(e){console.log(e)}}},h=f,b=Object(d["a"])(h,m,v,!1,null,null,null);b.options.__file="Home.vue";var g=b.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[e._v("\n    Not found\n")])},k=[],x={},C=x,w=(a("1a0d"),Object(d["a"])(C,y,k,!1,null,"6c946066",null));w.options.__file="NotFound.vue";var D=w.exports,P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"row-header no__hidden_class"},[a("div",{staticClass:"background-triangle-big"},[a("span",[e._v(e._s(void 0!==e.items[e.index]?e.items[e.index]["typeName"]:""))])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{position:"relative"}},[a("v-combobox",{attrs:{placeholder:"Tìm kiếm ...",solo:"",chips:"",small:"",tags:"","deletable-chips":"","item-value":"value","item-text":"text","return-object":"",multiple:""},on:{input:e.keywordEventChange},model:{value:e.advSearchItems,callback:function(t){e.advSearchItems=t},expression:"advSearchItems"}})],1),a("div",{staticClass:"flex text-right",staticStyle:{"margin-left":"auto","max-width":"50px"}},[a("v-btn",{staticClass:"my-0 mx-2",attrs:{icon:""},nativeOn:{click:function(t){e.menusss=!e.menusss}}},[a("v-icon",{attrs:{size:"16"}},[e._v("filter_list")])],1)],1)]),a("v-fade-transition",[e.menusss?a("div",{staticClass:"adv__search_container"},[e._l(e.filters,function(t,n){return t.display?a("v-layout",{key:n,attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-select",{attrs:{items:e.filters,label:"Chọn điều kiện lọc","single-line":"","item-value":"fieldName","item-text":"fieldLabel",disabled:""},model:{value:t.fieldName,callback:function(a){e.$set(t,"fieldName",a)},expression:"item.fieldName"}})],1),a("v-flex",{staticClass:"text-center",attrs:{xs12:"",sm1:""}},[a("v-btn",{staticClass:"mb-0 mx-0 mt-1",attrs:{icon:""}},[a("v-icon",{attrs:{size:"16"}},[e._v("drag_handle")])],1)],1),a("v-flex",{attrs:{xs12:"",sm7:""}},["string"===t.fieldType?a("v-text-field",{attrs:{label:t["fieldLabel"],"single-line":"",clearable:""},on:{change:function(a){e.changeAdvFilterData(a,t)}},model:{value:e.filterData[t.fieldName],callback:function(a){e.$set(e.filterData,t.fieldName,a)},expression:"filterData[item.fieldName]"}}):e._e()],1)],1):e._e()}),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{staticClass:"no__selected__items",attrs:{xs12:"",sm10:""}},[a("v-select",{attrs:{items:e.filters,label:"Chọn điều kiện lọc","single-line":"","item-value":"fieldName","item-text":"fieldLabel","hide-selected":"","return-object":""},on:{change:e.selectedAdvFilter}})],1),a("v-flex",{staticClass:"text-right",attrs:{xs12:"",sm2:""}},[a("v-btn",{staticClass:"mx-0 my-0 mt-1",attrs:{color:"primary"},nativeOn:{click:function(t){e.menusss=!1}}},[a("v-icon",{staticClass:"mr-2"},[e._v("clear")]),e._v("\n              Quay lại\n            ")],1)],1)],1)],2):e._e()])],1),a("div",{staticStyle:{"text-align":"right"}},[a("v-btn",{attrs:{color:"blue darken-3",dark:"",to:"/danh-sach-giay-to/"+e.index+"/editor/0"}},[e._v("\n      Thêm giấy phép\n    ")])],1),e.loadingTable?e._e():a("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:e.headers,items:e.hosoDatas,"total-items":e.hosoDatasTotal,"no-data-text":"Không có giấy phép nào","hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",{staticClass:"text-xs-center px-0 py-0"},[e.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("span",{staticStyle:{cursor:"pointer"},on:{click:function(a){e.viewDetail(t.item["_source"],t.index)}}},[e._v("\n            "+e._s(15*e.hosoDatasPage-15+t.index+1)+"\n          ")])],1),e._l(e.headers,function(n,o){return n.hasOwnProperty("value")?a("td",{key:o+"_"+t.item["_id"],class:n["class_column"]},[e.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("div",{staticStyle:{cursor:"pointer"},on:{click:function(a){e.viewDetail(t.item["_source"],t.index)}}},[n.hasOwnProperty("layout_view")?a("template-rendering",{attrs:{item:t.item["_source"],layout_view:n.layout_view}}):a("span",[e._v("\n              "+e._s(t.item["_source"][n.value])+"\n            ")])],1)],1):e._e()}),e.hideAction?e._e():a("td",{staticClass:"text-xs-center px-0 py-0"},[e.loadingTable?a("content-placeholders",[a("content-placeholders-text",{attrs:{lines:1}})],1):a("v-btn",{staticClass:"mx-0 my-0",attrs:{flat:"",icon:""},nativeOn:{click:function(a){e.showPDFG(t.item["_source"])}}},[a("v-icon",[e._v("picture_as_pdf")])],1)],1)],2)]}}])}),e.loadingTable?e._e():a("div",{staticClass:"text-xs-right layout wrap",staticStyle:{position:"relative","border-top":"1px solid lightgrey"}},[a("div",{staticClass:"flex pagging-table px-2"},[a("tiny-pagination",{attrs:{total:e.hosoDatasTotal,page:e.hosoDatasPage,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":e.paggingData}})],1)]),a("v-dialog",{attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Giấy phép")]),a("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[a("v-icon",[e._v("clear")])],1),e.dialogPDFLoading?a("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[a("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"pdfViewerListComponent",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},O=[],T=a("d3a7"),S=T["a"],E=Object(d["a"])(S,P,O,!1,null,null,null);E.options.__file="DeliverableList.vue";var I=E.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"scroll",rawName:"v-scroll",value:e.onScroll,expression:"onScroll"}]},[a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("div",{staticClass:"row-header no__hidden_class"},[a("div",{staticClass:"background-triangle-big"},[a("span",[e._v(e._s(void 0!==e.items[e.index]?e.items[e.index]["typeName"]:""))])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex pl-3 text-ellipsis text-bold",staticStyle:{position:"relative"}},[e._v("\n          "+e._s(e.deName)+"\n        ")]),a("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[a("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{icon:""}},[a("v-icon",{attrs:{size:"16"}},[e._v("more_vert")])],1),a("v-btn",{staticClass:"ml-0 btn-border-left mr-3 my-0",attrs:{icon:"","active-class":"temp_active"},on:{click:e.backToList}},[a("v-icon",{attrs:{size:"16"}},[e._v("reply")])],1)],1)])]),e.showComponent?a("bbat-table-editor-component-simple",{ref:"bbatFormSimple",attrs:{id:e.id,datainput:e.detail}}):e._e(),a("v-tabs",{attrs:{"icons-and-text":"",centered:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("v-tabs-slider"),"0"!==String(e.id)?a("v-tab",{key:1,attrs:{href:"#tab-1"}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n          XEM GIẤY PHÉP\n        ")])],1):e._e(),a("v-tab",{key:2,attrs:{href:"#tab-2"}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n          FORM NHẬP GIẤY PHÉP\n        ")])],1),a("v-tab",{key:3,attrs:{href:"#tab-3"}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n          TẢI GIẤY PHÉP TỪ MÁY TÍNH\n        ")])],1),"0"!==String(e.id)?a("v-tab",{key:4,attrs:{href:"#tab-4"}},[a("v-btn",{staticClass:"px-0 py-0 mx-0 my-0",attrs:{flat:""}},[e._v("\n          LỊCH SỬ CẬP NHẬT GIẤY PHÉP\n        ")])],1):e._e(),a("v-tabs-items",{attrs:{"reverse-transition":"fade-transition",transition:"fade-transition"}},["0"!==String(e.id)?a("v-tab-item",{key:1,attrs:{value:"tab-1","reverse-transition":"fade-transition",transition:"fade-transition"}},[e.showComponent?a("view-pdf",{attrs:{id:e.id,datainput:e.detail}}):e._e()],1):e._e(),a("v-tab-item",{key:2,attrs:{value:"tab-2","reverse-transition":"fade-transition",transition:"fade-transition"}},[e.showComponent?a("bbat-table-editor-component",{ref:"bbatForm",attrs:{id:e.id,datainput:e.detail["formData"]}}):e._e()],1),a("v-tab-item",{key:3,attrs:{value:"tab-3","reverse-transition":"fade-transition",transition:"fade-transition"}},[a("attached-file-template",{ref:"attachedObj",attrs:{pk:e.id,auto:"0"!==String(e.id)}})],1),"0"!==String(e.id)?a("v-tab-item",{key:4,attrs:{value:"tab-4","reverse-transition":"fade-transition",transition:"fade-transition"}},[e.showComponent?a("view-logs",{attrs:{id:e.id,datainput:e.detail}}):e._e()],1):e._e()],1)],1),a("v-layout",{class:{fix_tool_bottom:e.offsetCheck>300},attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-right pt-0 ml-1 px-0 pr-1",attrs:{xs12:""}},[e.loading?a("v-progress-linear",{staticClass:"my-0",attrs:{indeterminate:!0,color:"blue darken-3"}}):e._e(),"0"===String(e.id)?a("v-btn",{staticClass:"mr-0",attrs:{color:"teal darken-3",dark:"",loading:e.loading,disabled:e.loading},nativeOn:{click:function(t){e.saveToData(-1)}}},[e._v("Ghi lại và thêm mới")]):e._e(),a("v-btn",{staticClass:"mr-0",attrs:{color:"blue darken-3",dark:"",loading:e.loading,disabled:e.loading},nativeOn:{click:function(t){e.saveToData(0)}}},[e._v("Ghi lại")]),a("v-btn",{staticClass:"mr-0",attrs:{color:"red darken-3",dark:""},nativeOn:{click:function(t){return e.backToList(t)}}},[a("v-icon",[e._v("reply")]),e._v("  \n          Quay lại\n        ")],1)],1)],1)],1)],1)},$=[],L=a("0759"),M=L["a"],A=Object(d["a"])(M,F,$,!1,null,null,null);A.options.__file="DeliverableEditor.vue";var R=A.exports,B=[{path:"/danh-sach-giay-to/:index",name:"Home",component:g,props:!0,meta:{requiresAuth:!0},children:[{path:"/danh-sach-giay-to/:index",name:"DeliverableList",component:I,props:!0,meta:{requiresAuth:!0}},{path:"/danh-sach-giay-to/:index/editor/:id",name:"DeliverableEditor",component:R,props:!0,meta:{requiresAuth:!0}}]},{path:"*",name:"NotFound",component:D}];n["default"].use(_["a"]);var U=new _["a"]({routes:B});U.beforeEach(function(e,t,a){e.matched.some(function(e){return e.meta.requiresAuth});a()});var N=U,K=a("4360"),q=a("b408"),j=a.n(q),W=a("967d"),z=a("e0e8"),H=a("bc3a"),V=a.n(H),G=a("ce5b"),Y=a.n(G);n["default"].use(Y.a,{theme:{primary:"#212121",secondary:"#424242",accent:"#459fed",error:"#ff8e8e",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}),n["default"].use(z["a"]),n["default"].use(W["default"]);var J=void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0,Z=void 0!==window.themeDisplay?window.themeDisplay.getCompanyId():0,Q=void 0!==window.themeDisplay?window.themeDisplay.getUserId():0,X=void 0!==window.themeDisplay?window.themeDisplay.getUserName():"",ee=void 0!==window.themeDisplay?window.themeDisplay.getPortalURL().replace("http://",""):"localhost:8080",te=void 0!==window.themeDisplay?window.Liferay.authToken:"",ae=ee.indexOf(":")>0?ee.substr(0,ee.indexOf(":")):ee;n["default"].use(j.a,"ws://"+ae+"/o/v1/socket/web?groupId="+J+"&portalURL="+ee+"&companyId="+Z+"&userId="+Q+"&userName="+X+"&Token="+te,{store:K["a"],format:"json",reconnection:!0}),V.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",V.a.defaults.headers.common["groupId"]=J,n["default"].config.productionTip=!0,n["default"].mixin({methods:{getScopeGroupId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getScopeGroupId():0},getAuthToken:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.Liferay.authToken:""},getUserId:function(){return null!==window.themeDisplay&&void 0!==window.themeDisplay?window.themeDisplay.getUserId():0}}}),new n["default"]({el:"#app",router:N,store:K["a"],render:function(e){return e(p)},created:function(){var e=this;e.$nextTick(function(){window.location.href.endsWith("#/")&&e.$router.push("/danh-sach-giay-to/0"),e.$store.dispatch("getDeliverableTypes")})}})},"861c":function(e,t,a){},a51b:function(e,t,a){},bbd0:function(e){e.exports={deliverableState:{state_0:"Không rõ",state_1:"Đang hiệu lực",state_2:"Hết hiệu lực",state_3:"Tạm dừng (đình chỉ)",state_4:"Đã bị thu hồi"}}},beb1:function(e,t,a){"use strict";var n="\n    {\n        getDeliverableTypes(start: -1, end: -1) {\n            typeCode\n            typeName\n            formScriptFileId\n            formReportFileId\n            dataConfig\n            tableConfig\n        }\n    }\n";t["a"]={getDeliverableTypes:n}},c35c:function(e,t,a){},ca9a:function(e,t,a){},d3a7:function(module,__webpack_exports__,__webpack_require__){"use strict";var _components__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2af9"),_template_rendering_vue__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1f98");__webpack_exports__["a"]={props:["index"],components:{TinyPagination:_components__WEBPACK_IMPORTED_MODULE_0__["d"],TemplateRendering:_template_rendering_vue__WEBPACK_IMPORTED_MODULE_1__["a"]},data:function(){return{filterData:{},menusss:!1,loadingTable:!1,dialogPDFLoading:!1,dialogPDF:!1,headers:[],hideAction:!1,hosoDatas:[],hosoDatasTotal:0,hosoDatasPage:1,dataSocket:{},filters:[],advSearchItems:[]}},created:function created(){var vm=this;vm.$nextTick(function(){setTimeout(function(){""!==vm.items[vm.index]["dataConfig"]&&(vm.filters=eval("( "+vm.items[vm.index]["dataConfig"]+" )")),""!==vm.items[vm.index]["tableConfig"]?vm.headers=eval("( "+vm.items[vm.index]["tableConfig"]+" )")["headers"]:(vm.headers=[],vm.hosoDatas=[],vm.hosoDatasTotal=0,vm.hosoDatasPage=1,vm.loadingTable=!0,setTimeout(function(){vm.loadingTable=!1},100)),vm.pullData(vm.items[vm.index]["typeCode"])},100)})},watch:{$route:function(e,t){var a=this,n=e.query;n.hasOwnProperty("page")?a.hosoDatasPage=parseInt(n.page):a.hosoDatasPage=1,a.pullData(a.items[a.index]["typeCode"])},index:function index(val){var vm=this;""!==vm.items[val]["dataConfig"]?vm.filters=eval("( "+vm.items[val]["dataConfig"]+" )"):vm.filters=[],""!==vm.items[val]["tableConfig"]?(vm.hosoDatasPage=1,vm.headers=eval("( "+vm.items[val]["tableConfig"]+" )")["headers"]):(vm.headers=[],vm.hosoDatas=[],vm.hosoDatasTotal=0,vm.hosoDatasPage=1,vm.loadingTable=!0,setTimeout(function(){vm.loadingTable=!1},100))},advSearchItems:{handler:function(e,t){var a=this,n=a.$router.history.current,o=n.query,i=(n.path,"?");for(var s in o["renew"]="",a.filters)o[a.filters[s]["fieldName"]]="";for(var l in o)""!==o[l]&&"undefined"!==o[l]&&void 0!==o[l]&&(i+=l+"="+o[l]+"&");for(var r in e)e[r]["text"].endsWith(":__")||(i+=e[r]["spec"]+"="+e[r]["value"]+"&");i+="renew="+Math.floor(100*Math.random())+1,a.$router.push({path:"/danh-sach-giay-to/"+a.index+i})},deep:!0}},computed:{items:function(){return this.$store.getters.getDeliverableTypes}},methods:{pullData:function(e){var t=this,a=t.$router.history.current.query,n="";for(var o in a)""!==a[o]&&"undefined"!==a[o]&&void 0!==a[o]&&(n+=o+"="+a[o]+"&");n+="1=1";var i={type:e,page:t.hosoDatasPage,q:n};t.loadingTable=!0,t.$store.dispatch("getDeliverables",i).then(function(e){t.hosoDatasTotal=e["hits"]["total"],t.hosoDatas=e["hits"]["hits"],t.loadingTable=!1}).catch(function(e){t.loadingTable=!1,console.log(e)}),setTimeout(function(){if(null!==t.advSearchItems&&0===t.advSearchItems.length)for(var e in t.filters)a.hasOwnProperty(t.filters[e]["fieldName"])&&(t.filters[e].display=!0,t.filters[e].disabled=!0,t.advSearchItems.push({spec:t.filters[e].fieldName,value:a[t.filters[e]["fieldName"]],text:t.filters[e].fieldName+":"+a[t.filters[e]["fieldName"]],index:t.filters[e].index}))},200)},viewDetail:function(e,t){var a=this,n=a.$router.history.current,o=n.query,i="?";for(var s in o)""!==o[s]&&"undefined"!==o[s]&&void 0!==o[s]&&(i+=s+"="+o[s]+"&");a.$router.push({path:"/danh-sach-giay-to/"+a.index+"/editor/"+e["entryClassPK"]+i})},showPDFG:function(e){var t=this;t.dialogPDF=!0,t.dialogPDFLoading=!0,t.$store.dispatch("viewPDF",e["fileEntryId"]).then(function(e){t.dialogPDFLoading=!1,document.getElementById("pdfViewerListComponent").src=e})},paggingData:function(e){var t=this,a=t.$router.history.current,n=a.query,o="?";for(var i in n["page"]="",n)""!==n[i]&&"undefined"!==n[i]&&void 0!==n[i]&&(o+=i+"="+n[i]+"&");o+="page="+e.page,t.$router.push({path:a.path+o})},selectedAdvFilter:function(e){var t=this;t.filters[e.index].display=!0,t.filters[e.index].disabled=!0;var a=!1;for(var n in t.advSearchItems)if(t.advSearchItems[n].index===e.index){a=!0;break}a||t.advSearchItems.push({spec:t.filters[e.index].fieldName,value:"__",text:t.filters[e.index].fieldName+":__",index:e.index}),console.log("vm.advSearchItems",t.advSearchItems)},keywordEventChange:function(e){var t=this;for(var a in t.filters)for(var n in t.filters[a].display=!1,t.filters[a].disabled=!1,e)if(e[n]["index"]===t.filters[a]["index"]){t.filters[a].display=!0,t.filters[a].disabled=!0;break}},changeAdvFilterData:function(e,t){var a=this,n=e;for(var o in a.advSearchItems)if(a.advSearchItems[o].index===t.index){a.advSearchItems[o].spec=t.fieldName,a.advSearchItems[o].value=n,a.advSearchItems[o].text=t.fieldName+":"+n;break}}}}},d593:function(e,t,a){},eaa6:function(e,t,a){"use strict";var n='\n    mutation {\n        createDeliverable(\n            body: "INPUTBODY"\n        ) {\n            deliverableId\n        }\n    }\n';t["a"]={createDeliverable:n}},f04e:function(module,__webpack_exports__,__webpack_require__){"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var a=[],n=!0,o=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done);n=!0)if(a.push(s.value),t&&a.length===t)break}catch(e){o=!0,i=e}finally{try{n||null==l["return"]||l["return"]()}finally{if(o)throw i}}return a}function _arrayWithHoles(e){if(Array.isArray(e))return e}__webpack_exports__["a"]={data:function(){return{toDateFormatted:null,toDate:null,rules:{required:function(e){return!!e||"Bắt buộc phải nhập."},number:function(e){var t=/^\d+$/;return t.test(e)||"Bắt buộc phải nhập kiểu số."},email:function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)||"Sai định dạng thư điện tử."}}}},props:["value","item","dataValue"],watch:{toDate:function(e){this.toDateFormatted=this.formatDate(parseInt(e)),this.$emit("input",new Date(e).getTime())}},methods:{formatDate:function(e){if(!e)return null;var t=new Date(parseInt(e));return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()},parseDate:function(e){if(!e)return null;var t=e.split("/"),a=_slicedToArray(t,3),n=a[0],o=a[1],i=a[2];return"".concat(i,"-").concat(o.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")}}}},fa98:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{attrs:{"close-on-content-click":!0,lazy:"",transition:"fade-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px"}},[a("v-text-field",{attrs:{slot:"activator",box:"","append-icon":"event",label:e.item.required?e.item["label"]+" 💥":e.item["label"],rules:e.processRules(e.item.rules),value:e.formatDate(e.dataValue)},on:{blur:function(t){e.toDate=e.parseDate(e.toDateFormatted)}},slot:"activator"}),a("v-date-picker",{attrs:{"no-title":""},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1)},o=[],i=a("f04e"),s=i["a"],l=a("2877"),r=Object(l["a"])(s,n,o,!1,null,null,null);r.options.__file="DatetimePicker.vue";t["a"]=r.exports}});
//# sourceMappingURL=app.js.map